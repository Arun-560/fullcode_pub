import{$ as L7,$a as K7,$b as lt,A as q3,Aa as pi,Ab as rP,Ac as uz,B as rd,Ba as Ug,Bb as Cw,Bc as G2,C as Tf,Ca as ca,Cb as oP,Cc as hz,D as im,Da as Od,Db as nz,Dc as An,E as Y3,Ea as z7,Eb as Ld,Ec as lP,F as ts,Fa as Gg,Fb as Mi,Fc as W2,G as $3,Ga as H7,Gb as Ze,Gc as fz,H as X3,Ha as sm,Hb as Vo,Hc as pz,I as Af,Ia as br,Ib as yi,Ic as Xe,J as nm,Ja as yw,Jb as pr,Jc as Ys,K as K3,Ka as U7,Kb as U2,Kc as zd,L as I7,La as ob,Lb as Sn,Lc as Ff,M as Z3,Ma as L2,Mb as qg,Mc as j2,N as P7,Na as ys,Nb as Nd,Nc as q2,O as F7,Oa as ww,Ob as Bd,Oc as mz,P as Q3,Pa as Wg,Pb as Se,Pc as cP,Q as O2,Qa as sb,Qb as Pe,Qc as Y2,R as Qr,Ra as G7,Rb as Dt,Rc as xw,S as bs,Sa as W7,Sb as is,Sc as Sw,T as kn,Ta as j7,Tb as ns,Tc as $2,U as O7,Ua as q7,Ub as ph,V as _s,Va as Y7,Vb as tn,W as fr,Wa as $7,Wb as gl,X as Rf,Xa as X7,Xb as rz,Y as qs,Ya as ic,Yb as Vd,Z as zt,Za as iP,Zb as ua,_ as ii,_a as ab,_b as Ot,a as Yr,aa as Nt,ab as am,ac as In,b as T7,ba as J3,bb as N2,bc as Ui,c as nd,ca as ji,cb as Fe,cc as oz,cd as gz,d as H3,da as j,db as jg,dc as sP,dd as Mw,e as U3,ea as Su,eb as da,ec as zn,ed as X2,f as Yt,fa as kf,fb as Z7,fc as ln,g as Ha,ga as rm,gb as Ns,gc as ui,gd as vz,h as G3,ha as N7,hb as Ar,hc as hi,i as W3,ia as tc,ib as ri,ic as sz,id as K2,j as xu,ja as Pd,jb as lb,jc as az,k as Da,ka as Gn,kb as Bo,kc as Aa,kd as bz,l as Xi,la as Gt,lb as Q7,lc as Lt,m as Ef,ma as Wt,mb as B2,mc as jn,n as j3,na as Fr,nb as J7,nc as wr,o as A7,oa as Ta,ob as V2,oc as lm,p as yn,pa as Tr,pb as ti,pc as ha,pd as _z,q as rb,qa as eP,qb as ni,qc as fa,r as yc,ra as Bn,rb as di,rc as pa,s as bw,sa as Fd,sb as ez,sc as lz,t as P2,ta as tP,tb as Wn,tc as Mn,u as Df,ua as B7,ub as tz,uc as cz,v as F2,va as _w,vb as Xt,vc as If,w as R7,wa as et,wb as nP,wc as Pf,x as k7,xa as Si,xb as iz,xc as dz,y as es,ya as om,yb as z2,yc as od,z as Dr,za as V7,zb as H2,zc as aP}from"./chunk-BQBGJPAV.js";import{a as Ie,b as Zt,c as M7,d as tm,e as E7,f as Goe,g as D7,h as Mf}from"./chunk-WWX6BADO.js";var hU=E7((uU,QM)=>{"use strict";(function(e,t){"use strict";typeof QM=="object"&&typeof QM.exports=="object"?QM.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:uU,function(e,t){"use strict";var i=[],n=Object.getPrototypeOf,r=i.slice,o=i.flat?function(y){return i.flat.call(y)}:function(y){return i.concat.apply([],y)},s=i.push,a=i.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,h=u.call(Object),f={},p=function(D){return typeof D=="function"&&typeof D.nodeType!="number"&&typeof D.item!="function"},v=function(D){return D!=null&&D===D.window},m=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function b(y,D,N){N=N||m;var z,ie,S=N.createElement("script");if(S.text=y,D)for(z in g)ie=D[z]||D.getAttribute&&D.getAttribute(z),ie&&S.setAttribute(z,ie);N.head.appendChild(S).parentNode.removeChild(S)}function w(y){return y==null?y+"":typeof y=="object"||typeof y=="function"?l[c.call(y)]||"object":typeof y}var x="3.7.1",R=/HTML$/i,_=function(y,D){return new _.fn.init(y,D)};_.fn=_.prototype={jquery:x,constructor:_,length:0,toArray:function(){return r.call(this)},get:function(y){return y==null?r.call(this):y<0?this[y+this.length]:this[y]},pushStack:function(y){var D=_.merge(this.constructor(),y);return D.prevObject=this,D},each:function(y){return _.each(this,y)},map:function(y){return this.pushStack(_.map(this,function(D,N){return y.call(D,N,D)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(y,D){return(D+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(y,D){return D%2}))},eq:function(y){var D=this.length,N=+y+(y<0?D:0);return this.pushStack(N>=0&&N<D?[this[N]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},_.extend=_.fn.extend=function(){var y,D,N,z,ie,S,I=arguments[0]||{},Y=1,te=arguments.length,we=!1;for(typeof I=="boolean"&&(we=I,I=arguments[Y]||{},Y++),typeof I!="object"&&!p(I)&&(I={}),Y===te&&(I=this,Y--);Y<te;Y++)if((y=arguments[Y])!=null)for(D in y)z=y[D],!(D==="__proto__"||I===z)&&(we&&z&&(_.isPlainObject(z)||(ie=Array.isArray(z)))?(N=I[D],ie&&!Array.isArray(N)?S=[]:!ie&&!_.isPlainObject(N)?S={}:S=N,ie=!1,I[D]=_.extend(we,S,z)):z!==void 0&&(I[D]=z));return I},_.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(y){throw new Error(y)},noop:function(){},isPlainObject:function(y){var D,N;return!y||c.call(y)!=="[object Object]"?!1:(D=n(y),D?(N=d.call(D,"constructor")&&D.constructor,typeof N=="function"&&u.call(N)===h):!0)},isEmptyObject:function(y){var D;for(D in y)return!1;return!0},globalEval:function(y,D,N){b(y,{nonce:D&&D.nonce},N)},each:function(y,D){var N,z=0;if(L(y))for(N=y.length;z<N&&D.call(y[z],z,y[z])!==!1;z++);else for(z in y)if(D.call(y[z],z,y[z])===!1)break;return y},text:function(y){var D,N="",z=0,ie=y.nodeType;if(!ie)for(;D=y[z++];)N+=_.text(D);return ie===1||ie===11?y.textContent:ie===9?y.documentElement.textContent:ie===3||ie===4?y.nodeValue:N},makeArray:function(y,D){var N=D||[];return y!=null&&(L(Object(y))?_.merge(N,typeof y=="string"?[y]:y):s.call(N,y)),N},inArray:function(y,D,N){return D==null?-1:a.call(D,y,N)},isXMLDoc:function(y){var D=y&&y.namespaceURI,N=y&&(y.ownerDocument||y).documentElement;return!R.test(D||N&&N.nodeName||"HTML")},merge:function(y,D){for(var N=+D.length,z=0,ie=y.length;z<N;z++)y[ie++]=D[z];return y.length=ie,y},grep:function(y,D,N){for(var z,ie=[],S=0,I=y.length,Y=!N;S<I;S++)z=!D(y[S],S),z!==Y&&ie.push(y[S]);return ie},map:function(y,D,N){var z,ie,S=0,I=[];if(L(y))for(z=y.length;S<z;S++)ie=D(y[S],S,N),ie!=null&&I.push(ie);else for(S in y)ie=D(y[S],S,N),ie!=null&&I.push(ie);return o(I)},guid:1,support:f}),typeof Symbol=="function"&&(_.fn[Symbol.iterator]=i[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(y,D){l["[object "+D+"]"]=D.toLowerCase()});function L(y){var D=!!y&&"length"in y&&y.length,N=w(y);return p(y)||v(y)?!1:N==="array"||D===0||typeof D=="number"&&D>0&&D-1 in y}function F(y,D){return y.nodeName&&y.nodeName.toLowerCase()===D.toLowerCase()}var T=i.pop,P=i.sort,A=i.splice,O="[\\x20\\t\\r\\n\\f]",V=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g");_.contains=function(y,D){var N=D&&D.parentNode;return y===N||!!(N&&N.nodeType===1&&(y.contains?y.contains(N):y.compareDocumentPosition&&y.compareDocumentPosition(N)&16))};var U=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ae(y,D){return D?y==="\0"?"\uFFFD":y.slice(0,-1)+"\\"+y.charCodeAt(y.length-1).toString(16)+" ":"\\"+y}_.escapeSelector=function(y){return(y+"").replace(U,ae)};var ne=m,ue=s;(function(){var y,D,N,z,ie,S=ue,I,Y,te,we,qe,Ke=_.expando,tt=0,wt=0,mi=_u(),Oi=_u(),zi=_u(),cr=_u(),dr=function(ze,rt){return ze===rt&&(ie=!0),0},Er="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",io="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Cn="\\["+O+"*("+io+")(?:"+O+"*([*^$|!~]?=)"+O+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+io+"))|)"+O+"*\\]",Oo=":("+io+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Cn+")*)|.*)\\)|)",er=new RegExp(O+"+","g"),Vr=new RegExp("^"+O+"*,"+O+"*"),ol=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),El=new RegExp(O+"|>"),wa=new RegExp(Oo),La=new RegExp("^"+io+"$"),ra={ID:new RegExp("^#("+io+")"),CLASS:new RegExp("^\\.("+io+")"),TAG:new RegExp("^("+io+"|[*])"),ATTR:new RegExp("^"+Cn),PSEUDO:new RegExp("^"+Oo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+Er+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,Ca=/^h\d$/i,no=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Kc=/[+~]/,xa=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),Na=function(ze,rt){var bt="0x"+ze.slice(1)-65536;return rt||(bt<0?String.fromCharCode(bt+65536):String.fromCharCode(bt>>10|55296,bt&1023|56320))},gf=function(){fs()},sa=Id(function(ze){return ze.disabled===!0&&F(ze,"fieldset")},{dir:"parentNode",next:"legend"});function zr(){try{return I.activeElement}catch{}}try{S.apply(i=r.call(ne.childNodes),ne.childNodes),i[ne.childNodes.length].nodeType}catch{S={apply:function(rt,bt){ue.apply(rt,r.call(bt))},call:function(rt){ue.apply(rt,r.call(arguments,1))}}}function Ir(ze,rt,bt,Et){var Ut,vi,Ii,Hi,Ti,en,xi,Wi=rt&&rt.ownerDocument,_n=rt?rt.nodeType:9;if(bt=bt||[],typeof ze!="string"||!ze||_n!==1&&_n!==9&&_n!==11)return bt;if(!Et&&(fs(rt),rt=rt||I,te)){if(_n!==11&&(Ti=no.exec(ze)))if(Ut=Ti[1]){if(_n===9)if(Ii=rt.getElementById(Ut)){if(Ii.id===Ut)return S.call(bt,Ii),bt}else return bt;else if(Wi&&(Ii=Wi.getElementById(Ut))&&Ir.contains(rt,Ii)&&Ii.id===Ut)return S.call(bt,Ii),bt}else{if(Ti[2])return S.apply(bt,rt.getElementsByTagName(ze)),bt;if((Ut=Ti[3])&&rt.getElementsByClassName)return S.apply(bt,rt.getElementsByClassName(Ut)),bt}if(!cr[ze+" "]&&(!we||!we.test(ze))){if(xi=ze,Wi=rt,_n===1&&(El.test(ze)||ol.test(ze))){for(Wi=Kc.test(ze)&&Sa(rt.parentNode)||rt,(Wi!=rt||!f.scope)&&((Hi=rt.getAttribute("id"))?Hi=_.escapeSelector(Hi):rt.setAttribute("id",Hi=Ke)),en=aa(ze),vi=en.length;vi--;)en[vi]=(Hi?"#"+Hi:":scope")+" "+ll(en[vi]);xi=en.join(",")}try{return S.apply(bt,Wi.querySelectorAll(xi)),bt}catch{cr(ze,!0)}finally{Hi===Ke&&rt.removeAttribute("id")}}}return dh(ze.replace(V,"$1"),rt,bt,Et)}function _u(){var ze=[];function rt(bt,Et){return ze.push(bt+" ")>D.cacheLength&&delete rt[ze.shift()],rt[bt+" "]=Et}return rt}function Lo(ze){return ze[Ke]=!0,ze}function Dl(ze){var rt=I.createElement("fieldset");try{return!!ze(rt)}catch{return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function vf(ze){return function(rt){return F(rt,"input")&&rt.type===ze}}function bf(ze){return function(rt){return(F(rt,"input")||F(rt,"button"))&&rt.type===ze}}function sl(ze){return function(rt){return"form"in rt?rt.parentNode&&rt.disabled===!1?"label"in rt?"label"in rt.parentNode?rt.parentNode.disabled===ze:rt.disabled===ze:rt.isDisabled===ze||rt.isDisabled!==!ze&&sa(rt)===ze:rt.disabled===ze:"label"in rt?rt.disabled===ze:!1}}function al(ze){return Lo(function(rt){return rt=+rt,Lo(function(bt,Et){for(var Ut,vi=ze([],bt.length,rt),Ii=vi.length;Ii--;)bt[Ut=vi[Ii]]&&(bt[Ut]=!(Et[Ut]=bt[Ut]))})})}function Sa(ze){return ze&&typeof ze.getElementsByTagName<"u"&&ze}function fs(ze){var rt,bt=ze?ze.ownerDocument||ze:ne;return bt==I||bt.nodeType!==9||!bt.documentElement||(I=bt,Y=I.documentElement,te=!_.isXMLDoc(I),qe=Y.matches||Y.webkitMatchesSelector||Y.msMatchesSelector,Y.msMatchesSelector&&ne!=I&&(rt=I.defaultView)&&rt.top!==rt&&rt.addEventListener("unload",gf),f.getById=Dl(function(Et){return Y.appendChild(Et).id=_.expando,!I.getElementsByName||!I.getElementsByName(_.expando).length}),f.disconnectedMatch=Dl(function(Et){return qe.call(Et,"*")}),f.scope=Dl(function(){return I.querySelectorAll(":scope")}),f.cssHas=Dl(function(){try{return I.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),f.getById?(D.filter.ID=function(Et){var Ut=Et.replace(xa,Na);return function(vi){return vi.getAttribute("id")===Ut}},D.find.ID=function(Et,Ut){if(typeof Ut.getElementById<"u"&&te){var vi=Ut.getElementById(Et);return vi?[vi]:[]}}):(D.filter.ID=function(Et){var Ut=Et.replace(xa,Na);return function(vi){var Ii=typeof vi.getAttributeNode<"u"&&vi.getAttributeNode("id");return Ii&&Ii.value===Ut}},D.find.ID=function(Et,Ut){if(typeof Ut.getElementById<"u"&&te){var vi,Ii,Hi,Ti=Ut.getElementById(Et);if(Ti){if(vi=Ti.getAttributeNode("id"),vi&&vi.value===Et)return[Ti];for(Hi=Ut.getElementsByName(Et),Ii=0;Ti=Hi[Ii++];)if(vi=Ti.getAttributeNode("id"),vi&&vi.value===Et)return[Ti]}return[]}}),D.find.TAG=function(Et,Ut){return typeof Ut.getElementsByTagName<"u"?Ut.getElementsByTagName(Et):Ut.querySelectorAll(Et)},D.find.CLASS=function(Et,Ut){if(typeof Ut.getElementsByClassName<"u"&&te)return Ut.getElementsByClassName(Et)},we=[],Dl(function(Et){var Ut;Y.appendChild(Et).innerHTML="<a id='"+Ke+"' href='' disabled='disabled'></a><select id='"+Ke+"-\r\\' disabled='disabled'><option selected=''></option></select>",Et.querySelectorAll("[selected]").length||we.push("\\["+O+"*(?:value|"+Er+")"),Et.querySelectorAll("[id~="+Ke+"-]").length||we.push("~="),Et.querySelectorAll("a#"+Ke+"+*").length||we.push(".#.+[+~]"),Et.querySelectorAll(":checked").length||we.push(":checked"),Ut=I.createElement("input"),Ut.setAttribute("type","hidden"),Et.appendChild(Ut).setAttribute("name","D"),Y.appendChild(Et).disabled=!0,Et.querySelectorAll(":disabled").length!==2&&we.push(":enabled",":disabled"),Ut=I.createElement("input"),Ut.setAttribute("name",""),Et.appendChild(Ut),Et.querySelectorAll("[name='']").length||we.push("\\["+O+"*name"+O+"*="+O+`*(?:''|"")`)}),f.cssHas||we.push(":has"),we=we.length&&new RegExp(we.join("|")),dr=function(Et,Ut){if(Et===Ut)return ie=!0,0;var vi=!Et.compareDocumentPosition-!Ut.compareDocumentPosition;return vi||(vi=(Et.ownerDocument||Et)==(Ut.ownerDocument||Ut)?Et.compareDocumentPosition(Ut):1,vi&1||!f.sortDetached&&Ut.compareDocumentPosition(Et)===vi?Et===I||Et.ownerDocument==ne&&Ir.contains(ne,Et)?-1:Ut===I||Ut.ownerDocument==ne&&Ir.contains(ne,Ut)?1:z?a.call(z,Et)-a.call(z,Ut):0:vi&4?-1:1)}),I}Ir.matches=function(ze,rt){return Ir(ze,null,null,rt)},Ir.matchesSelector=function(ze,rt){if(fs(ze),te&&!cr[rt+" "]&&(!we||!we.test(rt)))try{var bt=qe.call(ze,rt);if(bt||f.disconnectedMatch||ze.document&&ze.document.nodeType!==11)return bt}catch{cr(rt,!0)}return Ir(rt,I,null,[ze]).length>0},Ir.contains=function(ze,rt){return(ze.ownerDocument||ze)!=I&&fs(ze),_.contains(ze,rt)},Ir.attr=function(ze,rt){(ze.ownerDocument||ze)!=I&&fs(ze);var bt=D.attrHandle[rt.toLowerCase()],Et=bt&&d.call(D.attrHandle,rt.toLowerCase())?bt(ze,rt,!te):void 0;return Et!==void 0?Et:ze.getAttribute(rt)},Ir.error=function(ze){throw new Error("Syntax error, unrecognized expression: "+ze)},_.uniqueSort=function(ze){var rt,bt=[],Et=0,Ut=0;if(ie=!f.sortStable,z=!f.sortStable&&r.call(ze,0),P.call(ze,dr),ie){for(;rt=ze[Ut++];)rt===ze[Ut]&&(Et=bt.push(Ut));for(;Et--;)A.call(ze,bt[Et],1)}return z=null,ze},_.fn.uniqueSort=function(){return this.pushStack(_.uniqueSort(r.apply(this)))},D=_.expr={cacheLength:50,createPseudo:Lo,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ze){return ze[1]=ze[1].replace(xa,Na),ze[3]=(ze[3]||ze[4]||ze[5]||"").replace(xa,Na),ze[2]==="~="&&(ze[3]=" "+ze[3]+" "),ze.slice(0,4)},CHILD:function(ze){return ze[1]=ze[1].toLowerCase(),ze[1].slice(0,3)==="nth"?(ze[3]||Ir.error(ze[0]),ze[4]=+(ze[4]?ze[5]+(ze[6]||1):2*(ze[3]==="even"||ze[3]==="odd")),ze[5]=+(ze[7]+ze[8]||ze[3]==="odd")):ze[3]&&Ir.error(ze[0]),ze},PSEUDO:function(ze){var rt,bt=!ze[6]&&ze[2];return ra.CHILD.test(ze[0])?null:(ze[3]?ze[2]=ze[4]||ze[5]||"":bt&&wa.test(bt)&&(rt=aa(bt,!0))&&(rt=bt.indexOf(")",bt.length-rt)-bt.length)&&(ze[0]=ze[0].slice(0,rt),ze[2]=bt.slice(0,rt)),ze.slice(0,3))}},filter:{TAG:function(ze){var rt=ze.replace(xa,Na).toLowerCase();return ze==="*"?function(){return!0}:function(bt){return F(bt,rt)}},CLASS:function(ze){var rt=mi[ze+" "];return rt||(rt=new RegExp("(^|"+O+")"+ze+"("+O+"|$)"))&&mi(ze,function(bt){return rt.test(typeof bt.className=="string"&&bt.className||typeof bt.getAttribute<"u"&&bt.getAttribute("class")||"")})},ATTR:function(ze,rt,bt){return function(Et){var Ut=Ir.attr(Et,ze);return Ut==null?rt==="!=":rt?(Ut+="",rt==="="?Ut===bt:rt==="!="?Ut!==bt:rt==="^="?bt&&Ut.indexOf(bt)===0:rt==="*="?bt&&Ut.indexOf(bt)>-1:rt==="$="?bt&&Ut.slice(-bt.length)===bt:rt==="~="?(" "+Ut.replace(er," ")+" ").indexOf(bt)>-1:rt==="|="?Ut===bt||Ut.slice(0,bt.length+1)===bt+"-":!1):!0}},CHILD:function(ze,rt,bt,Et,Ut){var vi=ze.slice(0,3)!=="nth",Ii=ze.slice(-4)!=="last",Hi=rt==="of-type";return Et===1&&Ut===0?function(Ti){return!!Ti.parentNode}:function(Ti,en,xi){var Wi,_n,hn,jr,ps,Ts=vi!==Ii?"nextSibling":"previousSibling",cl=Ti.parentNode,Al=Hi&&Ti.nodeName.toLowerCase(),wu=!xi&&!Hi,la=!1;if(cl){if(vi){for(;Ts;){for(hn=Ti;hn=hn[Ts];)if(Hi?F(hn,Al):hn.nodeType===1)return!1;ps=Ts=ze==="only"&&!ps&&"nextSibling"}return!0}if(ps=[Ii?cl.firstChild:cl.lastChild],Ii&&wu){for(_n=cl[Ke]||(cl[Ke]={}),Wi=_n[ze]||[],jr=Wi[0]===tt&&Wi[1],la=jr&&Wi[2],hn=jr&&cl.childNodes[jr];hn=++jr&&hn&&hn[Ts]||(la=jr=0)||ps.pop();)if(hn.nodeType===1&&++la&&hn===Ti){_n[ze]=[tt,jr,la];break}}else if(wu&&(_n=Ti[Ke]||(Ti[Ke]={}),Wi=_n[ze]||[],jr=Wi[0]===tt&&Wi[1],la=jr),la===!1)for(;(hn=++jr&&hn&&hn[Ts]||(la=jr=0)||ps.pop())&&!((Hi?F(hn,Al):hn.nodeType===1)&&++la&&(wu&&(_n=hn[Ke]||(hn[Ke]={}),_n[ze]=[tt,la]),hn===Ti)););return la-=Ut,la===Et||la%Et===0&&la/Et>=0}}},PSEUDO:function(ze,rt){var bt,Et=D.pseudos[ze]||D.setFilters[ze.toLowerCase()]||Ir.error("unsupported pseudo: "+ze);return Et[Ke]?Et(rt):Et.length>1?(bt=[ze,ze,"",rt],D.setFilters.hasOwnProperty(ze.toLowerCase())?Lo(function(Ut,vi){for(var Ii,Hi=Et(Ut,rt),Ti=Hi.length;Ti--;)Ii=a.call(Ut,Hi[Ti]),Ut[Ii]=!(vi[Ii]=Hi[Ti])}):function(Ut){return Et(Ut,0,bt)}):Et}},pseudos:{not:Lo(function(ze){var rt=[],bt=[],Et=yu(ze.replace(V,"$1"));return Et[Ke]?Lo(function(Ut,vi,Ii,Hi){for(var Ti,en=Et(Ut,null,Hi,[]),xi=Ut.length;xi--;)(Ti=en[xi])&&(Ut[xi]=!(vi[xi]=Ti))}):function(Ut,vi,Ii){return rt[0]=Ut,Et(rt,null,Ii,bt),rt[0]=null,!bt.pop()}}),has:Lo(function(ze){return function(rt){return Ir(ze,rt).length>0}}),contains:Lo(function(ze){return ze=ze.replace(xa,Na),function(rt){return(rt.textContent||_.text(rt)).indexOf(ze)>-1}}),lang:Lo(function(ze){return La.test(ze||"")||Ir.error("unsupported lang: "+ze),ze=ze.replace(xa,Na).toLowerCase(),function(rt){var bt;do if(bt=te?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return bt=bt.toLowerCase(),bt===ze||bt.indexOf(ze+"-")===0;while((rt=rt.parentNode)&&rt.nodeType===1);return!1}}),target:function(ze){var rt=e.location&&e.location.hash;return rt&&rt.slice(1)===ze.id},root:function(ze){return ze===Y},focus:function(ze){return ze===zr()&&I.hasFocus()&&!!(ze.type||ze.href||~ze.tabIndex)},enabled:sl(!1),disabled:sl(!0),checked:function(ze){return F(ze,"input")&&!!ze.checked||F(ze,"option")&&!!ze.selected},selected:function(ze){return ze.parentNode&&ze.parentNode.selectedIndex,ze.selected===!0},empty:function(ze){for(ze=ze.firstChild;ze;ze=ze.nextSibling)if(ze.nodeType<6)return!1;return!0},parent:function(ze){return!D.pseudos.empty(ze)},header:function(ze){return Ca.test(ze.nodeName)},input:function(ze){return oa.test(ze.nodeName)},button:function(ze){return F(ze,"input")&&ze.type==="button"||F(ze,"button")},text:function(ze){var rt;return F(ze,"input")&&ze.type==="text"&&((rt=ze.getAttribute("type"))==null||rt.toLowerCase()==="text")},first:al(function(){return[0]}),last:al(function(ze,rt){return[rt-1]}),eq:al(function(ze,rt,bt){return[bt<0?bt+rt:bt]}),even:al(function(ze,rt){for(var bt=0;bt<rt;bt+=2)ze.push(bt);return ze}),odd:al(function(ze,rt){for(var bt=1;bt<rt;bt+=2)ze.push(bt);return ze}),lt:al(function(ze,rt,bt){var Et;for(bt<0?Et=bt+rt:bt>rt?Et=rt:Et=bt;--Et>=0;)ze.push(Et);return ze}),gt:al(function(ze,rt,bt){for(var Et=bt<0?bt+rt:bt;++Et<rt;)ze.push(Et);return ze})}},D.pseudos.nth=D.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[y]=vf(y);for(y in{submit:!0,reset:!0})D.pseudos[y]=bf(y);function Tl(){}Tl.prototype=D.filters=D.pseudos,D.setFilters=new Tl;function aa(ze,rt){var bt,Et,Ut,vi,Ii,Hi,Ti,en=Oi[ze+" "];if(en)return rt?0:en.slice(0);for(Ii=ze,Hi=[],Ti=D.preFilter;Ii;){(!bt||(Et=Vr.exec(Ii)))&&(Et&&(Ii=Ii.slice(Et[0].length)||Ii),Hi.push(Ut=[])),bt=!1,(Et=ol.exec(Ii))&&(bt=Et.shift(),Ut.push({value:bt,type:Et[0].replace(V," ")}),Ii=Ii.slice(bt.length));for(vi in D.filter)(Et=ra[vi].exec(Ii))&&(!Ti[vi]||(Et=Ti[vi](Et)))&&(bt=Et.shift(),Ut.push({value:bt,type:vi,matches:Et}),Ii=Ii.slice(bt.length));if(!bt)break}return rt?Ii.length:Ii?Ir.error(ze):Oi(ze,Hi).slice(0)}function ll(ze){for(var rt=0,bt=ze.length,Et="";rt<bt;rt++)Et+=ze[rt].value;return Et}function Id(ze,rt,bt){var Et=rt.dir,Ut=rt.next,vi=Ut||Et,Ii=bt&&vi==="parentNode",Hi=wt++;return rt.first?function(Ti,en,xi){for(;Ti=Ti[Et];)if(Ti.nodeType===1||Ii)return ze(Ti,en,xi);return!1}:function(Ti,en,xi){var Wi,_n,hn=[tt,Hi];if(xi){for(;Ti=Ti[Et];)if((Ti.nodeType===1||Ii)&&ze(Ti,en,xi))return!0}else for(;Ti=Ti[Et];)if(Ti.nodeType===1||Ii)if(_n=Ti[Ke]||(Ti[Ke]={}),Ut&&F(Ti,Ut))Ti=Ti[Et]||Ti;else{if((Wi=_n[vi])&&Wi[0]===tt&&Wi[1]===Hi)return hn[2]=Wi[2];if(_n[vi]=hn,hn[2]=ze(Ti,en,xi))return!0}return!1}}function Zc(ze){return ze.length>1?function(rt,bt,Et){for(var Ut=ze.length;Ut--;)if(!ze[Ut](rt,bt,Et))return!1;return!0}:ze[0]}function Jo(ze,rt,bt){for(var Et=0,Ut=rt.length;Et<Ut;Et++)Ir(ze,rt[Et],bt);return bt}function Qc(ze,rt,bt,Et,Ut){for(var vi,Ii=[],Hi=0,Ti=ze.length,en=rt!=null;Hi<Ti;Hi++)(vi=ze[Hi])&&(!bt||bt(vi,Et,Ut))&&(Ii.push(vi),en&&rt.push(Hi));return Ii}function Ba(ze,rt,bt,Et,Ut,vi){return Et&&!Et[Ke]&&(Et=Ba(Et)),Ut&&!Ut[Ke]&&(Ut=Ba(Ut,vi)),Lo(function(Ii,Hi,Ti,en){var xi,Wi,_n,hn,jr=[],ps=[],Ts=Hi.length,cl=Ii||Jo(rt||"*",Ti.nodeType?[Ti]:Ti,[]),Al=ze&&(Ii||!rt)?Qc(cl,jr,ze,Ti,en):cl;if(bt?(hn=Ut||(Ii?ze:Ts||Et)?[]:Hi,bt(Al,hn,Ti,en)):hn=Al,Et)for(xi=Qc(hn,ps),Et(xi,[],Ti,en),Wi=xi.length;Wi--;)(_n=xi[Wi])&&(hn[ps[Wi]]=!(Al[ps[Wi]]=_n));if(Ii){if(Ut||ze){if(Ut){for(xi=[],Wi=hn.length;Wi--;)(_n=hn[Wi])&&xi.push(Al[Wi]=_n);Ut(null,hn=[],xi,en)}for(Wi=hn.length;Wi--;)(_n=hn[Wi])&&(xi=Ut?a.call(Ii,_n):jr[Wi])>-1&&(Ii[xi]=!(Hi[xi]=_n))}}else hn=Qc(hn===Hi?hn.splice(Ts,hn.length):hn),Ut?Ut(null,Hi,hn,en):S.apply(Hi,hn)})}function Va(ze){for(var rt,bt,Et,Ut=ze.length,vi=D.relative[ze[0].type],Ii=vi||D.relative[" "],Hi=vi?1:0,Ti=Id(function(Wi){return Wi===rt},Ii,!0),en=Id(function(Wi){return a.call(rt,Wi)>-1},Ii,!0),xi=[function(Wi,_n,hn){var jr=!vi&&(hn||_n!=N)||((rt=_n).nodeType?Ti(Wi,_n,hn):en(Wi,_n,hn));return rt=null,jr}];Hi<Ut;Hi++)if(bt=D.relative[ze[Hi].type])xi=[Id(Zc(xi),bt)];else{if(bt=D.filter[ze[Hi].type].apply(null,ze[Hi].matches),bt[Ke]){for(Et=++Hi;Et<Ut&&!D.relative[ze[Et].type];Et++);return Ba(Hi>1&&Zc(xi),Hi>1&&ll(ze.slice(0,Hi-1).concat({value:ze[Hi-2].type===" "?"*":""})).replace(V,"$1"),bt,Hi<Et&&Va(ze.slice(Hi,Et)),Et<Ut&&Va(ze=ze.slice(Et)),Et<Ut&&ll(ze))}xi.push(bt)}return Zc(xi)}function _f(ze,rt){var bt=rt.length>0,Et=ze.length>0,Ut=function(vi,Ii,Hi,Ti,en){var xi,Wi,_n,hn=0,jr="0",ps=vi&&[],Ts=[],cl=N,Al=vi||Et&&D.find.TAG("*",en),wu=tt+=cl==null?1:Math.random()||.1,la=Al.length;for(en&&(N=Ii==I||Ii||en);jr!==la&&(xi=Al[jr])!=null;jr++){if(Et&&xi){for(Wi=0,!Ii&&xi.ownerDocument!=I&&(fs(xi),Hi=!te);_n=ze[Wi++];)if(_n(xi,Ii||I,Hi)){S.call(Ti,xi);break}en&&(tt=wu)}bt&&((xi=!_n&&xi)&&hn--,vi&&ps.push(xi))}if(hn+=jr,bt&&jr!==hn){for(Wi=0;_n=rt[Wi++];)_n(ps,Ts,Ii,Hi);if(vi){if(hn>0)for(;jr--;)ps[jr]||Ts[jr]||(Ts[jr]=T.call(Ti));Ts=Qc(Ts)}S.apply(Ti,Ts),en&&!vi&&Ts.length>0&&hn+rt.length>1&&_.uniqueSort(Ti)}return en&&(tt=wu,N=cl),ps};return bt?Lo(Ut):Ut}function yu(ze,rt){var bt,Et=[],Ut=[],vi=zi[ze+" "];if(!vi){for(rt||(rt=aa(ze)),bt=rt.length;bt--;)vi=Va(rt[bt]),vi[Ke]?Et.push(vi):Ut.push(vi);vi=zi(ze,_f(Ut,Et)),vi.selector=ze}return vi}function dh(ze,rt,bt,Et){var Ut,vi,Ii,Hi,Ti,en=typeof ze=="function"&&ze,xi=!Et&&aa(ze=en.selector||ze);if(bt=bt||[],xi.length===1){if(vi=xi[0]=xi[0].slice(0),vi.length>2&&(Ii=vi[0]).type==="ID"&&rt.nodeType===9&&te&&D.relative[vi[1].type]){if(rt=(D.find.ID(Ii.matches[0].replace(xa,Na),rt)||[])[0],rt)en&&(rt=rt.parentNode);else return bt;ze=ze.slice(vi.shift().value.length)}for(Ut=ra.needsContext.test(ze)?0:vi.length;Ut--&&(Ii=vi[Ut],!D.relative[Hi=Ii.type]);)if((Ti=D.find[Hi])&&(Et=Ti(Ii.matches[0].replace(xa,Na),Kc.test(vi[0].type)&&Sa(rt.parentNode)||rt))){if(vi.splice(Ut,1),ze=Et.length&&ll(vi),!ze)return S.apply(bt,Et),bt;break}}return(en||yu(ze,xi))(Et,rt,!te,bt,!rt||Kc.test(ze)&&Sa(rt.parentNode)||rt),bt}f.sortStable=Ke.split("").sort(dr).join("")===Ke,fs(),f.sortDetached=Dl(function(ze){return ze.compareDocumentPosition(I.createElement("fieldset"))&1}),_.find=Ir,_.expr[":"]=_.expr.pseudos,_.unique=_.uniqueSort,Ir.compile=yu,Ir.select=dh,Ir.setDocument=fs,Ir.tokenize=aa,Ir.escape=_.escapeSelector,Ir.getText=_.text,Ir.isXML=_.isXMLDoc,Ir.selectors=_.expr,Ir.support=_.support,Ir.uniqueSort=_.uniqueSort})();var se=function(y,D,N){for(var z=[],ie=N!==void 0;(y=y[D])&&y.nodeType!==9;)if(y.nodeType===1){if(ie&&_(y).is(N))break;z.push(y)}return z},_e=function(y,D){for(var N=[];y;y=y.nextSibling)y.nodeType===1&&y!==D&&N.push(y);return N},Ve=_.expr.match.needsContext,Ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function K(y,D,N){return p(D)?_.grep(y,function(z,ie){return!!D.call(z,ie,z)!==N}):D.nodeType?_.grep(y,function(z){return z===D!==N}):typeof D!="string"?_.grep(y,function(z){return a.call(D,z)>-1!==N}):_.filter(D,y,N)}_.filter=function(y,D,N){var z=D[0];return N&&(y=":not("+y+")"),D.length===1&&z.nodeType===1?_.find.matchesSelector(z,y)?[z]:[]:_.find.matches(y,_.grep(D,function(ie){return ie.nodeType===1}))},_.fn.extend({find:function(y){var D,N,z=this.length,ie=this;if(typeof y!="string")return this.pushStack(_(y).filter(function(){for(D=0;D<z;D++)if(_.contains(ie[D],this))return!0}));for(N=this.pushStack([]),D=0;D<z;D++)_.find(y,ie[D],N);return z>1?_.uniqueSort(N):N},filter:function(y){return this.pushStack(K(this,y||[],!1))},not:function(y){return this.pushStack(K(this,y||[],!0))},is:function(y){return!!K(this,typeof y=="string"&&Ve.test(y)?_(y):y||[],!1).length}});var Q,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Z=_.fn.init=function(y,D,N){var z,ie;if(!y)return this;if(N=N||Q,typeof y=="string")if(y[0]==="<"&&y[y.length-1]===">"&&y.length>=3?z=[null,y,null]:z=ee.exec(y),z&&(z[1]||!D))if(z[1]){if(D=D instanceof _?D[0]:D,_.merge(this,_.parseHTML(z[1],D&&D.nodeType?D.ownerDocument||D:m,!0)),Ge.test(z[1])&&_.isPlainObject(D))for(z in D)p(this[z])?this[z](D[z]):this.attr(z,D[z]);return this}else return ie=m.getElementById(z[2]),ie&&(this[0]=ie,this.length=1),this;else return!D||D.jquery?(D||N).find(y):this.constructor(D).find(y);else{if(y.nodeType)return this[0]=y,this.length=1,this;if(p(y))return N.ready!==void 0?N.ready(y):y(_)}return _.makeArray(y,this)};Z.prototype=_.fn,Q=_(m);var G=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};_.fn.extend({has:function(y){var D=_(y,this),N=D.length;return this.filter(function(){for(var z=0;z<N;z++)if(_.contains(this,D[z]))return!0})},closest:function(y,D){var N,z=0,ie=this.length,S=[],I=typeof y!="string"&&_(y);if(!Ve.test(y)){for(;z<ie;z++)for(N=this[z];N&&N!==D;N=N.parentNode)if(N.nodeType<11&&(I?I.index(N)>-1:N.nodeType===1&&_.find.matchesSelector(N,y))){S.push(N);break}}return this.pushStack(S.length>1?_.uniqueSort(S):S)},index:function(y){return y?typeof y=="string"?a.call(_(y),this[0]):a.call(this,y.jquery?y[0]:y):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(y,D){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(y,D))))},addBack:function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}});function ce(y,D){for(;(y=y[D])&&y.nodeType!==1;);return y}_.each({parent:function(y){var D=y.parentNode;return D&&D.nodeType!==11?D:null},parents:function(y){return se(y,"parentNode")},parentsUntil:function(y,D,N){return se(y,"parentNode",N)},next:function(y){return ce(y,"nextSibling")},prev:function(y){return ce(y,"previousSibling")},nextAll:function(y){return se(y,"nextSibling")},prevAll:function(y){return se(y,"previousSibling")},nextUntil:function(y,D,N){return se(y,"nextSibling",N)},prevUntil:function(y,D,N){return se(y,"previousSibling",N)},siblings:function(y){return _e((y.parentNode||{}).firstChild,y)},children:function(y){return _e(y.firstChild)},contents:function(y){return y.contentDocument!=null&&n(y.contentDocument)?y.contentDocument:(F(y,"template")&&(y=y.content||y),_.merge([],y.childNodes))}},function(y,D){_.fn[y]=function(N,z){var ie=_.map(this,D,N);return y.slice(-5)!=="Until"&&(z=N),z&&typeof z=="string"&&(ie=_.filter(z,ie)),this.length>1&&(W[y]||_.uniqueSort(ie),G.test(y)&&ie.reverse()),this.pushStack(ie)}});var me=/[^\x20\t\r\n\f]+/g;function Me(y){var D={};return _.each(y.match(me)||[],function(N,z){D[z]=!0}),D}_.Callbacks=function(y){y=typeof y=="string"?Me(y):_.extend({},y);var D,N,z,ie,S=[],I=[],Y=-1,te=function(){for(ie=ie||y.once,z=D=!0;I.length;Y=-1)for(N=I.shift();++Y<S.length;)S[Y].apply(N[0],N[1])===!1&&y.stopOnFalse&&(Y=S.length,N=!1);y.memory||(N=!1),D=!1,ie&&(N?S=[]:S="")},we={add:function(){return S&&(N&&!D&&(Y=S.length-1,I.push(N)),function qe(Ke){_.each(Ke,function(tt,wt){p(wt)?(!y.unique||!we.has(wt))&&S.push(wt):wt&&wt.length&&w(wt)!=="string"&&qe(wt)})}(arguments),N&&!D&&te()),this},remove:function(){return _.each(arguments,function(qe,Ke){for(var tt;(tt=_.inArray(Ke,S,tt))>-1;)S.splice(tt,1),tt<=Y&&Y--}),this},has:function(qe){return qe?_.inArray(qe,S)>-1:S.length>0},empty:function(){return S&&(S=[]),this},disable:function(){return ie=I=[],S=N="",this},disabled:function(){return!S},lock:function(){return ie=I=[],!N&&!D&&(S=N=""),this},locked:function(){return!!ie},fireWith:function(qe,Ke){return ie||(Ke=Ke||[],Ke=[qe,Ke.slice?Ke.slice():Ke],I.push(Ke),D||te()),this},fire:function(){return we.fireWith(this,arguments),this},fired:function(){return!!z}};return we};function He(y){return y}function $e(y){throw y}function Je(y,D,N,z){var ie;try{y&&p(ie=y.promise)?ie.call(y).done(D).fail(N):y&&p(ie=y.then)?ie.call(y,D,N):D.apply(void 0,[y].slice(z))}catch(S){N.apply(void 0,[S])}}_.extend({Deferred:function(y){var D=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],N="pending",z={state:function(){return N},always:function(){return ie.done(arguments).fail(arguments),this},catch:function(S){return z.then(null,S)},pipe:function(){var S=arguments;return _.Deferred(function(I){_.each(D,function(Y,te){var we=p(S[te[4]])&&S[te[4]];ie[te[1]](function(){var qe=we&&we.apply(this,arguments);qe&&p(qe.promise)?qe.promise().progress(I.notify).done(I.resolve).fail(I.reject):I[te[0]+"With"](this,we?[qe]:arguments)})}),S=null}).promise()},then:function(S,I,Y){var te=0;function we(qe,Ke,tt,wt){return function(){var mi=this,Oi=arguments,zi=function(){var dr,Er;if(!(qe<te)){if(dr=tt.apply(mi,Oi),dr===Ke.promise())throw new TypeError("Thenable self-resolution");Er=dr&&(typeof dr=="object"||typeof dr=="function")&&dr.then,p(Er)?wt?Er.call(dr,we(te,Ke,He,wt),we(te,Ke,$e,wt)):(te++,Er.call(dr,we(te,Ke,He,wt),we(te,Ke,$e,wt),we(te,Ke,He,Ke.notifyWith))):(tt!==He&&(mi=void 0,Oi=[dr]),(wt||Ke.resolveWith)(mi,Oi))}},cr=wt?zi:function(){try{zi()}catch(dr){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(dr,cr.error),qe+1>=te&&(tt!==$e&&(mi=void 0,Oi=[dr]),Ke.rejectWith(mi,Oi))}};qe?cr():(_.Deferred.getErrorHook?cr.error=_.Deferred.getErrorHook():_.Deferred.getStackHook&&(cr.error=_.Deferred.getStackHook()),e.setTimeout(cr))}}return _.Deferred(function(qe){D[0][3].add(we(0,qe,p(Y)?Y:He,qe.notifyWith)),D[1][3].add(we(0,qe,p(S)?S:He)),D[2][3].add(we(0,qe,p(I)?I:$e))}).promise()},promise:function(S){return S!=null?_.extend(S,z):z}},ie={};return _.each(D,function(S,I){var Y=I[2],te=I[5];z[I[1]]=Y.add,te&&Y.add(function(){N=te},D[3-S][2].disable,D[3-S][3].disable,D[0][2].lock,D[0][3].lock),Y.add(I[3].fire),ie[I[0]]=function(){return ie[I[0]+"With"](this===ie?void 0:this,arguments),this},ie[I[0]+"With"]=Y.fireWith}),z.promise(ie),y&&y.call(ie,ie),ie},when:function(y){var D=arguments.length,N=D,z=Array(N),ie=r.call(arguments),S=_.Deferred(),I=function(Y){return function(te){z[Y]=this,ie[Y]=arguments.length>1?r.call(arguments):te,--D||S.resolveWith(z,ie)}};if(D<=1&&(Je(y,S.done(I(N)).resolve,S.reject,!D),S.state()==="pending"||p(ie[N]&&ie[N].then)))return S.then();for(;N--;)Je(ie[N],I(N),S.reject);return S.promise()}});var ve=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(y,D){e.console&&e.console.warn&&y&&ve.test(y.name)&&e.console.warn("jQuery.Deferred exception: "+y.message,y.stack,D)},_.readyException=function(y){e.setTimeout(function(){throw y})};var ge=_.Deferred();_.fn.ready=function(y){return ge.then(y).catch(function(D){_.readyException(D)}),this},_.extend({isReady:!1,readyWait:1,ready:function(y){(y===!0?--_.readyWait:_.isReady)||(_.isReady=!0,!(y!==!0&&--_.readyWait>0)&&ge.resolveWith(m,[_]))}}),_.ready.then=ge.then;function pt(){m.removeEventListener("DOMContentLoaded",pt),e.removeEventListener("load",pt),_.ready()}m.readyState==="complete"||m.readyState!=="loading"&&!m.documentElement.doScroll?e.setTimeout(_.ready):(m.addEventListener("DOMContentLoaded",pt),e.addEventListener("load",pt));var vt=function(y,D,N,z,ie,S,I){var Y=0,te=y.length,we=N==null;if(w(N)==="object"){ie=!0;for(Y in N)vt(y,D,Y,N[Y],!0,S,I)}else if(z!==void 0&&(ie=!0,p(z)||(I=!0),we&&(I?(D.call(y,z),D=null):(we=D,D=function(qe,Ke,tt){return we.call(_(qe),tt)})),D))for(;Y<te;Y++)D(y[Y],N,I?z:z.call(y[Y],Y,D(y[Y],N)));return ie?y:we?D.call(y):te?D(y[0],N):S},Pt=/^-ms-/,ft=/-([a-z])/g;function kt(y,D){return D.toUpperCase()}function be(y){return y.replace(Pt,"ms-").replace(ft,kt)}var oe=function(y){return y.nodeType===1||y.nodeType===9||!+y.nodeType};function re(){this.expando=_.expando+re.uid++}re.uid=1,re.prototype={cache:function(y){var D=y[this.expando];return D||(D={},oe(y)&&(y.nodeType?y[this.expando]=D:Object.defineProperty(y,this.expando,{value:D,configurable:!0}))),D},set:function(y,D,N){var z,ie=this.cache(y);if(typeof D=="string")ie[be(D)]=N;else for(z in D)ie[be(z)]=D[z];return ie},get:function(y,D){return D===void 0?this.cache(y):y[this.expando]&&y[this.expando][be(D)]},access:function(y,D,N){return D===void 0||D&&typeof D=="string"&&N===void 0?this.get(y,D):(this.set(y,D,N),N!==void 0?N:D)},remove:function(y,D){var N,z=y[this.expando];if(z!==void 0){if(D!==void 0)for(Array.isArray(D)?D=D.map(be):(D=be(D),D=D in z?[D]:D.match(me)||[]),N=D.length;N--;)delete z[D[N]];(D===void 0||_.isEmptyObject(z))&&(y.nodeType?y[this.expando]=void 0:delete y[this.expando])}},hasData:function(y){var D=y[this.expando];return D!==void 0&&!_.isEmptyObject(D)}};var J=new re,pe=new re,Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/[A-Z]/g;function Le(y){return y==="true"?!0:y==="false"?!1:y==="null"?null:y===+y+""?+y:Ee.test(y)?JSON.parse(y):y}function Ne(y,D,N){var z;if(N===void 0&&y.nodeType===1)if(z="data-"+D.replace(ke,"-$&").toLowerCase(),N=y.getAttribute(z),typeof N=="string"){try{N=Le(N)}catch{}pe.set(y,D,N)}else N=void 0;return N}_.extend({hasData:function(y){return pe.hasData(y)||J.hasData(y)},data:function(y,D,N){return pe.access(y,D,N)},removeData:function(y,D){pe.remove(y,D)},_data:function(y,D,N){return J.access(y,D,N)},_removeData:function(y,D){J.remove(y,D)}}),_.fn.extend({data:function(y,D){var N,z,ie,S=this[0],I=S&&S.attributes;if(y===void 0){if(this.length&&(ie=pe.get(S),S.nodeType===1&&!J.get(S,"hasDataAttrs"))){for(N=I.length;N--;)I[N]&&(z=I[N].name,z.indexOf("data-")===0&&(z=be(z.slice(5)),Ne(S,z,ie[z])));J.set(S,"hasDataAttrs",!0)}return ie}return typeof y=="object"?this.each(function(){pe.set(this,y)}):vt(this,function(Y){var te;if(S&&Y===void 0)return te=pe.get(S,y),te!==void 0||(te=Ne(S,y),te!==void 0)?te:void 0;this.each(function(){pe.set(this,y,Y)})},null,D,arguments.length>1,null,!0)},removeData:function(y){return this.each(function(){pe.remove(this,y)})}}),_.extend({queue:function(y,D,N){var z;if(y)return D=(D||"fx")+"queue",z=J.get(y,D),N&&(!z||Array.isArray(N)?z=J.access(y,D,_.makeArray(N)):z.push(N)),z||[]},dequeue:function(y,D){D=D||"fx";var N=_.queue(y,D),z=N.length,ie=N.shift(),S=_._queueHooks(y,D),I=function(){_.dequeue(y,D)};ie==="inprogress"&&(ie=N.shift(),z--),ie&&(D==="fx"&&N.unshift("inprogress"),delete S.stop,ie.call(y,I,S)),!z&&S&&S.empty.fire()},_queueHooks:function(y,D){var N=D+"queueHooks";return J.get(y,N)||J.access(y,N,{empty:_.Callbacks("once memory").add(function(){J.remove(y,[D+"queue",N])})})}}),_.fn.extend({queue:function(y,D){var N=2;return typeof y!="string"&&(D=y,y="fx",N--),arguments.length<N?_.queue(this[0],y):D===void 0?this:this.each(function(){var z=_.queue(this,y,D);_._queueHooks(this,y),y==="fx"&&z[0]!=="inprogress"&&_.dequeue(this,y)})},dequeue:function(y){return this.each(function(){_.dequeue(this,y)})},clearQueue:function(y){return this.queue(y||"fx",[])},promise:function(y,D){var N,z=1,ie=_.Deferred(),S=this,I=this.length,Y=function(){--z||ie.resolveWith(S,[S])};for(typeof y!="string"&&(D=y,y=void 0),y=y||"fx";I--;)N=J.get(S[I],y+"queueHooks"),N&&N.empty&&(z++,N.empty.add(Y));return Y(),ie.promise(D)}});var Ye=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ye+")([a-z%]*)$","i"),ct=["Top","Right","Bottom","Left"],gt=m.documentElement,Tt=function(y){return _.contains(y.ownerDocument,y)},Ft={composed:!0};gt.getRootNode&&(Tt=function(y){return _.contains(y.ownerDocument,y)||y.getRootNode(Ft)===y.ownerDocument});var wi=function(y,D){return y=D||y,y.style.display==="none"||y.style.display===""&&Tt(y)&&_.css(y,"display")==="none"};function Vt(y,D,N,z){var ie,S,I=20,Y=z?function(){return z.cur()}:function(){return _.css(y,D,"")},te=Y(),we=N&&N[3]||(_.cssNumber[D]?"":"px"),qe=y.nodeType&&(_.cssNumber[D]||we!=="px"&&+te)&&Be.exec(_.css(y,D));if(qe&&qe[3]!==we){for(te=te/2,we=we||qe[3],qe=+te||1;I--;)_.style(y,D,qe+we),(1-S)*(1-(S=Y()/te||.5))<=0&&(I=0),qe=qe/S;qe=qe*2,_.style(y,D,qe+we),N=N||[]}return N&&(qe=+qe||+te||0,ie=N[1]?qe+(N[1]+1)*N[2]:+N[2],z&&(z.unit=we,z.start=qe,z.end=ie)),ie}var li={};function Ue(y){var D,N=y.ownerDocument,z=y.nodeName,ie=li[z];return ie||(D=N.body.appendChild(N.createElement(z)),ie=_.css(D,"display"),D.parentNode.removeChild(D),ie==="none"&&(ie="block"),li[z]=ie,ie)}function yt(y,D){for(var N,z,ie=[],S=0,I=y.length;S<I;S++)z=y[S],z.style&&(N=z.style.display,D?(N==="none"&&(ie[S]=J.get(z,"display")||null,ie[S]||(z.style.display="")),z.style.display===""&&wi(z)&&(ie[S]=Ue(z))):N!=="none"&&(ie[S]="none",J.set(z,"display",N)));for(S=0;S<I;S++)ie[S]!=null&&(y[S].style.display=ie[S]);return y}_.fn.extend({show:function(){return yt(this,!0)},hide:function(){return yt(this)},toggle:function(y){return typeof y=="boolean"?y?this.show():this.hide():this.each(function(){wi(this)?_(this).show():_(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,nt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var y=m.createDocumentFragment(),D=y.appendChild(m.createElement("div")),N=m.createElement("input");N.setAttribute("type","radio"),N.setAttribute("checked","checked"),N.setAttribute("name","t"),D.appendChild(N),f.checkClone=D.cloneNode(!0).cloneNode(!0).lastChild.checked,D.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!D.cloneNode(!0).lastChild.defaultValue,D.innerHTML="<option></option>",f.option=!!D.lastChild})();var It={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td,f.option||(It.optgroup=It.option=[1,"<select multiple='multiple'>","</select>"]);function Ei(y,D){var N;return typeof y.getElementsByTagName<"u"?N=y.getElementsByTagName(D||"*"):typeof y.querySelectorAll<"u"?N=y.querySelectorAll(D||"*"):N=[],D===void 0||D&&F(y,D)?_.merge([y],N):N}function Yi(y,D){for(var N=0,z=y.length;N<z;N++)J.set(y[N],"globalEval",!D||J.get(D[N],"globalEval"))}var Li=/<|&#?\w+;/;function At(y,D,N,z,ie){for(var S,I,Y,te,we,qe,Ke=D.createDocumentFragment(),tt=[],wt=0,mi=y.length;wt<mi;wt++)if(S=y[wt],S||S===0)if(w(S)==="object")_.merge(tt,S.nodeType?[S]:S);else if(!Li.test(S))tt.push(D.createTextNode(S));else{for(I=I||Ke.appendChild(D.createElement("div")),Y=(ht.exec(S)||["",""])[1].toLowerCase(),te=It[Y]||It._default,I.innerHTML=te[1]+_.htmlPrefilter(S)+te[2],qe=te[0];qe--;)I=I.lastChild;_.merge(tt,I.childNodes),I=Ke.firstChild,I.textContent=""}for(Ke.textContent="",wt=0;S=tt[wt++];){if(z&&_.inArray(S,z)>-1){ie&&ie.push(S);continue}if(we=Tt(S),I=Ei(Ke.appendChild(S),"script"),we&&Yi(I),N)for(qe=0;S=I[qe++];)nt.test(S.type||"")&&N.push(S)}return Ke}var jt=/^([^.]*)(?:\.(.+)|)/;function Qt(){return!0}function Di(){return!1}function Vi(y,D,N,z,ie,S){var I,Y;if(typeof D=="object"){typeof N!="string"&&(z=z||N,N=void 0);for(Y in D)Vi(y,Y,N,z,D[Y],S);return y}if(z==null&&ie==null?(ie=N,z=N=void 0):ie==null&&(typeof N=="string"?(ie=z,z=void 0):(ie=z,z=N,N=void 0)),ie===!1)ie=Di;else if(!ie)return y;return S===1&&(I=ie,ie=function(te){return _().off(te),I.apply(this,arguments)},ie.guid=I.guid||(I.guid=_.guid++)),y.each(function(){_.event.add(this,D,ie,z,N)})}_.event={global:{},add:function(y,D,N,z,ie){var S,I,Y,te,we,qe,Ke,tt,wt,mi,Oi,zi=J.get(y);if(oe(y))for(N.handler&&(S=N,N=S.handler,ie=S.selector),ie&&_.find.matchesSelector(gt,ie),N.guid||(N.guid=_.guid++),(te=zi.events)||(te=zi.events=Object.create(null)),(I=zi.handle)||(I=zi.handle=function(cr){return typeof _<"u"&&_.event.triggered!==cr.type?_.event.dispatch.apply(y,arguments):void 0}),D=(D||"").match(me)||[""],we=D.length;we--;)Y=jt.exec(D[we])||[],wt=Oi=Y[1],mi=(Y[2]||"").split(".").sort(),wt&&(Ke=_.event.special[wt]||{},wt=(ie?Ke.delegateType:Ke.bindType)||wt,Ke=_.event.special[wt]||{},qe=_.extend({type:wt,origType:Oi,data:z,handler:N,guid:N.guid,selector:ie,needsContext:ie&&_.expr.match.needsContext.test(ie),namespace:mi.join(".")},S),(tt=te[wt])||(tt=te[wt]=[],tt.delegateCount=0,(!Ke.setup||Ke.setup.call(y,z,mi,I)===!1)&&y.addEventListener&&y.addEventListener(wt,I)),Ke.add&&(Ke.add.call(y,qe),qe.handler.guid||(qe.handler.guid=N.guid)),ie?tt.splice(tt.delegateCount++,0,qe):tt.push(qe),_.event.global[wt]=!0)},remove:function(y,D,N,z,ie){var S,I,Y,te,we,qe,Ke,tt,wt,mi,Oi,zi=J.hasData(y)&&J.get(y);if(!(!zi||!(te=zi.events))){for(D=(D||"").match(me)||[""],we=D.length;we--;){if(Y=jt.exec(D[we])||[],wt=Oi=Y[1],mi=(Y[2]||"").split(".").sort(),!wt){for(wt in te)_.event.remove(y,wt+D[we],N,z,!0);continue}for(Ke=_.event.special[wt]||{},wt=(z?Ke.delegateType:Ke.bindType)||wt,tt=te[wt]||[],Y=Y[2]&&new RegExp("(^|\\.)"+mi.join("\\.(?:.*\\.|)")+"(\\.|$)"),I=S=tt.length;S--;)qe=tt[S],(ie||Oi===qe.origType)&&(!N||N.guid===qe.guid)&&(!Y||Y.test(qe.namespace))&&(!z||z===qe.selector||z==="**"&&qe.selector)&&(tt.splice(S,1),qe.selector&&tt.delegateCount--,Ke.remove&&Ke.remove.call(y,qe));I&&!tt.length&&((!Ke.teardown||Ke.teardown.call(y,mi,zi.handle)===!1)&&_.removeEvent(y,wt,zi.handle),delete te[wt])}_.isEmptyObject(te)&&J.remove(y,"handle events")}},dispatch:function(y){var D,N,z,ie,S,I,Y=new Array(arguments.length),te=_.event.fix(y),we=(J.get(this,"events")||Object.create(null))[te.type]||[],qe=_.event.special[te.type]||{};for(Y[0]=te,D=1;D<arguments.length;D++)Y[D]=arguments[D];if(te.delegateTarget=this,!(qe.preDispatch&&qe.preDispatch.call(this,te)===!1)){for(I=_.event.handlers.call(this,te,we),D=0;(ie=I[D++])&&!te.isPropagationStopped();)for(te.currentTarget=ie.elem,N=0;(S=ie.handlers[N++])&&!te.isImmediatePropagationStopped();)(!te.rnamespace||S.namespace===!1||te.rnamespace.test(S.namespace))&&(te.handleObj=S,te.data=S.data,z=((_.event.special[S.origType]||{}).handle||S.handler).apply(ie.elem,Y),z!==void 0&&(te.result=z)===!1&&(te.preventDefault(),te.stopPropagation()));return qe.postDispatch&&qe.postDispatch.call(this,te),te.result}},handlers:function(y,D){var N,z,ie,S,I,Y=[],te=D.delegateCount,we=y.target;if(te&&we.nodeType&&!(y.type==="click"&&y.button>=1)){for(;we!==this;we=we.parentNode||this)if(we.nodeType===1&&!(y.type==="click"&&we.disabled===!0)){for(S=[],I={},N=0;N<te;N++)z=D[N],ie=z.selector+" ",I[ie]===void 0&&(I[ie]=z.needsContext?_(ie,this).index(we)>-1:_.find(ie,this,null,[we]).length),I[ie]&&S.push(z);S.length&&Y.push({elem:we,handlers:S})}}return we=this,te<D.length&&Y.push({elem:we,handlers:D.slice(te)}),Y},addProp:function(y,D){Object.defineProperty(_.Event.prototype,y,{enumerable:!0,configurable:!0,get:p(D)?function(){if(this.originalEvent)return D(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[y]},set:function(N){Object.defineProperty(this,y,{enumerable:!0,configurable:!0,writable:!0,value:N})}})},fix:function(y){return y[_.expando]?y:new _.Event(y)},special:{load:{noBubble:!0},click:{setup:function(y){var D=this||y;return dt.test(D.type)&&D.click&&F(D,"input")&&Dn(D,"click",!0),!1},trigger:function(y){var D=this||y;return dt.test(D.type)&&D.click&&F(D,"input")&&Dn(D,"click"),!0},_default:function(y){var D=y.target;return dt.test(D.type)&&D.click&&F(D,"input")&&J.get(D,"click")||F(D,"a")}},beforeunload:{postDispatch:function(y){y.result!==void 0&&y.originalEvent&&(y.originalEvent.returnValue=y.result)}}}};function Dn(y,D,N){if(!N){J.get(y,D)===void 0&&_.event.add(y,D,Qt);return}J.set(y,D,!1),_.event.add(y,D,{namespace:!1,handler:function(z){var ie,S=J.get(this,D);if(z.isTrigger&1&&this[D]){if(S)(_.event.special[D]||{}).delegateType&&z.stopPropagation();else if(S=r.call(arguments),J.set(this,D,S),this[D](),ie=J.get(this,D),J.set(this,D,!1),S!==ie)return z.stopImmediatePropagation(),z.preventDefault(),ie}else S&&(J.set(this,D,_.event.trigger(S[0],S.slice(1),this)),z.stopPropagation(),z.isImmediatePropagationStopped=Qt)}})}_.removeEvent=function(y,D,N){y.removeEventListener&&y.removeEventListener(D,N)},_.Event=function(y,D){if(!(this instanceof _.Event))return new _.Event(y,D);y&&y.type?(this.originalEvent=y,this.type=y.type,this.isDefaultPrevented=y.defaultPrevented||y.defaultPrevented===void 0&&y.returnValue===!1?Qt:Di,this.target=y.target&&y.target.nodeType===3?y.target.parentNode:y.target,this.currentTarget=y.currentTarget,this.relatedTarget=y.relatedTarget):this.type=y,D&&_.extend(this,D),this.timeStamp=y&&y.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Di,isPropagationStopped:Di,isImmediatePropagationStopped:Di,isSimulated:!1,preventDefault:function(){var y=this.originalEvent;this.isDefaultPrevented=Qt,y&&!this.isSimulated&&y.preventDefault()},stopPropagation:function(){var y=this.originalEvent;this.isPropagationStopped=Qt,y&&!this.isSimulated&&y.stopPropagation()},stopImmediatePropagation:function(){var y=this.originalEvent;this.isImmediatePropagationStopped=Qt,y&&!this.isSimulated&&y.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(y,D){function N(z){if(m.documentMode){var ie=J.get(this,"handle"),S=_.event.fix(z);S.type=z.type==="focusin"?"focus":"blur",S.isSimulated=!0,ie(z),S.target===S.currentTarget&&ie(S)}else _.event.simulate(D,z.target,_.event.fix(z))}_.event.special[y]={setup:function(){var z;if(Dn(this,y,!0),m.documentMode)z=J.get(this,D),z||this.addEventListener(D,N),J.set(this,D,(z||0)+1);else return!1},trigger:function(){return Dn(this,y),!0},teardown:function(){var z;if(m.documentMode)z=J.get(this,D)-1,z?J.set(this,D,z):(this.removeEventListener(D,N),J.remove(this,D));else return!1},_default:function(z){return J.get(z.target,y)},delegateType:D},_.event.special[D]={setup:function(){var z=this.ownerDocument||this.document||this,ie=m.documentMode?this:z,S=J.get(ie,D);S||(m.documentMode?this.addEventListener(D,N):z.addEventListener(y,N,!0)),J.set(ie,D,(S||0)+1)},teardown:function(){var z=this.ownerDocument||this.document||this,ie=m.documentMode?this:z,S=J.get(ie,D)-1;S?J.set(ie,D,S):(m.documentMode?this.removeEventListener(D,N):z.removeEventListener(y,N,!0),J.remove(ie,D))}}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(y,D){_.event.special[y]={delegateType:D,bindType:D,handle:function(N){var z,ie=this,S=N.relatedTarget,I=N.handleObj;return(!S||S!==ie&&!_.contains(ie,S))&&(N.type=I.origType,z=I.handler.apply(this,arguments),N.type=D),z}}}),_.fn.extend({on:function(y,D,N,z){return Vi(this,y,D,N,z)},one:function(y,D,N,z){return Vi(this,y,D,N,z,1)},off:function(y,D,N){var z,ie;if(y&&y.preventDefault&&y.handleObj)return z=y.handleObj,_(y.delegateTarget).off(z.namespace?z.origType+"."+z.namespace:z.origType,z.selector,z.handler),this;if(typeof y=="object"){for(ie in y)this.off(ie,D,y[ie]);return this}return(D===!1||typeof D=="function")&&(N=D,D=void 0),N===!1&&(N=Di),this.each(function(){_.event.remove(this,y,N,D)})}});var Tn=/<script|<style|<link/i,rr=/checked\s*(?:[^=]|=\s*.checked.)/i,_r=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Lr(y,D){return F(y,"table")&&F(D.nodeType!==11?D:D.firstChild,"tr")&&_(y).children("tbody")[0]||y}function Mo(y){return y.type=(y.getAttribute("type")!==null)+"/"+y.type,y}function _o(y){return(y.type||"").slice(0,5)==="true/"?y.type=y.type.slice(5):y.removeAttribute("type"),y}function Yo(y,D){var N,z,ie,S,I,Y,te;if(D.nodeType===1){if(J.hasData(y)&&(S=J.get(y),te=S.events,te)){J.remove(D,"handle events");for(ie in te)for(N=0,z=te[ie].length;N<z;N++)_.event.add(D,ie,te[ie][N])}pe.hasData(y)&&(I=pe.access(y),Y=_.extend({},I),pe.set(D,Y))}}function ta(y,D){var N=D.nodeName.toLowerCase();N==="input"&&dt.test(y.type)?D.checked=y.checked:(N==="input"||N==="textarea")&&(D.defaultValue=y.defaultValue)}function us(y,D,N,z){D=o(D);var ie,S,I,Y,te,we,qe=0,Ke=y.length,tt=Ke-1,wt=D[0],mi=p(wt);if(mi||Ke>1&&typeof wt=="string"&&!f.checkClone&&rr.test(wt))return y.each(function(Oi){var zi=y.eq(Oi);mi&&(D[0]=wt.call(this,Oi,zi.html())),us(zi,D,N,z)});if(Ke&&(ie=At(D,y[0].ownerDocument,!1,y,z),S=ie.firstChild,ie.childNodes.length===1&&(ie=S),S||z)){for(I=_.map(Ei(ie,"script"),Mo),Y=I.length;qe<Ke;qe++)te=ie,qe!==tt&&(te=_.clone(te,!0,!0),Y&&_.merge(I,Ei(te,"script"))),N.call(y[qe],te,qe);if(Y)for(we=I[I.length-1].ownerDocument,_.map(I,_o),qe=0;qe<Y;qe++)te=I[qe],nt.test(te.type||"")&&!J.access(te,"globalEval")&&_.contains(we,te)&&(te.src&&(te.type||"").toLowerCase()!=="module"?_._evalUrl&&!te.noModule&&_._evalUrl(te.src,{nonce:te.nonce||te.getAttribute("nonce")},we):b(te.textContent.replace(_r,""),te,we))}return y}function Zo(y,D,N){for(var z,ie=D?_.filter(D,y):y,S=0;(z=ie[S])!=null;S++)!N&&z.nodeType===1&&_.cleanData(Ei(z)),z.parentNode&&(N&&Tt(z)&&Yi(Ei(z,"script")),z.parentNode.removeChild(z));return y}_.extend({htmlPrefilter:function(y){return y},clone:function(y,D,N){var z,ie,S,I,Y=y.cloneNode(!0),te=Tt(y);if(!f.noCloneChecked&&(y.nodeType===1||y.nodeType===11)&&!_.isXMLDoc(y))for(I=Ei(Y),S=Ei(y),z=0,ie=S.length;z<ie;z++)ta(S[z],I[z]);if(D)if(N)for(S=S||Ei(y),I=I||Ei(Y),z=0,ie=S.length;z<ie;z++)Yo(S[z],I[z]);else Yo(y,Y);return I=Ei(Y,"script"),I.length>0&&Yi(I,!te&&Ei(y,"script")),Y},cleanData:function(y){for(var D,N,z,ie=_.event.special,S=0;(N=y[S])!==void 0;S++)if(oe(N)){if(D=N[J.expando]){if(D.events)for(z in D.events)ie[z]?_.event.remove(N,z):_.removeEvent(N,z,D.handle);N[J.expando]=void 0}N[pe.expando]&&(N[pe.expando]=void 0)}}}),_.fn.extend({detach:function(y){return Zo(this,y,!0)},remove:function(y){return Zo(this,y)},text:function(y){return vt(this,function(D){return D===void 0?_.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=D)})},null,y,arguments.length)},append:function(){return us(this,arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var D=Lr(this,y);D.appendChild(y)}})},prepend:function(){return us(this,arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var D=Lr(this,y);D.insertBefore(y,D.firstChild)}})},before:function(){return us(this,arguments,function(y){this.parentNode&&this.parentNode.insertBefore(y,this)})},after:function(){return us(this,arguments,function(y){this.parentNode&&this.parentNode.insertBefore(y,this.nextSibling)})},empty:function(){for(var y,D=0;(y=this[D])!=null;D++)y.nodeType===1&&(_.cleanData(Ei(y,!1)),y.textContent="");return this},clone:function(y,D){return y=y??!1,D=D??y,this.map(function(){return _.clone(this,y,D)})},html:function(y){return vt(this,function(D){var N=this[0]||{},z=0,ie=this.length;if(D===void 0&&N.nodeType===1)return N.innerHTML;if(typeof D=="string"&&!Tn.test(D)&&!It[(ht.exec(D)||["",""])[1].toLowerCase()]){D=_.htmlPrefilter(D);try{for(;z<ie;z++)N=this[z]||{},N.nodeType===1&&(_.cleanData(Ei(N,!1)),N.innerHTML=D);N=0}catch{}}N&&this.empty().append(D)},null,y,arguments.length)},replaceWith:function(){var y=[];return us(this,arguments,function(D){var N=this.parentNode;_.inArray(this,y)<0&&(_.cleanData(Ei(this)),N&&N.replaceChild(D,this))},y)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(y,D){_.fn[y]=function(N){for(var z,ie=[],S=_(N),I=S.length-1,Y=0;Y<=I;Y++)z=Y===I?this:this.clone(!0),_(S[Y])[D](z),s.apply(ie,z.get());return this.pushStack(ie)}});var Oa=new RegExp("^("+Ye+")(?!px)[a-z%]+$","i"),ia=/^--/,Ds=function(y){var D=y.ownerDocument.defaultView;return(!D||!D.opener)&&(D=e),D.getComputedStyle(y)},ya=function(y,D,N){var z,ie,S={};for(ie in D)S[ie]=y.style[ie],y.style[ie]=D[ie];z=N.call(y);for(ie in D)y.style[ie]=S[ie];return z},Te=new RegExp(ct.join("|"),"i");(function(){function y(){if(we){te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",we.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",gt.appendChild(te).appendChild(we);var qe=e.getComputedStyle(we);N=qe.top!=="1%",Y=D(qe.marginLeft)===12,we.style.right="60%",S=D(qe.right)===36,z=D(qe.width)===36,we.style.position="absolute",ie=D(we.offsetWidth/3)===12,gt.removeChild(te),we=null}}function D(qe){return Math.round(parseFloat(qe))}var N,z,ie,S,I,Y,te=m.createElement("div"),we=m.createElement("div");we.style&&(we.style.backgroundClip="content-box",we.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle=we.style.backgroundClip==="content-box",_.extend(f,{boxSizingReliable:function(){return y(),z},pixelBoxStyles:function(){return y(),S},pixelPosition:function(){return y(),N},reliableMarginLeft:function(){return y(),Y},scrollboxSize:function(){return y(),ie},reliableTrDimensions:function(){var qe,Ke,tt,wt;return I==null&&(qe=m.createElement("table"),Ke=m.createElement("tr"),tt=m.createElement("div"),qe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ke.style.cssText="box-sizing:content-box;border:1px solid",Ke.style.height="1px",tt.style.height="9px",tt.style.display="block",gt.appendChild(qe).appendChild(Ke).appendChild(tt),wt=e.getComputedStyle(Ke),I=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===Ke.offsetHeight,gt.removeChild(qe)),I}}))})();function st(y,D,N){var z,ie,S,I,Y=ia.test(D),te=y.style;return N=N||Ds(y),N&&(I=N.getPropertyValue(D)||N[D],Y&&I&&(I=I.replace(V,"$1")||void 0),I===""&&!Tt(y)&&(I=_.style(y,D)),!f.pixelBoxStyles()&&Oa.test(I)&&Te.test(D)&&(z=te.width,ie=te.minWidth,S=te.maxWidth,te.minWidth=te.maxWidth=te.width=I,I=N.width,te.width=z,te.minWidth=ie,te.maxWidth=S)),I!==void 0?I+"":I}function xt(y,D){return{get:function(){if(y()){delete this.get;return}return(this.get=D).apply(this,arguments)}}}var Mt=["Webkit","Moz","ms"],ot=m.createElement("div").style,ci={};function _i(y){for(var D=y[0].toUpperCase()+y.slice(1),N=Mt.length;N--;)if(y=Mt[N]+D,y in ot)return y}function Fi(y){var D=_.cssProps[y]||ci[y];return D||(y in ot?y:ci[y]=_i(y)||y)}var Gi=/^(none|table(?!-c[ea]).+)/,En={position:"absolute",visibility:"hidden",display:"block"},wn={letterSpacing:"0",fontWeight:"400"};function dn(y,D,N){var z=Be.exec(D);return z?Math.max(0,z[2]-(N||0))+(z[3]||"px"):D}function Ln(y,D,N,z,ie,S){var I=D==="width"?1:0,Y=0,te=0,we=0;if(N===(z?"border":"content"))return 0;for(;I<4;I+=2)N==="margin"&&(we+=_.css(y,N+ct[I],!0,ie)),z?(N==="content"&&(te-=_.css(y,"padding"+ct[I],!0,ie)),N!=="margin"&&(te-=_.css(y,"border"+ct[I]+"Width",!0,ie))):(te+=_.css(y,"padding"+ct[I],!0,ie),N!=="padding"?te+=_.css(y,"border"+ct[I]+"Width",!0,ie):Y+=_.css(y,"border"+ct[I]+"Width",!0,ie));return!z&&S>=0&&(te+=Math.max(0,Math.ceil(y["offset"+D[0].toUpperCase()+D.slice(1)]-S-te-Y-.5))||0),te+we}function Vn(y,D,N){var z=Ds(y),ie=!f.boxSizingReliable()||N,S=ie&&_.css(y,"boxSizing",!1,z)==="border-box",I=S,Y=st(y,D,z),te="offset"+D[0].toUpperCase()+D.slice(1);if(Oa.test(Y)){if(!N)return Y;Y="auto"}return(!f.boxSizingReliable()&&S||!f.reliableTrDimensions()&&F(y,"tr")||Y==="auto"||!parseFloat(Y)&&_.css(y,"display",!1,z)==="inline")&&y.getClientRects().length&&(S=_.css(y,"boxSizing",!1,z)==="border-box",I=te in y,I&&(Y=y[te])),Y=parseFloat(Y)||0,Y+Ln(y,D,N||(S?"border":"content"),I,z,Y)+"px"}_.extend({cssHooks:{opacity:{get:function(y,D){if(D){var N=st(y,"opacity");return N===""?"1":N}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(y,D,N,z){if(!(!y||y.nodeType===3||y.nodeType===8||!y.style)){var ie,S,I,Y=be(D),te=ia.test(D),we=y.style;if(te||(D=Fi(Y)),I=_.cssHooks[D]||_.cssHooks[Y],N!==void 0){if(S=typeof N,S==="string"&&(ie=Be.exec(N))&&ie[1]&&(N=Vt(y,D,ie),S="number"),N==null||N!==N)return;S==="number"&&!te&&(N+=ie&&ie[3]||(_.cssNumber[Y]?"":"px")),!f.clearCloneStyle&&N===""&&D.indexOf("background")===0&&(we[D]="inherit"),(!I||!("set"in I)||(N=I.set(y,N,z))!==void 0)&&(te?we.setProperty(D,N):we[D]=N)}else return I&&"get"in I&&(ie=I.get(y,!1,z))!==void 0?ie:we[D]}},css:function(y,D,N,z){var ie,S,I,Y=be(D),te=ia.test(D);return te||(D=Fi(Y)),I=_.cssHooks[D]||_.cssHooks[Y],I&&"get"in I&&(ie=I.get(y,!0,N)),ie===void 0&&(ie=st(y,D,z)),ie==="normal"&&D in wn&&(ie=wn[D]),N===""||N?(S=parseFloat(ie),N===!0||isFinite(S)?S||0:ie):ie}}),_.each(["height","width"],function(y,D){_.cssHooks[D]={get:function(N,z,ie){if(z)return Gi.test(_.css(N,"display"))&&(!N.getClientRects().length||!N.getBoundingClientRect().width)?ya(N,En,function(){return Vn(N,D,ie)}):Vn(N,D,ie)},set:function(N,z,ie){var S,I=Ds(N),Y=!f.scrollboxSize()&&I.position==="absolute",te=Y||ie,we=te&&_.css(N,"boxSizing",!1,I)==="border-box",qe=ie?Ln(N,D,ie,we,I):0;return we&&Y&&(qe-=Math.ceil(N["offset"+D[0].toUpperCase()+D.slice(1)]-parseFloat(I[D])-Ln(N,D,"border",!1,I)-.5)),qe&&(S=Be.exec(z))&&(S[3]||"px")!=="px"&&(N.style[D]=z,z=_.css(N,D)),dn(N,z,qe)}}}),_.cssHooks.marginLeft=xt(f.reliableMarginLeft,function(y,D){if(D)return(parseFloat(st(y,"marginLeft"))||y.getBoundingClientRect().left-ya(y,{marginLeft:0},function(){return y.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(y,D){_.cssHooks[y+D]={expand:function(N){for(var z=0,ie={},S=typeof N=="string"?N.split(" "):[N];z<4;z++)ie[y+ct[z]+D]=S[z]||S[z-2]||S[0];return ie}},y!=="margin"&&(_.cssHooks[y+D].set=dn)}),_.fn.extend({css:function(y,D){return vt(this,function(N,z,ie){var S,I,Y={},te=0;if(Array.isArray(z)){for(S=Ds(N),I=z.length;te<I;te++)Y[z[te]]=_.css(N,z[te],!1,S);return Y}return ie!==void 0?_.style(N,z,ie):_.css(N,z)},y,D,arguments.length>1)}});function Un(y,D,N,z,ie){return new Un.prototype.init(y,D,N,z,ie)}_.Tween=Un,Un.prototype={constructor:Un,init:function(y,D,N,z,ie,S){this.elem=y,this.prop=N,this.easing=ie||_.easing._default,this.options=D,this.start=this.now=this.cur(),this.end=z,this.unit=S||(_.cssNumber[N]?"":"px")},cur:function(){var y=Un.propHooks[this.prop];return y&&y.get?y.get(this):Un.propHooks._default.get(this)},run:function(y){var D,N=Un.propHooks[this.prop];return this.options.duration?this.pos=D=_.easing[this.easing](y,this.options.duration*y,0,1,this.options.duration):this.pos=D=y,this.now=(this.end-this.start)*D+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),N&&N.set?N.set(this):Un.propHooks._default.set(this),this}},Un.prototype.init.prototype=Un.prototype,Un.propHooks={_default:{get:function(y){var D;return y.elem.nodeType!==1||y.elem[y.prop]!=null&&y.elem.style[y.prop]==null?y.elem[y.prop]:(D=_.css(y.elem,y.prop,""),!D||D==="auto"?0:D)},set:function(y){_.fx.step[y.prop]?_.fx.step[y.prop](y):y.elem.nodeType===1&&(_.cssHooks[y.prop]||y.elem.style[Fi(y.prop)]!=null)?_.style(y.elem,y.prop,y.now+y.unit):y.elem[y.prop]=y.now}}},Un.propHooks.scrollTop=Un.propHooks.scrollLeft={set:function(y){y.elem.nodeType&&y.elem.parentNode&&(y.elem[y.prop]=y.now)}},_.easing={linear:function(y){return y},swing:function(y){return .5-Math.cos(y*Math.PI)/2},_default:"swing"},_.fx=Un.prototype.init,_.fx.step={};var kr,un,gn=/^(?:toggle|show|hide)$/,Zr=/queueHooks$/;function Jn(){un&&(m.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Jn):e.setTimeout(Jn,_.fx.interval),_.fx.tick())}function Qo(){return e.setTimeout(function(){kr=void 0}),kr=Date.now()}function Xn(y,D){var N,z=0,ie={height:y};for(D=D?1:0;z<4;z+=2-D)N=ct[z],ie["margin"+N]=ie["padding"+N]=y;return D&&(ie.opacity=ie.width=y),ie}function Kn(y,D,N){for(var z,ie=(Br.tweeners[D]||[]).concat(Br.tweeners["*"]),S=0,I=ie.length;S<I;S++)if(z=ie[S].call(N,D,y))return z}function hs(y,D,N){var z,ie,S,I,Y,te,we,qe,Ke="width"in D||"height"in D,tt=this,wt={},mi=y.style,Oi=y.nodeType&&wi(y),zi=J.get(y,"fxshow");N.queue||(I=_._queueHooks(y,"fx"),I.unqueued==null&&(I.unqueued=0,Y=I.empty.fire,I.empty.fire=function(){I.unqueued||Y()}),I.unqueued++,tt.always(function(){tt.always(function(){I.unqueued--,_.queue(y,"fx").length||I.empty.fire()})}));for(z in D)if(ie=D[z],gn.test(ie)){if(delete D[z],S=S||ie==="toggle",ie===(Oi?"hide":"show"))if(ie==="show"&&zi&&zi[z]!==void 0)Oi=!0;else continue;wt[z]=zi&&zi[z]||_.style(y,z)}if(te=!_.isEmptyObject(D),!(!te&&_.isEmptyObject(wt))){Ke&&y.nodeType===1&&(N.overflow=[mi.overflow,mi.overflowX,mi.overflowY],we=zi&&zi.display,we==null&&(we=J.get(y,"display")),qe=_.css(y,"display"),qe==="none"&&(we?qe=we:(yt([y],!0),we=y.style.display||we,qe=_.css(y,"display"),yt([y]))),(qe==="inline"||qe==="inline-block"&&we!=null)&&_.css(y,"float")==="none"&&(te||(tt.done(function(){mi.display=we}),we==null&&(qe=mi.display,we=qe==="none"?"":qe)),mi.display="inline-block")),N.overflow&&(mi.overflow="hidden",tt.always(function(){mi.overflow=N.overflow[0],mi.overflowX=N.overflow[1],mi.overflowY=N.overflow[2]})),te=!1;for(z in wt)te||(zi?"hidden"in zi&&(Oi=zi.hidden):zi=J.access(y,"fxshow",{display:we}),S&&(zi.hidden=!Oi),Oi&&yt([y],!0),tt.done(function(){Oi||yt([y]),J.remove(y,"fxshow");for(z in wt)_.style(y,z,wt[z])})),te=Kn(Oi?zi[z]:0,z,tt),z in zi||(zi[z]=te.start,Oi&&(te.end=te.start,te.start=0))}}function Nr(y,D){var N,z,ie,S,I;for(N in y)if(z=be(N),ie=D[z],S=y[N],Array.isArray(S)&&(ie=S[1],S=y[N]=S[0]),N!==z&&(y[z]=S,delete y[N]),I=_.cssHooks[z],I&&"expand"in I){S=I.expand(S),delete y[z];for(N in S)N in y||(y[N]=S[N],D[N]=ie)}else D[z]=ie}function Br(y,D,N){var z,ie,S=0,I=Br.prefilters.length,Y=_.Deferred().always(function(){delete te.elem}),te=function(){if(ie)return!1;for(var Ke=kr||Qo(),tt=Math.max(0,we.startTime+we.duration-Ke),wt=tt/we.duration||0,mi=1-wt,Oi=0,zi=we.tweens.length;Oi<zi;Oi++)we.tweens[Oi].run(mi);return Y.notifyWith(y,[we,mi,tt]),mi<1&&zi?tt:(zi||Y.notifyWith(y,[we,1,0]),Y.resolveWith(y,[we]),!1)},we=Y.promise({elem:y,props:_.extend({},D),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},N),originalProperties:D,originalOptions:N,startTime:kr||Qo(),duration:N.duration,tweens:[],createTween:function(Ke,tt){var wt=_.Tween(y,we.opts,Ke,tt,we.opts.specialEasing[Ke]||we.opts.easing);return we.tweens.push(wt),wt},stop:function(Ke){var tt=0,wt=Ke?we.tweens.length:0;if(ie)return this;for(ie=!0;tt<wt;tt++)we.tweens[tt].run(1);return Ke?(Y.notifyWith(y,[we,1,0]),Y.resolveWith(y,[we,Ke])):Y.rejectWith(y,[we,Ke]),this}}),qe=we.props;for(Nr(qe,we.opts.specialEasing);S<I;S++)if(z=Br.prefilters[S].call(we,y,qe,we.opts),z)return p(z.stop)&&(_._queueHooks(we.elem,we.opts.queue).stop=z.stop.bind(z)),z;return _.map(qe,Kn,we),p(we.opts.start)&&we.opts.start.call(y,we),we.progress(we.opts.progress).done(we.opts.done,we.opts.complete).fail(we.opts.fail).always(we.opts.always),_.fx.timer(_.extend(te,{elem:y,anim:we,queue:we.opts.queue})),we}_.Animation=_.extend(Br,{tweeners:{"*":[function(y,D){var N=this.createTween(y,D);return Vt(N.elem,y,Be.exec(D),N),N}]},tweener:function(y,D){p(y)?(D=y,y=["*"]):y=y.match(me);for(var N,z=0,ie=y.length;z<ie;z++)N=y[z],Br.tweeners[N]=Br.tweeners[N]||[],Br.tweeners[N].unshift(D)},prefilters:[hs],prefilter:function(y,D){D?Br.prefilters.unshift(y):Br.prefilters.push(y)}}),_.speed=function(y,D,N){var z=y&&typeof y=="object"?_.extend({},y):{complete:N||!N&&D||p(y)&&y,duration:y,easing:N&&D||D&&!p(D)&&D};return _.fx.off?z.duration=0:typeof z.duration!="number"&&(z.duration in _.fx.speeds?z.duration=_.fx.speeds[z.duration]:z.duration=_.fx.speeds._default),(z.queue==null||z.queue===!0)&&(z.queue="fx"),z.old=z.complete,z.complete=function(){p(z.old)&&z.old.call(this),z.queue&&_.dequeue(this,z.queue)},z},_.fn.extend({fadeTo:function(y,D,N,z){return this.filter(wi).css("opacity",0).show().end().animate({opacity:D},y,N,z)},animate:function(y,D,N,z){var ie=_.isEmptyObject(y),S=_.speed(D,N,z),I=function(){var Y=Br(this,_.extend({},y),S);(ie||J.get(this,"finish"))&&Y.stop(!0)};return I.finish=I,ie||S.queue===!1?this.each(I):this.queue(S.queue,I)},stop:function(y,D,N){var z=function(ie){var S=ie.stop;delete ie.stop,S(N)};return typeof y!="string"&&(N=D,D=y,y=void 0),D&&this.queue(y||"fx",[]),this.each(function(){var ie=!0,S=y!=null&&y+"queueHooks",I=_.timers,Y=J.get(this);if(S)Y[S]&&Y[S].stop&&z(Y[S]);else for(S in Y)Y[S]&&Y[S].stop&&Zr.test(S)&&z(Y[S]);for(S=I.length;S--;)I[S].elem===this&&(y==null||I[S].queue===y)&&(I[S].anim.stop(N),ie=!1,I.splice(S,1));(ie||!N)&&_.dequeue(this,y)})},finish:function(y){return y!==!1&&(y=y||"fx"),this.each(function(){var D,N=J.get(this),z=N[y+"queue"],ie=N[y+"queueHooks"],S=_.timers,I=z?z.length:0;for(N.finish=!0,_.queue(this,y,[]),ie&&ie.stop&&ie.stop.call(this,!0),D=S.length;D--;)S[D].elem===this&&S[D].queue===y&&(S[D].anim.stop(!0),S.splice(D,1));for(D=0;D<I;D++)z[D]&&z[D].finish&&z[D].finish.call(this);delete N.finish})}}),_.each(["toggle","show","hide"],function(y,D){var N=_.fn[D];_.fn[D]=function(z,ie,S){return z==null||typeof z=="boolean"?N.apply(this,arguments):this.animate(Xn(D,!0),z,ie,S)}}),_.each({slideDown:Xn("show"),slideUp:Xn("hide"),slideToggle:Xn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(y,D){_.fn[y]=function(N,z,ie){return this.animate(D,N,z,ie)}}),_.timers=[],_.fx.tick=function(){var y,D=0,N=_.timers;for(kr=Date.now();D<N.length;D++)y=N[D],!y()&&N[D]===y&&N.splice(D--,1);N.length||_.fx.stop(),kr=void 0},_.fx.timer=function(y){_.timers.push(y),_.fx.start()},_.fx.interval=13,_.fx.start=function(){un||(un=!0,Jn())},_.fx.stop=function(){un=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(y,D){return y=_.fx&&_.fx.speeds[y]||y,D=D||"fx",this.queue(D,function(N,z){var ie=e.setTimeout(N,y);z.stop=function(){e.clearTimeout(ie)}})},function(){var y=m.createElement("input"),D=m.createElement("select"),N=D.appendChild(m.createElement("option"));y.type="checkbox",f.checkOn=y.value!=="",f.optSelected=N.selected,y=m.createElement("input"),y.value="t",y.type="radio",f.radioValue=y.value==="t"}();var Jr,Mr=_.expr.attrHandle;_.fn.extend({attr:function(y,D){return vt(this,_.attr,y,D,arguments.length>1)},removeAttr:function(y){return this.each(function(){_.removeAttr(this,y)})}}),_.extend({attr:function(y,D,N){var z,ie,S=y.nodeType;if(!(S===3||S===8||S===2)){if(typeof y.getAttribute>"u")return _.prop(y,D,N);if((S!==1||!_.isXMLDoc(y))&&(ie=_.attrHooks[D.toLowerCase()]||(_.expr.match.bool.test(D)?Jr:void 0)),N!==void 0){if(N===null){_.removeAttr(y,D);return}return ie&&"set"in ie&&(z=ie.set(y,N,D))!==void 0?z:(y.setAttribute(D,N+""),N)}return ie&&"get"in ie&&(z=ie.get(y,D))!==null?z:(z=_.find.attr(y,D),z??void 0)}},attrHooks:{type:{set:function(y,D){if(!f.radioValue&&D==="radio"&&F(y,"input")){var N=y.value;return y.setAttribute("type",D),N&&(y.value=N),D}}}},removeAttr:function(y,D){var N,z=0,ie=D&&D.match(me);if(ie&&y.nodeType===1)for(;N=ie[z++];)y.removeAttribute(N)}}),Jr={set:function(y,D,N){return D===!1?_.removeAttr(y,N):y.setAttribute(N,N),N}},_.each(_.expr.match.bool.source.match(/\w+/g),function(y,D){var N=Mr[D]||_.find.attr;Mr[D]=function(z,ie,S){var I,Y,te=ie.toLowerCase();return S||(Y=Mr[te],Mr[te]=I,I=N(z,ie,S)!=null?te:null,Mr[te]=Y),I}});var Eo=/^(?:input|select|textarea|button)$/i,Xl=/^(?:a|area)$/i;_.fn.extend({prop:function(y,D){return vt(this,_.prop,y,D,arguments.length>1)},removeProp:function(y){return this.each(function(){delete this[_.propFix[y]||y]})}}),_.extend({prop:function(y,D,N){var z,ie,S=y.nodeType;if(!(S===3||S===8||S===2))return(S!==1||!_.isXMLDoc(y))&&(D=_.propFix[D]||D,ie=_.propHooks[D]),N!==void 0?ie&&"set"in ie&&(z=ie.set(y,N,D))!==void 0?z:y[D]=N:ie&&"get"in ie&&(z=ie.get(y,D))!==null?z:y[D]},propHooks:{tabIndex:{get:function(y){var D=_.find.attr(y,"tabindex");return D?parseInt(D,10):Eo.test(y.nodeName)||Xl.test(y.nodeName)&&y.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(_.propHooks.selected={get:function(y){var D=y.parentNode;return D&&D.parentNode&&D.parentNode.selectedIndex,null},set:function(y){var D=y.parentNode;D&&(D.selectedIndex,D.parentNode&&D.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});function $o(y){var D=y.match(me)||[];return D.join(" ")}function sn(y){return y.getAttribute&&y.getAttribute("class")||""}function gc(y){return Array.isArray(y)?y:typeof y=="string"?y.match(me)||[]:[]}_.fn.extend({addClass:function(y){var D,N,z,ie,S,I;return p(y)?this.each(function(Y){_(this).addClass(y.call(this,Y,sn(this)))}):(D=gc(y),D.length?this.each(function(){if(z=sn(this),N=this.nodeType===1&&" "+$o(z)+" ",N){for(S=0;S<D.length;S++)ie=D[S],N.indexOf(" "+ie+" ")<0&&(N+=ie+" ");I=$o(N),z!==I&&this.setAttribute("class",I)}}):this)},removeClass:function(y){var D,N,z,ie,S,I;return p(y)?this.each(function(Y){_(this).removeClass(y.call(this,Y,sn(this)))}):arguments.length?(D=gc(y),D.length?this.each(function(){if(z=sn(this),N=this.nodeType===1&&" "+$o(z)+" ",N){for(S=0;S<D.length;S++)for(ie=D[S];N.indexOf(" "+ie+" ")>-1;)N=N.replace(" "+ie+" "," ");I=$o(N),z!==I&&this.setAttribute("class",I)}}):this):this.attr("class","")},toggleClass:function(y,D){var N,z,ie,S,I=typeof y,Y=I==="string"||Array.isArray(y);return p(y)?this.each(function(te){_(this).toggleClass(y.call(this,te,sn(this),D),D)}):typeof D=="boolean"&&Y?D?this.addClass(y):this.removeClass(y):(N=gc(y),this.each(function(){if(Y)for(S=_(this),ie=0;ie<N.length;ie++)z=N[ie],S.hasClass(z)?S.removeClass(z):S.addClass(z);else(y===void 0||I==="boolean")&&(z=sn(this),z&&J.set(this,"__className__",z),this.setAttribute&&this.setAttribute("class",z||y===!1?"":J.get(this,"__className__")||""))}))},hasClass:function(y){var D,N,z=0;for(D=" "+y+" ";N=this[z++];)if(N.nodeType===1&&(" "+$o(sn(N))+" ").indexOf(D)>-1)return!0;return!1}});var de=/\r/g;_.fn.extend({val:function(y){var D,N,z,ie=this[0];return arguments.length?(z=p(y),this.each(function(S){var I;this.nodeType===1&&(z?I=y.call(this,S,_(this).val()):I=y,I==null?I="":typeof I=="number"?I+="":Array.isArray(I)&&(I=_.map(I,function(Y){return Y==null?"":Y+""})),D=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],(!D||!("set"in D)||D.set(this,I,"value")===void 0)&&(this.value=I))})):ie?(D=_.valHooks[ie.type]||_.valHooks[ie.nodeName.toLowerCase()],D&&"get"in D&&(N=D.get(ie,"value"))!==void 0?N:(N=ie.value,typeof N=="string"?N.replace(de,""):N??"")):void 0}}),_.extend({valHooks:{option:{get:function(y){var D=_.find.attr(y,"value");return D??$o(_.text(y))}},select:{get:function(y){var D,N,z,ie=y.options,S=y.selectedIndex,I=y.type==="select-one",Y=I?null:[],te=I?S+1:ie.length;for(S<0?z=te:z=I?S:0;z<te;z++)if(N=ie[z],(N.selected||z===S)&&!N.disabled&&(!N.parentNode.disabled||!F(N.parentNode,"optgroup"))){if(D=_(N).val(),I)return D;Y.push(D)}return Y},set:function(y,D){for(var N,z,ie=y.options,S=_.makeArray(D),I=ie.length;I--;)z=ie[I],(z.selected=_.inArray(_.valHooks.option.get(z),S)>-1)&&(N=!0);return N||(y.selectedIndex=-1),S}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(y,D){if(Array.isArray(D))return y.checked=_.inArray(_(y).val(),D)>-1}},f.checkOn||(_.valHooks[this].get=function(y){return y.getAttribute("value")===null?"on":y.value})});var le=e.location,De={guid:Date.now()},xe=/\?/;_.parseXML=function(y){var D,N;if(!y||typeof y!="string")return null;try{D=new e.DOMParser().parseFromString(y,"text/xml")}catch{}return N=D&&D.getElementsByTagName("parsererror")[0],(!D||N)&&_.error("Invalid XML: "+(N?_.map(N.childNodes,function(z){return z.textContent}).join(`
`):y)),D};var Ae=/^(?:focusinfocus|focusoutblur)$/,Rt=function(y){y.stopPropagation()};_.extend(_.event,{trigger:function(y,D,N,z){var ie,S,I,Y,te,we,qe,Ke,tt=[N||m],wt=d.call(y,"type")?y.type:y,mi=d.call(y,"namespace")?y.namespace.split("."):[];if(S=Ke=I=N=N||m,!(N.nodeType===3||N.nodeType===8)&&!Ae.test(wt+_.event.triggered)&&(wt.indexOf(".")>-1&&(mi=wt.split("."),wt=mi.shift(),mi.sort()),te=wt.indexOf(":")<0&&"on"+wt,y=y[_.expando]?y:new _.Event(wt,typeof y=="object"&&y),y.isTrigger=z?2:3,y.namespace=mi.join("."),y.rnamespace=y.namespace?new RegExp("(^|\\.)"+mi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,y.result=void 0,y.target||(y.target=N),D=D==null?[y]:_.makeArray(D,[y]),qe=_.event.special[wt]||{},!(!z&&qe.trigger&&qe.trigger.apply(N,D)===!1))){if(!z&&!qe.noBubble&&!v(N)){for(Y=qe.delegateType||wt,Ae.test(Y+wt)||(S=S.parentNode);S;S=S.parentNode)tt.push(S),I=S;I===(N.ownerDocument||m)&&tt.push(I.defaultView||I.parentWindow||e)}for(ie=0;(S=tt[ie++])&&!y.isPropagationStopped();)Ke=S,y.type=ie>1?Y:qe.bindType||wt,we=(J.get(S,"events")||Object.create(null))[y.type]&&J.get(S,"handle"),we&&we.apply(S,D),we=te&&S[te],we&&we.apply&&oe(S)&&(y.result=we.apply(S,D),y.result===!1&&y.preventDefault());return y.type=wt,!z&&!y.isDefaultPrevented()&&(!qe._default||qe._default.apply(tt.pop(),D)===!1)&&oe(N)&&te&&p(N[wt])&&!v(N)&&(I=N[te],I&&(N[te]=null),_.event.triggered=wt,y.isPropagationStopped()&&Ke.addEventListener(wt,Rt),N[wt](),y.isPropagationStopped()&&Ke.removeEventListener(wt,Rt),_.event.triggered=void 0,I&&(N[te]=I)),y.result}},simulate:function(y,D,N){var z=_.extend(new _.Event,N,{type:y,isSimulated:!0});_.event.trigger(z,null,D)}}),_.fn.extend({trigger:function(y,D){return this.each(function(){_.event.trigger(y,D,this)})},triggerHandler:function(y,D){var N=this[0];if(N)return _.event.trigger(y,D,N,!0)}});var Ht=/\[\]$/,Ni=/\r?\n/g,Ci=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;function on(y,D,N,z){var ie;if(Array.isArray(D))_.each(D,function(S,I){N||Ht.test(y)?z(y,I):on(y+"["+(typeof I=="object"&&I!=null?S:"")+"]",I,N,z)});else if(!N&&w(D)==="object")for(ie in D)on(y+"["+ie+"]",D[ie],N,z);else z(y,D)}_.param=function(y,D){var N,z=[],ie=function(S,I){var Y=p(I)?I():I;z[z.length]=encodeURIComponent(S)+"="+encodeURIComponent(Y??"")};if(y==null)return"";if(Array.isArray(y)||y.jquery&&!_.isPlainObject(y))_.each(y,function(){ie(this.name,this.value)});else for(N in y)on(N,y[N],D,ie);return z.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var y=_.prop(this,"elements");return y?_.makeArray(y):this}).filter(function(){var y=this.type;return this.name&&!_(this).is(":disabled")&&Jt.test(this.nodeName)&&!Ci.test(y)&&(this.checked||!dt.test(y))}).map(function(y,D){var N=_(this).val();return N==null?null:Array.isArray(N)?_.map(N,function(z){return{name:D.name,value:z.replace(Ni,`\r
`)}}):{name:D.name,value:N.replace(Ni,`\r
`)}}).get()}});var ai=/%20/g,an=/#.*$/,Bi=/([?&])_=[^&]*/,cn=/^(.*?):[ \t]*([^\r\n]*)$/mg,pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,so=/^(?:GET|HEAD)$/,yr=/^\/\//,lr={},Zn={},na="*/".concat("*"),to=m.createElement("a");to.href=le.href;function Kl(y){return function(D,N){typeof D!="string"&&(N=D,D="*");var z,ie=0,S=D.toLowerCase().match(me)||[];if(p(N))for(;z=S[ie++];)z[0]==="+"?(z=z.slice(1)||"*",(y[z]=y[z]||[]).unshift(N)):(y[z]=y[z]||[]).push(N)}}function Yc(y,D,N,z){var ie={},S=y===Zn;function I(Y){var te;return ie[Y]=!0,_.each(y[Y]||[],function(we,qe){var Ke=qe(D,N,z);if(typeof Ke=="string"&&!S&&!ie[Ke])return D.dataTypes.unshift(Ke),I(Ke),!1;if(S)return!(te=Ke)}),te}return I(D.dataTypes[0])||!ie["*"]&&I("*")}function Zl(y,D){var N,z,ie=_.ajaxSettings.flatOptions||{};for(N in D)D[N]!==void 0&&((ie[N]?y:z||(z={}))[N]=D[N]);return z&&_.extend(!0,y,z),y}function Kp(y,D,N){for(var z,ie,S,I,Y=y.contents,te=y.dataTypes;te[0]==="*";)te.shift(),z===void 0&&(z=y.mimeType||D.getResponseHeader("Content-Type"));if(z){for(ie in Y)if(Y[ie]&&Y[ie].test(z)){te.unshift(ie);break}}if(te[0]in N)S=te[0];else{for(ie in N){if(!te[0]||y.converters[ie+" "+te[0]]){S=ie;break}I||(I=ie)}S=S||I}if(S)return S!==te[0]&&te.unshift(S),N[S]}function $c(y,D,N,z){var ie,S,I,Y,te,we={},qe=y.dataTypes.slice();if(qe[1])for(I in y.converters)we[I.toLowerCase()]=y.converters[I];for(S=qe.shift();S;)if(y.responseFields[S]&&(N[y.responseFields[S]]=D),!te&&z&&y.dataFilter&&(D=y.dataFilter(D,y.dataType)),te=S,S=qe.shift(),S){if(S==="*")S=te;else if(te!=="*"&&te!==S){if(I=we[te+" "+S]||we["* "+S],!I){for(ie in we)if(Y=ie.split(" "),Y[1]===S&&(I=we[te+" "+Y[0]]||we["* "+Y[0]],I)){I===!0?I=we[ie]:we[ie]!==!0&&(S=Y[0],qe.unshift(Y[1]));break}}if(I!==!0)if(I&&y.throws)D=I(D);else try{D=I(D)}catch(Ke){return{state:"parsererror",error:I?Ke:"No conversion from "+te+" to "+S}}}}return{state:"success",data:D}}_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:pn.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":na,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(y,D){return D?Zl(Zl(y,_.ajaxSettings),D):Zl(_.ajaxSettings,y)},ajaxPrefilter:Kl(lr),ajaxTransport:Kl(Zn),ajax:function(y,D){typeof y=="object"&&(D=y,y=void 0),D=D||{};var N,z,ie,S,I,Y,te,we,qe,Ke,tt=_.ajaxSetup({},D),wt=tt.context||tt,mi=tt.context&&(wt.nodeType||wt.jquery)?_(wt):_.event,Oi=_.Deferred(),zi=_.Callbacks("once memory"),cr=tt.statusCode||{},dr={},Er={},io="canceled",Cn={readyState:0,getResponseHeader:function(er){var Vr;if(te){if(!S)for(S={};Vr=cn.exec(ie);)S[Vr[1].toLowerCase()+" "]=(S[Vr[1].toLowerCase()+" "]||[]).concat(Vr[2]);Vr=S[er.toLowerCase()+" "]}return Vr==null?null:Vr.join(", ")},getAllResponseHeaders:function(){return te?ie:null},setRequestHeader:function(er,Vr){return te==null&&(er=Er[er.toLowerCase()]=Er[er.toLowerCase()]||er,dr[er]=Vr),this},overrideMimeType:function(er){return te==null&&(tt.mimeType=er),this},statusCode:function(er){var Vr;if(er)if(te)Cn.always(er[Cn.status]);else for(Vr in er)cr[Vr]=[cr[Vr],er[Vr]];return this},abort:function(er){var Vr=er||io;return N&&N.abort(Vr),Oo(0,Vr),this}};if(Oi.promise(Cn),tt.url=((y||tt.url||le.href)+"").replace(yr,le.protocol+"//"),tt.type=D.method||D.type||tt.method||tt.type,tt.dataTypes=(tt.dataType||"*").toLowerCase().match(me)||[""],tt.crossDomain==null){Y=m.createElement("a");try{Y.href=tt.url,Y.href=Y.href,tt.crossDomain=to.protocol+"//"+to.host!=Y.protocol+"//"+Y.host}catch{tt.crossDomain=!0}}if(tt.data&&tt.processData&&typeof tt.data!="string"&&(tt.data=_.param(tt.data,tt.traditional)),Yc(lr,tt,D,Cn),te)return Cn;we=_.event&&tt.global,we&&_.active++===0&&_.event.trigger("ajaxStart"),tt.type=tt.type.toUpperCase(),tt.hasContent=!so.test(tt.type),z=tt.url.replace(an,""),tt.hasContent?tt.data&&tt.processData&&(tt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(tt.data=tt.data.replace(ai,"+")):(Ke=tt.url.slice(z.length),tt.data&&(tt.processData||typeof tt.data=="string")&&(z+=(xe.test(z)?"&":"?")+tt.data,delete tt.data),tt.cache===!1&&(z=z.replace(Bi,"$1"),Ke=(xe.test(z)?"&":"?")+"_="+De.guid+++Ke),tt.url=z+Ke),tt.ifModified&&(_.lastModified[z]&&Cn.setRequestHeader("If-Modified-Since",_.lastModified[z]),_.etag[z]&&Cn.setRequestHeader("If-None-Match",_.etag[z])),(tt.data&&tt.hasContent&&tt.contentType!==!1||D.contentType)&&Cn.setRequestHeader("Content-Type",tt.contentType),Cn.setRequestHeader("Accept",tt.dataTypes[0]&&tt.accepts[tt.dataTypes[0]]?tt.accepts[tt.dataTypes[0]]+(tt.dataTypes[0]!=="*"?", "+na+"; q=0.01":""):tt.accepts["*"]);for(qe in tt.headers)Cn.setRequestHeader(qe,tt.headers[qe]);if(tt.beforeSend&&(tt.beforeSend.call(wt,Cn,tt)===!1||te))return Cn.abort();if(io="abort",zi.add(tt.complete),Cn.done(tt.success),Cn.fail(tt.error),N=Yc(Zn,tt,D,Cn),!N)Oo(-1,"No Transport");else{if(Cn.readyState=1,we&&mi.trigger("ajaxSend",[Cn,tt]),te)return Cn;tt.async&&tt.timeout>0&&(I=e.setTimeout(function(){Cn.abort("timeout")},tt.timeout));try{te=!1,N.send(dr,Oo)}catch(er){if(te)throw er;Oo(-1,er)}}function Oo(er,Vr,ol,El){var wa,La,ra,oa,Ca,no=Vr;te||(te=!0,I&&e.clearTimeout(I),N=void 0,ie=El||"",Cn.readyState=er>0?4:0,wa=er>=200&&er<300||er===304,ol&&(oa=Kp(tt,Cn,ol)),!wa&&_.inArray("script",tt.dataTypes)>-1&&_.inArray("json",tt.dataTypes)<0&&(tt.converters["text script"]=function(){}),oa=$c(tt,oa,Cn,wa),wa?(tt.ifModified&&(Ca=Cn.getResponseHeader("Last-Modified"),Ca&&(_.lastModified[z]=Ca),Ca=Cn.getResponseHeader("etag"),Ca&&(_.etag[z]=Ca)),er===204||tt.type==="HEAD"?no="nocontent":er===304?no="notmodified":(no=oa.state,La=oa.data,ra=oa.error,wa=!ra)):(ra=no,(er||!no)&&(no="error",er<0&&(er=0))),Cn.status=er,Cn.statusText=(Vr||no)+"",wa?Oi.resolveWith(wt,[La,no,Cn]):Oi.rejectWith(wt,[Cn,no,ra]),Cn.statusCode(cr),cr=void 0,we&&mi.trigger(wa?"ajaxSuccess":"ajaxError",[Cn,tt,wa?La:ra]),zi.fireWith(wt,[Cn,no]),we&&(mi.trigger("ajaxComplete",[Cn,tt]),--_.active||_.event.trigger("ajaxStop")))}return Cn},getJSON:function(y,D,N){return _.get(y,D,N,"json")},getScript:function(y,D){return _.get(y,void 0,D,"script")}}),_.each(["get","post"],function(y,D){_[D]=function(N,z,ie,S){return p(z)&&(S=S||ie,ie=z,z=void 0),_.ajax(_.extend({url:N,type:D,dataType:S,data:z,success:ie},_.isPlainObject(N)&&N))}}),_.ajaxPrefilter(function(y){var D;for(D in y.headers)D.toLowerCase()==="content-type"&&(y.contentType=y.headers[D]||"")}),_._evalUrl=function(y,D,N){return _.ajax({url:y,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(z){_.globalEval(z,D,N)}})},_.fn.extend({wrapAll:function(y){var D;return this[0]&&(p(y)&&(y=y.call(this[0])),D=_(y,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&D.insertBefore(this[0]),D.map(function(){for(var N=this;N.firstElementChild;)N=N.firstElementChild;return N}).append(this)),this},wrapInner:function(y){return p(y)?this.each(function(D){_(this).wrapInner(y.call(this,D))}):this.each(function(){var D=_(this),N=D.contents();N.length?N.wrapAll(y):D.append(y)})},wrap:function(y){var D=p(y);return this.each(function(N){_(this).wrapAll(D?y.call(this,N):y)})},unwrap:function(y){return this.parent(y).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(y){return!_.expr.pseudos.visible(y)},_.expr.pseudos.visible=function(y){return!!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var mf={0:200,1223:204},vc=_.ajaxSettings.xhr();f.cors=!!vc&&"withCredentials"in vc,f.ajax=vc=!!vc,_.ajaxTransport(function(y){var D,N;if(f.cors||vc&&!y.crossDomain)return{send:function(z,ie){var S,I=y.xhr();if(I.open(y.type,y.url,y.async,y.username,y.password),y.xhrFields)for(S in y.xhrFields)I[S]=y.xhrFields[S];y.mimeType&&I.overrideMimeType&&I.overrideMimeType(y.mimeType),!y.crossDomain&&!z["X-Requested-With"]&&(z["X-Requested-With"]="XMLHttpRequest");for(S in z)I.setRequestHeader(S,z[S]);D=function(Y){return function(){D&&(D=N=I.onload=I.onerror=I.onabort=I.ontimeout=I.onreadystatechange=null,Y==="abort"?I.abort():Y==="error"?typeof I.status!="number"?ie(0,"error"):ie(I.status,I.statusText):ie(mf[I.status]||I.status,I.statusText,(I.responseType||"text")!=="text"||typeof I.responseText!="string"?{binary:I.response}:{text:I.responseText},I.getAllResponseHeaders()))}},I.onload=D(),N=I.onerror=I.ontimeout=D("error"),I.onabort!==void 0?I.onabort=N:I.onreadystatechange=function(){I.readyState===4&&e.setTimeout(function(){D&&N()})},D=D("abort");try{I.send(y.hasContent&&y.data||null)}catch(Y){if(D)throw Y}},abort:function(){D&&D()}}}),_.ajaxPrefilter(function(y){y.crossDomain&&(y.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(y){return _.globalEval(y),y}}}),_.ajaxPrefilter("script",function(y){y.cache===void 0&&(y.cache=!1),y.crossDomain&&(y.type="GET")}),_.ajaxTransport("script",function(y){if(y.crossDomain||y.scriptAttrs){var D,N;return{send:function(z,ie){D=_("<script>").attr(y.scriptAttrs||{}).prop({charset:y.scriptCharset,src:y.url}).on("load error",N=function(S){D.remove(),N=null,S&&ie(S.type==="error"?404:200,S.type)}),m.head.appendChild(D[0])},abort:function(){N&&N()}}}});var bu=[],Ur=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var y=bu.pop()||_.expando+"_"+De.guid++;return this[y]=!0,y}}),_.ajaxPrefilter("json jsonp",function(y,D,N){var z,ie,S,I=y.jsonp!==!1&&(Ur.test(y.url)?"url":typeof y.data=="string"&&(y.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ur.test(y.data)&&"data");if(I||y.dataTypes[0]==="jsonp")return z=y.jsonpCallback=p(y.jsonpCallback)?y.jsonpCallback():y.jsonpCallback,I?y[I]=y[I].replace(Ur,"$1"+z):y.jsonp!==!1&&(y.url+=(xe.test(y.url)?"&":"?")+y.jsonp+"="+z),y.converters["script json"]=function(){return S||_.error(z+" was not called"),S[0]},y.dataTypes[0]="json",ie=e[z],e[z]=function(){S=arguments},N.always(function(){ie===void 0?_(e).removeProp(z):e[z]=ie,y[z]&&(y.jsonpCallback=D.jsonpCallback,bu.push(z)),S&&p(ie)&&ie(S[0]),S=ie=void 0}),"script"}),f.createHTMLDocument=function(){var y=m.implementation.createHTMLDocument("").body;return y.innerHTML="<form></form><form></form>",y.childNodes.length===2}(),_.parseHTML=function(y,D,N){if(typeof y!="string")return[];typeof D=="boolean"&&(N=D,D=!1);var z,ie,S;return D||(f.createHTMLDocument?(D=m.implementation.createHTMLDocument(""),z=D.createElement("base"),z.href=m.location.href,D.head.appendChild(z)):D=m),ie=Ge.exec(y),S=!N&&[],ie?[D.createElement(ie[1])]:(ie=At([y],D,S),S&&S.length&&_(S).remove(),_.merge([],ie.childNodes))},_.fn.load=function(y,D,N){var z,ie,S,I=this,Y=y.indexOf(" ");return Y>-1&&(z=$o(y.slice(Y)),y=y.slice(0,Y)),p(D)?(N=D,D=void 0):D&&typeof D=="object"&&(ie="POST"),I.length>0&&_.ajax({url:y,type:ie||"GET",dataType:"html",data:D}).done(function(te){S=arguments,I.html(z?_("<div>").append(_.parseHTML(te)).find(z):te)}).always(N&&function(te,we){I.each(function(){N.apply(this,S||[te.responseText,we,te])})}),this},_.expr.pseudos.animated=function(y){return _.grep(_.timers,function(D){return y===D.elem}).length},_.offset={setOffset:function(y,D,N){var z,ie,S,I,Y,te,we,qe=_.css(y,"position"),Ke=_(y),tt={};qe==="static"&&(y.style.position="relative"),Y=Ke.offset(),S=_.css(y,"top"),te=_.css(y,"left"),we=(qe==="absolute"||qe==="fixed")&&(S+te).indexOf("auto")>-1,we?(z=Ke.position(),I=z.top,ie=z.left):(I=parseFloat(S)||0,ie=parseFloat(te)||0),p(D)&&(D=D.call(y,N,_.extend({},Y))),D.top!=null&&(tt.top=D.top-Y.top+I),D.left!=null&&(tt.left=D.left-Y.left+ie),"using"in D?D.using.call(y,tt):Ke.css(tt)}},_.fn.extend({offset:function(y){if(arguments.length)return y===void 0?this:this.each(function(ie){_.offset.setOffset(this,y,ie)});var D,N,z=this[0];if(z)return z.getClientRects().length?(D=z.getBoundingClientRect(),N=z.ownerDocument.defaultView,{top:D.top+N.pageYOffset,left:D.left+N.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var y,D,N,z=this[0],ie={top:0,left:0};if(_.css(z,"position")==="fixed")D=z.getBoundingClientRect();else{for(D=this.offset(),N=z.ownerDocument,y=z.offsetParent||N.documentElement;y&&(y===N.body||y===N.documentElement)&&_.css(y,"position")==="static";)y=y.parentNode;y&&y!==z&&y.nodeType===1&&(ie=_(y).offset(),ie.top+=_.css(y,"borderTopWidth",!0),ie.left+=_.css(y,"borderLeftWidth",!0))}return{top:D.top-ie.top-_.css(z,"marginTop",!0),left:D.left-ie.left-_.css(z,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var y=this.offsetParent;y&&_.css(y,"position")==="static";)y=y.offsetParent;return y||gt})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(y,D){var N=D==="pageYOffset";_.fn[y]=function(z){return vt(this,function(ie,S,I){var Y;if(v(ie)?Y=ie:ie.nodeType===9&&(Y=ie.defaultView),I===void 0)return Y?Y[D]:ie[S];Y?Y.scrollTo(N?Y.pageXOffset:I,N?I:Y.pageYOffset):ie[S]=I},y,z,arguments.length)}}),_.each(["top","left"],function(y,D){_.cssHooks[D]=xt(f.pixelPosition,function(N,z){if(z)return z=st(N,D),Oa.test(z)?_(N).position()[D]+"px":z})}),_.each({Height:"height",Width:"width"},function(y,D){_.each({padding:"inner"+y,content:D,"":"outer"+y},function(N,z){_.fn[z]=function(ie,S){var I=arguments.length&&(N||typeof ie!="boolean"),Y=N||(ie===!0||S===!0?"margin":"border");return vt(this,function(te,we,qe){var Ke;return v(te)?z.indexOf("outer")===0?te["inner"+y]:te.document.documentElement["client"+y]:te.nodeType===9?(Ke=te.documentElement,Math.max(te.body["scroll"+y],Ke["scroll"+y],te.body["offset"+y],Ke["offset"+y],Ke["client"+y])):qe===void 0?_.css(te,we,Y):_.style(te,we,qe,Y)},D,I?ie:void 0,I)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(y,D){_.fn[D]=function(N){return this.on(D,N)}}),_.fn.extend({bind:function(y,D,N){return this.on(y,null,D,N)},unbind:function(y,D){return this.off(y,null,D)},delegate:function(y,D,N,z){return this.on(D,y,N,z)},undelegate:function(y,D,N){return arguments.length===1?this.off(y,"**"):this.off(D,y||"**",N)},hover:function(y,D){return this.on("mouseenter",y).on("mouseleave",D||y)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(y,D){_.fn[D]=function(N,z){return arguments.length>0?this.on(D,null,N,z):this.trigger(D)}});var Xc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;_.proxy=function(y,D){var N,z,ie;if(typeof D=="string"&&(N=y[D],D=y,y=N),!!p(y))return z=r.call(arguments,2),ie=function(){return y.apply(D||this,z.concat(r.call(arguments)))},ie.guid=y.guid=y.guid||_.guid++,ie},_.holdReady=function(y){y?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=F,_.isFunction=p,_.isWindow=v,_.camelCase=be,_.type=w,_.now=Date.now,_.isNumeric=function(y){var D=_.type(y);return(D==="number"||D==="string")&&!isNaN(y-parseFloat(y))},_.trim=function(y){return y==null?"":(y+"").replace(Xc,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return _});var kd=e.jQuery,Zp=e.$;return _.noConflict=function(y){return e.$===_&&(e.$=Zp),y&&e.jQuery===_&&(e.jQuery=kd),_},typeof t>"u"&&(e.jQuery=e.$=_),_})});var CZ=E7((Z4,W_)=>{"use strict";(function(e,t){typeof Z4=="object"&&typeof W_<"u"?W_.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(Z4,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function i(C){e=C}function n(C){return C instanceof Array||Object.prototype.toString.call(C)==="[object Array]"}function r(C){return C!=null&&Object.prototype.toString.call(C)==="[object Object]"}function o(C,k){return Object.prototype.hasOwnProperty.call(C,k)}function s(C){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(C).length===0;var k;for(k in C)if(o(C,k))return!1;return!0}function a(C){return C===void 0}function l(C){return typeof C=="number"||Object.prototype.toString.call(C)==="[object Number]"}function c(C){return C instanceof Date||Object.prototype.toString.call(C)==="[object Date]"}function d(C,k){var H=[],X,ye=C.length;for(X=0;X<ye;++X)H.push(k(C[X],X));return H}function u(C,k){for(var H in k)o(k,H)&&(C[H]=k[H]);return o(k,"toString")&&(C.toString=k.toString),o(k,"valueOf")&&(C.valueOf=k.valueOf),C}function h(C,k,H,X){return sa(C,k,H,X,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(C){return C._pf==null&&(C._pf=f()),C._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(C){var k=Object(this),H=k.length>>>0,X;for(X=0;X<H;X++)if(X in k&&C.call(this,k[X],X,k))return!0;return!1};function m(C){var k=null,H=!1,X=C._d&&!isNaN(C._d.getTime());if(X&&(k=p(C),H=v.call(k.parsedDateParts,function(ye){return ye!=null}),X=k.overflow<0&&!k.empty&&!k.invalidEra&&!k.invalidMonth&&!k.invalidWeekday&&!k.weekdayMismatch&&!k.nullInput&&!k.invalidFormat&&!k.userInvalidated&&(!k.meridiem||k.meridiem&&H),C._strict&&(X=X&&k.charsLeftOver===0&&k.unusedTokens.length===0&&k.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(C))C._isValid=X;else return X;return C._isValid}function g(C){var k=h(NaN);return C!=null?u(p(k),C):p(k).userInvalidated=!0,k}var b=t.momentProperties=[],w=!1;function x(C,k){var H,X,ye,it=b.length;if(a(k._isAMomentObject)||(C._isAMomentObject=k._isAMomentObject),a(k._i)||(C._i=k._i),a(k._f)||(C._f=k._f),a(k._l)||(C._l=k._l),a(k._strict)||(C._strict=k._strict),a(k._tzm)||(C._tzm=k._tzm),a(k._isUTC)||(C._isUTC=k._isUTC),a(k._offset)||(C._offset=k._offset),a(k._pf)||(C._pf=p(k)),a(k._locale)||(C._locale=k._locale),it>0)for(H=0;H<it;H++)X=b[H],ye=k[X],a(ye)||(C[X]=ye);return C}function R(C){x(this,C),this._d=new Date(C._d!=null?C._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),w===!1&&(w=!0,t.updateOffset(this),w=!1)}function _(C){return C instanceof R||C!=null&&C._isAMomentObject!=null}function L(C){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+C)}function F(C,k){var H=!0;return u(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,C),H){var X=[],ye,it,Bt,$i=arguments.length;for(it=0;it<$i;it++){if(ye="",typeof arguments[it]=="object"){ye+=`
[`+it+"] ";for(Bt in arguments[0])o(arguments[0],Bt)&&(ye+=Bt+": "+arguments[0][Bt]+", ");ye=ye.slice(0,-2)}else ye=arguments[it];X.push(ye)}L(C+`
Arguments: `+Array.prototype.slice.call(X).join("")+`
`+new Error().stack),H=!1}return k.apply(this,arguments)},k)}var T={};function P(C,k){t.deprecationHandler!=null&&t.deprecationHandler(C,k),T[C]||(L(k),T[C]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function A(C){return typeof Function<"u"&&C instanceof Function||Object.prototype.toString.call(C)==="[object Function]"}function O(C){var k,H;for(H in C)o(C,H)&&(k=C[H],A(k)?this[H]=k:this["_"+H]=k);this._config=C,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(C,k){var H=u({},C),X;for(X in k)o(k,X)&&(r(C[X])&&r(k[X])?(H[X]={},u(H[X],C[X]),u(H[X],k[X])):k[X]!=null?H[X]=k[X]:delete H[X]);for(X in C)o(C,X)&&!o(k,X)&&r(C[X])&&(H[X]=u({},H[X]));return H}function U(C){C!=null&&this.set(C)}var ae;Object.keys?ae=Object.keys:ae=function(C){var k,H=[];for(k in C)o(C,k)&&H.push(k);return H};var ne={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ue(C,k,H){var X=this._calendar[C]||this._calendar.sameElse;return A(X)?X.call(k,H):X}function se(C,k,H){var X=""+Math.abs(C),ye=k-X.length,it=C>=0;return(it?H?"+":"":"-")+Math.pow(10,Math.max(0,ye)).toString().substr(1)+X}var _e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ve=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ge={},K={};function Q(C,k,H,X){var ye=X;typeof X=="string"&&(ye=function(){return this[X]()}),C&&(K[C]=ye),k&&(K[k[0]]=function(){return se(ye.apply(this,arguments),k[1],k[2])}),H&&(K[H]=function(){return this.localeData().ordinal(ye.apply(this,arguments),C)})}function ee(C){return C.match(/\[[\s\S]/)?C.replace(/^\[|\]$/g,""):C.replace(/\\/g,"")}function Z(C){var k=C.match(_e),H,X;for(H=0,X=k.length;H<X;H++)K[k[H]]?k[H]=K[k[H]]:k[H]=ee(k[H]);return function(ye){var it="",Bt;for(Bt=0;Bt<X;Bt++)it+=A(k[Bt])?k[Bt].call(ye,C):k[Bt];return it}}function G(C,k){return C.isValid()?(k=W(k,C.localeData()),Ge[k]=Ge[k]||Z(k),Ge[k](C)):C.localeData().invalidDate()}function W(C,k){var H=5;function X(ye){return k.longDateFormat(ye)||ye}for(Ve.lastIndex=0;H>=0&&Ve.test(C);)C=C.replace(Ve,X),Ve.lastIndex=0,H-=1;return C}var ce={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function me(C){var k=this._longDateFormat[C],H=this._longDateFormat[C.toUpperCase()];return k||!H?k:(this._longDateFormat[C]=H.match(_e).map(function(X){return X==="MMMM"||X==="MM"||X==="DD"||X==="dddd"?X.slice(1):X}).join(""),this._longDateFormat[C])}var Me="Invalid date";function He(){return this._invalidDate}var $e="%d",Je=/\d{1,2}/;function ve(C){return this._ordinal.replace("%d",C)}var ge={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pt(C,k,H,X){var ye=this._relativeTime[H];return A(ye)?ye(C,k,H,X):ye.replace(/%d/i,C)}function vt(C,k){var H=this._relativeTime[C>0?"future":"past"];return A(H)?H(k):H.replace(/%s/i,k)}var Pt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ft(C){return typeof C=="string"?Pt[C]||Pt[C.toLowerCase()]:void 0}function kt(C){var k={},H,X;for(X in C)o(C,X)&&(H=ft(X),H&&(k[H]=C[X]));return k}var be={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function oe(C){var k=[],H;for(H in C)o(C,H)&&k.push({unit:H,priority:be[H]});return k.sort(function(X,ye){return X.priority-ye.priority}),k}var re=/\d/,J=/\d\d/,pe=/\d{3}/,Ee=/\d{4}/,ke=/[+-]?\d{6}/,Le=/\d\d?/,Ne=/\d\d\d\d?/,Ye=/\d\d\d\d\d\d?/,Be=/\d{1,3}/,ct=/\d{1,4}/,gt=/[+-]?\d{1,6}/,Tt=/\d+/,Ft=/[+-]?\d+/,wi=/Z|[+-]\d\d:?\d\d/gi,Vt=/Z|[+-]\d\d(?::?\d\d)?/gi,li=/[+-]?\d+(\.\d{1,3})?/,Ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,yt=/^[1-9]\d?/,dt=/^([1-9]\d|\d)/,ht;ht={};function nt(C,k,H){ht[C]=A(k)?k:function(X,ye){return X&&H?H:k}}function It(C,k){return o(ht,C)?ht[C](k._strict,k._locale):new RegExp(Ei(C))}function Ei(C){return Yi(C.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(k,H,X,ye,it){return H||X||ye||it}))}function Yi(C){return C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Li(C){return C<0?Math.ceil(C)||0:Math.floor(C)}function At(C){var k=+C,H=0;return k!==0&&isFinite(k)&&(H=Li(k)),H}var jt={};function Qt(C,k){var H,X=k,ye;for(typeof C=="string"&&(C=[C]),l(k)&&(X=function(it,Bt){Bt[k]=At(it)}),ye=C.length,H=0;H<ye;H++)jt[C[H]]=X}function Di(C,k){Qt(C,function(H,X,ye,it){ye._w=ye._w||{},k(H,ye._w,ye,it)})}function Vi(C,k,H){k!=null&&o(jt,C)&&jt[C](k,H._a,H,C)}function Dn(C){return C%4===0&&C%100!==0||C%400===0}var Tn=0,rr=1,_r=2,Lr=3,Mo=4,_o=5,Yo=6,ta=7,us=8;Q("Y",0,0,function(){var C=this.year();return C<=9999?se(C,4):"+"+C}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),nt("Y",Ft),nt("YY",Le,J),nt("YYYY",ct,Ee),nt("YYYYY",gt,ke),nt("YYYYYY",gt,ke),Qt(["YYYYY","YYYYYY"],Tn),Qt("YYYY",function(C,k){k[Tn]=C.length===2?t.parseTwoDigitYear(C):At(C)}),Qt("YY",function(C,k){k[Tn]=t.parseTwoDigitYear(C)}),Qt("Y",function(C,k){k[Tn]=parseInt(C,10)});function Zo(C){return Dn(C)?366:365}t.parseTwoDigitYear=function(C){return At(C)+(At(C)>68?1900:2e3)};var Oa=Ds("FullYear",!0);function ia(){return Dn(this.year())}function Ds(C,k){return function(H){return H!=null?(Te(this,C,H),t.updateOffset(this,k),this):ya(this,C)}}function ya(C,k){if(!C.isValid())return NaN;var H=C._d,X=C._isUTC;switch(k){case"Milliseconds":return X?H.getUTCMilliseconds():H.getMilliseconds();case"Seconds":return X?H.getUTCSeconds():H.getSeconds();case"Minutes":return X?H.getUTCMinutes():H.getMinutes();case"Hours":return X?H.getUTCHours():H.getHours();case"Date":return X?H.getUTCDate():H.getDate();case"Day":return X?H.getUTCDay():H.getDay();case"Month":return X?H.getUTCMonth():H.getMonth();case"FullYear":return X?H.getUTCFullYear():H.getFullYear();default:return NaN}}function Te(C,k,H){var X,ye,it,Bt,$i;if(!(!C.isValid()||isNaN(H))){switch(X=C._d,ye=C._isUTC,k){case"Milliseconds":return void(ye?X.setUTCMilliseconds(H):X.setMilliseconds(H));case"Seconds":return void(ye?X.setUTCSeconds(H):X.setSeconds(H));case"Minutes":return void(ye?X.setUTCMinutes(H):X.setMinutes(H));case"Hours":return void(ye?X.setUTCHours(H):X.setHours(H));case"Date":return void(ye?X.setUTCDate(H):X.setDate(H));case"FullYear":break;default:return}it=H,Bt=C.month(),$i=C.date(),$i=$i===29&&Bt===1&&!Dn(it)?28:$i,ye?X.setUTCFullYear(it,Bt,$i):X.setFullYear(it,Bt,$i)}}function st(C){return C=ft(C),A(this[C])?this[C]():this}function xt(C,k){if(typeof C=="object"){C=kt(C);var H=oe(C),X,ye=H.length;for(X=0;X<ye;X++)this[H[X].unit](C[H[X].unit])}else if(C=ft(C),A(this[C]))return this[C](k);return this}function Mt(C,k){return(C%k+k)%k}var ot;Array.prototype.indexOf?ot=Array.prototype.indexOf:ot=function(C){var k;for(k=0;k<this.length;++k)if(this[k]===C)return k;return-1};function ci(C,k){if(isNaN(C)||isNaN(k))return NaN;var H=Mt(k,12);return C+=(k-H)/12,H===1?Dn(C)?29:28:31-H%7%2}Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(C){return this.localeData().monthsShort(this,C)}),Q("MMMM",0,0,function(C){return this.localeData().months(this,C)}),nt("M",Le,yt),nt("MM",Le,J),nt("MMM",function(C,k){return k.monthsShortRegex(C)}),nt("MMMM",function(C,k){return k.monthsRegex(C)}),Qt(["M","MM"],function(C,k){k[rr]=At(C)-1}),Qt(["MMM","MMMM"],function(C,k,H,X){var ye=H._locale.monthsParse(C,X,H._strict);ye!=null?k[rr]=ye:p(H).invalidMonth=C});var _i="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,En=Ue,wn=Ue;function dn(C,k){return C?n(this._months)?this._months[C.month()]:this._months[(this._months.isFormat||Gi).test(k)?"format":"standalone"][C.month()]:n(this._months)?this._months:this._months.standalone}function Ln(C,k){return C?n(this._monthsShort)?this._monthsShort[C.month()]:this._monthsShort[Gi.test(k)?"format":"standalone"][C.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Vn(C,k,H){var X,ye,it,Bt=C.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],X=0;X<12;++X)it=h([2e3,X]),this._shortMonthsParse[X]=this.monthsShort(it,"").toLocaleLowerCase(),this._longMonthsParse[X]=this.months(it,"").toLocaleLowerCase();return H?k==="MMM"?(ye=ot.call(this._shortMonthsParse,Bt),ye!==-1?ye:null):(ye=ot.call(this._longMonthsParse,Bt),ye!==-1?ye:null):k==="MMM"?(ye=ot.call(this._shortMonthsParse,Bt),ye!==-1?ye:(ye=ot.call(this._longMonthsParse,Bt),ye!==-1?ye:null)):(ye=ot.call(this._longMonthsParse,Bt),ye!==-1?ye:(ye=ot.call(this._shortMonthsParse,Bt),ye!==-1?ye:null))}function Un(C,k,H){var X,ye,it;if(this._monthsParseExact)return Vn.call(this,C,k,H);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),X=0;X<12;X++){if(ye=h([2e3,X]),H&&!this._longMonthsParse[X]&&(this._longMonthsParse[X]=new RegExp("^"+this.months(ye,"").replace(".","")+"$","i"),this._shortMonthsParse[X]=new RegExp("^"+this.monthsShort(ye,"").replace(".","")+"$","i")),!H&&!this._monthsParse[X]&&(it="^"+this.months(ye,"")+"|^"+this.monthsShort(ye,""),this._monthsParse[X]=new RegExp(it.replace(".",""),"i")),H&&k==="MMMM"&&this._longMonthsParse[X].test(C))return X;if(H&&k==="MMM"&&this._shortMonthsParse[X].test(C))return X;if(!H&&this._monthsParse[X].test(C))return X}}function kr(C,k){if(!C.isValid())return C;if(typeof k=="string"){if(/^\d+$/.test(k))k=At(k);else if(k=C.localeData().monthsParse(k),!l(k))return C}var H=k,X=C.date();return X=X<29?X:Math.min(X,ci(C.year(),H)),C._isUTC?C._d.setUTCMonth(H,X):C._d.setMonth(H,X),C}function un(C){return C!=null?(kr(this,C),t.updateOffset(this,!0),this):ya(this,"Month")}function gn(){return ci(this.year(),this.month())}function Zr(C){return this._monthsParseExact?(o(this,"_monthsRegex")||Qo.call(this),C?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=En),this._monthsShortStrictRegex&&C?this._monthsShortStrictRegex:this._monthsShortRegex)}function Jn(C){return this._monthsParseExact?(o(this,"_monthsRegex")||Qo.call(this),C?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=wn),this._monthsStrictRegex&&C?this._monthsStrictRegex:this._monthsRegex)}function Qo(){function C(Pn,Hr){return Hr.length-Pn.length}var k=[],H=[],X=[],ye,it,Bt,$i;for(ye=0;ye<12;ye++)it=h([2e3,ye]),Bt=Yi(this.monthsShort(it,"")),$i=Yi(this.months(it,"")),k.push(Bt),H.push($i),X.push($i),X.push(Bt);k.sort(C),H.sort(C),X.sort(C),this._monthsRegex=new RegExp("^("+X.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+H.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+k.join("|")+")","i")}function Xn(C,k,H,X,ye,it,Bt){var $i;return C<100&&C>=0?($i=new Date(C+400,k,H,X,ye,it,Bt),isFinite($i.getFullYear())&&$i.setFullYear(C)):$i=new Date(C,k,H,X,ye,it,Bt),$i}function Kn(C){var k,H;return C<100&&C>=0?(H=Array.prototype.slice.call(arguments),H[0]=C+400,k=new Date(Date.UTC.apply(null,H)),isFinite(k.getUTCFullYear())&&k.setUTCFullYear(C)):k=new Date(Date.UTC.apply(null,arguments)),k}function hs(C,k,H){var X=7+k-H,ye=(7+Kn(C,0,X).getUTCDay()-k)%7;return-ye+X-1}function Nr(C,k,H,X,ye){var it=(7+H-X)%7,Bt=hs(C,X,ye),$i=1+7*(k-1)+it+Bt,Pn,Hr;return $i<=0?(Pn=C-1,Hr=Zo(Pn)+$i):$i>Zo(C)?(Pn=C+1,Hr=$i-Zo(C)):(Pn=C,Hr=$i),{year:Pn,dayOfYear:Hr}}function Br(C,k,H){var X=hs(C.year(),k,H),ye=Math.floor((C.dayOfYear()-X-1)/7)+1,it,Bt;return ye<1?(Bt=C.year()-1,it=ye+Jr(Bt,k,H)):ye>Jr(C.year(),k,H)?(it=ye-Jr(C.year(),k,H),Bt=C.year()+1):(Bt=C.year(),it=ye),{week:it,year:Bt}}function Jr(C,k,H){var X=hs(C,k,H),ye=hs(C+1,k,H);return(Zo(C)-X+ye)/7}Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),nt("w",Le,yt),nt("ww",Le,J),nt("W",Le,yt),nt("WW",Le,J),Di(["w","ww","W","WW"],function(C,k,H,X){k[X.substr(0,1)]=At(C)});function Mr(C){return Br(C,this._week.dow,this._week.doy).week}var Eo={dow:0,doy:6};function Xl(){return this._week.dow}function $o(){return this._week.doy}function sn(C){var k=this.localeData().week(this);return C==null?k:this.add((C-k)*7,"d")}function gc(C){var k=Br(this,1,4).week;return C==null?k:this.add((C-k)*7,"d")}Q("d",0,"do","day"),Q("dd",0,0,function(C){return this.localeData().weekdaysMin(this,C)}),Q("ddd",0,0,function(C){return this.localeData().weekdaysShort(this,C)}),Q("dddd",0,0,function(C){return this.localeData().weekdays(this,C)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),nt("d",Le),nt("e",Le),nt("E",Le),nt("dd",function(C,k){return k.weekdaysMinRegex(C)}),nt("ddd",function(C,k){return k.weekdaysShortRegex(C)}),nt("dddd",function(C,k){return k.weekdaysRegex(C)}),Di(["dd","ddd","dddd"],function(C,k,H,X){var ye=H._locale.weekdaysParse(C,X,H._strict);ye!=null?k.d=ye:p(H).invalidWeekday=C}),Di(["d","e","E"],function(C,k,H,X){k[X]=At(C)});function de(C,k){return typeof C!="string"?C:isNaN(C)?(C=k.weekdaysParse(C),typeof C=="number"?C:null):parseInt(C,10)}function le(C,k){return typeof C=="string"?k.weekdaysParse(C)%7||7:isNaN(C)?null:C}function De(C,k){return C.slice(k,7).concat(C.slice(0,k))}var xe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ae="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ht=Ue,Ni=Ue,Ci=Ue;function Jt(C,k){var H=n(this._weekdays)?this._weekdays:this._weekdays[C&&C!==!0&&this._weekdays.isFormat.test(k)?"format":"standalone"];return C===!0?De(H,this._week.dow):C?H[C.day()]:H}function on(C){return C===!0?De(this._weekdaysShort,this._week.dow):C?this._weekdaysShort[C.day()]:this._weekdaysShort}function ai(C){return C===!0?De(this._weekdaysMin,this._week.dow):C?this._weekdaysMin[C.day()]:this._weekdaysMin}function an(C,k,H){var X,ye,it,Bt=C.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],X=0;X<7;++X)it=h([2e3,1]).day(X),this._minWeekdaysParse[X]=this.weekdaysMin(it,"").toLocaleLowerCase(),this._shortWeekdaysParse[X]=this.weekdaysShort(it,"").toLocaleLowerCase(),this._weekdaysParse[X]=this.weekdays(it,"").toLocaleLowerCase();return H?k==="dddd"?(ye=ot.call(this._weekdaysParse,Bt),ye!==-1?ye:null):k==="ddd"?(ye=ot.call(this._shortWeekdaysParse,Bt),ye!==-1?ye:null):(ye=ot.call(this._minWeekdaysParse,Bt),ye!==-1?ye:null):k==="dddd"?(ye=ot.call(this._weekdaysParse,Bt),ye!==-1||(ye=ot.call(this._shortWeekdaysParse,Bt),ye!==-1)?ye:(ye=ot.call(this._minWeekdaysParse,Bt),ye!==-1?ye:null)):k==="ddd"?(ye=ot.call(this._shortWeekdaysParse,Bt),ye!==-1||(ye=ot.call(this._weekdaysParse,Bt),ye!==-1)?ye:(ye=ot.call(this._minWeekdaysParse,Bt),ye!==-1?ye:null)):(ye=ot.call(this._minWeekdaysParse,Bt),ye!==-1||(ye=ot.call(this._weekdaysParse,Bt),ye!==-1)?ye:(ye=ot.call(this._shortWeekdaysParse,Bt),ye!==-1?ye:null))}function Bi(C,k,H){var X,ye,it;if(this._weekdaysParseExact)return an.call(this,C,k,H);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),X=0;X<7;X++){if(ye=h([2e3,1]).day(X),H&&!this._fullWeekdaysParse[X]&&(this._fullWeekdaysParse[X]=new RegExp("^"+this.weekdays(ye,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[X]=new RegExp("^"+this.weekdaysShort(ye,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[X]=new RegExp("^"+this.weekdaysMin(ye,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[X]||(it="^"+this.weekdays(ye,"")+"|^"+this.weekdaysShort(ye,"")+"|^"+this.weekdaysMin(ye,""),this._weekdaysParse[X]=new RegExp(it.replace(".",""),"i")),H&&k==="dddd"&&this._fullWeekdaysParse[X].test(C))return X;if(H&&k==="ddd"&&this._shortWeekdaysParse[X].test(C))return X;if(H&&k==="dd"&&this._minWeekdaysParse[X].test(C))return X;if(!H&&this._weekdaysParse[X].test(C))return X}}function cn(C){if(!this.isValid())return C!=null?this:NaN;var k=ya(this,"Day");return C!=null?(C=de(C,this.localeData()),this.add(C-k,"d")):k}function pn(C){if(!this.isValid())return C!=null?this:NaN;var k=(this.day()+7-this.localeData()._week.dow)%7;return C==null?k:this.add(C-k,"d")}function so(C){if(!this.isValid())return C!=null?this:NaN;if(C!=null){var k=le(C,this.localeData());return this.day(this.day()%7?k:k-7)}else return this.day()||7}function yr(C){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||na.call(this),C?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&C?this._weekdaysStrictRegex:this._weekdaysRegex)}function lr(C){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||na.call(this),C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ni),this._weekdaysShortStrictRegex&&C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zn(C){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||na.call(this),C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ci),this._weekdaysMinStrictRegex&&C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function na(){function C(pl,id){return id.length-pl.length}var k=[],H=[],X=[],ye=[],it,Bt,$i,Pn,Hr;for(it=0;it<7;it++)Bt=h([2e3,1]).day(it),$i=Yi(this.weekdaysMin(Bt,"")),Pn=Yi(this.weekdaysShort(Bt,"")),Hr=Yi(this.weekdays(Bt,"")),k.push($i),H.push(Pn),X.push(Hr),ye.push($i),ye.push(Pn),ye.push(Hr);k.sort(C),H.sort(C),X.sort(C),ye.sort(C),this._weekdaysRegex=new RegExp("^("+ye.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+H.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+k.join("|")+")","i")}function to(){return this.hours()%12||12}function Kl(){return this.hours()||24}Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,to),Q("k",["kk",2],0,Kl),Q("hmm",0,0,function(){return""+to.apply(this)+se(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+to.apply(this)+se(this.minutes(),2)+se(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+se(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+se(this.minutes(),2)+se(this.seconds(),2)});function Yc(C,k){Q(C,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),k)})}Yc("a",!0),Yc("A",!1);function Zl(C,k){return k._meridiemParse}nt("a",Zl),nt("A",Zl),nt("H",Le,dt),nt("h",Le,yt),nt("k",Le,yt),nt("HH",Le,J),nt("hh",Le,J),nt("kk",Le,J),nt("hmm",Ne),nt("hmmss",Ye),nt("Hmm",Ne),nt("Hmmss",Ye),Qt(["H","HH"],Lr),Qt(["k","kk"],function(C,k,H){var X=At(C);k[Lr]=X===24?0:X}),Qt(["a","A"],function(C,k,H){H._isPm=H._locale.isPM(C),H._meridiem=C}),Qt(["h","hh"],function(C,k,H){k[Lr]=At(C),p(H).bigHour=!0}),Qt("hmm",function(C,k,H){var X=C.length-2;k[Lr]=At(C.substr(0,X)),k[Mo]=At(C.substr(X)),p(H).bigHour=!0}),Qt("hmmss",function(C,k,H){var X=C.length-4,ye=C.length-2;k[Lr]=At(C.substr(0,X)),k[Mo]=At(C.substr(X,2)),k[_o]=At(C.substr(ye)),p(H).bigHour=!0}),Qt("Hmm",function(C,k,H){var X=C.length-2;k[Lr]=At(C.substr(0,X)),k[Mo]=At(C.substr(X))}),Qt("Hmmss",function(C,k,H){var X=C.length-4,ye=C.length-2;k[Lr]=At(C.substr(0,X)),k[Mo]=At(C.substr(X,2)),k[_o]=At(C.substr(ye))});function Kp(C){return(C+"").toLowerCase().charAt(0)==="p"}var $c=/[ap]\.?m?\.?/i,mf=Ds("Hours",!0);function vc(C,k,H){return C>11?H?"pm":"PM":H?"am":"AM"}var bu={calendar:ne,longDateFormat:ce,invalidDate:Me,ordinal:$e,dayOfMonthOrdinalParse:Je,relativeTime:ge,months:_i,monthsShort:Fi,week:Eo,weekdays:xe,weekdaysMin:Rt,weekdaysShort:Ae,meridiemParse:$c},Ur={},Xc={},kd;function Zp(C,k){var H,X=Math.min(C.length,k.length);for(H=0;H<X;H+=1)if(C[H]!==k[H])return H;return X}function y(C){return C&&C.toLowerCase().replace("_","-")}function D(C){for(var k=0,H,X,ye,it;k<C.length;){for(it=y(C[k]).split("-"),H=it.length,X=y(C[k+1]),X=X?X.split("-"):null;H>0;){if(ye=z(it.slice(0,H).join("-")),ye)return ye;if(X&&X.length>=H&&Zp(it,X)>=H-1)break;H--}k++}return kd}function N(C){return!!(C&&C.match("^[^/\\\\]*$"))}function z(C){var k=null,H;if(Ur[C]===void 0&&typeof W_<"u"&&W_&&W_.exports&&N(C))try{k=kd._abbr,H=M7,H("./locale/"+C),ie(k)}catch{Ur[C]=null}return Ur[C]}function ie(C,k){var H;return C&&(a(k)?H=Y(C):H=S(C,k),H?kd=H:typeof console<"u"&&console.warn&&console.warn("Locale "+C+" not found. Did you forget to load it?")),kd._abbr}function S(C,k){if(k!==null){var H,X=bu;if(k.abbr=C,Ur[C]!=null)P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),X=Ur[C]._config;else if(k.parentLocale!=null)if(Ur[k.parentLocale]!=null)X=Ur[k.parentLocale]._config;else if(H=z(k.parentLocale),H!=null)X=H._config;else return Xc[k.parentLocale]||(Xc[k.parentLocale]=[]),Xc[k.parentLocale].push({name:C,config:k}),null;return Ur[C]=new U(V(X,k)),Xc[C]&&Xc[C].forEach(function(ye){S(ye.name,ye.config)}),ie(C),Ur[C]}else return delete Ur[C],null}function I(C,k){if(k!=null){var H,X,ye=bu;Ur[C]!=null&&Ur[C].parentLocale!=null?Ur[C].set(V(Ur[C]._config,k)):(X=z(C),X!=null&&(ye=X._config),k=V(ye,k),X==null&&(k.abbr=C),H=new U(k),H.parentLocale=Ur[C],Ur[C]=H),ie(C)}else Ur[C]!=null&&(Ur[C].parentLocale!=null?(Ur[C]=Ur[C].parentLocale,C===ie()&&ie(C)):Ur[C]!=null&&delete Ur[C]);return Ur[C]}function Y(C){var k;if(C&&C._locale&&C._locale._abbr&&(C=C._locale._abbr),!C)return kd;if(!n(C)){if(k=z(C),k)return k;C=[C]}return D(C)}function te(){return ae(Ur)}function we(C){var k,H=C._a;return H&&p(C).overflow===-2&&(k=H[rr]<0||H[rr]>11?rr:H[_r]<1||H[_r]>ci(H[Tn],H[rr])?_r:H[Lr]<0||H[Lr]>24||H[Lr]===24&&(H[Mo]!==0||H[_o]!==0||H[Yo]!==0)?Lr:H[Mo]<0||H[Mo]>59?Mo:H[_o]<0||H[_o]>59?_o:H[Yo]<0||H[Yo]>999?Yo:-1,p(C)._overflowDayOfYear&&(k<Tn||k>_r)&&(k=_r),p(C)._overflowWeeks&&k===-1&&(k=ta),p(C)._overflowWeekday&&k===-1&&(k=us),p(C).overflow=k),C}var qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ke=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Oi=/^\/?Date\((-?\d+)/i,zi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,cr={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function dr(C){var k,H,X=C._i,ye=qe.exec(X)||Ke.exec(X),it,Bt,$i,Pn,Hr=wt.length,pl=mi.length;if(ye){for(p(C).iso=!0,k=0,H=Hr;k<H;k++)if(wt[k][1].exec(ye[1])){Bt=wt[k][0],it=wt[k][2]!==!1;break}if(Bt==null){C._isValid=!1;return}if(ye[3]){for(k=0,H=pl;k<H;k++)if(mi[k][1].exec(ye[3])){$i=(ye[2]||" ")+mi[k][0];break}if($i==null){C._isValid=!1;return}}if(!it&&$i!=null){C._isValid=!1;return}if(ye[4])if(tt.exec(ye[4]))Pn="Z";else{C._isValid=!1;return}C._f=Bt+($i||"")+(Pn||""),oa(C)}else C._isValid=!1}function Er(C,k,H,X,ye,it){var Bt=[io(C),Fi.indexOf(k),parseInt(H,10),parseInt(X,10),parseInt(ye,10)];return it&&Bt.push(parseInt(it,10)),Bt}function io(C){var k=parseInt(C,10);return k<=49?2e3+k:k<=999?1900+k:k}function Cn(C){return C.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Oo(C,k,H){if(C){var X=Ae.indexOf(C),ye=new Date(k[0],k[1],k[2]).getDay();if(X!==ye)return p(H).weekdayMismatch=!0,H._isValid=!1,!1}return!0}function er(C,k,H){if(C)return cr[C];if(k)return 0;var X=parseInt(H,10),ye=X%100,it=(X-ye)/100;return it*60+ye}function Vr(C){var k=zi.exec(Cn(C._i)),H;if(k){if(H=Er(k[4],k[3],k[2],k[5],k[6],k[7]),!Oo(k[1],H,C))return;C._a=H,C._tzm=er(k[8],k[9],k[10]),C._d=Kn.apply(null,C._a),C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),p(C).rfc2822=!0}else C._isValid=!1}function ol(C){var k=Oi.exec(C._i);if(k!==null){C._d=new Date(+k[1]);return}if(dr(C),C._isValid===!1)delete C._isValid;else return;if(Vr(C),C._isValid===!1)delete C._isValid;else return;C._strict?C._isValid=!1:t.createFromInputFallback(C)}t.createFromInputFallback=F("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(C){C._d=new Date(C._i+(C._useUTC?" UTC":""))});function El(C,k,H){return C??k??H}function wa(C){var k=new Date(t.now());return C._useUTC?[k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()]:[k.getFullYear(),k.getMonth(),k.getDate()]}function La(C){var k,H,X=[],ye,it,Bt;if(!C._d){for(ye=wa(C),C._w&&C._a[_r]==null&&C._a[rr]==null&&ra(C),C._dayOfYear!=null&&(Bt=El(C._a[Tn],ye[Tn]),(C._dayOfYear>Zo(Bt)||C._dayOfYear===0)&&(p(C)._overflowDayOfYear=!0),H=Kn(Bt,0,C._dayOfYear),C._a[rr]=H.getUTCMonth(),C._a[_r]=H.getUTCDate()),k=0;k<3&&C._a[k]==null;++k)C._a[k]=X[k]=ye[k];for(;k<7;k++)C._a[k]=X[k]=C._a[k]==null?k===2?1:0:C._a[k];C._a[Lr]===24&&C._a[Mo]===0&&C._a[_o]===0&&C._a[Yo]===0&&(C._nextDay=!0,C._a[Lr]=0),C._d=(C._useUTC?Kn:Xn).apply(null,X),it=C._useUTC?C._d.getUTCDay():C._d.getDay(),C._tzm!=null&&C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),C._nextDay&&(C._a[Lr]=24),C._w&&typeof C._w.d<"u"&&C._w.d!==it&&(p(C).weekdayMismatch=!0)}}function ra(C){var k,H,X,ye,it,Bt,$i,Pn,Hr;k=C._w,k.GG!=null||k.W!=null||k.E!=null?(it=1,Bt=4,H=El(k.GG,C._a[Tn],Br(zr(),1,4).year),X=El(k.W,1),ye=El(k.E,1),(ye<1||ye>7)&&(Pn=!0)):(it=C._locale._week.dow,Bt=C._locale._week.doy,Hr=Br(zr(),it,Bt),H=El(k.gg,C._a[Tn],Hr.year),X=El(k.w,Hr.week),k.d!=null?(ye=k.d,(ye<0||ye>6)&&(Pn=!0)):k.e!=null?(ye=k.e+it,(k.e<0||k.e>6)&&(Pn=!0)):ye=it),X<1||X>Jr(H,it,Bt)?p(C)._overflowWeeks=!0:Pn!=null?p(C)._overflowWeekday=!0:($i=Nr(H,X,ye,it,Bt),C._a[Tn]=$i.year,C._dayOfYear=$i.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function oa(C){if(C._f===t.ISO_8601){dr(C);return}if(C._f===t.RFC_2822){Vr(C);return}C._a=[],p(C).empty=!0;var k=""+C._i,H,X,ye,it,Bt,$i=k.length,Pn=0,Hr,pl;for(ye=W(C._f,C._locale).match(_e)||[],pl=ye.length,H=0;H<pl;H++)it=ye[H],X=(k.match(It(it,C))||[])[0],X&&(Bt=k.substr(0,k.indexOf(X)),Bt.length>0&&p(C).unusedInput.push(Bt),k=k.slice(k.indexOf(X)+X.length),Pn+=X.length),K[it]?(X?p(C).empty=!1:p(C).unusedTokens.push(it),Vi(it,X,C)):C._strict&&!X&&p(C).unusedTokens.push(it);p(C).charsLeftOver=$i-Pn,k.length>0&&p(C).unusedInput.push(k),C._a[Lr]<=12&&p(C).bigHour===!0&&C._a[Lr]>0&&(p(C).bigHour=void 0),p(C).parsedDateParts=C._a.slice(0),p(C).meridiem=C._meridiem,C._a[Lr]=Ca(C._locale,C._a[Lr],C._meridiem),Hr=p(C).era,Hr!==null&&(C._a[Tn]=C._locale.erasConvertYear(Hr,C._a[Tn])),La(C),we(C)}function Ca(C,k,H){var X;return H==null?k:C.meridiemHour!=null?C.meridiemHour(k,H):(C.isPM!=null&&(X=C.isPM(H),X&&k<12&&(k+=12),!X&&k===12&&(k=0)),k)}function no(C){var k,H,X,ye,it,Bt,$i=!1,Pn=C._f.length;if(Pn===0){p(C).invalidFormat=!0,C._d=new Date(NaN);return}for(ye=0;ye<Pn;ye++)it=0,Bt=!1,k=x({},C),C._useUTC!=null&&(k._useUTC=C._useUTC),k._f=C._f[ye],oa(k),m(k)&&(Bt=!0),it+=p(k).charsLeftOver,it+=p(k).unusedTokens.length*10,p(k).score=it,$i?it<X&&(X=it,H=k):(X==null||it<X||Bt)&&(X=it,H=k,Bt&&($i=!0));u(C,H||k)}function Kc(C){if(!C._d){var k=kt(C._i),H=k.day===void 0?k.date:k.day;C._a=d([k.year,k.month,H,k.hour,k.minute,k.second,k.millisecond],function(X){return X&&parseInt(X,10)}),La(C)}}function xa(C){var k=new R(we(Na(C)));return k._nextDay&&(k.add(1,"d"),k._nextDay=void 0),k}function Na(C){var k=C._i,H=C._f;return C._locale=C._locale||Y(C._l),k===null||H===void 0&&k===""?g({nullInput:!0}):(typeof k=="string"&&(C._i=k=C._locale.preparse(k)),_(k)?new R(we(k)):(c(k)?C._d=k:n(H)?no(C):H?oa(C):gf(C),m(C)||(C._d=null),C))}function gf(C){var k=C._i;a(k)?C._d=new Date(t.now()):c(k)?C._d=new Date(k.valueOf()):typeof k=="string"?ol(C):n(k)?(C._a=d(k.slice(0),function(H){return parseInt(H,10)}),La(C)):r(k)?Kc(C):l(k)?C._d=new Date(k):t.createFromInputFallback(C)}function sa(C,k,H,X,ye){var it={};return(k===!0||k===!1)&&(X=k,k=void 0),(H===!0||H===!1)&&(X=H,H=void 0),(r(C)&&s(C)||n(C)&&C.length===0)&&(C=void 0),it._isAMomentObject=!0,it._useUTC=it._isUTC=ye,it._l=H,it._i=C,it._f=k,it._strict=X,xa(it)}function zr(C,k,H,X){return sa(C,k,H,X,!1)}var Ir=F("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=zr.apply(null,arguments);return this.isValid()&&C.isValid()?C<this?this:C:g()}),_u=F("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=zr.apply(null,arguments);return this.isValid()&&C.isValid()?C>this?this:C:g()});function Lo(C,k){var H,X;if(k.length===1&&n(k[0])&&(k=k[0]),!k.length)return zr();for(H=k[0],X=1;X<k.length;++X)(!k[X].isValid()||k[X][C](H))&&(H=k[X]);return H}function Dl(){var C=[].slice.call(arguments,0);return Lo("isBefore",C)}function vf(){var C=[].slice.call(arguments,0);return Lo("isAfter",C)}var bf=function(){return Date.now?Date.now():+new Date},sl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function al(C){var k,H=!1,X,ye=sl.length;for(k in C)if(o(C,k)&&!(ot.call(sl,k)!==-1&&(C[k]==null||!isNaN(C[k]))))return!1;for(X=0;X<ye;++X)if(C[sl[X]]){if(H)return!1;parseFloat(C[sl[X]])!==At(C[sl[X]])&&(H=!0)}return!0}function Sa(){return this._isValid}function fs(){return xi(NaN)}function Tl(C){var k=kt(C),H=k.year||0,X=k.quarter||0,ye=k.month||0,it=k.week||k.isoWeek||0,Bt=k.day||0,$i=k.hour||0,Pn=k.minute||0,Hr=k.second||0,pl=k.millisecond||0;this._isValid=al(k),this._milliseconds=+pl+Hr*1e3+Pn*6e4+$i*1e3*60*60,this._days=+Bt+it*7,this._months=+ye+X*3+H*12,this._data={},this._locale=Y(),this._bubble()}function aa(C){return C instanceof Tl}function ll(C){return C<0?Math.round(-1*C)*-1:Math.round(C)}function Id(C,k,H){var X=Math.min(C.length,k.length),ye=Math.abs(C.length-k.length),it=0,Bt;for(Bt=0;Bt<X;Bt++)(H&&C[Bt]!==k[Bt]||!H&&At(C[Bt])!==At(k[Bt]))&&it++;return it+ye}function Zc(C,k){Q(C,0,0,function(){var H=this.utcOffset(),X="+";return H<0&&(H=-H,X="-"),X+se(~~(H/60),2)+k+se(~~H%60,2)})}Zc("Z",":"),Zc("ZZ",""),nt("Z",Vt),nt("ZZ",Vt),Qt(["Z","ZZ"],function(C,k,H){H._useUTC=!0,H._tzm=Qc(Vt,C)});var Jo=/([\+\-]|\d\d)/gi;function Qc(C,k){var H=(k||"").match(C),X,ye,it;return H===null?null:(X=H[H.length-1]||[],ye=(X+"").match(Jo)||["-",0,0],it=+(ye[1]*60)+At(ye[2]),it===0?0:ye[0]==="+"?it:-it)}function Ba(C,k){var H,X;return k._isUTC?(H=k.clone(),X=(_(C)||c(C)?C.valueOf():zr(C).valueOf())-H.valueOf(),H._d.setTime(H._d.valueOf()+X),t.updateOffset(H,!1),H):zr(C).local()}function Va(C){return-Math.round(C._d.getTimezoneOffset())}t.updateOffset=function(){};function _f(C,k,H){var X=this._offset||0,ye;if(!this.isValid())return C!=null?this:NaN;if(C!=null){if(typeof C=="string"){if(C=Qc(Vt,C),C===null)return this}else Math.abs(C)<16&&!H&&(C=C*60);return!this._isUTC&&k&&(ye=Va(this)),this._offset=C,this._isUTC=!0,ye!=null&&this.add(ye,"m"),X!==C&&(!k||this._changeInProgress?ps(this,xi(C-X,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?X:Va(this)}function yu(C,k){return C!=null?(typeof C!="string"&&(C=-C),this.utcOffset(C,k),this):-this.utcOffset()}function dh(C){return this.utcOffset(0,C)}function ze(C){return this._isUTC&&(this.utcOffset(0,C),this._isUTC=!1,C&&this.subtract(Va(this),"m")),this}function rt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var C=Qc(wi,this._i);C!=null?this.utcOffset(C):this.utcOffset(0,!0)}return this}function bt(C){return this.isValid()?(C=C?zr(C).utcOffset():0,(this.utcOffset()-C)%60===0):!1}function Et(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ut(){if(!a(this._isDSTShifted))return this._isDSTShifted;var C={},k;return x(C,this),C=Na(C),C._a?(k=C._isUTC?h(C._a):zr(C._a),this._isDSTShifted=this.isValid()&&Id(C._a,k.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vi(){return this.isValid()?!this._isUTC:!1}function Ii(){return this.isValid()?this._isUTC:!1}function Hi(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ti=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,en=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xi(C,k){var H=C,X=null,ye,it,Bt;return aa(C)?H={ms:C._milliseconds,d:C._days,M:C._months}:l(C)||!isNaN(+C)?(H={},k?H[k]=+C:H.milliseconds=+C):(X=Ti.exec(C))?(ye=X[1]==="-"?-1:1,H={y:0,d:At(X[_r])*ye,h:At(X[Lr])*ye,m:At(X[Mo])*ye,s:At(X[_o])*ye,ms:At(ll(X[Yo]*1e3))*ye}):(X=en.exec(C))?(ye=X[1]==="-"?-1:1,H={y:Wi(X[2],ye),M:Wi(X[3],ye),w:Wi(X[4],ye),d:Wi(X[5],ye),h:Wi(X[6],ye),m:Wi(X[7],ye),s:Wi(X[8],ye)}):H==null?H={}:typeof H=="object"&&("from"in H||"to"in H)&&(Bt=hn(zr(H.from),zr(H.to)),H={},H.ms=Bt.milliseconds,H.M=Bt.months),it=new Tl(H),aa(C)&&o(C,"_locale")&&(it._locale=C._locale),aa(C)&&o(C,"_isValid")&&(it._isValid=C._isValid),it}xi.fn=Tl.prototype,xi.invalid=fs;function Wi(C,k){var H=C&&parseFloat(C.replace(",","."));return(isNaN(H)?0:H)*k}function _n(C,k){var H={};return H.months=k.month()-C.month()+(k.year()-C.year())*12,C.clone().add(H.months,"M").isAfter(k)&&--H.months,H.milliseconds=+k-+C.clone().add(H.months,"M"),H}function hn(C,k){var H;return C.isValid()&&k.isValid()?(k=Ba(k,C),C.isBefore(k)?H=_n(C,k):(H=_n(k,C),H.milliseconds=-H.milliseconds,H.months=-H.months),H):{milliseconds:0,months:0}}function jr(C,k){return function(H,X){var ye,it;return X!==null&&!isNaN(+X)&&(P(k,"moment()."+k+"(period, number) is deprecated. Please use moment()."+k+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),it=H,H=X,X=it),ye=xi(H,X),ps(this,ye,C),this}}function ps(C,k,H,X){var ye=k._milliseconds,it=ll(k._days),Bt=ll(k._months);C.isValid()&&(X=X??!0,Bt&&kr(C,ya(C,"Month")+Bt*H),it&&Te(C,"Date",ya(C,"Date")+it*H),ye&&C._d.setTime(C._d.valueOf()+ye*H),X&&t.updateOffset(C,it||Bt))}var Ts=jr(1,"add"),cl=jr(-1,"subtract");function Al(C){return typeof C=="string"||C instanceof String}function wu(C){return _(C)||c(C)||Al(C)||l(C)||i2(C)||la(C)||C===null||C===void 0}function la(C){var k=r(C)&&!s(C),H=!1,X=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ye,it,Bt=X.length;for(ye=0;ye<Bt;ye+=1)it=X[ye],H=H||o(C,it);return k&&H}function i2(C){var k=n(C),H=!1;return k&&(H=C.filter(function(X){return!l(X)&&Al(C)}).length===0),k&&H}function n2(C){var k=r(C)&&!s(C),H=!1,X=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],ye,it;for(ye=0;ye<X.length;ye+=1)it=X[ye],H=H||o(C,it);return k&&H}function Vg(C,k){var H=C.diff(k,"days",!0);return H<-6?"sameElse":H<-1?"lastWeek":H<0?"lastDay":H<1?"sameDay":H<2?"nextDay":H<7?"nextWeek":"sameElse"}function r2(C,k){arguments.length===1&&(arguments[0]?wu(arguments[0])?(C=arguments[0],k=void 0):n2(arguments[0])&&(k=arguments[0],C=void 0):(C=void 0,k=void 0));var H=C||zr(),X=Ba(H,this).startOf("day"),ye=t.calendarFormat(this,X)||"sameElse",it=k&&(A(k[ye])?k[ye].call(this,H):k[ye]);return this.format(it||this.localeData().calendar(ye,this,zr(H)))}function o2(){return new R(this)}function s2(C,k){var H=_(C)?C:zr(C);return this.isValid()&&H.isValid()?(k=ft(k)||"millisecond",k==="millisecond"?this.valueOf()>H.valueOf():H.valueOf()<this.clone().startOf(k).valueOf()):!1}function a2(C,k){var H=_(C)?C:zr(C);return this.isValid()&&H.isValid()?(k=ft(k)||"millisecond",k==="millisecond"?this.valueOf()<H.valueOf():this.clone().endOf(k).valueOf()<H.valueOf()):!1}function l2(C,k,H,X){var ye=_(C)?C:zr(C),it=_(k)?k:zr(k);return this.isValid()&&ye.isValid()&&it.isValid()?(X=X||"()",(X[0]==="("?this.isAfter(ye,H):!this.isBefore(ye,H))&&(X[1]===")"?this.isBefore(it,H):!this.isAfter(it,H))):!1}function c2(C,k){var H=_(C)?C:zr(C),X;return this.isValid()&&H.isValid()?(k=ft(k)||"millisecond",k==="millisecond"?this.valueOf()===H.valueOf():(X=H.valueOf(),this.clone().startOf(k).valueOf()<=X&&X<=this.clone().endOf(k).valueOf())):!1}function d2(C,k){return this.isSame(C,k)||this.isAfter(C,k)}function u2(C,k){return this.isSame(C,k)||this.isBefore(C,k)}function cw(C,k,H){var X,ye,it;if(!this.isValid())return NaN;if(X=Ba(C,this),!X.isValid())return NaN;switch(ye=(X.utcOffset()-this.utcOffset())*6e4,k=ft(k),k){case"year":it=yf(this,X)/12;break;case"month":it=yf(this,X);break;case"quarter":it=yf(this,X)/3;break;case"second":it=(this-X)/1e3;break;case"minute":it=(this-X)/6e4;break;case"hour":it=(this-X)/36e5;break;case"day":it=(this-X-ye)/864e5;break;case"week":it=(this-X-ye)/6048e5;break;default:it=this-X}return H?it:Li(it)}function yf(C,k){if(C.date()<k.date())return-yf(k,C);var H=(k.year()-C.year())*12+(k.month()-C.month()),X=C.clone().add(H,"months"),ye,it;return k-X<0?(ye=C.clone().add(H-1,"months"),it=(k-X)/(X-ye)):(ye=C.clone().add(H+1,"months"),it=(k-X)/(ye-X)),-(H+it)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ql(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bc(C){if(!this.isValid())return null;var k=C!==!0,H=k?this.clone().utc():this;return H.year()<0||H.year()>9999?G(H,k?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?k?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",G(H,"Z")):G(H,k?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $v(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var C="moment",k="",H,X,ye,it;return this.isLocal()||(C=this.utcOffset()===0?"moment.utc":"moment.parseZone",k="Z"),H="["+C+'("]',X=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",ye="-MM-DD[T]HH:mm:ss.SSS",it=k+'[")]',this.format(H+X+ye+it)}function Xv(C){C||(C=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var k=G(this,C);return this.localeData().postformat(k)}function h2(C,k){return this.isValid()&&(_(C)&&C.isValid()||zr(C).isValid())?xi({to:this,from:C}).locale(this.locale()).humanize(!k):this.localeData().invalidDate()}function Kv(C){return this.from(zr(),C)}function Zv(C,k){return this.isValid()&&(_(C)&&C.isValid()||zr(C).isValid())?xi({from:this,to:C}).locale(this.locale()).humanize(!k):this.localeData().invalidDate()}function dw(C){return this.to(zr(),C)}function uw(C){var k;return C===void 0?this._locale._abbr:(k=Y(C),k!=null&&(this._locale=k),this)}var Qv=F("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(C){return C===void 0?this.localeData():this.locale(C)});function Jv(){return this._locale}var wf=1e3,uh=60*wf,eb=60*uh,f2=(365*400+97)*24*eb;function Cf(C,k){return(C%k+k)%k}function p2(C,k,H){return C<100&&C>=0?new Date(C+400,k,H)-f2:new Date(C,k,H).valueOf()}function m2(C,k,H){return C<100&&C>=0?Date.UTC(C+400,k,H)-f2:Date.UTC(C,k,H)}function v3(C){var k,H;if(C=ft(C),C===void 0||C==="millisecond"||!this.isValid())return this;switch(H=this._isUTC?m2:p2,C){case"year":k=H(this.year(),0,1);break;case"quarter":k=H(this.year(),this.month()-this.month()%3,1);break;case"month":k=H(this.year(),this.month(),1);break;case"week":k=H(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":k=H(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":k=H(this.year(),this.month(),this.date());break;case"hour":k=this._d.valueOf(),k-=Cf(k+(this._isUTC?0:this.utcOffset()*uh),eb);break;case"minute":k=this._d.valueOf(),k-=Cf(k,uh);break;case"second":k=this._d.valueOf(),k-=Cf(k,wf);break}return this._d.setTime(k),t.updateOffset(this,!0),this}function b3(C){var k,H;if(C=ft(C),C===void 0||C==="millisecond"||!this.isValid())return this;switch(H=this._isUTC?m2:p2,C){case"year":k=H(this.year()+1,0,1)-1;break;case"quarter":k=H(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":k=H(this.year(),this.month()+1,1)-1;break;case"week":k=H(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":k=H(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":k=H(this.year(),this.month(),this.date()+1)-1;break;case"hour":k=this._d.valueOf(),k+=eb-Cf(k+(this._isUTC?0:this.utcOffset()*uh),eb)-1;break;case"minute":k=this._d.valueOf(),k+=uh-Cf(k,uh)-1;break;case"second":k=this._d.valueOf(),k+=wf-Cf(k,wf)-1;break}return this._d.setTime(k),t.updateOffset(this,!0),this}function _3(){return this._d.valueOf()-(this._offset||0)*6e4}function hw(){return Math.floor(this.valueOf()/1e3)}function fw(){return new Date(this.valueOf())}function zg(){var C=this;return[C.year(),C.month(),C.date(),C.hour(),C.minute(),C.second(),C.millisecond()]}function y3(){var C=this;return{years:C.year(),months:C.month(),date:C.date(),hours:C.hours(),minutes:C.minutes(),seconds:C.seconds(),milliseconds:C.milliseconds()}}function w3(){return this.isValid()?this.toISOString():null}function g2(){return m(this)}function C3(){return u({},p(this))}function x3(){return p(this).overflow}function S3(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Q("N",0,0,"eraAbbr"),Q("NN",0,0,"eraAbbr"),Q("NNN",0,0,"eraAbbr"),Q("NNNN",0,0,"eraName"),Q("NNNNN",0,0,"eraNarrow"),Q("y",["y",1],"yo","eraYear"),Q("y",["yy",2],0,"eraYear"),Q("y",["yyy",3],0,"eraYear"),Q("y",["yyyy",4],0,"eraYear"),nt("N",tb),nt("NN",tb),nt("NNN",tb),nt("NNNN",b2),nt("NNNNN",_2),Qt(["N","NN","NNN","NNNN","NNNNN"],function(C,k,H,X){var ye=H._locale.erasParse(C,X,H._strict);ye?p(H).era=ye:p(H).invalidEra=C}),nt("y",Tt),nt("yy",Tt),nt("yyy",Tt),nt("yyyy",Tt),nt("yo",y2),Qt(["y","yy","yyy","yyyy"],Tn),Qt(["yo"],function(C,k,H,X){var ye;H._locale._eraYearOrdinalRegex&&(ye=C.match(H._locale._eraYearOrdinalRegex)),H._locale.eraYearOrdinalParse?k[Tn]=H._locale.eraYearOrdinalParse(C,ye):k[Tn]=parseInt(C,10)});function M3(C,k){var H,X,ye,it=this._eras||Y("en")._eras;for(H=0,X=it.length;H<X;++H){switch(typeof it[H].since){case"string":ye=t(it[H].since).startOf("day"),it[H].since=ye.valueOf();break}switch(typeof it[H].until){case"undefined":it[H].until=1/0;break;case"string":ye=t(it[H].until).startOf("day").valueOf(),it[H].until=ye.valueOf();break}}return it}function hh(C,k,H){var X,ye,it=this.eras(),Bt,$i,Pn;for(C=C.toUpperCase(),X=0,ye=it.length;X<ye;++X)if(Bt=it[X].name.toUpperCase(),$i=it[X].abbr.toUpperCase(),Pn=it[X].narrow.toUpperCase(),H)switch(k){case"N":case"NN":case"NNN":if($i===C)return it[X];break;case"NNNN":if(Bt===C)return it[X];break;case"NNNNN":if(Pn===C)return it[X];break}else if([Bt,$i,Pn].indexOf(C)>=0)return it[X]}function Jc(C,k){var H=C.since<=C.until?1:-1;return k===void 0?t(C.since).year():t(C.since).year()+(k-C.offset)*H}function Cu(){var C,k,H,X=this.localeData().eras();for(C=0,k=X.length;C<k;++C)if(H=this.clone().startOf("day").valueOf(),X[C].since<=H&&H<=X[C].until||X[C].until<=H&&H<=X[C].since)return X[C].name;return""}function E3(){var C,k,H,X=this.localeData().eras();for(C=0,k=X.length;C<k;++C)if(H=this.clone().startOf("day").valueOf(),X[C].since<=H&&H<=X[C].until||X[C].until<=H&&H<=X[C].since)return X[C].narrow;return""}function v2(){var C,k,H,X=this.localeData().eras();for(C=0,k=X.length;C<k;++C)if(H=this.clone().startOf("day").valueOf(),X[C].since<=H&&H<=X[C].until||X[C].until<=H&&H<=X[C].since)return X[C].abbr;return""}function fh(){var C,k,H,X,ye=this.localeData().eras();for(C=0,k=ye.length;C<k;++C)if(H=ye[C].since<=ye[C].until?1:-1,X=this.clone().startOf("day").valueOf(),ye[C].since<=X&&X<=ye[C].until||ye[C].until<=X&&X<=ye[C].since)return(this.year()-t(ye[C].since).year())*H+ye[C].offset;return this.year()}function _c(C){return o(this,"_erasNameRegex")||pw.call(this),C?this._erasNameRegex:this._erasRegex}function D3(C){return o(this,"_erasAbbrRegex")||pw.call(this),C?this._erasAbbrRegex:this._erasRegex}function T3(C){return o(this,"_erasNarrowRegex")||pw.call(this),C?this._erasNarrowRegex:this._erasRegex}function tb(C,k){return k.erasAbbrRegex(C)}function b2(C,k){return k.erasNameRegex(C)}function _2(C,k){return k.erasNarrowRegex(C)}function y2(C,k){return k._eraYearOrdinalRegex||Tt}function pw(){var C=[],k=[],H=[],X=[],ye,it,Bt,$i,Pn,Hr=this.eras();for(ye=0,it=Hr.length;ye<it;++ye)Bt=Yi(Hr[ye].name),$i=Yi(Hr[ye].abbr),Pn=Yi(Hr[ye].narrow),k.push(Bt),C.push($i),H.push(Pn),X.push(Bt),X.push($i),X.push(Pn);this._erasRegex=new RegExp("^("+X.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+k.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+C.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+H.join("|")+")","i")}Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xf(C,k){Q(0,[C,C.length],0,k)}xf("gggg","weekYear"),xf("ggggg","weekYear"),xf("GGGG","isoWeekYear"),xf("GGGGG","isoWeekYear"),nt("G",Ft),nt("g",Ft),nt("GG",Le,J),nt("gg",Le,J),nt("GGGG",ct,Ee),nt("gggg",ct,Ee),nt("GGGGG",gt,ke),nt("ggggg",gt,ke),Di(["gggg","ggggg","GGGG","GGGGG"],function(C,k,H,X){k[X.substr(0,2)]=At(C)}),Di(["gg","GG"],function(C,k,H,X){k[X]=t.parseTwoDigitYear(C)});function ib(C){return x2.call(this,C,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Hg(C){return x2.call(this,C,this.isoWeek(),this.isoWeekday(),1,4)}function mw(){return Jr(this.year(),1,4)}function w2(){return Jr(this.isoWeekYear(),1,4)}function A3(){var C=this.localeData()._week;return Jr(this.year(),C.dow,C.doy)}function C2(){var C=this.localeData()._week;return Jr(this.weekYear(),C.dow,C.doy)}function x2(C,k,H,X,ye){var it;return C==null?Br(this,X,ye).year:(it=Jr(C,X,ye),k>it&&(k=it),R3.call(this,C,k,H,X,ye))}function R3(C,k,H,X,ye){var it=Nr(C,k,H,X,ye),Bt=Kn(it.year,0,it.dayOfYear);return this.year(Bt.getUTCFullYear()),this.month(Bt.getUTCMonth()),this.date(Bt.getUTCDate()),this}Q("Q",0,"Qo","quarter"),nt("Q",re),Qt("Q",function(C,k){k[rr]=(At(C)-1)*3});function k3(C){return C==null?Math.ceil((this.month()+1)/3):this.month((C-1)*3+this.month()%3)}Q("D",["DD",2],"Do","date"),nt("D",Le,yt),nt("DD",Le,J),nt("Do",function(C,k){return C?k._dayOfMonthOrdinalParse||k._ordinalParse:k._dayOfMonthOrdinalParseLenient}),Qt(["D","DD"],_r),Qt("Do",function(C,k){k[_r]=At(C.match(Le)[0])});var S2=Ds("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("DDD",Be),nt("DDDD",pe),Qt(["DDD","DDDD"],function(C,k,H){H._dayOfYear=At(C)});function I3(C){var k=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return C==null?k:this.add(C-k,"d")}Q("m",["mm",2],0,"minute"),nt("m",Le,dt),nt("mm",Le,J),Qt(["m","mm"],Mo);var P3=Ds("Minutes",!1);Q("s",["ss",2],0,"second"),nt("s",Le,dt),nt("ss",Le,J),Qt(["s","ss"],_o);var M2=Ds("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return this.millisecond()*10}),Q(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Q(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Q(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Q(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Q(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),nt("S",Be,re),nt("SS",Be,J),nt("SSS",Be,pe);var ed,E2;for(ed="SSSS";ed.length<=9;ed+="S")nt(ed,Tt);function F3(C,k){k[Yo]=At(("0."+C)*1e3)}for(ed="S";ed.length<=9;ed+="S")Qt(ed,F3);E2=Ds("Milliseconds",!1),Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");function D2(){return this._isUTC?"UTC":""}function M(){return this._isUTC?"Coordinated Universal Time":""}var E=R.prototype;E.add=Ts,E.calendar=r2,E.clone=o2,E.diff=cw,E.endOf=b3,E.format=Xv,E.from=h2,E.fromNow=Kv,E.to=Zv,E.toNow=dw,E.get=st,E.invalidAt=x3,E.isAfter=s2,E.isBefore=a2,E.isBetween=l2,E.isSame=c2,E.isSameOrAfter=d2,E.isSameOrBefore=u2,E.isValid=g2,E.lang=Qv,E.locale=uw,E.localeData=Jv,E.max=_u,E.min=Ir,E.parsingFlags=C3,E.set=xt,E.startOf=v3,E.subtract=cl,E.toArray=zg,E.toObject=y3,E.toDate=fw,E.toISOString=bc,E.inspect=$v,typeof Symbol<"u"&&Symbol.for!=null&&(E[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),E.toJSON=w3,E.toString=Ql,E.unix=hw,E.valueOf=_3,E.creationData=S3,E.eraName=Cu,E.eraNarrow=E3,E.eraAbbr=v2,E.eraYear=fh,E.year=Oa,E.isLeapYear=ia,E.weekYear=ib,E.isoWeekYear=Hg,E.quarter=E.quarters=k3,E.month=un,E.daysInMonth=gn,E.week=E.weeks=sn,E.isoWeek=E.isoWeeks=gc,E.weeksInYear=A3,E.weeksInWeekYear=C2,E.isoWeeksInYear=mw,E.isoWeeksInISOWeekYear=w2,E.date=S2,E.day=E.days=cn,E.weekday=pn,E.isoWeekday=so,E.dayOfYear=I3,E.hour=E.hours=mf,E.minute=E.minutes=P3,E.second=E.seconds=M2,E.millisecond=E.milliseconds=E2,E.utcOffset=_f,E.utc=dh,E.local=ze,E.parseZone=rt,E.hasAlignedHourOffset=bt,E.isDST=Et,E.isLocal=vi,E.isUtcOffset=Ii,E.isUtc=Hi,E.isUTC=Hi,E.zoneAbbr=D2,E.zoneName=M,E.dates=F("dates accessor is deprecated. Use date instead.",S2),E.months=F("months accessor is deprecated. Use month instead",un),E.years=F("years accessor is deprecated. Use year instead",Oa),E.zone=F("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yu),E.isDSTShifted=F("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ut);function B(C){return zr(C*1e3)}function q(){return zr.apply(null,arguments).parseZone()}function he(C){return C}var fe=U.prototype;fe.calendar=ue,fe.longDateFormat=me,fe.invalidDate=He,fe.ordinal=ve,fe.preparse=he,fe.postformat=he,fe.relativeTime=pt,fe.pastFuture=vt,fe.set=O,fe.eras=M3,fe.erasParse=hh,fe.erasConvertYear=Jc,fe.erasAbbrRegex=D3,fe.erasNameRegex=_c,fe.erasNarrowRegex=T3,fe.months=dn,fe.monthsShort=Ln,fe.monthsParse=Un,fe.monthsRegex=Jn,fe.monthsShortRegex=Zr,fe.week=Mr,fe.firstDayOfYear=$o,fe.firstDayOfWeek=Xl,fe.weekdays=Jt,fe.weekdaysMin=ai,fe.weekdaysShort=on,fe.weekdaysParse=Bi,fe.weekdaysRegex=yr,fe.weekdaysShortRegex=lr,fe.weekdaysMinRegex=Zn,fe.isPM=Kp,fe.meridiem=vc;function Ce(C,k,H,X){var ye=Y(),it=h().set(X,k);return ye[H](it,C)}function Re(C,k,H){if(l(C)&&(k=C,C=void 0),C=C||"",k!=null)return Ce(C,k,H,"month");var X,ye=[];for(X=0;X<12;X++)ye[X]=Ce(C,X,H,"month");return ye}function Oe(C,k,H,X){typeof C=="boolean"?(l(k)&&(H=k,k=void 0),k=k||""):(k=C,H=k,C=!1,l(k)&&(H=k,k=void 0),k=k||"");var ye=Y(),it=C?ye._week.dow:0,Bt,$i=[];if(H!=null)return Ce(k,(H+it)%7,X,"day");for(Bt=0;Bt<7;Bt++)$i[Bt]=Ce(k,(Bt+it)%7,X,"day");return $i}function We(C,k){return Re(C,k,"months")}function at(C,k){return Re(C,k,"monthsShort")}function Ct(C,k,H){return Oe(C,k,H,"weekdays")}function je(C,k,H){return Oe(C,k,H,"weekdaysShort")}function ut(C,k,H){return Oe(C,k,H,"weekdaysMin")}ie("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(C){var k=C%10,H=At(C%100/10)===1?"th":k===1?"st":k===2?"nd":k===3?"rd":"th";return C+H}}),t.lang=F("moment.lang is deprecated. Use moment.locale instead.",ie),t.langData=F("moment.langData is deprecated. Use moment.localeData instead.",Y);var mt=Math.abs;function qt(){var C=this._data;return this._milliseconds=mt(this._milliseconds),this._days=mt(this._days),this._months=mt(this._months),C.milliseconds=mt(C.milliseconds),C.seconds=mt(C.seconds),C.minutes=mt(C.minutes),C.hours=mt(C.hours),C.months=mt(C.months),C.years=mt(C.years),this}function _t(C,k,H,X){var ye=xi(k,H);return C._milliseconds+=X*ye._milliseconds,C._days+=X*ye._days,C._months+=X*ye._months,C._bubble()}function $t(C,k){return _t(this,C,k,1)}function ei(C,k){return _t(this,C,k,-1)}function fi(C){return C<0?Math.floor(C):Math.ceil(C)}function si(){var C=this._milliseconds,k=this._days,H=this._months,X=this._data,ye,it,Bt,$i,Pn;return C>=0&&k>=0&&H>=0||C<=0&&k<=0&&H<=0||(C+=fi(rn(H)+k)*864e5,k=0,H=0),X.milliseconds=C%1e3,ye=Li(C/1e3),X.seconds=ye%60,it=Li(ye/60),X.minutes=it%60,Bt=Li(it/60),X.hours=Bt%24,k+=Li(Bt/24),Pn=Li(vn(k)),H+=Pn,k-=fi(rn(Pn)),$i=Li(H/12),H%=12,X.days=k,X.months=H,X.years=$i,this}function vn(C){return C*4800/146097}function rn(C){return C*146097/4800}function ur(C){if(!this.isValid())return NaN;var k,H,X=this._milliseconds;if(C=ft(C),C==="month"||C==="quarter"||C==="year")switch(k=this._days+X/864e5,H=this._months+vn(k),C){case"month":return H;case"quarter":return H/3;case"year":return H/12}else switch(k=this._days+Math.round(rn(this._months)),C){case"week":return k/7+X/6048e5;case"day":return k+X/864e5;case"hour":return k*24+X/36e5;case"minute":return k*1440+X/6e4;case"second":return k*86400+X/1e3;case"millisecond":return Math.floor(k*864e5)+X;default:throw new Error("Unknown unit "+C)}}function Zi(C){return function(){return this.as(C)}}var Pr=Zi("ms"),Hs=Zi("s"),hr=Zi("m"),mn=Zi("h"),Pi=Zi("d"),As=Zi("w"),tr=Zi("M"),Gr=Zi("Q"),No=Zi("y"),Ma=Pr;function dl(){return xi(this)}function ms(C){return C=ft(C),this.isValid()?this[C+"s"]():NaN}function gs(C){return function(){return this.isValid()?this._data[C]:NaN}}var ul=gs("milliseconds"),Us=gs("seconds"),qr=gs("minutes"),ao=gs("hours"),vs=gs("days"),lo=gs("months"),Ea=gs("years");function td(){return Li(this.days()/7)}var co=Math.round,Gs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xo(C,k,H,X,ye){return ye.relativeTime(k||1,!!H,C,X)}function Ws(C,k,H,X){var ye=xi(C).abs(),it=co(ye.as("s")),Bt=co(ye.as("m")),$i=co(ye.as("h")),Pn=co(ye.as("d")),Hr=co(ye.as("M")),pl=co(ye.as("w")),id=co(ye.as("y")),ml=it<=H.ss&&["s",it]||it<H.s&&["ss",it]||Bt<=1&&["m"]||Bt<H.m&&["mm",Bt]||$i<=1&&["h"]||$i<H.h&&["hh",$i]||Pn<=1&&["d"]||Pn<H.d&&["dd",Pn];return H.w!=null&&(ml=ml||pl<=1&&["w"]||pl<H.w&&["ww",pl]),ml=ml||Hr<=1&&["M"]||Hr<H.M&&["MM",Hr]||id<=1&&["y"]||["yy",id],ml[2]=k,ml[3]=+C>0,ml[4]=X,xo.apply(null,ml)}function Jl(C){return C===void 0?co:typeof C=="function"?(co=C,!0):!1}function hl(C,k){return Gs[C]===void 0?!1:k===void 0?Gs[C]:(Gs[C]=k,C==="s"&&(Gs.ss=k-1),!0)}function ec(C,k){if(!this.isValid())return this.localeData().invalidDate();var H=!1,X=Gs,ye,it;return typeof C=="object"&&(k=C,C=!1),typeof C=="boolean"&&(H=C),typeof k=="object"&&(X=Object.assign({},Gs,k),k.s!=null&&k.ss==null&&(X.ss=k.s-1)),ye=this.localeData(),it=Ws(this,!H,X,ye),H&&(it=ye.pastFuture(+this,it)),ye.postformat(it)}var fl=Math.abs;function js(C){return(C>0)-(C<0)||+C}function za(){if(!this.isValid())return this.localeData().invalidDate();var C=fl(this._milliseconds)/1e3,k=fl(this._days),H=fl(this._months),X,ye,it,Bt,$i=this.asSeconds(),Pn,Hr,pl,id;return $i?(X=Li(C/60),ye=Li(X/60),C%=60,X%=60,it=Li(H/12),H%=12,Bt=C?C.toFixed(3).replace(/\.?0+$/,""):"",Pn=$i<0?"-":"",Hr=js(this._months)!==js($i)?"-":"",pl=js(this._days)!==js($i)?"-":"",id=js(this._milliseconds)!==js($i)?"-":"",Pn+"P"+(it?Hr+it+"Y":"")+(H?Hr+H+"M":"")+(k?pl+k+"D":"")+(ye||X||C?"T":"")+(ye?id+ye+"H":"")+(X?id+X+"M":"")+(C?id+Bt+"S":"")):"P0D"}var bn=Tl.prototype;bn.isValid=Sa,bn.abs=qt,bn.add=$t,bn.subtract=ei,bn.as=ur,bn.asMilliseconds=Pr,bn.asSeconds=Hs,bn.asMinutes=hr,bn.asHours=mn,bn.asDays=Pi,bn.asWeeks=As,bn.asMonths=tr,bn.asQuarters=Gr,bn.asYears=No,bn.valueOf=Ma,bn._bubble=si,bn.clone=dl,bn.get=ms,bn.milliseconds=ul,bn.seconds=Us,bn.minutes=qr,bn.hours=ao,bn.days=vs,bn.weeks=td,bn.months=lo,bn.years=Ea,bn.humanize=ec,bn.toISOString=za,bn.toString=za,bn.toJSON=za,bn.locale=uw,bn.localeData=Jv,bn.toIsoString=F("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",za),bn.lang=Qv,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),nt("x",Ft),nt("X",li),Qt("X",function(C,k,H){H._d=new Date(parseFloat(C)*1e3)}),Qt("x",function(C,k,H){H._d=new Date(At(C))});return t.version="2.30.1",i(zr),t.fn=E,t.min=Dl,t.max=vf,t.now=bf,t.utc=h,t.unix=B,t.months=We,t.isDate=c,t.locale=ie,t.invalid=g,t.duration=xi,t.isMoment=_,t.weekdays=Ct,t.parseZone=q,t.localeData=Y,t.isDuration=aa,t.monthsShort=at,t.weekdaysMin=ut,t.defineLocale=S,t.updateLocale=I,t.locales=te,t.weekdaysShort=je,t.normalizeUnits=ft,t.relativeTimeRounding=Jl,t.relativeTimeThreshold=hl,t.calendarFormat=Vg,t.prototype=E,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var Qi=new Nt("");var Cz=null;function sd(){return Cz}function dP(e){Cz??=e}var Ew=class{},Dw=(()=>{class e{historyGo(i){throw new Error("")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>j(xz),providedIn:"platform"})}return e})(),uP=new Nt(""),xz=(()=>{class e extends Dw{_location;_history;_doc=j(Qi);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sd().getBaseHref(this._doc)}onPopState(i){let n=sd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){let n=sd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,r){this._history.pushState(i,n,r)}replaceState(i,n,r){this._history.replaceState(i,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Z2(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function yz(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Mu(e){return e&&e[0]!=="?"?`?${e}`:e}var Eu=(()=>{class e{historyGo(i){throw new Error("")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>j(J2),providedIn:"root"})}return e})(),Q2=new Nt(""),J2=(()=>{class e extends Eu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(i,n){super(),this._platformLocation=i,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??j(Qi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Z2(this._baseHref,i)}path(i=!1){let n=this._platformLocation.pathname+Mu(this._platformLocation.search),r=this._platformLocation.hash;return r&&i?`${n}${r}`:n}pushState(i,n,r,o){let s=this.prepareExternalUrl(r+Mu(o));this._platformLocation.pushState(i,n,s)}replaceState(i,n,r,o){let s=this.prepareExternalUrl(r+Mu(o));this._platformLocation.replaceState(i,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(n){return new(n||e)(ji(Dw),ji(Q2,8))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mh=(()=>{class e{_subject=new Yt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(i){this._locationStrategy=i;let n=this._locationStrategy.getBaseHref();this._basePath=qoe(yz(wz(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+Mu(n))}normalize(i){return e.stripTrailingSlash(joe(this._basePath,wz(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",r=null){this._locationStrategy.pushState(r,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Mu(n)),r)}replaceState(i,n="",r=null){this._locationStrategy.replaceState(r,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Mu(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(r=>r(i,n))}subscribe(i,n,r){return this._subject.subscribe({next:i,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=Mu;static joinWithSlash=Z2;static stripTrailingSlash=yz;static \u0275fac=function(n){return new(n||e)(ji(Eu))};static \u0275prov=zt({token:e,factory:()=>Woe(),providedIn:"root"})}return e})();function Woe(){return new mh(ji(Eu))}function joe(e,t){if(!e||!t.startsWith(e))return t;let i=t.substring(e.length);return i===""||["/",";","?","#"].includes(i[0])?i:t}function wz(e){return e.replace(/\/index.html$/,"")}function qoe(e){if(new RegExp("^(https?:)?//").test(e)){let[,i]=e.split(/\/\/[^\/]+/);return i}return e}var gP=(()=>{class e extends Eu{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(i,n){super(),this._platformLocation=i,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(i){let n=Z2(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,r,o){let s=this.prepareExternalUrl(r+Mu(o))||this._platformLocation.pathname;this._platformLocation.pushState(i,n,s)}replaceState(i,n,r,o){let s=this.prepareExternalUrl(r+Mu(o))||this._platformLocation.pathname;this._platformLocation.replaceState(i,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(n){return new(n||e)(ji(Dw),ji(Q2,8))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();var Rl=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Rl||{}),Do=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Do||{}),wc=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(wc||{}),Lf={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Tz(e){return Vd(e)[ua.LocaleId]}function Az(e,t,i){let n=Vd(e),r=[n[ua.DayPeriodsFormat],n[ua.DayPeriodsStandalone]],o=Hd(r,t);return Hd(o,i)}function Rz(e,t,i){let n=Vd(e),r=[n[ua.DaysFormat],n[ua.DaysStandalone]],o=Hd(r,t);return Hd(o,i)}function kz(e,t,i){let n=Vd(e),r=[n[ua.MonthsFormat],n[ua.MonthsStandalone]],o=Hd(r,t);return Hd(o,i)}function Iz(e,t){let n=Vd(e)[ua.Eras];return Hd(n,t)}function Tw(e,t){let i=Vd(e);return Hd(i[ua.DateFormat],t)}function Aw(e,t){let i=Vd(e);return Hd(i[ua.TimeFormat],t)}function Rw(e,t){let n=Vd(e)[ua.DateTimeFormat];return Hd(n,t)}function kw(e,t){let i=Vd(e),n=i[ua.NumberSymbols][t];if(typeof n>"u"){if(t===Lf.CurrencyDecimal)return i[ua.NumberSymbols][Lf.Decimal];if(t===Lf.CurrencyGroup)return i[ua.NumberSymbols][Lf.Group]}return n}function Pz(e){if(!e[ua.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ua.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fz(e){let t=Vd(e);return Pz(t),(t[ua.ExtraData][2]||[]).map(n=>typeof n=="string"?hP(n):[hP(n[0]),hP(n[1])])}function Oz(e,t,i){let n=Vd(e);Pz(n);let r=[n[ua.ExtraData][0],n[ua.ExtraData][1]],o=Hd(r,t)||[];return Hd(o,i)||[]}function Hd(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function hP(e){let[t,i]=e.split(":");return{hours:+t,minutes:+i}}var Yoe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,eM={},$oe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Lz(e,t,i,n){let r=nse(e);t=Of(i,t)||t;let s=[],a;for(;t;)if(a=$oe.exec(t),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;t=d}else{s.push(t);break}let l=r.getTimezoneOffset();n&&(l=Bz(n,l),r=ise(r,n));let c="";return s.forEach(d=>{let u=ese(d);c+=u?u(r,i,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function oM(e,t,i){let n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function Of(e,t){let i=Tz(e);if(eM[i]??={},eM[i][t])return eM[i][t];let n="";switch(t){case"shortDate":n=Tw(e,wc.Short);break;case"mediumDate":n=Tw(e,wc.Medium);break;case"longDate":n=Tw(e,wc.Long);break;case"fullDate":n=Tw(e,wc.Full);break;case"shortTime":n=Aw(e,wc.Short);break;case"mediumTime":n=Aw(e,wc.Medium);break;case"longTime":n=Aw(e,wc.Long);break;case"fullTime":n=Aw(e,wc.Full);break;case"short":let r=Of(e,"shortTime"),o=Of(e,"shortDate");n=tM(Rw(e,wc.Short),[r,o]);break;case"medium":let s=Of(e,"mediumTime"),a=Of(e,"mediumDate");n=tM(Rw(e,wc.Medium),[s,a]);break;case"long":let l=Of(e,"longTime"),c=Of(e,"longDate");n=tM(Rw(e,wc.Long),[l,c]);break;case"full":let d=Of(e,"fullTime"),u=Of(e,"fullDate");n=tM(Rw(e,wc.Full),[d,u]);break}return n&&(eM[i][t]=n),n}function tM(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(i,n){return t!=null&&n in t?t[n]:i})),e}function Du(e,t,i="-",n,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=i));let s=String(e);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function Xoe(e,t){return Du(e,3).substring(0,t)}function ma(e,t,i=0,n=!1,r=!1){return function(o,s){let a=Koe(e,o);if((i>0||a>-i)&&(a+=i),e===3)a===0&&i===-12&&(a=12);else if(e===6)return Xoe(a,t);let l=kw(s,Lf.MinusSign);return Du(a,t,l,n,r)}}function Koe(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Xo(e,t,i=Rl.Format,n=!1){return function(r,o){return Zoe(r,o,e,t,i,n)}}function Zoe(e,t,i,n,r,o){switch(i){case 2:return kz(t,r,n)[e.getMonth()];case 1:return Rz(t,r,n)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=Fz(t),d=Oz(t,r,n),u=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,v=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(v&&m)return!0}else if(v||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return Az(t,r,n)[s<12?0:1];case 3:return Iz(t,n)[e.getFullYear()<=0?0:1];default:let l=i;throw new Error(`unexpected translation type ${l}`)}}function iM(e){return function(t,i,n){let r=-1*n,o=kw(i,Lf.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+Du(s,2,o)+Du(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Du(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Du(s,2,o)+":"+Du(Math.abs(r%60),2,o);case 3:return n===0?"Z":(r>=0?"+":"")+Du(s,2,o)+":"+Du(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var Qoe=0,rM=4;function Joe(e){let t=oM(e,Qoe,1).getDay();return oM(e,0,1+(t<=rM?rM:rM+7)-t)}function Nz(e){let t=e.getDay(),i=t===0?-3:rM-t;return oM(e.getFullYear(),e.getMonth(),e.getDate()+i)}function fP(e,t=!1){return function(i,n){let r;if(t){let o=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,s=i.getDate();r=1+Math.floor((s+o)/7)}else{let o=Nz(i),s=Joe(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Du(r,e,kw(n,Lf.MinusSign))}}function nM(e,t=!1){return function(i,n){let o=Nz(i).getFullYear();return Du(o,e,kw(n,Lf.MinusSign),t)}}var pP={};function ese(e){if(pP[e])return pP[e];let t;switch(e){case"G":case"GG":case"GGG":t=Xo(3,Do.Abbreviated);break;case"GGGG":t=Xo(3,Do.Wide);break;case"GGGGG":t=Xo(3,Do.Narrow);break;case"y":t=ma(0,1,0,!1,!0);break;case"yy":t=ma(0,2,0,!0,!0);break;case"yyy":t=ma(0,3,0,!1,!0);break;case"yyyy":t=ma(0,4,0,!1,!0);break;case"Y":t=nM(1);break;case"YY":t=nM(2,!0);break;case"YYY":t=nM(3);break;case"YYYY":t=nM(4);break;case"M":case"L":t=ma(1,1,1);break;case"MM":case"LL":t=ma(1,2,1);break;case"MMM":t=Xo(2,Do.Abbreviated);break;case"MMMM":t=Xo(2,Do.Wide);break;case"MMMMM":t=Xo(2,Do.Narrow);break;case"LLL":t=Xo(2,Do.Abbreviated,Rl.Standalone);break;case"LLLL":t=Xo(2,Do.Wide,Rl.Standalone);break;case"LLLLL":t=Xo(2,Do.Narrow,Rl.Standalone);break;case"w":t=fP(1);break;case"ww":t=fP(2);break;case"W":t=fP(1,!0);break;case"d":t=ma(2,1);break;case"dd":t=ma(2,2);break;case"c":case"cc":t=ma(7,1);break;case"ccc":t=Xo(1,Do.Abbreviated,Rl.Standalone);break;case"cccc":t=Xo(1,Do.Wide,Rl.Standalone);break;case"ccccc":t=Xo(1,Do.Narrow,Rl.Standalone);break;case"cccccc":t=Xo(1,Do.Short,Rl.Standalone);break;case"E":case"EE":case"EEE":t=Xo(1,Do.Abbreviated);break;case"EEEE":t=Xo(1,Do.Wide);break;case"EEEEE":t=Xo(1,Do.Narrow);break;case"EEEEEE":t=Xo(1,Do.Short);break;case"a":case"aa":case"aaa":t=Xo(0,Do.Abbreviated);break;case"aaaa":t=Xo(0,Do.Wide);break;case"aaaaa":t=Xo(0,Do.Narrow);break;case"b":case"bb":case"bbb":t=Xo(0,Do.Abbreviated,Rl.Standalone,!0);break;case"bbbb":t=Xo(0,Do.Wide,Rl.Standalone,!0);break;case"bbbbb":t=Xo(0,Do.Narrow,Rl.Standalone,!0);break;case"B":case"BB":case"BBB":t=Xo(0,Do.Abbreviated,Rl.Format,!0);break;case"BBBB":t=Xo(0,Do.Wide,Rl.Format,!0);break;case"BBBBB":t=Xo(0,Do.Narrow,Rl.Format,!0);break;case"h":t=ma(3,1,-12);break;case"hh":t=ma(3,2,-12);break;case"H":t=ma(3,1);break;case"HH":t=ma(3,2);break;case"m":t=ma(4,1);break;case"mm":t=ma(4,2);break;case"s":t=ma(5,1);break;case"ss":t=ma(5,2);break;case"S":t=ma(6,1);break;case"SS":t=ma(6,2);break;case"SSS":t=ma(6,3);break;case"Z":case"ZZ":case"ZZZ":t=iM(0);break;case"ZZZZZ":t=iM(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=iM(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=iM(2);break;default:return null}return pP[e]=t,t}function Bz(e,t){e=e.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function tse(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ise(e,t,i){let r=e.getTimezoneOffset(),o=Bz(t,r);return tse(e,-1*(o-r))}function nse(e){if(Sz(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return oM(r,o-1,s)}let i=parseFloat(e);if(!isNaN(e-i))return new Date(i);let n;if(n=e.match(Yoe))return rse(n)}let t=new Date(e);if(!Sz(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function rse(e){let t=new Date(0),i=0,n=0,r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,l,c),t}function Sz(e){return e instanceof Date&&!isNaN(e.valueOf())}var mP=/\s+/,Mz=[],nc=(()=>{class e{_ngEl;_renderer;initialClasses=Mz;rawClass;stateMap=new Map;constructor(i,n){this._ngEl=i,this._renderer=n}set klass(i){this.initialClasses=i!=null?i.trim().split(mP):Mz}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(mP):i}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let n of i)this._updateState(n,!0);else if(i!=null)for(let n of Object.keys(i))this._updateState(n,!!i[n]);this._applyStateDiff()}_updateState(i,n){let r=this.stateMap.get(i);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(i,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let n=i[0],r=i[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(i,n){i=i.trim(),i.length>0&&i.split(mP).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||e)(ri(pi),ri(Ar))};static \u0275dir=di({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var sM=class{$implicit;ngForOf;index;count;constructor(t,i,n,r){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gh=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(i,n,r){this._viewContainer=i,this._template=n,this._differs=r}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let n=this._viewContainer;i.forEachOperation((r,o,s)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new sM(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),Ez(a,r)}});for(let r=0,o=n.length;r<o;r++){let a=n.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}i.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);Ez(o,r)})}static ngTemplateContextGuard(i,n){return!0}static \u0275fac=function(n){return new(n||e)(ri(Bo),ri(da),ri(lP))};static \u0275dir=di({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Ez(e,t){e.context.$implicit=t.item}var kl=(()=>{class e{_viewContainer;_context=new aM;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,n){this._viewContainer=i,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Dz(i,!1),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Dz(i,!1),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,n){return!0}static \u0275fac=function(n){return new(n||e)(ri(Bo),ri(da))};static \u0275dir=di({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),aM=class{$implicit=null;ngIf=null};function Dz(e,t){if(e&&!e.createEmbeddedView)throw new fr(2020,!1)}var Iw=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(i,n,r){this._ngEl=i,this._differs=n,this._renderer=r}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,n){let[r,o]=i.split("."),s=r.indexOf("-")===-1?void 0:jg.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(i){i.forEachRemovedItem(n=>this._setStyle(n.key,null)),i.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),i.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||e)(ri(pi),ri(W2),ri(Ar))};static \u0275dir=di({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})(),cb=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(i){this._viewContainerRef=i}ngOnChanges(i){if(this._shouldRecreateView(i)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(i,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||e)(ri(Bo))};static \u0275dir=di({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Gn]})}return e})();function ose(e,t){return new fr(2100,!1)}var sse="mediumDate",Vz=new Nt(""),zz=new Nt(""),Pw=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(i,n,r){this.locale=i,this.defaultTimezone=n,this.defaultOptions=r}transform(i,n,r,o){if(i==null||i===""||i!==i)return null;try{let s=n??this.defaultOptions?.dateFormat??sse,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Lz(i,s,o||this.locale,a)}catch(s){throw ose(e,s.message)}}static \u0275fac=function(n){return new(n||e)(ri(G2,16),ri(Vz,24),ri(zz,24))};static \u0275pipe=ez({name:"date",type:e,pure:!0})}return e})();var Yg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();function Fw(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let n=i.indexOf("="),[r,o]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var lM="browser",Hz="server";function vP(e){return e===lM}function cM(e){return e===Hz}var $g=class{};var Uz=(()=>{class e{static \u0275prov=zt({token:e,providedIn:"root",factory:()=>new bP(j(Qi),window)})}return e})(),bP=class{document;window;offset=()=>[0,0];constructor(t,i){this.document=t,this.window=i}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let i=lse(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function lse(e,t){let i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}var hM=new Nt(""),xP=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,n){this._zone=n,i.forEach(r=>{r.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,r,o){return this._findPluginFor(n).addEventListener(i,n,r,o)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(o=>o.supports(i)),!n)throw new fr(5101,!1);return this._eventNameToPlugin.set(i,n),n}static \u0275fac=function(n){return new(n||e)(ji(hM),ji(Si))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),Ow=class{_doc;constructor(t){this._doc=t}manager},dM="ng-app-id";function Gz(e){for(let t of e)t.remove()}function Wz(e,t){let i=t.createElement("style");return i.textContent=e,i}function cse(e,t,i,n){let r=e.head?.querySelectorAll(`style[${dM}="${t}"],link[${dM}="${t}"]`);if(r)for(let o of r)o.removeAttribute(dM),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&i.set(o.textContent,{usage:0,elements:[o]})}function wP(e,t){let i=t.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",e),i}var SP=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,n,r,o={}){this.doc=i,this.appId=n,this.nonce=r,this.isServer=cM(o),cse(i,n,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,n){for(let r of i)this.addUsage(r,this.inline,Wz);n?.forEach(r=>this.addUsage(r,this.external,wP))}removeStyles(i,n){for(let r of i)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(i,n,r){let o=n.get(i);o?o.usage++:n.set(i,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(i,this.doc)))})}removeUsage(i,n){let r=n.get(i);r&&(r.usage--,r.usage<=0&&(Gz(r.elements),n.delete(i)))}ngOnDestroy(){for(let[,{elements:i}]of[...this.inline,...this.external])Gz(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(i,Wz(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(i,wP(n,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(dM,this.appId),i.appendChild(n)}static \u0275fac=function(n){return new(n||e)(ji(Qi),ji(Gg),ji(yw,8),ji(sm))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),yP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},MP=/%COMP%/g;var qz="%COMP%",dse=`_nghost-${qz}`,use=`_ngcontent-${qz}`,hse=!0,fse=new Nt("",{providedIn:"root",factory:()=>hse});function pse(e){return use.replace(MP,e)}function mse(e){return dse.replace(MP,e)}function Yz(e,t){return t.map(i=>i.replace(MP,e))}var Xg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,n,r,o,s,a,l,c=null,d=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=cM(a),this.defaultRenderer=new Lw(i,s,l,this.platformIsServer,this.tracingService)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===ww.ShadowDom&&(n=Zt(Ie({},n),{encapsulation:ww.Emulated}));let r=this.getOrCreateRenderer(i,n);return r instanceof uM?r.applyToHost(i):r instanceof Nw&&r.applyStyles(),r}getOrCreateRenderer(i,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(n.encapsulation){case ww.Emulated:o=new uM(l,c,n,this.appId,d,s,a,u,h);break;case ww.ShadowDom:return new CP(l,c,i,n,s,a,this.nonce,u,h);default:o=new Nw(l,c,n,d,s,a,u,h);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(n){return new(n||e)(ji(xP),ji(SP),ji(Gg),ji(fse),ji(Qi),ji(sm),ji(Si),ji(yw),ji(U7,8))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),Lw=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,i,n,r,o){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,i){return i?this.doc.createElementNS(yP[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(jz(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(jz(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){i.remove()}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new fr(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let o=yP[r];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=yP[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(jg.DashCase|jg.Important)?t.style.setProperty(i,n,r&jg.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&jg.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n,r){if(typeof t=="string"&&(t=sd().getGlobalEventTarget(this.doc,t),!t))throw new fr(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,i,o)),this.eventManager.addEventListener(t,i,o,r)}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function jz(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var CP=class extends Lw{sharedStylesHost;hostEl;shadowRoot;constructor(t,i,n,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Yz(r.id,d);for(let h of d){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let u=r.getExternalStyles?.();if(u)for(let h of u){let f=wP(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nw=class extends Lw{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,i,n,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r;let d=n.styles;this.styles=c?Yz(c,d):d,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},uM=class extends Nw{contentAttr;hostAttr;constructor(t,i,n,r,o,s,a,l,c){let d=r+"-"+n.id;super(t,i,n,o,s,a,l,c,d),this.contentAttr=pse(d),this.hostAttr=mse(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}};var fM=class e extends Ew{supportsDOMEvents=!0;static makeCurrent(){dP(new e)}onAndCancel(t,i,n,r){return t.addEventListener(i,n,r),()=>{t.removeEventListener(i,n,r)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=gse();return i==null?null:vse(i)}resetBaseElement(){Bw=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fw(document.cookie,t)}},Bw=null;function gse(){return Bw=Bw||document.head.querySelector("base"),Bw?Bw.getAttribute("href"):null}function vse(e){return new URL(e,document.baseURI).pathname}var pM=class{addToWindow(t){Rf.getAngularTestability=(n,r=!0)=>{let o=t.findTestabilityInTree(n,r);if(o==null)throw new fr(5103,!1);return o},Rf.getAllAngularTestabilities=()=>t.getAllTestabilities(),Rf.getAllAngularRootElements=()=>t.getAllRootElements();let i=n=>{let r=Rf.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};Rf.frameworkStabilizers||(Rf.frameworkStabilizers=[]),Rf.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,n){if(i==null)return null;let r=t.getTestability(i);return r??(n?sd().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},bse=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),Xz=(()=>{class e extends Ow{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,r,o){return i.addEventListener(n,r,o),()=>this.removeEventListener(i,n,r,o)}removeEventListener(i,n,r,o){return i.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||e)(ji(Qi))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),$z=["alt","control","meta","shift"],_se={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yse={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Kz=(()=>{class e extends Ow{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,n,r,o){let s=e.parseEventName(n),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sd().onAndCancel(i,s.domEventName,a,o))}static parseEventName(i){let n=i.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),$z.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(i,n){let r=_se[i.key]||i.key,o="";return n.indexOf("code.")>-1&&(r=i.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),$z.forEach(s=>{if(s!==r){let a=yse[s];a(i)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(i,n,r){return o=>{e.matchEventFullKeyCode(o,i)&&r.runGuarded(()=>n(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}static \u0275fac=function(n){return new(n||e)(ji(Qi))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();function wse(){fM.makeCurrent()}function Cse(){return new om}function xse(){return z7(document),document}var Sse=[{provide:sm,useValue:lM},{provide:H7,useValue:wse,multi:!0},{provide:Qi,useFactory:xse}],mM=hz(fz,"browser",Sse);var Mse=[{provide:z2,useClass:pM},{provide:iz,useClass:H2,deps:[Si,rP,z2]},{provide:H2,useClass:H2,deps:[Si,rP,z2]}],Ese=[{provide:N7,useValue:"root"},{provide:om,useFactory:Cse},{provide:hM,useClass:Xz,multi:!0,deps:[Qi]},{provide:hM,useClass:Kz,multi:!0,deps:[Qi]},Xg,SP,xP,{provide:Ns,useExisting:Xg},{provide:$g,useClass:bse},[]],Vw=(()=>{class e{constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[...Ese,...Mse],imports:[Yg,pz]})}return e})();var ub=class{},zw=class{},Ud=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=i.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.addHeaderEntry(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}addHeaderEntry(t,i){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var vM=class{encodeKey(t){return Zz(t)}encodeValue(t){return Zz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Dse(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var Tse=/%(\d[a-f0-9])/gi,Ase={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zz(e){return encodeURIComponent(e).replace(Tse,(t,i)=>Ase[i]??t)}function gM(e){return`${e}`}var Nf=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new vM,t.fromString){if(t.fromObject)throw new fr(2805,!1);this.map=Dse(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],r=Array.isArray(n)?n.map(gM):[gM(n)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(gM(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(gM(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var bM=class{map=new Map;set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Rse(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qz(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Jz(e){return typeof Blob<"u"&&e instanceof Blob}function eH(e){return typeof FormData<"u"&&e instanceof FormData}function kse(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var tH="Content-Type",iH="Accept",rH="X-Request-URL",oH="text/plain",sH="application/json",Ise=`${sH}, ${oH}, */*`,db=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,i,n,r){this.url=i,this.method=t.toUpperCase();let o;if(Rse(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ud,this.context??=new bM,!this.params)this.params=new Nf,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qz(this.body)||Jz(this.body)||eH(this.body)||kse(this.body)?this.body:this.body instanceof Nf?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eH(this.body)?null:Jz(this.body)?this.body.type||null:Qz(this.body)?null:typeof this.body=="string"?oH:this.body instanceof Nf?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sH:null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),d)),new e(i,n,s,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Kg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Kg||{}),hb=class{headers;status;statusText;url;ok;type;constructor(t,i=200,n="OK"){this.headers=t.headers||new Ud,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},_M=class e extends hb{constructor(t={}){super(t)}type=Kg.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Hw=class e extends hb{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Kg.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Uw=class extends hb{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Pse=200,Fse=204;function EP(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var cm=(()=>{class e{handler;constructor(i){this.handler=i}request(i,n,r={}){let o;if(i instanceof db)o=i;else{let l;r.headers instanceof Ud?l=r.headers:l=new Ud(r.headers);let c;r.params&&(r.params instanceof Nf?c=r.params:c=new Nf({fromObject:r.params})),o=new db(i,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Xi(o).pipe(Tf(l=>this.handler.handle(l)));if(i instanceof db||r.observe==="events")return s;let a=s.pipe(Dr(l=>l instanceof Hw));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(yn(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new fr(2806,!1);return l.body}));case"blob":return a.pipe(yn(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new fr(2807,!1);return l.body}));case"text":return a.pipe(yn(l=>{if(l.body!==null&&typeof l.body!="string")throw new fr(2808,!1);return l.body}));case"json":default:return a.pipe(yn(l=>l.body))}case"response":return a;default:throw new fr(2809,!1)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:new Nf().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,r={}){return this.request("PATCH",i,EP(r,n))}post(i,n,r={}){return this.request("POST",i,EP(r,n))}put(i,n,r={}){return this.request("PUT",i,EP(r,n))}static \u0275fac=function(n){return new(n||e)(ji(ub))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();var Ose=new Nt("");function aH(e,t){return t(e)}function Lse(e,t){return(i,n)=>t.intercept(i,{handle:r=>e(r,n)})}function Nse(e,t,i){return(n,r)=>Pd(i,()=>t(n,o=>e(o,r)))}var lH=new Nt(""),TP=new Nt(""),cH=new Nt(""),AP=new Nt("",{providedIn:"root",factory:()=>!0});function Bse(){let e=null;return(t,i)=>{e===null&&(e=(j(lH,{optional:!0})??[]).reduceRight(Lse,aH));let n=j(_w);if(j(AP)){let o=n.add();return e(t,i).pipe(Af(()=>n.remove(o)))}else return e(t,i)}}var yM=(()=>{class e extends ub{backend;injector;chain=null;pendingTasks=j(_w);contributeToStability=j(AP);constructor(i,n){super(),this.backend=i,this.injector=n}handle(i){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(TP),...this.injector.get(cH,[])]));this.chain=n.reduceRight((r,o)=>Nse(r,o,this.injector),aH)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(i,r=>this.backend.handle(r)).pipe(Af(()=>this.pendingTasks.remove(n)))}else return this.chain(i,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||e)(ji(zw),ji(tc))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();var Vse=/^\)\]\}',?\n/,zse=RegExp(`^${rH}:`,"m");function Hse(e){return"responseURL"in e&&e.responseURL?e.responseURL:zse.test(e.getAllResponseHeaders())?e.getResponseHeader(rH):null}var DP=(()=>{class e{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new fr(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Da(n.\u0275loadImpl()):Xi(null)).pipe(bs(()=>new nd(o=>{let s=n.build();if(s.open(i.method,i.urlWithParams),i.withCredentials&&(s.withCredentials=!0),i.headers.forEach((v,m)=>s.setRequestHeader(v,m.join(","))),i.headers.has(iH)||s.setRequestHeader(iH,Ise),!i.headers.has(tH)){let v=i.detectContentTypeHeader();v!==null&&s.setRequestHeader(tH,v)}if(i.responseType){let v=i.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=i.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",m=new Ud(s.getAllResponseHeaders()),g=Hse(s)||i.url;return l=new _M({headers:m,status:s.status,statusText:v,url:g}),l},d=()=>{let{headers:v,status:m,statusText:g,url:b}=c(),w=null;m!==Fse&&(w=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=w?Pse:0);let x=m>=200&&m<300;if(i.responseType==="json"&&typeof w=="string"){let R=w;w=w.replace(Vse,"");try{w=w!==""?JSON.parse(w):null}catch(_){w=R,x&&(x=!1,w={error:_,text:w})}}x?(o.next(new Hw({body:w,headers:v,status:m,statusText:g,url:b||void 0})),o.complete()):o.error(new Uw({error:w,headers:v,status:m,statusText:g,url:b||void 0}))},u=v=>{let{url:m}=c(),g=new Uw({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(g)},h=!1,f=v=>{h||(o.next(c()),h=!0);let m={type:Kg.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),i.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=v=>{let m={type:Kg.UploadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),o.next(m)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),i.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Kg.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),i.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||e)(ji($g))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),dH=new Nt(""),Use="XSRF-TOKEN",Gse=new Nt("",{providedIn:"root",factory:()=>Use}),Wse="X-XSRF-TOKEN",jse=new Nt("",{providedIn:"root",factory:()=>Wse}),Gw=class{},qse=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,n){this.doc=i,this.cookieName=n}getToken(){let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fw(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(n){return new(n||e)(ji(Qi),ji(Gse))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),Yse=/^(?:https?:)?\/\//i;function $se(e,t){if(!j(dH)||e.method==="GET"||e.method==="HEAD"||Yse.test(e.url))return t(e);let i=j(Gw).getToken(),n=j(jse);return i!=null&&!e.headers.has(n)&&(e=e.clone({headers:e.headers.set(n,i)})),t(e)}var RP=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(RP||{});function Xse(e,t){return{\u0275kind:e,\u0275providers:t}}function uH(...e){let t=[cm,DP,yM,{provide:ub,useExisting:yM},{provide:zw,useFactory:()=>j(Ose,{optional:!0})??j(DP)},{provide:TP,useValue:$se,multi:!0},{provide:dH,useValue:!0},{provide:Gw,useClass:qse}];for(let i of e)t.push(...i.\u0275providers);return rm(t)}var nH=new Nt("");function hH(){return Xse(RP.LegacyInterceptors,[{provide:nH,useFactory:Bse},{provide:TP,useExisting:nH,multi:!0}])}var kP=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[uH(hH())]})}return e})();var fH=(()=>{class e{_doc;constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static \u0275fac=function(n){return new(n||e)(ji(Qi))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ww=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:function(n){let r=null;return n?r=new(n||e):r=ji(Zse),r},providedIn:"root"})}return e})(),Zse=(()=>{class e extends Ww{_doc;constructor(i){super(),this._doc=i}sanitize(i,n){if(n==null)return null;switch(i){case ic.NONE:return n;case ic.HTML:return sb(n,"HTML")?Wg(n):X7(this._doc,String(n)).toString();case ic.STYLE:return sb(n,"Style")?Wg(n):n;case ic.SCRIPT:if(sb(n,"Script"))return Wg(n);throw new fr(5200,!1);case ic.URL:return sb(n,"URL")?Wg(n):$7(String(n));case ic.RESOURCE_URL:if(sb(n,"ResourceURL"))return Wg(n);throw new fr(5201,!1);default:throw new fr(5202,!1)}}bypassSecurityTrustHtml(i){return G7(i)}bypassSecurityTrustStyle(i){return W7(i)}bypassSecurityTrustScript(i){return j7(i)}bypassSecurityTrustUrl(i){return q7(i)}bypassSecurityTrustResourceUrl(i){return Y7(i)}static \u0275fac=function(n){return new(n||e)(ji(Qi))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mr="primary",nC=Symbol("RouteTitle"),NP=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Jg(e){return new NP(e)}function wH(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function Qse(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!bh(e[i],t[i]))return!1;return!0}function bh(e,t){let i=e?BP(e):void 0,n=t?BP(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!CH(e[r],t[r]))return!1;return!0}function BP(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function CH(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,o)=>n[o]===r)}else return e===t}function xH(e){return e.length>0?e[e.length-1]:null}function pm(e){return j3(e)?e:Cw(e)?Da(Promise.resolve(e)):Xi(e)}var Jse={exact:MH,subset:EH},SH={exact:eae,subset:tae,ignored:()=>!0};function pH(e,t,i){return Jse[i.paths](e.root,t.root,i.matrixParams)&&SH[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function eae(e,t){return bh(e,t)}function MH(e,t,i){if(!Zg(e.segments,t.segments)||!SM(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!MH(e.children[n],t.children[n],i))return!1;return!0}function tae(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>CH(e[i],t[i]))}function EH(e,t,i){return DH(e,t,t.segments,i)}function DH(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!Zg(r,i)||t.hasChildren()||!SM(r,i,n))}else if(e.segments.length===i.length){if(!Zg(e.segments,i)||!SM(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!EH(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!Zg(e.segments,r)||!SM(e.segments,r,n)||!e.children[mr]?!1:DH(e.children[mr],t,o,n)}}function SM(e,t,i){return t.every((n,r)=>SH[i](e[r].parameters,n.parameters))}var yh=class{root;queryParams;fragment;_queryParamMap;constructor(t=new uo([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Jg(this.queryParams),this._queryParamMap}toString(){return rae.serialize(this)}},uo=class{segments;children;parent=null;constructor(t,i){this.segments=t,this.children=i,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return MM(this)}},dm=class{path;parameters;_parameterMap;constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Jg(this.parameters),this._parameterMap}toString(){return AH(this)}};function iae(e,t){return Zg(e,t)&&e.every((i,n)=>bh(i.parameters,t[n].parameters))}function Zg(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function nae(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===mr&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==mr&&(i=i.concat(t(r,n)))}),i}var e0=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>new um,providedIn:"root"})}return e})(),um=class{parse(t){let i=new zP(t);return new yh(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${jw(t.root,!0)}`,n=aae(t.queryParams),r=typeof t.fragment=="string"?`#${oae(t.fragment)}`:"";return`${i}${n}${r}`}},rae=new um;function MM(e){return e.segments.map(t=>AH(t)).join("/")}function jw(e,t){if(!e.hasChildren())return MM(e);if(t){let i=e.children[mr]?jw(e.children[mr],!1):"",n=[];return Object.entries(e.children).forEach(([r,o])=>{r!==mr&&n.push(`${r}:${jw(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=nae(e,(n,r)=>r===mr?[jw(e.children[mr],!1)]:[`${r}:${jw(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[mr]!=null?`${MM(e)}/${i[0]}`:`${MM(e)}/(${i.join("//")})`}}function TH(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CM(e){return TH(e).replace(/%3B/gi,";")}function oae(e){return encodeURI(e)}function VP(e){return TH(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function EM(e){return decodeURIComponent(e)}function mH(e){return EM(e.replace(/\+/g,"%20"))}function AH(e){return`${VP(e.path)}${sae(e.parameters)}`}function sae(e){return Object.entries(e).map(([t,i])=>`;${VP(t)}=${VP(i)}`).join("")}function aae(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${CM(i)}=${CM(r)}`).join("&"):`${CM(i)}=${CM(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var lae=/^[^\/()?;#]+/;function PP(e){let t=e.match(lae);return t?t[0]:""}var cae=/^[^\/()?;=#]+/;function dae(e){let t=e.match(cae);return t?t[0]:""}var uae=/^[^=?&#]+/;function hae(e){let t=e.match(uae);return t?t[0]:""}var fae=/^[^&#]+/;function pae(e){let t=e.match(fae);return t?t[0]:""}var zP=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new uo([],{}):new uo([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[mr]=new uo(t,i)),n}parseSegment(){let t=PP(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new fr(4009,!1);return this.capture(t),new dm(EM(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=dae(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=PP(this.remaining);r&&(n=r,this.capture(n))}t[EM(i)]=EM(n)}parseQueryParam(t){let i=hae(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=pae(this.remaining);s&&(n=s,this.capture(n))}let r=mH(i),o=mH(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=PP(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new fr(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=mr);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[mr]:new uo([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new fr(4011,!1)}};function RH(e){return e.segments.length>0?new uo([],{[mr]:e}):e}function kH(e){let t={};for(let[n,r]of Object.entries(e.children)){let o=kH(r);if(n===mr&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new uo(e.segments,t);return mae(i)}function mae(e){if(e.numberOfChildren===1&&e.children[mr]){let t=e.children[mr];return new uo(e.segments.concat(t.segments),t.children)}return e}function hm(e){return e instanceof yh}function IH(e,t,i=null,n=null){let r=PH(e);return FH(r,t,i,n)}function PH(e){let t;function i(o){let s={};for(let l of o.children){let c=i(l);s[l.outlet]=c}let a=new uo(o.url,s);return o===e&&(t=a),a}let n=i(e.root),r=RH(n);return t??r}function FH(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return FP(r,r,r,i,n);let o=gae(t);if(o.toRoot())return FP(r,r,new uo([],{}),i,n);let s=vae(o,r,e),a=s.processChildren?Yw(s.segmentGroup,s.index,o.commands):LH(s.segmentGroup,s.index,o.commands);return FP(r,s.segmentGroup,a,i,n)}function TM(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Xw(e){return typeof e=="object"&&e!=null&&e.outlets}function FP(e,t,i,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=i:s=OH(e,t,i);let a=RH(kH(s));return new yh(a,o,r)}function OH(e,t,i){let n={};return Object.entries(e.children).forEach(([r,o])=>{o===t?n[r]=i:n[r]=OH(o,t,i)}),new uo(e.segments,n)}var AM=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&TM(n[0]))throw new fr(4003,!1);let r=n.find(Xw);if(r&&r!==xH(n))throw new fr(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gae(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new AM(!0,0,e);let t=0,i=!1,n=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new AM(i,t,n)}var mb=class{segmentGroup;processChildren;index;constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function vae(e,t,i){if(e.isAbsolute)return new mb(t,!0,0);if(!i)return new mb(t,!1,NaN);if(i.parent===null)return new mb(i,!0,0);let n=TM(e.commands[0])?0:1,r=i.segments.length-1+n;return bae(i,r,e.numberOfDoubleDots)}function bae(e,t,i){let n=e,r=t,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new fr(4005,!1);r=n.segments.length}return new mb(n,!1,r-o)}function _ae(e){return Xw(e[0])?e[0].outlets:{[mr]:e}}function LH(e,t,i){if(e??=new uo([],{}),e.segments.length===0&&e.hasChildren())return Yw(e,t,i);let n=yae(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new uo(e.segments.slice(0,n.pathIndex),{});return o.children[mr]=new uo(e.segments.slice(n.pathIndex),e.children),Yw(o,0,r)}else return n.match&&r.length===0?new uo(e.segments,{}):n.match&&!e.hasChildren()?HP(e,t,i):n.match?Yw(e,0,r):HP(e,t,i)}function Yw(e,t,i){if(i.length===0)return new uo(e.segments,{});{let n=_ae(i),r={};if(Object.keys(n).some(o=>o!==mr)&&e.children[mr]&&e.numberOfChildren===1&&e.children[mr].segments.length===0){let o=Yw(e.children[mr],t,i);return new uo(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=LH(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new uo(e.segments,r)}}function yae(e,t,i){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return o;let s=e.segments[r],a=i[n];if(Xw(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!vH(l,c,s))return o;n+=2}else{if(!vH(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function HP(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(Xw(o)){let l=wae(o.outlets);return new uo(n,l)}if(r===0&&TM(i[0])){let l=e.segments[t];n.push(new dm(l.path,gH(i[0]))),r++;continue}let s=Xw(o)?o.outlets[mr]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&TM(a)?(n.push(new dm(s,gH(a))),r+=2):(n.push(new dm(s,{})),r++)}return new uo(n,{})}function wae(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=HP(new uo([],{}),0,n))}),t}function gH(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function vH(e,t,i){return e==i.path&&bh(t,i.parameters)}var DM="imperative",Ra=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ra||{}),ld=class{id;url;constructor(t,i){this.id=t,this.url=i}},fm=class extends ld{type=Ra.NavigationStart;navigationTrigger;restoredState;constructor(t,i,n="imperative",r=null){super(t,i),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cd=class extends ld{urlAfterRedirects;type=Ra.NavigationEnd;constructor(t,i,n){super(t,i),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cc=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Cc||{}),vb=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(vb||{}),_h=class extends ld{reason;code;type=Ra.NavigationCancel;constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wh=class extends ld{reason;code;type=Ra.NavigationSkipped;constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r}},bb=class extends ld{error;target;type=Ra.NavigationError;constructor(t,i,n,r){super(t,i),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kw=class extends ld{urlAfterRedirects;state;type=Ra.RoutesRecognized;constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RM=class extends ld{urlAfterRedirects;state;type=Ra.GuardsCheckStart;constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kM=class extends ld{urlAfterRedirects;state;shouldActivate;type=Ra.GuardsCheckEnd;constructor(t,i,n,r,o){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},IM=class extends ld{urlAfterRedirects;state;type=Ra.ResolveStart;constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},PM=class extends ld{urlAfterRedirects;state;type=Ra.ResolveEnd;constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FM=class{route;type=Ra.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},OM=class{route;type=Ra.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},LM=class{snapshot;type=Ra.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},NM=class{snapshot;type=Ra.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},BM=class{snapshot;type=Ra.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},VM=class{snapshot;type=Ra.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_b=class{routerEvent;position;anchor;type=Ra.Scroll;constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Zw=class{},yb=class{url;navigationBehaviorOptions;constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function Cae(e,t){return e.providers&&!e._injector&&(e._injector=V2(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Tu(e){return e.outlet||mr}function xae(e,t){let i=e.filter(n=>Tu(n)===t);return i.push(...e.filter(n=>Tu(n)!==t)),i}function rC(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var zM=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rC(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new t0(this.rootInjector)}},t0=(()=>{class e{rootInjector;contexts=new Map;constructor(i){this.rootInjector=i}onChildOutletCreated(i,n){let r=this.getOrCreateContext(i);r.outlet=n,this.contexts.set(i,r)}onChildOutletDestroyed(i){let n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new zM(this.rootInjector),this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}static \u0275fac=function(n){return new(n||e)(ji(tc))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),HM=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=UP(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=UP(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=GP(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return GP(t,this._root).map(i=>i.value)}};function UP(e,t){if(e===t.value)return t;for(let i of t.children){let n=UP(e,i);if(n)return n}return null}function GP(e,t){if(e===t.value)return[t];for(let i of t.children){let n=GP(e,i);if(n.length)return n.unshift(t),n}return[]}var ad=class{value;children;constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function pb(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var Qw=class extends HM{snapshot;constructor(t,i){super(t),this.snapshot=i,ZP(this,t)}toString(){return this.snapshot.toString()}};function NH(e){let t=Sae(e),i=new Ha([new dm("",{})]),n=new Ha({}),r=new Ha({}),o=new Ha({}),s=new Ha(""),a=new Au(i,n,o,s,r,mr,e,t.root);return a.snapshot=t.root,new Qw(new ad(a,[]),t)}function Sae(e){let t={},i={},n={},r="",o=new Qg([],t,n,r,i,mr,e,null,{});return new Jw("",new ad(o,[]))}var Au=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,i,n,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(yn(c=>c[nC]))??Xi(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(yn(t=>Jg(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(yn(t=>Jg(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function UM(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:Ie(Ie({},t.params),e.params),data:Ie(Ie({},t.data),e.data),resolve:Ie(Ie(Ie(Ie({},e.data),t.data),r?.data),e._resolvedData)}:n={params:Ie({},e.params),data:Ie({},e.data),resolve:Ie(Ie({},e.data),e._resolvedData??{})},r&&VH(r)&&(n.resolve[nC]=r.title),n}var Qg=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nC]}constructor(t,i,n,r,o,s,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jg(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jg(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Jw=class extends HM{url;constructor(t,i){super(i),this.url=t,ZP(this,i)}toString(){return BH(this._root)}};function ZP(e,t){t.value._routerState=e,t.children.forEach(i=>ZP(e,i))}function BH(e){let t=e.children.length>0?` { ${e.children.map(BH).join(", ")} } `:"";return`${e.value}${t}`}function OP(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,bh(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),bh(t.params,i.params)||e.paramsSubject.next(i.params),Qse(t.url,i.url)||e.urlSubject.next(i.url),bh(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function WP(e,t){let i=bh(e.params,t.params)&&iae(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||WP(e.parent,t.parent))}function VH(e){return typeof e.title=="string"||e.title===null}var zH=new Nt(""),oC=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=mr;activateEvents=new et;deactivateEvents=new et;attachEvents=new et;detachEvents=new et;routerOutletData=V7(void 0);parentContexts=j(t0);location=j(Bo);changeDetector=j(An);inputBinder=j(sC,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(i){if(i.name){let{firstChange:n,previousValue:r}=i.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fr(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fr(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fr(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new fr(4013,!1);this._activatedRoute=i;let r=this.location,s=i.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jP(i,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gn]})}return e})(),jP=class{route;childContexts;parent;outletData;constructor(t,i,n,r){this.route=t,this.childContexts=i,this.parent=n,this.outletData=r}get(t,i){return t===Au?this.route:t===t0?this.childContexts:t===zH?this.outletData:this.parent.get(t,i)}},sC=new Nt(""),QP=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:n}=i,r=rb([n.queryParams,n.params,n.data]).pipe(bs(([o,s,a],l)=>(a=Ie(Ie(Ie({},o),s),a),l===0?Xi(a):Promise.resolve(a)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(i);return}let s=mz(n.component);if(!s){this.unsubscribeFromRouteData(i);return}for(let{templateName:a}of s.inputs)i.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(i,r)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),JP=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&Dt(0,"router-outlet")},dependencies:[oC],encapsulation:2})}return e})();function eF(e){let t=e.children&&e.children.map(eF),i=t?Zt(Ie({},e),{children:t}):Ie({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==mr&&(i.component=JP),i}function Mae(e,t,i){let n=eC(e,t._root,i?i._root:void 0);return new Qw(n,t)}function eC(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=Eae(e,t,i);return new ad(n,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>eC(e,a)),s}}let n=Dae(t.value),r=t.children.map(o=>eC(e,o));return new ad(n,r)}}function Eae(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return eC(e,n,r);return eC(e,n)})}function Dae(e){return new Au(new Ha(e.url),new Ha(e.params),new Ha(e.queryParams),new Ha(e.fragment),new Ha(e.data),e.outlet,e.component,e)}var wb=class{redirectTo;navigationBehaviorOptions;constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},HH="ngNavigationCancelingError";function GM(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=hm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=UH(!1,Cc.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function UH(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[HH]=!0,i.cancellationCode=t,i}function Tae(e){return GH(e)&&hm(e.url)}function GH(e){return!!e&&e[HH]}var Aae=(e,t,i,n)=>yn(r=>(new qP(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),qP=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,i,n,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),OP(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=pb(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=pb(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=pb(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=pb(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new VM(o.value.snapshot))}),t.children.length&&this.forwardEvent(new NM(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(OP(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),OP(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},WM=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},gb=class{component;route;constructor(t,i){this.component=t,this.route=i}};function Rae(e,t,i){let n=e._root,r=t?t._root:null;return qw(n,r,i,[n.value])}function kae(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function xb(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!L7(e)?e:t.get(e):n}function qw(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=pb(t);return e.children.forEach(s=>{Iae(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$w(a,i.getContext(s),r)),r}function Iae(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Pae(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new WM(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qw(e,t,a?a.children:null,n,r):qw(e,t,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new gb(a.outlet.component,s))}else s&&$w(t,a,r),r.canActivateChecks.push(new WM(n)),o.component?qw(e,null,a?a.children:null,n,r):qw(e,null,i,n,r);return r}function Pae(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!Zg(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zg(e.url,t.url)||!bh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WP(e,t)||!bh(e.queryParams,t.queryParams);case"paramsChange":default:return!WP(e,t)}}function $w(e,t,i){let n=pb(e),r=e.value;Object.entries(n).forEach(([o,s])=>{r.component?t?$w(s,t.children.getContext(o),i):$w(s,null,i):$w(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new gb(t.outlet.component,r)):i.canDeactivateChecks.push(new gb(null,r)):i.canDeactivateChecks.push(new gb(null,r))}function aC(e){return typeof e=="function"}function Fae(e){return typeof e=="boolean"}function Oae(e){return e&&aC(e.canLoad)}function Lae(e){return e&&aC(e.canActivate)}function Nae(e){return e&&aC(e.canActivateChild)}function Bae(e){return e&&aC(e.canDeactivate)}function Vae(e){return e&&aC(e.canMatch)}function WH(e){return e instanceof A7||e?.name==="EmptyError"}var xM=Symbol("INITIAL_VALUE");function Cb(){return bs(e=>rb(e.map(t=>t.pipe(ts(1),Qr(xM)))).pipe(yn(t=>{for(let i of t)if(i!==!0){if(i===xM)return xM;if(i===!1||zae(i))return i}return!0}),Dr(t=>t!==xM),ts(1)))}function zae(e){return hm(e)||e instanceof wb}function Hae(e,t){return yc(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?Xi(Zt(Ie({},i),{guardsResult:!0})):Uae(s,n,r,e).pipe(yc(a=>a&&Fae(a)?Gae(n,o,e,t):Xi(a)),yn(a=>Zt(Ie({},i),{guardsResult:a})))})}function Uae(e,t,i,n){return Da(e).pipe(yc(r=>$ae(r.component,r.route,i,t,n)),nm(r=>r!==!0,!0))}function Gae(e,t,i,n){return Da(t).pipe(Tf(r=>P2(jae(r.route.parent,n),Wae(r.route,n),Yae(e,r.path,i),qae(e,r.route,i))),nm(r=>r!==!0,!0))}function Wae(e,t){return e!==null&&t&&t(new BM(e)),Xi(!0)}function jae(e,t){return e!==null&&t&&t(new LM(e)),Xi(!0)}function qae(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Xi(!0);let r=n.map(o=>Df(()=>{let s=rC(t)??i,a=xb(o,s),l=Lae(a)?a.canActivate(t,e):Pd(s,()=>a(t,e));return pm(l).pipe(nm())}));return Xi(r).pipe(Cb())}function Yae(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>kae(s)).filter(s=>s!==null).map(s=>Df(()=>{let a=s.guards.map(l=>{let c=rC(s.node)??i,d=xb(l,c),u=Nae(d)?d.canActivateChild(n,e):Pd(c,()=>d(n,e));return pm(u).pipe(nm())});return Xi(a).pipe(Cb())}));return Xi(o).pipe(Cb())}function $ae(e,t,i,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Xi(!0);let s=o.map(a=>{let l=rC(t)??r,c=xb(a,l),d=Bae(c)?c.canDeactivate(e,t,i,n):Pd(l,()=>c(e,t,i,n));return pm(d).pipe(nm())});return Xi(s).pipe(Cb())}function Xae(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return Xi(!0);let o=r.map(s=>{let a=xb(s,e),l=Oae(a)?a.canLoad(t,i):Pd(e,()=>a(t,i));return pm(l)});return Xi(o).pipe(Cb(),jH(n))}function jH(e){return T7(_s(t=>{if(typeof t!="boolean")throw GM(e,t)}),yn(t=>t===!0))}function Kae(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return Xi(!0);let o=r.map(s=>{let a=xb(s,e),l=Vae(a)?a.canMatch(t,i):Pd(e,()=>a(t,i));return pm(l)});return Xi(o).pipe(Cb(),jH(n))}var tC=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},iC=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function fb(e){return Ef(new tC(e))}function Zae(e){return Ef(new fr(4e3,!1))}function Qae(e){return Ef(UH(!1,Cc.GuardRejected))}var YP=class{urlSerializer;urlTree;constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Xi(n);if(r.numberOfChildren>1||!r.children[mr])return Zae(`${t.redirectTo}`);r=r.children[mr]}}applyRedirectCommands(t,i,n,r,o){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:f,data:p,title:v}=r,m=Pd(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:v}));if(m instanceof yh)throw new iC(m);i=m}let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i[0]==="/")throw new iC(s);return s}applyRedirectCreateUrlTree(t,i,n,r){let o=this.createSegmentGroup(t,i.root,n,r);return new yh(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(t,i,n,r){let o=this.createSegments(t,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,r)}),new uo(o,s)}createSegments(t,i,n,r){return i.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new fr(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},$P={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jae(e,t,i,n,r){let o=qH(e,t,i);return o.matched?(n=Cae(t,n),Kae(n,t,i,r).pipe(yn(s=>s===!0?o:Ie({},$P)))):Xi(o)}function qH(e,t,i){if(t.path==="**")return ele(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?Ie({},$P):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||wH)(i,e,t);if(!r)return Ie({},$P);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Ie(Ie({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function ele(e){return{matched:!0,parameters:e.length>0?xH(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function bH(e,t,i,n){return i.length>0&&nle(e,i,n)?{segmentGroup:new uo(t,ile(n,new uo(i,e.children))),slicedSegments:[]}:i.length===0&&rle(e,i,n)?{segmentGroup:new uo(e.segments,tle(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new uo(e.segments,e.children),slicedSegments:i}}function tle(e,t,i,n){let r={};for(let o of i)if(qM(e,t,o)&&!n[Tu(o)]){let s=new uo([],{});r[Tu(o)]=s}return Ie(Ie({},n),r)}function ile(e,t){let i={};i[mr]=t;for(let n of e)if(n.path===""&&Tu(n)!==mr){let r=new uo([],{});i[Tu(n)]=r}return i}function nle(e,t,i){return i.some(n=>qM(e,t,n)&&Tu(n)!==mr)}function rle(e,t,i){return i.some(n=>qM(e,t,n))}function qM(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function ole(e,t,i){return t.length===0&&!e.children[i]}var XP=class{};function sle(e,t,i,n,r,o,s="emptyOnly"){return new KP(e,t,i,n,r,s,o).recognize()}var ale=31,KP=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,i,n,r,o,s,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new YP(this.urlSerializer,this.urlTree)}noMatchError(t){return new fr(4002,`'${t.segmentGroup}'`)}recognize(){let t=bH(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(yn(({children:i,rootSnapshot:n})=>{let r=new ad(n,i),o=new Jw("",r),s=IH(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let i=new Qg([],Object.freeze({}),Object.freeze(Ie({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),mr,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,mr,i).pipe(yn(n=>({children:n,rootSnapshot:i})),rd(n=>{if(n instanceof iC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof tC?this.noMatchError(n):n}))}processSegmentGroup(t,i,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n,o):this.processSegment(t,i,n,n.segments,r,!0,o).pipe(yn(s=>s instanceof ad?[s]:[]))}processChildren(t,i,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return Da(o).pipe(Tf(s=>{let a=n.children[s],l=xae(i,s);return this.processSegmentGroup(t,l,a,s,r)}),P7((s,a)=>(s.push(...a),s)),Y3(null),I7(),yc(s=>{if(s===null)return fb(n);let a=YH(s);return lle(a),Xi(a)}))}processSegment(t,i,n,r,o,s,a){return Da(i).pipe(Tf(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,n,r,o,s,a).pipe(rd(c=>{if(c instanceof tC)return Xi(null);throw c}))),nm(l=>!!l),rd(l=>{if(WH(l))return ole(n,r,o)?Xi(new XP):fb(n);throw l}))}processSegmentAgainstRoute(t,i,n,r,o,s,a,l){return Tu(n)!==s&&(s===mr||!qM(r,o,n))?fb(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s,l):fb(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=qH(i,r,o);if(!l)return fb(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ale&&(this.allowRedirects=!1));let f=new Qg(o,c,Object.freeze(Ie({},this.urlTree.queryParams)),this.urlTree.fragment,_H(r),Tu(r),r.component??r._loadedComponent??null,r,yH(r)),p=UM(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,f,t);return this.applyRedirects.lineralizeSegments(r,v).pipe(yc(m=>this.processSegment(t,n,i,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,i,n,r,o,s){let a=Jae(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(bs(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(bs(({routes:c})=>{let d=n._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:f}=l,p=new Qg(h,u,Object.freeze(Ie({},this.urlTree.queryParams)),this.urlTree.fragment,_H(n),Tu(n),n.component??n._loadedComponent??null,n,yH(n)),v=UM(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let{segmentGroup:m,slicedSegments:g}=bH(i,h,f,c);if(g.length===0&&m.hasChildren())return this.processChildren(d,c,m,p).pipe(yn(w=>new ad(p,w)));if(c.length===0&&g.length===0)return Xi(new ad(p,[]));let b=Tu(n)===o;return this.processSegment(d,c,m,g,b?mr:o,!0,p).pipe(yn(w=>new ad(p,w instanceof ad?[w]:[])))}))):fb(i)))}getChildConfig(t,i,n){return i.children?Xi({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?Xi({routes:i._loadedRoutes,injector:i._loadedInjector}):Xae(t,i,n,this.urlSerializer).pipe(yc(r=>r?this.configLoader.loadChildren(t,i).pipe(_s(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):Qae(i))):Xi({routes:[],injector:t})}};function lle(e){e.sort((t,i)=>t.value.outlet===mr?-1:i.value.outlet===mr?1:t.value.outlet.localeCompare(i.value.outlet))}function cle(e){let t=e.value.routeConfig;return t&&t.path===""}function YH(e){let t=[],i=new Set;for(let n of e){if(!cle(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=YH(n.children);t.push(new ad(n.value,r))}return t.filter(n=>!i.has(n))}function _H(e){return e.data||{}}function yH(e){return e.resolve||{}}function dle(e,t,i,n,r,o){return yc(s=>sle(e,t,i,n,s.extractedUrl,r,o).pipe(yn(({state:a,tree:l})=>Zt(Ie({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ule(e,t){return yc(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return Xi(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $H(l))s.add(c);let a=0;return Da(s).pipe(Tf(l=>o.has(l)?hle(l,n,e,t):(l.data=UM(l,l.parent,e).resolve,Xi(void 0))),_s(()=>a++),K3(1),yc(l=>a===s.size?Xi(i):xu))})}function $H(e){let t=e.children.map(i=>$H(i)).flat();return[e,...t]}function hle(e,t,i,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!VH(r)&&(o[nC]=r.title),fle(o,e,t,n).pipe(yn(s=>(e._resolvedData=s,e.data=UM(e,e.parent,i).resolve,null)))}function fle(e,t,i,n){let r=BP(e);if(r.length===0)return Xi({});let o={};return Da(r).pipe(yc(s=>ple(e[s],t,i,n).pipe(nm(),_s(a=>{if(a instanceof wb)throw GM(new um,a);o[s]=a}))),K3(1),yn(()=>o),rd(s=>WH(s)?xu:Ef(s)))}function ple(e,t,i,n){let r=rC(t)??n,o=xb(e,r),s=o.resolve?o.resolve(t,i):Pd(r,()=>o(t,i));return pm(s)}function LP(e){return bs(t=>{let i=e(t);return i?Da(i).pipe(yn(()=>t)):Xi(t)})}var tF=(()=>{class e{buildTitle(i){let n,r=i.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===mr);return n}getResolvedTitleForRoute(i){return i.data[nC]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>j(XH),providedIn:"root"})}return e})(),XH=(()=>{class e extends tF{title;constructor(i){super(),this.title=i}updateTitle(i){let n=this.buildTitle(i);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||e)(ji(fH))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),i0=new Nt("",{providedIn:"root",factory:()=>({})}),Sb=new Nt(""),YM=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=j(uz);loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Xi(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=pm(i.loadComponent()).pipe(yn(ZH),_s(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Af(()=>{this.componentLoaders.delete(i)})),r=new U3(n,()=>new Yt).pipe(H3());return this.componentLoaders.set(i,r),r}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Xi({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=KH(n,this.compiler,i,this.onLoadEndListener).pipe(Af(()=>{this.childrenLoaders.delete(n)})),s=new U3(o,()=>new Yt).pipe(H3());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KH(e,t,i,n){return pm(e.loadChildren()).pipe(yn(ZH),yc(r=>r instanceof J7||Array.isArray(r)?Xi(r):Da(t.compileModuleAsync(r))),yn(r=>{n&&n(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(Sb,[],{optional:!0,self:!0}).flat()),{routes:s.map(eF),injector:o}}))}function mle(e){return e&&typeof e=="object"&&"default"in e}function ZH(e){return mle(e)?e.default:e}var $M=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>j(gle),providedIn:"root"})}return e})(),gle=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iF=new Nt(""),nF=new Nt("");function QH(e,t,i){let n=e.get(nF),r=e.get(Qi);return e.get(Si).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),vle(e))),{onViewTransitionCreated:l}=n;return l&&Pd(e,()=>l({transition:a,from:t,to:i})),s})}function vle(e){return new Promise(t=>{ys({read:()=>setTimeout(t)},{injector:e})})}var rF=new Nt(""),XM=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Yt;transitionAbortSubject=new Yt;configLoader=j(YM);environmentInjector=j(tc);destroyRef=j(tP);urlSerializer=j(e0);rootContexts=j(t0);location=j(mh);inputBindingEnabled=j(sC,{optional:!0})!==null;titleStrategy=j(tF);options=j(i0,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=j($M);createViewTransition=j(iF,{optional:!0});navigationErrorHandler=j(rF,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Xi(void 0);rootComponentType=null;destroyed=!1;constructor(){let i=r=>this.events.next(new FM(r)),n=r=>this.events.next(new OM(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=i,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(i){let n=++this.navigationId;this.transitions?.next(Zt(Ie({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(i){return this.transitions=new Ha(null),this.transitions.pipe(Dr(n=>n!==null),bs(n=>{let r=!1,o=!1;return Xi(n).pipe(bs(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Cc.SupersededByNewNavigation),xu;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Zt(Ie({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new wh(s.id,this.urlSerializer.serialize(s.rawUrl),c,vb.IgnoredSameUrlNavigation)),s.resolve(!1),xu}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Xi(s).pipe(bs(c=>(this.events.next(new fm(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?xu:Promise.resolve(c))),dle(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),_s(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Zt(Ie({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new Kw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:u,restoredState:h,extras:f}=s,p=new fm(c,this.urlSerializer.serialize(d),u,h);this.events.next(p);let v=NH(this.rootComponentType).snapshot;return this.currentTransition=n=Zt(Ie({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:Zt(Ie({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Xi(n)}else{let c="";return this.events.next(new wh(s.id,this.urlSerializer.serialize(s.extractedUrl),c,vb.IgnoredByUrlHandlingStrategy)),s.resolve(!1),xu}}),_s(s=>{let a=new RM(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),yn(s=>(this.currentTransition=n=Zt(Ie({},s),{guards:Rae(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),Hae(this.environmentInjector,s=>this.events.next(s)),_s(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw GM(this.urlSerializer,s.guardsResult);let a=new kM(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Dr(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Cc.GuardRejected),!1)),LP(s=>{if(s.guards.canActivateChecks.length!==0)return Xi(s).pipe(_s(a=>{let l=new IM(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),bs(a=>{let l=!1;return Xi(a).pipe(ule(this.paramsInheritanceStrategy,this.environmentInjector),_s({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Cc.NoDataFromResolver)}}))}),_s(a=>{let l=new PM(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),LP(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(_s(d=>{l.component=d}),yn(()=>{})));for(let d of l.children)c.push(...a(d));return c};return rb(a(s.targetSnapshot.root)).pipe(Y3(null),ts(1))}),LP(()=>this.afterPreactivation()),bs(()=>{let{currentSnapshot:s,targetSnapshot:a}=n,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Da(l).pipe(yn(()=>n)):Xi(n)}),yn(s=>{let a=Mae(i.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=Zt(Ie({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,n}),_s(()=>{this.events.next(new Zw)}),Aae(this.rootContexts,i.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ts(1),_s({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),kn(this.transitionAbortSubject.pipe(_s(s=>{throw s}))),Af(()=>{!r&&!o&&this.cancelNavigationTransition(n,"",Cc.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),rd(s=>{if(this.destroyed)return n.resolve(!1),xu;if(o=!0,GH(s))this.events.next(new _h(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),Tae(s)?this.events.next(new yb(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let a=new bb(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let l=Pd(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof wb){let{message:c,cancellationCode:d}=GM(this.urlSerializer,l);this.events.next(new _h(n.id,this.urlSerializer.serialize(n.extractedUrl),c,d)),this.events.next(new yb(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return xu}))}))}cancelNavigationTransition(i,n,r){let o=new _h(i.id,this.urlSerializer.serialize(i.extractedUrl),n,r);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ble(e){return e!==DM}var JH=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>j(_le),providedIn:"root"})}return e})(),jM=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},_le=(()=>{class e extends jM{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eU=(()=>{class e{urlSerializer=j(e0);options=j(i0,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=j(mh);urlHandlingStrategy=j($M);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yh;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:i,initialUrl:n,targetBrowserUrl:r}){let o=i!==void 0?this.urlHandlingStrategy.merge(i,n):n,s=r??o;return s instanceof yh?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:i,finalUrl:n,initialUrl:r}){n&&i?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=i):this.rawUrlTree=r}routerState=NH(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:i}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i??this.rawUrlTree)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:()=>j(yle),providedIn:"root"})}return e})(),yle=(()=>{class e extends eU{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{i(n.url,n.state,"popstate")})})}handleRouterEvent(i,n){i instanceof fm?this.updateStateMemento():i instanceof wh?this.commitTransition(n):i instanceof Kw?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):i instanceof Zw?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):i instanceof _h&&(i.code===Cc.GuardRejected||i.code===Cc.NoDataFromResolver)?this.restoreHistory(n):i instanceof bb?this.restoreHistory(n,!0):i instanceof cd&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(i)||o){let a=this.browserPageId,l=Ie(Ie({},s),this.generateNgRouterState(r,a));this.location.replaceState(i,"",l)}else{let a=Ie(Ie({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(i,"",a)}}restoreHistory(i,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===i.finalUrl&&o===0&&(this.resetInternalState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(i),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KM(e,t){e.events.pipe(Dr(i=>i instanceof cd||i instanceof _h||i instanceof bb||i instanceof wh),yn(i=>i instanceof cd||i instanceof wh?0:(i instanceof _h?i.code===Cc.Redirect||i.code===Cc.SupersededByNewNavigation:!1)?2:1),Dr(i=>i!==2),ts(1)).subscribe(()=>{t()})}var wle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ua=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=j(nP);stateManager=j(eU);options=j(i0,{optional:!0})||{};pendingTasks=j(_w);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=j(XM);urlSerializer=j(e0);location=j(mh);urlHandlingStrategy=j($M);_events=new Yt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=j(JH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=j(Sb,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!j(sC,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Yr;subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof _h&&n.code!==Cc.Redirect&&n.code!==Cc.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof cd)this.navigated=!0;else if(n instanceof yb){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=Ie({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ble(r.source)},s);this.scheduleNavigation(a,DM,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Sle(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),DM,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,n,r)=>{this.navigateToSyncWithBrowser(i,r,n)})}navigateToSyncWithBrowser(i,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=Ie({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(i);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(eF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=Ie(Ie({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=r?r.snapshot:this.routerState.snapshot.root;u=PH(h)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),u=this.currentUrlTree.root}return FH(u,i,d,c??null)}navigateByUrl(i,n={skipLocationChange:!1}){let r=hm(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,DM,null,n)}navigate(i,n={skipLocationChange:!1}){return xle(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,n){let r;if(n===!0?r=Ie({},wle):n===!1?r=Ie({},Cle):r=n,hm(i))return pH(this.currentUrlTree,i,r);let o=this.parseUrl(i);return pH(this.currentUrlTree,o,r)}removeEmptyProps(i){return Object.entries(i).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(i,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,h)=>{a=u,l=h});let d=this.pendingTasks.add();return KM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xle(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new fr(4008,!1)}function Sle(e){return!(e instanceof Zw)&&!(e instanceof yb)}var Mb=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Yt;constructor(i,n,r,o,s,a){this.router=i,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(c=>{c instanceof cd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hm(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,n,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(i!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let n=this.href===null?null:K7(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(i,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,i,n):r.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:hm(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||e)(ri(Ua),ri(Au),eP("tabindex"),ri(Ar),ri(pi),ri(Eu))};static \u0275dir=di({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&Ot("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Mi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xe],replaceUrl:[2,"replaceUrl","replaceUrl",Xe],routerLink:"routerLink"},features:[Gn]})}return e})(),sF=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new et;constructor(i,n,r,o,s){this.router=i,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=i.events.subscribe(a=>{a instanceof cd&&this.update()})}ngAfterContentInit(){Xi(this.links.changes,Xi(null)).pipe(bw()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=Da(i).pipe(bw()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(i){let n=Array.isArray(i)?i:i.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(n=>{i?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let n=Mle(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?i.isActive(o,n):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}static \u0275fac=function(n){return new(n||e)(ri(Ua),ri(pi),ri(Ar),ri(An),ri(Mb,8))};static \u0275dir=di({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&zn(o,Mb,5),n&2){let s;ui(s=hi())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Gn]})}return e})();function Mle(e){return!!e.paths}var lC=class{};var tU=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(i,n,r,o){this.router=i,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Dr(i=>i instanceof cd),Tf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=V2(o.providers,i,`Route: ${o.path}`));let s=o._injector??i,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Da(r).pipe(bw())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(i,n):r=Xi(null);let o=r.pipe(yc(s=>s===null?Xi(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??i,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return Da([o,s]).pipe(bw())}else return o})}static \u0275fac=function(n){return new(n||e)(ji(Ua),ji(tc),ji(lC),ji(YM))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iU=new Nt(""),Ele=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(i,n,r,o,s={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof fm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof cd?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof wh&&i.code===vb.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof _b&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _b(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){lb()};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();function Dle(e){return e.routerState.root}function cC(e,t){return{\u0275kind:e,\u0275providers:t}}function Tle(){let e=j(Bn);return t=>{let i=e.get(Ld);if(t!==i.components[0])return;let n=e.get(Ua),r=e.get(nU);e.get(aF)===1&&n.initialNavigation(),e.get(sU,null,J3.Optional)?.setUpPreloading(),e.get(iU,null,J3.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var nU=new Nt("",{factory:()=>new Yt}),aF=new Nt("",{providedIn:"root",factory:()=>1});function rU(){let e=[{provide:aF,useValue:0},oP(()=>{let t=j(Bn);return t.get(uP,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(Ua),o=t.get(nU);KM(r,()=>{n(!0)}),t.get(XM).afterPreactivation=()=>(n(!0),o.closed?Xi(void 0):o),r.initialNavigation()}))})];return cC(2,e)}function oU(){let e=[oP(()=>{j(Ua).setUpLocationChangeListener()}),{provide:aF,useValue:2}];return cC(3,e)}var sU=new Nt("");function aU(e){return cC(0,[{provide:sU,useExisting:tU},{provide:lC,useExisting:e}])}function lU(){return cC(8,[QP,{provide:sC,useExisting:QP}])}function cU(e){ob("NgRouterViewTransitions");let t=[{provide:iF,useValue:QH},{provide:nF,useValue:Ie({skipNextTransition:!!e?.skipInitialTransition},e)}];return cC(9,t)}var dU=[mh,{provide:e0,useClass:um},Ua,t0,{provide:Au,useFactory:Dle,deps:[Ua]},YM,[]],ZM=(()=>{class e{constructor(){}static forRoot(i,n){return{ngModule:e,providers:[dU,[],{provide:Sb,multi:!0,useValue:i},[],n?.errorHandler?{provide:rF,useValue:n.errorHandler}:[],{provide:i0,useValue:n||{}},n?.useHash?Rle():kle(),Ale(),n?.preloadingStrategy?aU(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Ile(n):[],n?.bindToComponentInputs?lU().\u0275providers:[],n?.enableViewTransitions?cU().\u0275providers:[],Ple()]}}static forChild(i){return{ngModule:e,providers:[{provide:Sb,multi:!0,useValue:i}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();function Ale(){return{provide:iU,useFactory:()=>{let e=j(Uz),t=j(Si),i=j(i0),n=j(XM),r=j(e0);return i.scrollOffset&&e.setOffset(i.scrollOffset),new Ele(r,n,e,t,i)}}}function Rle(){return{provide:Eu,useClass:gP}}function kle(){return{provide:Eu,useClass:J2}}function Ile(e){return[e.initialNavigation==="disabled"?oU().\u0275providers:[],e.initialNavigation==="enabledBlocking"?rU().\u0275providers:[]]}var oF=new Nt("");function Ple(){return[{provide:oF,useFactory:Tle},{provide:nz,multi:!0,useExisting:oF}]}var lF=D7(hU());var Eb=class e{text;params;agInit(t){this.params=t,this.text=""}onChange(t){t.params.api.setFilterModel(null),t.params.api.onFilterChanged(),(0,lF.default)(".dSelect").val(""),(0,lF.default)("#imageFDDL").val(""),document.getElementById("removefill_btn").style.display="none"}onParentModelChanged(t){this.text=t}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ti({type:e,selectors:[["floating-filter-cell"]],decls:2,vars:0,consts:[["id","removefill_btn","title","Click to Remove",1,"removefill_btn","icon_filter",2,"display","none","margin-top","9px",3,"click"]],template:function(i,n){i&1&&(Se(0,"span",0),Ot("click",function(){return n.onChange(n)}),Dt(1,"span"),Pe())},encapsulation:2})};var f0=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let n=t?this.allAsyncListeners:this.allSyncListeners,r=n.get(e);return!r&&i&&(r=new Set,n.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let i=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let{frameworkOverrides:n}=this,r=a=>{let l=n?()=>n.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},o=this.getListeners(i,t,!1);if((o?.size??0)>0){let a=new Set(o);for(let l of a)o?.has(l)&&r(()=>l(e))}let s=this.getGlobalListeners(t);if(s.size>0){let a=new Set(s);for(let l of a)r(()=>l(i,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(let t of e)t()}};function Hf(e){return e==null||e===""?null:e}function Ai(e){return e!=null&&e!==""}function Ko(e){return!Ai(e)}function jF(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function AC(e,t){let i=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return i===n}function Fle(e,t,i={}){i.transform&&(e=i.transform(e),t=i.transform(t));let n=e==null,r=t==null;if(e?.toNumber&&(e=e.toNumber()),t?.toNumber&&(t=t.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!i.accentedCompare)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var Ole=/[&<>"']/g,Lle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function n_(e){return e?.toString().toString()??null}function yC(e){return n_(e)?.replace(Ole,t=>Lle[t])??null}function fU(e){return typeof e=="string"&&e.startsWith("=")&&e.length>1}function Sh(e){return e.eRootDiv.getRootNode()}function os(e){return Sh(e).activeElement}function ja(e){let{gos:t,eRootDiv:i}=e,n=null,r=t.get("getDocument");return r&&Ai(r)?n=r():i&&(n=i.ownerDocument),n&&Ai(n)?n:document}function M5(e){let t=os(e);return t===null||t===ja(e).body}function NG(e){return ja(e).defaultView||window}function E5(e){let t=null,i=null;try{t=ja(e).fullscreenElement}catch{}finally{t||(t=Sh(e));let n=t.querySelector("body");n?i=n:t instanceof ShadowRoot?i=t:t instanceof Document?i=t?.documentElement:i=t}return i}function Nle(e){return E5(e)?.clientWidth??(window.innerWidth||-1)}function Ble(e){return E5(e)?.clientHeight??(window.innerHeight||-1)}function Pu(e,t,i){i==null||typeof i=="string"&&i==""?BG(e,t):qd(e,t,i)}function qd(e,t,i){e.setAttribute(VG(t),i.toString())}function BG(e,t){e.removeAttribute(VG(t))}function VG(e){return`aria-${e}`}function xm(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Vle(e){let t=e?.direction;return t==="asc"?"ascending":t==="desc"?"descending":t==="mixed"?"other":"none"}function zle(e){return e.getAttribute("aria-label")}function Kb(e,t){Pu(e,"label",t)}function RC(e,t){Pu(e,"labelledby",t)}function zG(e,t){Pu(e,"live",t)}function Hle(e,t){Pu(e,"atomic",t)}function Ule(e,t){Pu(e,"relevant",t)}function D5(e,t){Pu(e,"invalid",t)}function Gle(e,t){Pu(e,"disabled",t)}function HG(e,t){Pu(e,"hidden",t)}function qF(e,t){qd(e,"expanded",t)}function Wle(e,t){qd(e,"setsize",t)}function jle(e,t){qd(e,"posinset",t)}function qle(e,t){qd(e,"multiselectable",t)}function Yle(e,t){qd(e,"rowcount",t)}function EE(e,t){qd(e,"rowindex",t)}function $le(e,t){qd(e,"rowspan",t)}function Xle(e,t){qd(e,"colcount",t)}function UG(e,t){qd(e,"colindex",t)}function Kle(e,t){qd(e,"colspan",t)}function Zle(e,t){qd(e,"sort",t)}function Qle(e){BG(e,"sort")}function GG(e,t){Pu(e,"selected",t)}function Jle(e,t){Pu(e,"controls",t)}function ece(e,t){Jle(e,t.id),RC(t,e.id)}function pU(e,t){Pu(e,"owns",t)}function ZE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var tce="[tabindex], input, select, button, textarea, [href]",WG="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function wC(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(WG)?!1:Lh(e)}function yo(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||HG(e,!t)}function ice(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||HG(e,!t)}function kC(e,t){let i="disabled",n=t?o=>o.setAttribute(i,""):o=>o.removeAttribute(i);n(e);let r=e.querySelectorAll("input")??[];for(let o of r)n(o)}function a0(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function b0(e){let{height:t,width:i,borderTopWidth:n,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:f,marginLeft:p,boxSizing:v}=window.getComputedStyle(e),m=Number.parseFloat;return{height:m(t||"0"),width:m(i||"0"),borderTopWidth:m(n||"0"),borderRightWidth:m(r||"0"),borderBottomWidth:m(o||"0"),borderLeftWidth:m(s||"0"),paddingTop:m(a||"0"),paddingRight:m(l||"0"),paddingBottom:m(c||"0"),paddingLeft:m(d||"0"),marginTop:m(u||"0"),marginRight:m(h||"0"),marginBottom:m(f||"0"),marginLeft:m(p||"0"),boxSizing:v}}function T5(e){let t=b0(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function IC(e){let t=b0(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function jG(e){let{height:t,marginBottom:i,marginTop:n}=b0(e);return Math.floor(t+i+n)}function DE(e){let{width:t,marginLeft:i,marginRight:n}=b0(e);return Math.floor(t+i+n)}function qG(e){let t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:r,borderBottomWidth:o}=b0(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(r||0),bottom:t.bottom+(o||0)}}function TE(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i)),i}function AE(e,t,i){i&&(t*=-1),e.scrollLeft=t}function vl(e){for(;e?.firstChild;)e.firstChild.remove()}function Sc(e){e?.parentNode&&e.remove()}function A5(e){return!!e.offsetParent}function Lh(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!A5(e)||window.getComputedStyle(e).visibility!=="visible")}function R5(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function YG(e,t,i){i&&i.nextSibling===t||(e.firstChild?i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function $G(e,t){for(let i=0;i<t.length;i++){let n=t[i],r=e.children[i];r!==n&&e.insertBefore(n,r)}}function nce(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function UC(e,t){if(t)for(let i of Object.keys(t)){let n=t[i];if(!i?.length||n==null)continue;let r=nce(i),o=n.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;e.style.setProperty(r,s,a)}}function uE(e){return()=>{let t=e();return t?k5(t)||XG(t):!0}}function k5(e){return e.clientWidth<e.scrollWidth}function XG(e){return e.clientHeight<e.scrollHeight}function RE(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ih(e,t)}function Ih(e,t){t=I5(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function CC(e,t){t=I5(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function I5(e){return typeof e=="number"?`${e}px`:e}function P5(e){return e instanceof Node||e instanceof HTMLElement}function Mc(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function Tm(e,t,i){let r=NG(e).ResizeObserver,o=r?new r(i):null;return o?.observe(t),()=>o?.disconnect()}function $f(e,t){let i=NG(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var KG="data-ref",cF;function mU(){return cF??(cF=document.createTextNode(" ")),cF.cloneNode()}function wm(e){let{attrs:t,children:i,cls:n,ref:r,role:o,tag:s}=e,a=document.createElement(s);if(n&&(a.className=n),r&&a.setAttribute(KG,r),o&&a.setAttribute("role",o),t)for(let l of Object.keys(t))a.setAttribute(l,t[l]);if(i)if(typeof i=="string")a.textContent=i;else{let l=!0;for(let c of i)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(mU()),l=!1),a.append(wm(c)),a.appendChild(mU())))}return a}var rce=["touchstart","touchend","touchmove","touchcancel","scroll"],oce=["wheel"],dF={},ZG=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof dF[i]=="boolean")return dF[i];let n=document.createElement(e[i]||"div");return i="on"+i,dF[i]=i in n}})();function sce(e,t){return!t||!e?!1:lce(t).indexOf(e)>=0}function ace(e){let t=[],i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function lce(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():ace(t)}function cce(e,t,i){let n=dce(t),r;n!=null&&(r={passive:n}),e.addEventListener(t,i,r)}var dce=e=>{let t=rce.includes(e),i=oce.includes(e);if(t)return!0;if(i)return!1};function QG(e,t,i){if(i===0)return!1;let n=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(n,r)<=i}var Lb=(e,t)=>{let i=e.identifier;for(let n=0,r=t.length;n<r;++n){let o=t[n];if(o.identifier===i)return o}return null};function PC(e,t){return e.gos.isElementInThisInstance(t.target)}function uce(e,t,i){let r=e.getBoundingClientRect().height,o=Nle(i)-2,s=Ble(i)-2;if(!e.offsetParent)return;let l=qG(e.offsetParent),{clientY:c,clientX:d}=t,u=c-l.top-r/2,h=d-l.left-10,f=ja(i),p=f.defaultView||window,v=p.pageYOffset||f.documentElement.scrollTop,m=p.pageXOffset||f.documentElement.scrollLeft;o>0&&h+e.clientWidth>o+m&&(h=o+m-e.clientWidth),h<0&&(h=0),s>0&&u+e.clientHeight>s+v&&(u=s+v-e.clientHeight),u<0&&(u=0),e.style.left=`${h}px`,e.style.top=`${u}px`}var hE=(e,...t)=>{for(let i of t){let[n,r,o,s]=i;n.addEventListener(r,o,s),e.push(i)}},F5=e=>{if(e){for(let[t,i,n,r]of e)t.removeEventListener(i,n,r);e.length=0}},kb=e=>{e.cancelable&&e.preventDefault()};function hce(e,t){return t}function JG(e){return e?.getLocaleTextFunc()??hce}function fce(e,t,i,n){let r=t[i];return e.getLocaleTextFunc()(i,typeof r=="function"?r(n):r,n)}function pce(e){return(t,i,n)=>e({key:t,defaultValue:i,variableValues:n})}function mce(e){return(t,i,n)=>{let r=e?.[t];if(r&&n?.length){let o=0;for(;!(o>=n.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",n[o++])}return r??i}}var ac=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new f0),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService?.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let i=[];for(let n of Object.keys(t)){let r=t[n];r&&i.push(this._setupListener(e,n,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let n;if(gce(e))e.__addEventListener(t,i),n=()=>(e.__removeEventListener(t,i),null);else{let r=vce(e);e instanceof HTMLElement?cce(e,t,i):r?e.addListener(t,i):e.addEventListener(t,i),n=r?()=>(e.removeListener(t,i),null):()=>(e.removeEventListener(t,i),null)}return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}setupPropertyListener(e,t){let{gos:i}=this;i.addPropertyEventListener(e,t);let n=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,n=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}let o={type:"propertyChanged",changeSet:r.changeSet,source:r.source};t(o)};for(let r of e)this.setupPropertyListener(r,n)}getLocaleTextFunc(){return JG(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function gce(e){return e.__addEventListener!==void 0}function vce(e){return e.eventServiceType==="global"}var Kt=class extends ac{},YF=new Set,QE=(e,t)=>{YF.has(t)||(YF.add(t),e())};QE._set=YF;var bce={pending:!1,funcs:[]},_ce={pending:!1,funcs:[]};function $F(e,t="setTimeout",i){let n=t==="raf"?_ce:bce;if(n.funcs.push(e),n.pending)return;n.pending=!0;let r=()=>{let o=n.funcs.slice();n.funcs.length=0,n.pending=!1;for(let s of o)s()};t==="raf"?$f(i,r):window.setTimeout(r,0)}function qa(e,t,i){let n;return function(...r){let o=this;return window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(o,r)},i),n}}function gU(e,t){let i=0;return function(...n){let r=this,o=Date.now();o-i<t||(i=o,e.apply(r,n))}}function yce(e,t,i,n=100){let r=Date.now(),o=null,s=!1,a=()=>{o!=null&&(window.clearInterval(o),o=null)};e.addDestroyFunc(a);let l=()=>{let c=Date.now()-r>n;(t()||c)&&(i(),s=!0,a())};l(),s||(o=window.setInterval(l,10))}var e9=new Set(["__proto__","constructor","prototype"]);function wce(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let i of Object.keys(e).filter(n=>!e9.has(n)))t(i,e[i])}}function sc(e,t,i=!0,n=!1){Ai(t)&&wce(t,(r,o)=>{let s=e[r];s!==o&&(n&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[r]=s),vU(o)&&vU(s)&&!Array.isArray(s)?sc(s,o,i,n):(i||o!==void 0)&&(e[r]=o))})}function vU(e){return typeof e=="object"&&e!==null}var Cce=(()=>{let e=class Bf{static applyGlobalGridOptions(i){if(!Bf.gridOptions)return Ie({},i);let n={};return sc(n,Bf.gridOptions,!0,!0),Bf.mergeStrategy==="deep"?sc(n,i,!0,!0):n=Ie(Ie({},n),i),Bf.gridOptions.context&&(n.context=Bf.gridOptions.context),i.context&&(Bf.mergeStrategy==="deep"&&n.context&&sc(i.context,n.context,!0,!0),n.context=i.context),n}static applyGlobalGridOption(i,n){if(Bf.mergeStrategy==="deep"){let r=xce(i);if(r&&typeof r=="object"&&typeof n=="object")return Bf.applyGlobalGridOptions({[i]:n})[i]}return n}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),O5=Cce;function xce(e){return O5.gridOptions?.[e]}var Sce={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,refreshAfterGroupEdit:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,enableFilterHandlers:!1},t9="https://www.ag-grid.com";function Sm(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function xC(e,...t){QE(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Nb(e,...t){QE(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var i9=new Set,kE={},Bb={},fE,n9=!1,r9=!1,Mce=!1;function Ece(e){let[t,i]=e.version.split(".")||[],[n,r]=fE.split(".")||[];return t===n&&i===r}function Dce(e){fE||(fE=e.version);let t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;e.version?Ece(e)||Nb(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${fE}.`)):Nb(t(`'${e.moduleName}' is incompatible.`));let i=e.validate?.();i&&!i.isValid&&Nb(`${i.message}`)}function FC(e,t,i=!1){i||(n9=!0),Dce(e);let n=e.rowModels??["all"];i9.add(e);let r;t!==void 0?(r9=!0,Bb[t]===void 0&&(Bb[t]={}),r=Bb[t]):r=kE;for(let o of n)r[o]===void 0&&(r[o]={}),r[o][e.moduleName]=e;if(e.dependsOn)for(let o of e.dependsOn)FC(o,t,i)}function Tce(e){delete Bb[e]}function XF(e,t,i){let n=r=>!!kE[r]?.[e]||!!Bb[t]?.[r]?.[e];return n(i)||n("all")}function L5(){return r9}function Ace(e,t){let i=Bb[e]??{};return[...Object.values(kE.all??{}),...Object.values(i.all??{}),...Object.values(kE[t]??{}),...Object.values(i[t]??{})]}function Rce(){return new Set(i9)}function kce(){return n9}function N5(){return Mce}var o9=class{static register(e){FC(e,void 0)}static registerModules(e){for(let t of e)FC(t,void 0)}},Ri="35.0.0",bU=2e3,_U=100,s9="_version_",a9=null,Vb=`${t9}/javascript-data-grid`;function Ice(e){a9=e}function Pce(e){Vb=e}function l9(e,t,i){return a9?.(e,t)??[Nce(e,t,i)]}function B5(e,t,i,n,r){e(`${n?"warning":"error"} #${t}`,...l9(t,i,r))}function Fce(e){if(!e)return String(e);let t={};for(let i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function Oce(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Fce(e)),t}function pE(e){return e===void 0?"undefined":e===null?"null":e}function KF(e,t){return`${e}?${t.toString()}`}function Lce(e,t,i){let n=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length),r=KF(e,t);for(let[o,s]of n){if(o===s9)continue;let a=r.length-i;if(a<=0)break;let l="...",c=a+l.length,d=s.length-c>_U?s.slice(0,s.length-c)+l:s.slice(0,_U)+l;t.set(o,d),r=KF(e,t)}return r}function c9(e,t){let i=new URLSearchParams;if(i.append(s9,Ri),t)for(let o of Object.keys(t))i.append(o,Oce(t[o]));let n=`${Vb}/errors/${e}`,r=KF(n,i);return r.length<=bU?r:Lce(n,i,bU)}var Nce=(e,t,i)=>{let n=c9(e,t),r=`${i?i+` 
`:""}Visit ${n}`;return N5()?r:`${r}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function oi(...e){B5(xC,e[0],e[1],!0)}function ho(...e){B5(Nb,e[0],e[1],!1)}function bC(e,t,i){B5(Nb,e,t,!1,i)}function Bce(e,t){let i=t[0];return`error #${i} `+l9(i,t[1],e).join(" ")}function Ph(...e){return Bce(void 0,e)}function d9(e,t){return e.get("rowModelType")===t}function Bs(e,t){return d9(e,"clientSide")}function GC(e,t){return d9(e,"serverSide")}function bl(e,t){return e.get("domLayout")===t}function l0(e){return PE(e)!==void 0}function u9(e){return typeof e.get("getRowHeight")=="function"}function Vce(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function zce({gos:e,formula:t}){let i=e.get("rowNumbers");return i||!!t?.active&&i!==!1}function Mm(e,t,i=!1,n){let{gos:r,environment:o}=e;if(n==null&&(n=o.getDefaultRowHeight()),u9(r)){if(i)return{height:n,estimated:!0};let l={node:t,data:t.data},c=r.getCallback("getRowHeight")(l);if(ZF(c))return c===0&&oi(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&r.get("masterDetail"))return Hce(r);let s=r.get("rowHeight");return{height:s&&ZF(s)?s:n,estimated:!1}}function Hce(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return ZF(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function c0(e){let{environment:t,gos:i}=e,n=i.get("rowHeight");if(!n||Ko(n))return t.getDefaultRowHeight();let r=t.refreshRowHeightVariable();return r!==-1?r:(oi(24),t.getDefaultRowHeight())}function ZF(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function h9(e,t,i){let n=t[e.getDomDataKey()];return n?n[i]:void 0}function p0(e,t,i,n){let r=e.getDomDataKey(),o=t[r];Ko(o)&&(o={},t[r]=o),o[i]=n}function zb(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function f9(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||bl(e,"print"))}function Eh(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function QF(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function p9(e){return e.get("grandTotalRow")}function m9(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function g9(e,t,i){return!!t.group&&!t.footer&&m9(e,i)}function Zb(e){let t=e.getCallback("getRowId");return t===void 0?t:i=>{let n=t(i);return typeof n!="string"&&(QE(()=>oi(25,{id:n}),"getRowIdString"),n=String(n)),n}}function Uce(e,t){let i=e.get("groupHideParentOfSingleChild");return!!(i===!0||i==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Gce(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Hb(e){return e?.checkboxes??!0}function mE(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function IE(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function uF(e){return e?.hideDisabledCheckboxes??!1}function Wce(e){return typeof e.get("rowSelection")!="string"}function jf(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Ub(e){let t=e.get("cellSelection")??!1;return(typeof t=="object"&&t.enableColumnSelection)??!1}function v9(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let i=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return i&&n?!1:i?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function jce(e){let t=v9(e);return t===!0||t==="enableSelection"}function qce(e){let t=v9(e);return t===!0||t==="enableDeselection"}function JF(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function PE(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function OC(e){return PE(e)==="multiRow"}function Yce(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function FE(e){let t=e.get("rowSelection");if(typeof t=="string"){let i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function b9(e,t=!0){let i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function $ce(e){let t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function LC(e){let t=FE(e);return t==="descendants"||t==="filteredDescendants"}function yU(e){let t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Xce(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function dd(e){return e.get("columnMenu")==="legacy"}function Kce(e){return!dd(e)}function Zce(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function _9(e,t,i){typeof e!="object"&&(e={});let n=Ie({},e);for(let r of i){let o=t[r];typeof o<"u"&&(n[r]=o)}return n}function y9(e,t){if(!e)return;let i={},n=!1;for(let s of Object.keys(e))i[s]=e[s],n=!0;if(!n)return;let r={type:"gridOptionsChanged",options:i};t.dispatchEvent(r);let o=Ie({type:"componentStateChanged"},i);t.dispatchEvent(o)}function Rn(e,t){return e.addCommon(t)}function Qce({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Jce={resizable:!0,sortable:!0},ede=0;function w9(){return ede++}function Em(e){return e instanceof _0}var tde=["asc","desc",null],ide=[{type:"absolute",direction:"asc"},{type:"absolute",direction:"desc"},null],_0=class extends Kt{constructor(e,t,i,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.isColumn=!0,this.instanceId=w9(),this.autoHeaderHeight=null,this.sortDef=ku(),this._wasSortExplicitlyRemoved=!1,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.formulaRef=null,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new f0,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=yC(i)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}initState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:n}}=this;t?.initCol(this);let r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,i?.initCol(this),n?.initCol(this)}setColDef(e,t,i){let n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.initState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:i}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ai(t)&&t.includes(".")&&!n,this.tooltipFieldContainsDots=Ai(i)&&i.includes(".")&&!n}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){let e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:i=>{let n=e.recreateColDef(this.colDef);this.setColDef(n,n,i.source)}})}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,i=e.width,n=e.initialWidth;return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let i=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return Rn(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Jce[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return Rn(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sortDef.direction}getSortDef(){return this.sortDef.direction?this.sortDef:null}getColDefAllowedSortTypes(){let e=[],{sort:t,initialSort:i}=this.colDef,n=t===null?t:qf(t?.type),r=i===null?i:qf(i?.type);return n&&e.push(n),r&&e.push(r),e}getSortingOrder(){let e=this.getColDefAllowedSortTypes().includes("absolute")?ide:tde;return(this.colDef.sortingOrder??this.gos.get("sortingOrder")??e).map(t=>ku(t))}getAvailableSortTypes(){let e=this.getSortingOrder().reduce((t,i)=>(i.direction&&t.push(i.type),t),this.getColDefAllowedSortTypes());return new Set(e)}get wasSortExplicitlyRemoved(){return this._wasSortExplicitlyRemoved}setSortDef(e,t=!1){t||(this._wasSortExplicitlyRemoved=!e.direction),this.sortDef=e}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.getSort()==="asc"}isSortDescending(){return this.getSort()==="desc"}isSortNone(){return Ko(this.getSort())}isSorting(){return Ai(this.getSort())}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return oi(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Rn(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ko(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Ko(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}isAllowFormula(){return this.colDef.allowFormula===!0}dispatchColEvent(e,t,i){let n=this.createColumnEvent(e,t);i&&sc(n,i),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ku(e){return Gb(e)?{direction:e.direction,type:e.type}:{direction:JE(e),type:qf(e)}}function Cm(e){return e==="asc"||e==="desc"||e===null}function V5(e){return e==="default"||e==="absolute"}function Gb(e){if(!e||typeof e!="object")return!1;let t=e;return V5(t.type)&&Cm(t.direction)}function gE(e,t){return e?t?e.type===t.type&&e.direction===t.direction:e?e.direction===null:!0:t?t.direction===null:!0}function JE(e){return Cm(e)?e:null}function qf(e){return V5(e)?e:"default"}function Pl(e){return e instanceof vE}var vE=class extends Kt{constructor(e,t,i,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=w9(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(let t of this.children)Em(t)?e(t):Pl(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(let t of this.children)Em(t)?e.push(t):Pl(t)&&t.addLeafColumns(e)}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);for(let t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(let t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1,n=this.findChildrenRemovingPadding();for(let o=0,s=n.length;o<s;o++){let a=n[o];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}let r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=i=>{for(let n of i)Pl(n)&&n.isPadding()?t(n.children):e.push(n)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},nde={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function wU(e,t,i){let n={},r=e.gos;return Object.assign(n,r.get("defaultColGroupDef")),Object.assign(n,t),r.validateColDef(n,i),n}var rde=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=jF(e);let i=0;for(;;){let n=e??t;if(n?i!==0&&(n+="_"+i):n=i,!this.existingKeys[n]){let r=String(n);return e&&i>0&&oi(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}i++}}},A$e=Object.freeze([]);function To(e){if(e?.length)return e[e.length-1]}function Am(e,t,i){if(e===t)return!0;if(!e||!t)return e==null&&t==null;let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r]&&!i?.(e[r],t[r]))return!1;return!0}function uC(e,t){if(e){for(let i of e)if(t(i))return!0}}function Fh(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function CU(e,t,i){for(let n=0;n<t.length;n++)Fh(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(i,0,t[n])}var eD="ag-Grid-AutoColumn",C9="ag-Grid-SelectionColumn",x9="ag-Grid-RowNumbersColumn";function S9(e){let t=[],i=n=>{for(let r=0;r<n.length;r++){let o=n[r];Em(o)?t.push(o):Pl(o)&&i(o.getChildren())}};return i(e),t}function Vf(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function OE(e,t,i){let n={};if(!t)return;Gf(null,t,o=>{n[o.getInstanceId()]=o}),i&&Gf(null,i,o=>{n[o.getInstanceId()]=null});let r=Object.values(n).filter(o=>o!=null);e.context.destroyBeans(r)}function z5(e){return e.getId().startsWith(eD)}function Rm(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(C9)??!1}function Uf(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(x9)??!1}function ode(e){return Rm(e)||Uf(e)}function LE(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function sde(e,t){return Am(e,t,(i,n)=>i.getColId()===n.getColId())}function ade(e){e.map={};for(let t of e.list)e.map[t.getId()]=t}function Wb(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function SC(e,t){let i=e===t,n=e.getColDef()===t,r=e.getColId()==t;return i||n||r}var lde=(e,t)=>(i,n)=>{let r={value1:void 0,value2:void 0},o=!1;return e&&(e[i]!==void 0&&(r.value1=e[i],o=!0),Ai(n)&&e[n]!==void 0&&(r.value2=e[n],o=!0)),!o&&t&&(t[i]!==void 0&&(r.value1=t[i]),Ai(n)&&t[n]!==void 0&&(r.value2=t[n])),r};function cde(e,t){let i=Zt(Ie({},e),{sort:void 0,colId:t}),n=M9(e);return n&&(i.sort=n.direction,i.sortType=n.type),i}function M9(e){let{sort:t,initialSort:i}=e,n=Gb(t)||Cm(t),r=Gb(i)||Cm(i);return n?ku(t):r?ku(i):null}var dde=(e,t)=>{Pl(e)&&e.setupExpandable(),e.originalParent=t};function ude(e,t=null,i,n,r){let o=new rde,{existingCols:s,existingGroups:a,existingColKeys:l}=hde(n);o.addExistingKeys(l);let c=E9(e,t,0,i,s,o,a,r),{colGroupSvc:d}=e,u=d?.findMaxDepth(c,0)??0,h=d?d.balanceColumnTree(c,0,u,o):c;return Gf(null,h,dde),{columnTree:h,treeDepth:u}}function hde(e){let t=[],i=[],n=[];return e&&Gf(null,e,r=>{if(Pl(r)){let o=r;i.push(o)}else{let o=r;n.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}function E9(e,t,i,n,r,o,s,a){if(!t)return[];let{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){let u=t[d];l&&bde(u)?c[d]=l.createProvidedColumnGroup(n,u,i,r,o,s,a):c[d]=fde(e,n,u,r,o,a)}return c}function fde(e,t,i,n,r,o){let s=mde(i,n);s&&n?.splice(s.idx,1);let a=s?.column;if(a){let l=e5(e,i,a.getColId());a.setColDef(l,i,o),pde(e,a,l,o)}else{let l=r.getUniqueKey(i.colId,i.field),c=e5(e,i,l);a=new _0(c,i,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function D9(e,t,i,n,r,o,s,a){let{sortSvc:l,pinnedCols:c,colFlex:d}=e;i!==void 0&&t.setVisible(!i,a),l&&(l.updateColSort(t,n,a),r!==void 0&&l.setColSortIndex(t,r)),o!==void 0&&c?.setColPinned(t,o),s!==void 0&&d?.setColFlex(t,s)}function pde(e,t,i,n){D9(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,n);let r=t.getFlex();if(!(r!=null&&r>0))if(i.width!=null)t.setActualWidth(i.width,n);else{let o=t.getActualWidth();t.setActualWidth(o,n)}}function mde(e,t){if(t)for(let i=0;i<t.length;i++){let n=t[i].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(n.field===e.field)return{idx:i,column:t[i]};continue}if(n===e)return{idx:i,column:t[i]}}}function e5(e,t,i,n){let{gos:r,dataTypeSvc:o}=e,s={},a=r.get("defaultColDef");sc(s,a,!1,!0);let l=gde(e,s,t,i);l&&vde(e,l,s);let c=s.cellDataType;sc(s,t,!1,!0),c!==void 0&&(s.cellDataType=c);let d=r.get("autoGroupColumnDef"),u=Eh(r);return t.rowGroup&&d&&u&&sc(s,{sort:d.sort,initialSort:d.initialSort},!1,!0),o?.postProcess(s),o?.validateColDef(s),r.validateColDef(s,i,n),s}function gde(e,t,i,n){let r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,i,n),o=i.type??r??t.type;return t.type=o,o?LE(o):void 0}function vde(e,t,i){if(!t.length)return;let n=Object.assign({},nde),r=e.gos.get("columnTypes")||{};for(let o of Object.keys(r)){let s=r[o];o in n?oi(34,{key:o}):(s.type&&oi(35),n[o]=s)}for(let o of t){let s=n[o.trim()];s?sc(i,s,!1,!0):oi(36,{t:o})}}function bde(e){return e.children!==void 0}function Gf(e,t,i){if(t)for(let n=0;n<t.length;n++){let r=t[n];Pl(r)&&Gf(r,r.getChildren(),i),i(r,e)}}function T9(e,t){let i=[],n=[],r=[];return e.forEach(s=>{let a=s.getColDef().lockPosition;a==="right"?r.push(s):a==="left"||a===!0?i.push(s):n.push(s)}),t.get("enableRtl")?[...r,...n,...i]:[...i,...n,...r]}function A9(e,t){let i=!0;return Gf(null,t,n=>{if(!Pl(n))return;let r=n;if(!r.getColGroupDef()?.marryChildren)return;let a=[];for(let h of r.getLeafColumns()){let f=e.indexOf(h);a.push(f)}let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=r.getLeafColumns().length-1;d>u&&(i=!1)}),i}function R9(e,t){if(!e||e.length==0)return;let i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}function k9(e,t,i){if(!t.length)return;let n=t.length===1?t[0]:null,r=R9(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:n,source:i})}function _de(e,t,i){if(!t.length)return;let n=t.length===1?t[0]:null,r=R9(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:n,source:i})}function yde(e,t,i,n){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:n})}function Qb(e,t,i,n,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:i,source:n})}function Iu(e,t,i){let{colModel:n,rowGroupColsSvc:r,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:u,valueColsSvc:h,eventSvc:f,gos:p}=e,v=n.getColDefCols()??[],m=a?.getColumns();if(!v.length&&!m?.length)return!1;if(t?.state&&!t.state.forEach)return oi(32),!1;let g=(R,_,L,F,T)=>{if(!R)return;let P=lde(_,t.defaultState),A=P("flex").value1,O=P("sort").value1,V=P("sortType").value1,U=Cm(O)||V5(V),ae=qf(V),ne=JE(O),ue=U?{type:ae,direction:ne}:void 0;if(D9(e,R,P("hide").value1,ue,P("sortIndex").value1,P("pinned").value1,A,i),A==null){let se=P("width").value1;if(se!=null){let _e=R.getColDef().minWidth??u.getDefaultColumnMinWidth();_e!=null&&se>=_e&&R.setActualWidth(se,i)}}T||!R.isPrimary()||(h?.syncColumnWithState(R,i,P),r?.syncColumnWithState(R,i,P,L),o?.syncColumnWithState(R,i,P,F))},b=(R,_,L)=>{let F=I9(e,i),T=_.slice(),P={},A={},O=[],V=[],U=[],ae=0,ne=r?.columns.slice()??[],ue=o?.columns.slice()??[];for(let Ve of R){let Ge=Ve.colId;if(Ge.startsWith(eD)){O.push(Ve),U.push(Ve);continue}if(Rm(Ge)){V.push(Ve),U.push(Ve);continue}let Q=L(Ge);Q?(g(Q,Ve,P,A,!1),Fh(T,Q)):(U.push(Ve),ae+=1)}let se=Ve=>g(Ve,null,P,A,!1);T.forEach(se),r?.sortColumns(xU.bind(r,P,ne)),o?.sortColumns(xU.bind(o,A,ue)),n.refreshCols(!1,i);let _e=(Ve,Ge,K=[])=>{for(let Q of Ge){let ee=Ve(Q.colId);Fh(K,ee),g(ee,Q,null,null,!0)}K.forEach(se)};return _e(Ve=>s?.getColumn(Ve)??null,O,s?.getColumns()?.slice()),_e(Ve=>a?.getColumn(Ve)??null,V,a?.getColumns()?.slice()),Cde(t,n,p),c.refresh(i),f.dispatchEvent({type:"columnEverythingChanged",source:i}),F(),{unmatchedAndAutoStates:U,unmatchedCount:ae}};l?.start();let{unmatchedAndAutoStates:w,unmatchedCount:x}=b(t.state||[],v,R=>n.getColDefCol(R));if(w.length>0||Ai(t.defaultState)){let R=d?.getPivotResultCols()?.list??[];x=b(w,R,_=>d?.getPivotResultCol(_)??null).unmatchedCount}return l?.finish(),x===0}function wde(e,t){let{colModel:i,autoColSvc:n,selectionColSvc:r,eventSvc:o,gos:s}=e,a=i.getColDefCols();if(!a?.length)return;let l=i.getColDefColTree(),c=S9(l),d=[],u=1e3,h=1e3,f=b=>{let w=P9(b);Ko(w.rowGroupIndex)&&w.rowGroup&&(w.rowGroupIndex=u++),Ko(w.pivotIndex)&&w.pivot&&(w.pivotIndex=h++),d.push(w)};n?.getColumns()?.forEach(f),r?.getColumns()?.forEach(f),c?.forEach(f),Iu(e,{state:d},t);let p=n?.getColumns()??[],g=[...r?.getColumns()??[],...p,...a].map(b=>({colId:b.colId}));Iu(e,{state:g,applyOrder:!0},t),o.dispatchEvent(Rn(s,{type:"columnsReset",source:t}))}function I9(e,t){let{rowGroupColsSvc:i,pivotColsSvc:n,valueColsSvc:r,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:i?.columns.slice()??[],pivotColumns:n?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},c=NE(e),d={};for(let u of c)d[u.colId]=u;return()=>{let u=(_,L,F,T)=>{let P=L.map(T),A=F.map(T);if(Am(P,A))return;let V=new Set(L);for(let ae of F)V.delete(ae)||V.add(ae);let U=[...V];a.dispatchEvent({type:_,columns:U,column:U.length===1?U[0]:null,source:t})},h=_=>{let L=[];return o.forAllCols(F=>{let T=d[F.getColId()];T&&_(T,F)&&L.push(F)}),L},f=_=>_.getColId();u("columnRowGroupChanged",l.rowGroupColumns,i?.columns??[],f),u("columnPivotChanged",l.pivotColumns,n?.columns??[],f);let v=h((_,L)=>{let F=_.aggFunc!=null,T=F!=L.isValueActive(),P=F&&_.aggFunc!=L.getAggFunc();return T||P});v.length>0&&yde(a,"columnValueChanged",v,t),Qb(a,h((_,L)=>_.width!=L.getActualWidth()),!0,t),k9(a,h((_,L)=>_.pinned!=L.getPinned()),t),_de(a,h((_,L)=>_.hide==L.isVisible()),t);let x=h((_,L)=>!gE(L.getSortDef(),{type:qf(_.sortType),direction:JE(_.sort)})||_.sortIndex!=L.getSortIndex());x.length>0&&s?.dispatchSortChangedEvents(t,x);let R=NE(e);Sde(c,R,t,o,a)}}function NE(e){let{colModel:t,rowGroupColsSvc:i,pivotColsSvc:n}=e,r=t.getColDefCols();if(Ko(r)||!t.isAlive())return[];let o=i?.columns,s=n?.columns,a=[],l=d=>{let u=d.isRowGroupActive()&&o?o.indexOf(d):null,h=d.isPivotActive()&&s?s.indexOf(d):null,f=d.isValueActive()?d.getAggFunc():null,p=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:d.getSort(),sortType:d.getSortDef()?.type,sortIndex:p,aggFunc:f,rowGroup:d.isRowGroupActive(),rowGroupIndex:u,pivot:d.isPivotActive(),pivotIndex:h,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));let c=new Map(t.getCols().map((d,u)=>[d.getColId(),u]));return a.sort((d,u)=>{let h=c.has(d.colId)?c.get(d.colId):-1,f=c.has(u.colId)?c.get(u.colId):-1;return h-f}),a}function P9(e){let t=(m,g)=>m??g??null,i=e.getColDef(),n=ku(t(i.sort,i.initialSort)),r=n.direction,o=n.type,s=t(i.sortIndex,i.initialSortIndex),a=t(i.hide,i.initialHide),l=t(i.pinned,i.initialPinned),c=t(i.width,i.initialWidth),d=t(i.flex,i.initialFlex),u=t(i.rowGroupIndex,i.initialRowGroupIndex),h=t(i.rowGroup,i.initialRowGroup);u==null&&!h&&(u=null,h=null);let f=t(i.pivotIndex,i.initialPivotIndex),p=t(i.pivot,i.initialPivot);f==null&&!p&&(f=null,p=null);let v=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:r,sortType:o,sortIndex:s,hide:a,pinned:l,width:c,flex:d,rowGroup:h,rowGroupIndex:u,pivot:p,pivotIndex:f,aggFunc:v}}function Cde(e,t,i){if(!e.applyOrder||!e.state)return;let n=[];for(let r of e.state)r.colId!=null&&n.push(r.colId);xde(t.cols,n,t,i)}function xde(e,t,i,n){if(e==null)return;let r=[],o={};for(let a of t){if(o[a])continue;let l=e.map[a];l&&(r.push(l),o[a]=!0)}let s=0;for(let a of e.list){let l=a.getColId();if(o[l]!=null)continue;l.startsWith(eD)?r.splice(s++,0,a):r.push(a)}if(r=T9(r,n),!A9(r,i.getColTree())){oi(39);return}e.list=r}function Sde(e,t,i,n,r){let o={};for(let d of t)o[d.colId]=d;let s={};for(let d of e)o[d.colId]&&(s[d.colId]=!0);let a=e.filter(d=>s[d.colId]),l=t.filter(d=>s[d.colId]),c=[];l.forEach((d,u)=>{let h=a?.[u];if(h&&h.colId!==d.colId){let f=n.getCol(h.colId);f&&c.push(f)}}),c.length&&r.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:i})}var xU=(e,t,i,n)=>{let r=e[i.getId()],o=e[n.getId()],s=r!=null,a=o!=null;if(s&&a)return r-o;if(s)return-1;if(a)return 1;let l=t.indexOf(i),c=t.indexOf(n),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},Mde=class extends Kt{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Wb(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Wb(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:i,colAutosize:n,rowGroupColsSvc:r,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,eventSvc:l,groupHierarchyColSvc:c}=t,d=this.colDefs?I9(t,e):void 0;i?.expire();let u=this.colDefCols?.list,h=this.colDefCols?.tree,f=ude(t,this.colDefs,!0,h,e);OE(t,this.colDefCols?.tree,f.columnTree);let p=f.columnTree,v=f.treeDepth,m=S9(p),g={};for(let b of m)g[b.getId()]=b;this.colDefCols={tree:p,treeDepth:v,list:m,map:g},this.createColumnsForService([c],this.colDefCols,e),r?.extractCols(e,u),o?.extractCols(e,u),s?.extractCols(e,u),this.ready=!0,this.changeEventsDispatching=!0,this.refreshCols(!0,e),this.changeEventsDispatching=!1,a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&n?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;let i=this.cols?.tree;this.saveColOrder();let{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:o,quickFilter:s,pivotResultCols:a,showRowGroupCols:l,rowAutoHeight:c,visibleCols:d,colViewport:u,eventSvc:h,formula:f}=this.beans,p=this.selectCols(a,this.colDefCols);f?.setFormulasActive(p),this.createColumnsForService([n,r,o],p,t);let v=Vce(this.gos,this.showingPivotResult);(!e||v)&&this.restoreColOrder(p),this.positionLockedCols(p),l?.refresh(),s?.refreshCols(),this.setColSpanActive(),c?.setAutoHeightActive(p),d.clear(),u.clear(),Am(i,this.cols.tree)||h.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,i){for(let n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)},i),n.addColumns(t))}selectCols(e,t){let i=e?.getPivotResultCols()??null;this.showingPivotResult=i!=null;let{map:n,list:r,tree:o,treeDepth:s}=i??t;return this.cols={list:r.slice(),map:Ie({},n),tree:o.slice(),treeDepth:s},i&&(i.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let{beans:e,showingPivotResult:t,cols:i}=this,{valueColsSvc:n,selectionColSvc:r}=e,o=this.isPivotMode()&&!t,s=r?.isSelectionColumnEnabled(),a=zce(e),l=n?.columns;return i.list.filter(d=>{let u=z5(d);if(o){let h=l?.includes(d);return u||h||s&&Rm(d)||a&&Uf(d)}else return u||d.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){Iu(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let i=t.filter(u=>e.map[u.getId()]!=null);if(i.length===0)return;if(i.length===e.list.length){e.list=i;return}let n=u=>{let h=u.getOriginalParent();return h?h.getChildren().length>1?!0:n(h):!1};if(!i.some(u=>n(u))){let u=new Set(i);for(let h of e.list)u.has(h)||i.push(h);e.list=i;return}let r=new Map;for(let u=0;u<i.length;u++){let h=i[u];r.set(h,u)}let o=e.list.filter(u=>!r.has(u));if(o.length===0){e.list=i;return}let s=(u,h)=>{let f=h?h.getOriginalParent():u.getOriginalParent();if(!f)return null;let p=null,v=null;for(let m of f.getChildren())if(!(m===h||m===u)){if(m instanceof _0){let g=r.get(m);if(g==null)continue;(p==null||p<g)&&(p=g,v=m);continue}m.forEachLeafColumn(g=>{let b=r.get(g);b!=null&&(p==null||p<b)&&(p=b,v=g)})}return v??s(u,f)},a=[],l=new Map;for(let u of o){let h=s(u,null);if(h==null){a.push(u);continue}let f=l.get(h);f===void 0?l.set(h,u):Array.isArray(f)?f.push(u):l.set(h,[f,u])}let c=new Array(e.list.length),d=c.length-1;for(let u=a.length-1;u>=0;u--)c[d--]=a[u];for(let u=i.length-1;u>=0;u--){let h=i[u],f=l.get(h);if(f)if(Array.isArray(f))for(let p=f.length-1;p>=0;p--){let v=f[p];c[d--]=v}else c[d--]=f;c[d--]=h}e.list=c}positionLockedCols(e){e.list=T9(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);let{visibleCols:i,eventSvc:n}=this.beans;i.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=Wb(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){OE(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:i,selectionColSvc:n,groupHierarchyColSvc:r}=this.beans;uC(this.colDefCols?.list,e)||uC(i?.columns?.list,e)||uC(n?.columns?.list,e)||uC(r?.columns?.list,e)||uC(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;let{map:i,list:n}=t;if(typeof e=="string"&&i[e])return i[e];for(let a=0;a<n.length;a++)if(SC(n[a],e))return n[a];let{autoColSvc:r,selectionColSvc:o,groupHierarchyColSvc:s}=this.beans;return r?.getColumn(e)??o?.getColumn(e)??s?.getColumn(e)??null}};var F9=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}};function WC(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var bi=null;function SU(e){return typeof e?.getGui=="function"}var O9=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.includes(" ")){let n=(e||"").split(" ");if(n.length>1){for(let r of n)this.toggleCss(r,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},Ede=0,r_=class extends ac{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Ede++,this.cssManager=new O9(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(let t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(KG):null}applyElementsToComponent(e,t,i,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let r=this[t];if(r===bi)this[t]=n??e;else{let o=i?.[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){let i=[];for(let n of e.childNodes??[])i.push(n);for(let n of i){if(!(n instanceof HTMLElement))continue;let r=this.createComponentFromElement(n,o=>{let s=o.getGui();if(s)for(let a of n.attributes??[])s.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);let o=Array.prototype.slice.call(n.children);r.addItems(o)}this.swapComponentForNode(r,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)}}createComponentFromElement(e,t,i){let n=e.nodeName,r=this.getDataRefAttribute(e),o=n.indexOf("AG-")===0,s=o?this.componentSelectors.get(n):null,a=null;if(s){let l=i&&r?i[r]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,r,i,a),a}swapComponentForNode(e,t,i){let n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e,t){let i=t??this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(let n of e)n.setAttribute("tabindex",i.toString())}setTemplate(e,t,i){let n;typeof e=="string"||e==null?n=R5(e):n=wm(e),this.setTemplateFromElement(n,t,i)}setTemplateFromElement(e,t,i,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let r=0;r<t.length;r++){let o=t[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),P5(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){let{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.insertAdjacentElement("afterbegin",i)}appendChild(e,t){let{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:i}=t;ice(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:i}=t;yo(this.eGui,e,{skipAriaHidden:i});let n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},wo=class extends r_{};function L9(e){return typeof e=="object"&&!!e.component}function Dde(e,t){return new rs(i=>{i(window.setInterval(e,t))})}var rs=class _C{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new _C(i=>{let n=t.length,r=new Array(n);t.forEach((o,s)=>{o.then(a=>{r[s]=a,n--,n===0&&i(r)})})}):_C.resolve()}static resolve(t=null){return new _C(i=>i(t))}then(t){return new _C(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t;for(let i of this.waiters)i(t)}onReject(t){}};function Tde(e){return e?e.prototype&&"getGui"in e.prototype:!1}function N9(e,t,i,n){let{name:r}=i,o,s,a,l,c,d;if(t){let u=t,h=u[r+"Selector"],f=h?h(n):null,p=v=>{typeof v=="string"?o=v:v!=null&&v!==!0&&(e.isFrameworkComponent(v)?a=v:s=v)};f?(p(f.component),l=f.params,c=f.popup,d=f.popupPosition):p(u[r])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var Ade=class extends Kt{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,n=!1){return this.getCompDetails(this.gridOptions,e,t,i,n)}getCompDetails(e,t,i,n,r=!1){let{name:o,cellRenderer:s}=t,{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:u,popupPositionFromSelector:h}=N9(this.beans.frameworkOverrides,e,t,n),f,p,v=w=>{let x=this.registry.getUserComponent(o,w);x&&(l=x.componentFromFramework?void 0:x.component,c=x.componentFromFramework?x.component:void 0,f=x.params,p=x.processParams)};if(a!=null&&v(a),l==null&&c==null&&i!=null&&v(i),l&&s&&!Tde(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){let{validation:w}=this.beans;r&&(a!==i||!i)?a?w?.isProvidedUserComp(a)||ho(50,{compName:a}):i?w||ho(260,Zt(Ie({},this.gos.getModuleErrorParams()),{propName:o,compName:i})):ho(216,{name:o}):i&&!w&&ho(146,{comp:i});return}let m=this.mergeParams(e,t,n,d,f,p),g=l==null,b=l??c;return{componentFromFramework:g,componentClass:b,params:m,type:t,popupFromSelector:u,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(b,g,m,t)}}newAgStackInstance(e,t,i,n){let r=!t,o;r?o=new e:o=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(o);let s=o.init?.(i);return s==null?rs.resolve(o):s.then(()=>o)}mergeParams(e,t,i,n=null,r,o){let s=Ie(Ie({},i),r),l=e?.[t.name+"Params"];if(typeof l=="function"){let c=l(i);sc(s,c)}else typeof l=="object"&&sc(s,l);return sc(s,n),o?o(s):s}},Rde={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},kde={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Ide={name:"headerComponent",optionalMethods:["refresh"]},Pde={name:"innerHeaderComponent"},Fde={name:"innerHeaderGroupComponent"},Ode={name:"headerGroupComponent"};var Lde={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var Nde={name:"loadingCellRenderer",cellRenderer:!0},Bde={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Vde={name:"tooltipComponent"},H5={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},zde={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Hde={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Ude={name:"loadingCellRenderer",cellRenderer:!0},Gde={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Wde={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function jde(e,t){return e.getCompDetailsFromGridOptions(kde,"agDragAndDropImage",t,!0)}function qde(e,t,i){return e.getCompDetails(t,Ide,"agColumnHeader",i)}function Yde(e,t,i){return e.getCompDetails(t,Pde,void 0,i)}function $de(e,t){let i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,Ode,"agColumnGroupHeader",t)}function Xde(e,t,i){return e.getCompDetails(t,Fde,void 0,i)}function Kde(e,t){return e.getCompDetailsFromGridOptions(Hde,void 0,t,!0)}function Zde(e,t){return e.getCompDetailsFromGridOptions(Ude,"agLoadingCellRenderer",t,!0)}function Qde(e,t){return e.getCompDetailsFromGridOptions(Gde,"agGroupRowRenderer",t,!0)}function Jde(e,t){return e.getCompDetailsFromGridOptions(Wde,"agDetailCellRenderer",t,!0)}function MU(e,t,i){return e.getCompDetails(t,Lde,void 0,i)}function EU(e,t,i){return e.getCompDetails(t,Nde,"agSkeletonCellRenderer",i,!0)}function B9(e,t,i){return e.getCompDetails(t,Bde,"agCellEditor",i,!0)}function eue(e,t,i,n){let r=t.filter;return L9(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,H5,n,i,!0)}function tue(e,t,i){return e.getCompDetails(t,Rde,"agDateInput",i,!0)}function iue(e,t){return e.getCompDetails(t.colDef,Vde,"agTooltipComponent",t,!0)}function nue(e,t,i,n){return e.getCompDetails(t,zde,n,i)}function V9(e,t){return N9(e,t,H5)}function hF(e,t,i){return e.mergeParams(t,H5,i)}function NC(e){let t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}function rue(e){return typeof e=="object"&&!!e.getComp}var St={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},oue=65,sue=67,aue=86,lue=68,cue=90,due=89;function z9(e){let{keyCode:t}=e,i;switch(t){case oue:i=St.A;break;case sue:i=St.C;break;case aue:i=St.V;break;case lue:i=St.D;break;case cue:i=St.Z;break;case due:i=St.Y;break;default:i=e.code}return i}var U5=class extends r_{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},fF,pF,mF,gF,t5,i5,vF;function km(){return fF===void 0&&(fF=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),fF}function BC(){return pF===void 0&&(pF=/(firefox)/i.test(navigator.userAgent)),pF}function H9(){return mF===void 0&&(mF=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),mF}function d0(){return gF===void 0&&(gF=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),gF}function n5(e){if(!e)return null;let t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!BC())?null:t.toString()}function uue(){if(vF!==void 0)return vF;if(!document.body)return-1;let e=1e6,t=BC()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let n=e*2;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return i.remove(),vF=e,e}function hue(){return i5==null&&U9(),i5}function U9(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.remove(),i!=null&&(i5=i,t5=i===0)}function G9(){return t5==null&&U9(),t5}var r5=!1,BE=0;function fue(e){BE>0||(e.addEventListener("keydown",VE),e.addEventListener("mousedown",VE))}function pue(e){BE>0||(e.removeEventListener("keydown",VE),e.removeEventListener("mousedown",VE))}function VE(e){let t=r5,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(r5=i)}function mue(e){let t=ja(e);return fue(t),BE++,()=>{BE--,pue(t)}}function W9(){return r5}function jb(e,t,i=!1){let n=tce,r=WG;t&&(r+=", "+t),i&&(r+=', [tabindex="-1"]');let o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(l=>Lh(l)),s=Array.prototype.slice.apply(e.querySelectorAll(r));return s.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(o,s):o}function m0(e,t=!1,i=!1,n=!1){let r=jb(e,n?".ag-tab-guard":null,i),o=t?To(r):r[0];return o?(o.focus({preventScroll:!0}),!0):!1}function y0(e,t,i,n){let r=jb(t,i?':not([tabindex="-1"])':null),o=os(e),s;i?s=r.findIndex(l=>l.contains(o)):s=r.indexOf(o);let a=s+(n?-1:1);return a<0||a>=r.length?null:r[a]}function j9(e,t=5){let i=0;for(;e&&n5(e)===null&&++i<=t;)e=e.parentElement;return n5(e)===null?null:e}var gue="ag-focus-managed",q9=class extends ac{constructor(e,t={isStopPropagation:()=>!1,stopPropagation:()=>{}},i={}){super(),this.eFocusable=e,this.stopPropagationCallbacks=t,this.callbacks=i,this.callbacks=Ie({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;let r=y0(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())}},i)}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add(gue),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||this.stopPropagationCallbacks.isStopPropagation(t))return;let{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){this.stopPropagationCallbacks.stopPropagation(t);return}t.key===St.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}},bF={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},vue=class extends ac{constructor(e,t){super(),this.stopPropagationCallbacks=t,this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:i,eTopGuard:n,eBottomGuard:r,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:a,focusInnerElement:l,onFocusIn:c,onFocusOut:d,shouldStopEventPropagation:u,onTabKeyDown:h,handleKeyDown:f,isEmpty:p,eFocusableElement:v}=e;this.comp=i,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=l,this.eFocusableElement=v,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!a,this.providedFocusIn=c,this.providedFocusOut=d,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=f,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new q9(this.eFocusableElement,this.stopPropagationCallbacks,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(let e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():jb(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=ja(this.beans),i=jb(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let r,o;e?(r=0,o=n):(r=n+1,o=i.length);let s=i.slice(r,o),a=this.gos.get("tabIndex");s.sort((l,c)=>{let d=Number.parseInt(l.getAttribute("tabindex")||"0"),u=Number.parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:d===0?1:u===0?-1:d-u}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=jb(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return y0(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},bue=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick??20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){let i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let n=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<n.left+r,this.tickRight=e.clientX>n.right-r,this.tickUp=e.clientY<n.top+r&&!i,this.tickDown=e.clientY>n.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Y9="ag-resizer-wrapper",mm=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),_ue={tag:"div",cls:Y9,children:[mm("eTopLeft","topLeft"),mm("eTop","top"),mm("eTopRight","topRight"),mm("eRight","right"),mm("eBottomRight","bottomRight"),mm("eBottom","bottom"),mm("eBottomLeft","bottomLeft"),mm("eLeft","left")]},yue=class extends ac{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Ie({popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){let{clientHeight:t,clientWidth:i}=this.offsetParent,n=i/2-this.getWidth()/2,r=t/2-this.getHeight()/2;this.offsetElement(n,r,e)}initialisePosition(e){if(this.positioned)return;let{centered:t,forcePopupParentAsOffsetParent:i,minWidth:n,width:r,minHeight:o,height:s,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0,u=Lh(this.element);if(u){let h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(f.minWidth!=null){let p=h.offsetWidth-this.element.offsetWidth;d=Number.parseInt(f.minWidth,10)-p}if(f.minHeight!=null){let p=h.offsetHeight-this.element.offsetHeight;c=Number.parseInt(f.minHeight,10)-p}}if(this.minHeight=o||c,this.minWidth=n||d,r&&this.setWidth(r),s&&this.setHeight(s),(!r||!s)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(u&&i){let h=this.boundaryEl,f=!0;if(h||(h=this.findBoundaryElement(),f=!1),h){let p=Number.parseFloat(h.style.top),v=Number.parseFloat(h.style.left);f?this.offsetElement(Number.isNaN(v)?0:v,Number.isNaN(p)?0:p,e):this.setPosition(v,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(i),this.moveElementDragListener=i):(this.dragSvc?.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}for(let t of Object.keys(e)){let i=!!e[t],n=this.getResizerElement(t),r={dragStartPixels:0,eElement:n,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(r),this.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=i)}}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,n=!1;if(typeof e=="string"&&e.includes("%"))CC(i,e),e=jG(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?CC(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,s=e?0:r.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-n.bottom}}return i+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,n=!1;if(typeof e=="string"&&e.includes("%"))Ih(t,e),e=DE(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,o=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ih(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,i){let{forcePopupParentAsOffsetParent:n}=this.config,r=n?this.boundaryEl:this.element;r&&(this.popupSvc?.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:i}),this.setPosition(Number.parseFloat(r.style.left),Number.parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Tm(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:n,anywhereWithin:r,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!r,s)?0:s,c=this.shouldSkipY(t,!!n,o,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,n){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=n<0&&e.clientX>a+o.left||n>0&&e.clientX<a+o.left:i?l=n<0&&e.clientX>s.right||n>0&&e.clientX<a+o.left:l=n<0&&e.clientX>s.right||n>0&&e.clientX<s.right,l)}shouldSkipY(e,t,i=0,n){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=n<0&&e.clientY>a+o.top+i||n>0&&e.clientY<a+o.top:l=n<0&&e.clientY>s.bottom||n>0&&e.clientY<s.bottom,l)}createResizeMap(){let e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(wm(_ue)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${Y9}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let n of e){let r=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let o=this.minHeight||0,s=this.minWidth||0;if(r){let a=window.getComputedStyle(n);a.minHeight&&(o=Number.parseInt(a.minHeight,10)),a.minWidth&&(s=Number.parseInt(a.minWidth,10))}else o=n.offsetHeight,s=n.offsetWidth;t+=o,i+=s}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){let r=i[n];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:r,isBottom:o,isLeft:s}=this.currentResizer,a=r||s,l=o||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:s,isTop:n}),u=this.position.x,h=this.position.y,f=0,p=0;if(a&&c){let v=s?-1:1,m=this.getWidth(),g=m+c*v,b=!1;s&&(f=m-g,(u+f<=0||g<=this.minWidth)&&(b=!0,f=0)),b||this.setWidth(g)}if(l&&d){let v=n?-1:1,m=this.getHeight(),g=m+d*v,b=!1;n?(p=m-g,(h+p<=0||g<=this.minHeight)&&(b=!0,p=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&m<g&&this.getMinSizeOfSiblings().height+g>this.element.parentElement.offsetHeight&&(b=!0),b||this.setHeight(g)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&f||p)&&this.offsetElement(u+f,h+p)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:i}=this.position,n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());let{movementX:r,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+r,i+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},G5="T",wue=new RegExp(`[${G5} ]`),Cue=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${G5}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Dh(e,t){return e.toString().padStart(t,"0")}function ud(e,t=!0,i=G5){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Dh(r,2)).join("-");return t&&(n+=i+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Dh(r,2)).join(":")),n}function JM(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Dh(e.getDate(),2),Dh(e.getHours(),2),`:${Dh(e.getMinutes(),2)}`,`:${Dh(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Dh(e.getDate(),2)].map(String):null}var _F=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},DU=["January","February","March","April","May","June","July","August","September","October","November","December"],yF=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function o5(e,t){if(t==null)return ud(e,!1);let i=Dh(e.getFullYear(),4),n={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>DU[e.getMonth()],MMM:()=>DU[e.getMonth()].slice(0,3),MM:()=>Dh(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${_F(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${_F(e.getDate())}`,DD:()=>Dh(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>yF[e.getDay()],ddd:()=>yF[e.getDay()].slice(0,3),dd:()=>yF[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${_F(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(n).join("|"),"g");return t.replace(r,o=>o in n?n[o]():o)}function bE(e,t=!1){return!!Dc(e,t)}function xue(e){return bE(e,!0)}function Dc(e,t=!1,i){if(!e||!i&&!Cue.test(e))return null;let[n,r]=e.split(wue);if(!n)return null;let o=n.split("-").map(f=>Number.parseInt(f,10));if(o.filter(f=>!isNaN(f)).length!==3)return null;let[s,a,l]=o,c=new Date(s,a-1,l);if(c.getFullYear()!==s||c.getMonth()!==a-1||c.getDate()!==l||!r&&t)return null;if(!r||r==="00:00:00")return c;let[d,u,h]=r.split(":").map(f=>Number.parseInt(f,10));if(d>=0&&d<24)c.setHours(d);else if(t)return null;if(u>=0&&u<60)c.setMinutes(u);else if(t)return null;if(h>=0&&h<60)c.setSeconds(h);else if(t)return null;return c}function s5(e){let{inputValue:t,allSuggestions:i,hideIrrelevant:n,filterByPercentageOfBestMatch:r}=e,o=(i??[]).map((l,c)=>({value:l,relevance:Sue(t,l),idx:c}));if(o.sort((l,c)=>l.relevance-c.relevance),n&&(o=o.filter(l=>l.relevance<Math.max(l.value.length,t.length))),o.length>0&&r&&r>0){let c=o[0].relevance*r;o=o.filter(d=>c-d.relevance<0)}let s=[],a=[];for(let l of o)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function Sue(e,t){let i=e.length,n=t.length;if(n===0)return i||0;let r=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),s;e.length<t.length&&(s=o,o=r,r=s,s=t,t=e,e=s);let a=new Uint16Array(n+1),l=new Uint16Array(n+1);for(let u=0;u<=n;u++)a[u]=u;let c=0,d=i/2-10;for(let u=1;u<=i;u++){let h=e[u-1],f=r[u-1];l[0]=u;for(let p=1;p<=n;p++){let v=t[p-1],m=o[p-1];if(f!==m){let g=l[p-1],b=a[p],w=a[p-1],x=g<b?g:b;w<x&&(x=w),l[p]=x+1|0;continue}if(c++,h===v&&c++,u>1&&p>1){let g=e[u-2],b=r[u-2],w=t[p-2],x=o[p-2];b===x&&(c++,g===w&&c++)}u<d&&c++,l[p]=a[p-1]}s=a,a=l,l=s}return a[n]/(c+1)}function $9(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var Mue=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Eue=class extends r_{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Mue)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:r,labelEllipsis:o}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),o!=null&&this.setLabelEllipsis(o),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;vl(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(yo(t,!1),xm(t,"presentation")):(yo(t,!0),xm(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(RE(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return kC(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},X9=class extends Eue{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i,ariaLabel:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),n!=null&&this.setAriaLabel(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||zle(e)!==null?RC(e,""):RC(e,t??"")}setAriaLabel(e){return Kb(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ih(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Due(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var s0=class extends X9{constructor(e,t,i="text",n="input"){super(e,e?.template??Due(n),[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=bi,this.eWrapper=bi,this.eInput=bi}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);let{eLabel:e,eWrapper:t,eInput:i,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),i.classList.add(`${n}-input`),this.addCss("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;let{inputName:r,inputWidth:o,inputPlaceholder:s,autoComplete:a,tabIndex:l}=this.config;r!=null&&this.setInputName(r),o!=null&&this.setInputWidth(o),s!=null&&this.setInputPlaceholder(s),a!=null&&this.setAutoComplete(a),this.addInputListeners(),this.activateTabIndex([i],l)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Mc(this.eInput,"type",e))}getInputElement(){return this.eInput}getWrapperElement(){return this.eWrapper}setInputWidth(e){return RE(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Mc(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Kb(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return kC(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Mc(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";Mc(this.eInput,"autocomplete",t)}return this}},W5=class extends s0{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t,name:i}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t),i!=null&&this.setName(i)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});let n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},j5={selector:"AG-CHECKBOX",component:W5},Tue=class extends W5{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}};var w0=class extends s0{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let i=this.eInput;return i.value!==e&&(i.value=Ai(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}setCustomValidity(e){let t=this.eInput,i=e.length>0;t.setCustomValidity(e),i&&t.reportValidity(),D5(t,i)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{$9(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{i.clipboardData?.getData("text")?.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},tD={selector:"AG-INPUT-TEXT-FIELD",component:w0},Aue=class extends s0{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Rue={selector:"AG-INPUT-TEXT-AREA",component:Aue},q5=class extends w0{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let o=Number.parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:i,max:n,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof i=="number"&&this.setMin(i),typeof n=="number"&&this.setMax(n),typeof r=="number"&&this.setStep(r)}onWheel(e){os(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){let i=this.precision;if(i==null)return e;if(t){let r=Number.parseFloat(e).toFixed(i);return Number.parseFloat(r).toString()}let n=String(e).split(".");if(n.length>1){if(n[1].length<=i)return e;if(i>0)return`${n[0]}.${n[1].slice(0,i)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Mc(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Mc(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Mc(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(Ai(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);let r=this.normalizeValue(i);n=i!=r}if(n)return t(i)}return e(i)}getValue(e=!1){let t=this.eInput;if(!t.validity.valid&&!e)return;let i=t.value;return this.isScientificNotation(i)?this.adjustPrecision(i,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},kue={selector:"AG-INPUT-NUMBER-FIELD",component:q5},Iue=class extends w0{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=km();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){os(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?ud(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Mc(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?ud(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Mc(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Mc(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Dc(this.getValue())??void 0}setDate(e,t){this.setValue(ud(e??null,this.includeTime),t)}},K9={selector:"AG-INPUT-DATE-FIELD",component:Iue},Pue=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",Fue="ag-active-item",Oue=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",ref:"eText",children:t}]}),Lue=class extends r_{constructor(e,t,i){super(Oue(e,t)),this.label=t,this.value=i,this.eText=bi}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){let t=this.getGui();t.classList.toggle(Fue,e),GG(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){let i=this.getGui();jle(i,e),Wle(i,t)}createTooltip(){let e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>k5(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){let e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},Nue=class extends r_{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(Pue)}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){let t=e.key;switch(t){case St.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{let i=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(i)}break;case St.DOWN:case St.UP:e.preventDefault(),this.navigate(t);break;case St.PAGE_DOWN:case St.PAGE_UP:case St.PAGE_HOME:case St.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(let t of e)this.addOption(t);return this}addOption(e){let{value:t,text:i}=e,n=i??t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(let e of this.listItems)e.destroy();vl(this.getGui()),this.listItems=[],this.refreshAriaRole()}updateOptions(e){let t=this.options!==e;return t&&(this.clearOptions(),this.addOptions(e)),t}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let i=this.options.findIndex(n=>n.value===e);if(i!==-1){let n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.listItems[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){let t=e.getGui();if(!Lh(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;let i=this.getGui(),{scrollTop:n,clientHeight:r}=i,{offsetTop:o,offsetHeight:s}=t;(o+s>n+r||o<n)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){let i=new Lue(this.cssIdentifier,t,e);i.setParentComponent(this);let n=this.createManagedBean(i);this.listItems.push(n),this.getGui().appendChild(n.getGui())}navigate(e){let t=e===St.DOWN,i,{listItems:n,highlightedItem:r}=this;if(!r)i=t?n[0]:To(n);else{let s=n.indexOf(r)+(t?1:-1);s=Math.min(Math.max(s,0),n.length-1),i=n[s]}this.highlightItem(i)}navigateToPage(e){let{listItems:t,highlightedItem:i}=this;if(!i||t.length===0)return;let n=t.indexOf(i),r=this.options.length-1,o=t[0].getHeight(),s=Math.floor(this.getGui().clientHeight/o),a=-1;e===St.PAGE_HOME?a=0:e===St.PAGE_END?a=r:e===St.PAGE_DOWN?a=Math.min(n+s,r):e===St.PAGE_UP&&(a=Math.max(n-s,0)),a!==-1&&this.highlightItem(t[a])}refreshAriaRole(){xm(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();let e=this.listItems,t=e.length;e.forEach((i,n)=>{i.setIndex(n+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Bue=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",Vue={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},zue=class extends X9{constructor(e){if(super(e,e?.template||Vue,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=bi,this.eWrapper=bi,this.eDisplayField=bi,this.eIcon=bi,this.registerCSS(Bue),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:r,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:i,inputWidth:n}=this.config;if(i){let r=this.beans.iconSvc.createIconNoSpan(i);r&&this.eIcon.appendChild(r)}n!=null&&this.setInputWidth(n)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),qF(e,!1),this.ariaRole&&xm(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case St.UP:case St.DOWN:case St.ENTER:case St.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case St.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:r=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,u={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let v=M5(c);this.beforeHidePicker(),v&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:d};e.style.position="absolute";let h=c.popupSvc,f=h.addPopup(u);l?(s&&(e.style.minWidth=s),e.style.width=I5(DE(d)),a&&(e.style.maxWidth=a)):RE(e,a??DE(d));let p=o??`${T5(h.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),f.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:i,gos:n},eWrapper:r,pickerComponent:o}=this,s=n.get("enableRtl")?"right":"left";i.positionPopupByComponent({type:t,eventSource:r,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();qF(t,e);let i=this.eWrapper.classList;i.toggle("ag-picker-expanded",e),i.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return RE(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Hue=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}",Y5=class extends zue{constructor(e){super(Ie({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(Hue)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:uE(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new Nue("select"));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),i=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",i),ece(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){let{key:t}=e;switch(t===St.TAB&&this.hidePicker(),t){case St.ENTER:case St.UP:case St.DOWN:case St.PAGE_UP:case St.PAGE_DOWN:case St.PAGE_HOME:case St.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case St.ESCAPE:super.onKeyDown(e);break;case St.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(let t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}updateOptions(e){return this.listComponent?.updateOptions(e)&&this.setValue(void 0,!0),this}setValue(e,t,i){let{listComponent:n,config:{placeholder:r},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!n)return this;if(i||n.setValue(e,!0),n.getValue()===this.getValue())return this;let l=n.getDisplayValue();return l==null&&r&&(l=r),o.textContent=l,s?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Uue={selector:"AG-SELECT",component:Y5};var Gue=':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',$5=typeof window!="object"||!window?.document?.fonts?.forEach,a5=!1,Jb=(e,t,i,n,r,o)=>{if($5||a5)return;n&&(e=`@layer ${CSS.escape(n).replaceAll("\\.",".")} { ${e} }`);let s=qb.map.get(t);if(s||(s=[],qb.map.set(t,s)),s.some(d=>d.css===e))return;let a=document.createElement("style");o&&a.setAttribute("nonce",o),a.dataset.agGlobalCss=i,a.textContent=e;let l={css:e,el:a,priority:r},c;for(let d of s){if(d.priority>r)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);let d=s.indexOf(c);s.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},Z9=(e,t,i,n)=>{Jb(Gue,e,"shared",t,0,i),n?.forEach((r,o)=>r.forEach(s=>Jb(s,e,o,t,0,i)))},Wue=e=>{qb.grids.add(e)},jue=e=>{if(qb.grids.delete(e),qb.grids.size===0){qb.map=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},TU,qb=(TU=typeof window=="object"?window:{}).agStyleInjectionState??(TU.agStyleInjectionState={map:new WeakMap,grids:new Set}),Fl=e=>new Q9(e),_m="$default",que=0,Q9=class{constructor({feature:e,params:t,modeParams:i={},css:n,cssImports:r}){this.feature=e,this.css=n,this.cssImports=r,this.modeParams=Ie({[_m]:Ie(Ie({},i[_m]??{}),t??{})},i)}use(e,t,i){let n=this._inject;if(n==null){let{css:r}=this;if(r){let o=`ag-theme-${this.feature??"part"}-${++que}`;typeof r=="function"&&(r=r()),r=`:where(.${o}) {
${r}
}
`;for(let s of this.cssImports??[])r=`@import url(${JSON.stringify(s)});
${r}`;n={css:r,class:o}}else n=!1;this._inject=n}return n&&e&&Jb(n.css,e,n.class,t,1,i),n?n.class:!1}},Yue=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),J9=e=>`--ag-${Yue(e)}`,Oh=e=>`var(${J9(e)})`,$ue=(e,t,i)=>Math.max(t,Math.min(i,e)),Xue=e=>{let t=new Map;return i=>{let n=i;return t.has(n)||t.set(n,e(i)),t.get(n)}},Mh=e=>({ref:"accentColor",mix:e}),Wa=e=>({ref:"foregroundColor",mix:e}),rc=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Kue=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),oc={ref:"backgroundColor"},Ah={ref:"foregroundColor"},zf={ref:"accentColor"},zE={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Wa(.15),chromeBackgroundColor:rc(.02),browserColorScheme:"light"},Zue=Zt(Ie({},zE),{textColor:Ah,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:Mh(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:oc,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:zf,toggleButtonOffBackgroundColor:rc(.3),toggleButtonSwitchBackgroundColor:oc,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}}),Que=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Jue=Xue(e=>(e=e.toLowerCase(),Que.find(t=>e.endsWith(t.toLowerCase()))??"length")),iD=e=>typeof e=="object"&&e?.ref?Oh(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,X5=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Oh(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Oh(e.onto):"transparent"}, ${t} ${$ue(e.mix*100,0,100)}%)`}return!1},ehe=iD,Ib=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:" "+Oh(i)+" ")})`:e&&"ref"in e?Oh(e.ref):!1,the=iD,l5=(e,t)=>typeof e=="string"?e:e===!0?l5({},t):e===!1?t==="columnBorder"?l5({color:"transparent"},t):"none":e&&"ref"in e?Oh(e.ref):eW(e.style??"solid")+" "+Ib(e.width??{ref:"borderWidth"})+" "+X5(e.color??{ref:"borderColor"}),ihe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Oh(e.ref):[Ib(e.offsetX??0),Ib(e.offsetY??0),Ib(e.radius??0),Ib(e.spread??0),X5(e.color??{ref:"foregroundColor"})].join(" "),eW=iD,tW=e=>typeof e=="string"?e.includes(",")?e:AU(e):e&&"googleFont"in e?tW(e.googleFont):e&&"ref"in e?Oh(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),AU(t))).join(", "):!1,AU=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),nhe=iD,iW=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?iW({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Oh(e.ref):!1,rhe=(e,t,i)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&i.warn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Oh(e.ref):!1,ohe={color:X5,colorScheme:ehe,length:Ib,scale:the,border:l5,borderStyle:eW,shadow:ihe,image:iW,fontFamily:tW,fontWeight:nhe,duration:rhe},she=(e,t,i)=>{let n=Jue(e);return ohe[n](t,e,i)};var ahe=e=>new nW(e),nW=class rW{constructor(t,i=[]){this.themeLogger=t,this.parts=i}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Q9?new rW(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(Fl({feature:t}))}withParams(t,i=_m){return this.withPart(Fl({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,nonce:n,loadThemeGoogleFonts:r,moduleCss:o}){if($5||a5)return;che(),Z9(t,i,n,o);let s=lhe(this);if(s.length>0)for(let a of s)r&&dhe(a,n);for(let a of this.parts)a.use(t,i,n)}_getCssClass(){return a5?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=RU(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let i={[_m]:Ie({},Zue)};for(let n of RU(this.parts))for(let r of Object.keys(n.modeParams)){let o=n.modeParams[r];if(o){let s=i[r]??(i[r]={}),a=new Set;for(let l of Object.keys(o)){let c=o[l];c!==void 0&&(s[l]=c,a.add(l))}if(r===_m)for(let l of Object.keys(i)){let c=i[l];if(l!==_m)for(let d of a)delete c[d]}}}this._paramsCache=t=i}return t}_getPerInstanceCss(t){let i="##SELECTOR##",n=this._paramsCssCache;if(!n){let r="",o="",s=this._getModeParams();for(let l of Object.keys(s)){let c=s[l];if(l!==_m){let u=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=u,o+=u}for(let d of Object.keys(c).sort()){let u=c[d],h=she(d,u,this.themeLogger);if(h===!1)this.themeLogger.error(107,{key:d,value:u});else{let f=J9(d),p=f.replace("--ag-","--ag-inherited-");r+=`	${f}: var(${p}, ${h});
`,o+=`	${p}: var(${f});
`}}l!==_m&&(r+=`}
`,o+=`}
`)}let a=`${i} {
${r}}
`;a+=`:has(> ${i}):not(${i}) {
${o}}
`,this._paramsCssCache=n=a}return n.replaceAll(i,`:where(.${t})`)}},RU=e=>{let t=new Map;for(let n of e)t.set(n.feature,n);let i=[];for(let n of e)(!n.feature||t.get(n.feature)===n)&&i.push(n);return i},lhe=e=>{let t=new Set,i=o=>{if(Array.isArray(o))o.forEach(i);else{let s=o?.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(i),Array.from(t).sort()},kU=!1,che=()=>{if(!kU){kU=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},dhe=(e,t)=>Mf(null,null,function*(){let i=`@import url('https://${uhe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Jb(i,document.head,`googleFont:${e}`,void 0,0,t)}),uhe="fonts.googleapis.com",hhe=1,fhe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=hhe++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(let t of e.beanClasses){let i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}for(let t of e.derivedBeans??[]){let{beanName:i,bean:n}=t(this);this.beans[i]=n,this.createdBeans.push(n)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){let i=this.beans;for(let n of e)n.preWireBeans?.(i),n.wireBeans?.(i);for(let n of e)n.preConstruct?.();t&&e.forEach(t);for(let n of e)n.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},phe=0,IU={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},mhe=class extends ac{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++phe}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){let{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t);let i=e.get("themeStyleContainer"),n=typeof ShadowRoot<"u",r=n&&t.getRootNode()instanceof ShadowRoot;this.eStyleContainer=(typeof i=="function"?i():i)??(r?t:document.head),!i&&!r&&n&&ghe(t,this.shadowRootError.bind(this),this.addDestroyFunc.bind(this)),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.getSizeEl(IU),this.initVariables(),this.addDestroyFunc(()=>jue(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){let{theme:i}=this,n;i?n=`${this.paramsClass} ${i._getCssClass()}`:n=this.applyLegacyThemeClasses();for(let r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){let r=e.className;e.className=`${r}${r?" ":""}${n}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let i=!1;for(let n of Array.from(t.classList))n.startsWith("ag-theme-")&&(i=!0,e=e?`${e} ${n}`:n);i&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?Jb(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(IU)}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let i=t.offsetWidth;return i===wF?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=wm({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.getMeasurementContainer();t=wm({tag:"div"});let{border:n,noWarn:r}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${wF}px)`)):t.style.width=`var(${e.cssName}, ${wF}px)`,i.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!r&&this.varError(e);let s=Tm(this.beans,t,()=>{let a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==o&&(o=a,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}handleThemeChange(){let{gos:e,theme:t}=this,i=e.get("theme"),n;if(i==="legacy")n=void 0;else{let r=i??this.getDefaultTheme();r instanceof nW?n=r:this.themeError(r)}n!==t&&this.handleNewTheme(n),this.postProcessThemeChange(n,i)}handleNewTheme(e){let{gos:t,eRootDiv:i,globalCSS:n}=this,r=this.getAdditionalCss();if(e){Wue(this),Z9(this.eStyleContainer,this.cssLayer,this.styleNonce,r);for(let[s,a]of n)Jb(s,this.eStyleContainer,a,this.cssLayer,0,this.styleNonce);n.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:r});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=wm({tag:"style"});let s=t.get("styleNonce");s&&o.setAttribute("nonce",s),i.appendChild(o)}$5||(o.textContent=e?._getPerInstanceCss(this.paramsClass)||""),this.applyThemeClasses(i),this.fireStylesChangedEvent("themeChanged")}fireStylesChangedEvent(e){this.eventSvc.dispatchEvent({type:"stylesChanged",[e]:!0})}},wF=15538,ghe=(e,t,i)=>{let n=60,r=setInterval(()=>{typeof ShadowRoot<"u"&&e.getRootNode()instanceof ShadowRoot&&(t(),clearInterval(r)),(A5(e)||--n<0)&&clearInterval(r)},1e3);i(()=>clearInterval(r))},vhe=class extends ac{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(let t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...i){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));let n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new n(...i)}},bhe=class extends ac{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new f0}addListener(e,t,i){this.globalSvc.addEventListener(e,t,i)}removeListener(e,t,i){this.globalSvc.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},oW=class extends ac{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){let i="title",n=this.ctrl.getGui();n&&(e!=null&&(e!=""||t)?n.setAttribute(i,e):n.removeAttribute(i))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){let e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},_he=1e3,yhe=1e3,PU=100,FU,eE=!1,whe=class extends ac{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!d0()&&(eE?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},PU):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,i=this.tooltipCtrl.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||i.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||eE)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-FU<_he}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ai(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let i=this.gos.addCommon(Ie({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0)},t.getAdditionalParams?.()));this.state=2,this.tooltipInstanceCount++;let n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(i,n)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),FU=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");let r=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:n,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:s}),this.setEventHandlers(s)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(ja(this.beans),{keydown:s=>{n.contains(s?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=os(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent(Zt(Ie({},e),{mouseEvent:this.lastMouseEvent})):this.popupSvc?.positionPopupByComponent(Zt(Ie({},e),{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=this.tooltipTrigger===0?yhe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(let e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){eE=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},PU)}unlockService(){eE=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},Che=class extends oW{constructor(e,t,i){super(e,i),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},tE=0,xhe=200,She=class extends ac{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.addManagedEventListeners({stylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,eventSource:o,alignSide:s="left",position:a="over",type:l}=e,c=o.getBoundingClientRect(),d=this.getParentRect();this.setAlignedTo(o,t);let u=()=>{let h=c.left-d.left;s==="right"&&(h-=t.offsetWidth-c.width);let f;return a==="over"?(f=c.top-d.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,c,d,e.nudgeY||0)==="under"?f=c.top-d.top+c.height:f=c.top-t.offsetHeight-(n||0)*2-d.top),{x:h,y:f}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,l,t,o,null)})}positionPopupForMenu(e){let{eventSource:t,ePopup:i,event:n}=e,r=t.getBoundingClientRect(),o=this.getParentRect();this.setAlignedTo(t,i);let s=!1,a=()=>{let l=this.keepXYWithinBounds(i,r.top-o.top,0),c=i.clientWidth>0?i.clientWidth:200;s||(i.style.minWidth=`${c}px`,s=!0);let u=o.right-o.left-c,h;return this.gos.get("enableRtl")?(h=p(),h<0&&(h=f(),this.setAlignedStyles(i,"left")),h>u&&(h=0,this.setAlignedStyles(i,"right"))):(h=f(),h>u&&(h=p(),this.setAlignedStyles(i,"right")),h<0&&(h=0,this.setAlignedStyles(i,"left"))),{x:h,y:l};function f(){return r.right-o.left-2}function p(){return r.left-o.left-c}};this.positionPopup({ePopup:i,keepWithinBounds:!0,updatePosition:a,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,"subMenu",i,t,n instanceof MouseEvent?n:void 0)})}shouldRenderUnderOrAbove(e,t,i,n){let r=i.bottom-t.bottom,o=t.top-i.top,s=e.offsetHeight+n;return r>s?"under":o>s||o>r?"above":"under"}setAlignedStyles(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let n=this.popupList[i],{alignedToElement:r}=n;if(!r)return;let o=["right","left","over","above","under"];for(let s of o)r.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`);t&&(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let i=this.getPopupIndex(t);if(i!==-1){let n=this.popupList[i];n.alignedToElement=e}}positionPopup(e){let{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:r,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=s();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(d+=n),r&&(u+=r),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let c=Tm(this.beans,t,()=>l(!0));setTimeout(()=>c(),xhe)}}getParentRect(){let e=ja(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),qG(t)}keepXYWithinBounds(e,t,i){let n=i===0,r=n?"clientHeight":"clientWidth",o=n?"top":"left",s=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=ja(this.beans),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),p=d===l.body,v=Math.ceil(u[s]),g=p?(n?jG:DE)(c)+c[a]:d[r];p&&(g-=Math.abs(f[o]-h[o]));let b=g-v;return Math.min(Math.max(t,0),Math.max(b,0))}addPopup(e){let{eChild:t,ariaLabel:i,ariaOwns:n,alwaysOnTop:r,positionCallback:o,anchorToElement:s}=e,a=this.getPopupIndex(t);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(t);let l=this.createPopupWrapper(t,!!r,i,n),c=this.addEventListenersToPopup(Zt(Ie({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(t,l,c,s),{hideFunc:c}}initialisePopupPosition(e){let i=this.getPopupParent().getBoundingClientRect();Ai(e.style.top)||(e.style.top=`${i.top*-1}px`),Ai(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i,n){let r=this.getPopupParent(),{environment:o,gos:s}=this.beans,a=wm({tag:"div"});return o.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(s.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||xm(e,"dialog"),i?Kb(e,i):n&&(e.id||(e.id=`popup-component-${tE}`),pU(n,e.id)),a.appendChild(e),r.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}addEventListenersToPopup(e){let t=this.beans,i=ja(t),{wrapperEl:n,eChild:r,closedCallback:o,afterGuiAttached:s,closeOnEsc:a,modal:l,ariaOwns:c}=e,d=!1,u=v=>{if(!n.contains(os(t)))return;v.key===St.ESCAPE&&!this.isStopPropagation(v)&&p({keyboardEvent:v})},h=v=>p({mouseEvent:v}),f=v=>p({touchEvent:v}),p=(v={})=>{let{mouseEvent:m,touchEvent:g,keyboardEvent:b,forceHide:w}=v;!w&&(this.isEventFromCurrentPopup({mouseEvent:m,touchEvent:g},r)||d)||(d=!0,n.remove(),i.removeEventListener("keydown",u),i.removeEventListener("mousedown",h),i.removeEventListener("touchstart",f),i.removeEventListener("contextmenu",h),this.eventSvc.removeListener("dragStarted",h),o&&o(m||g||b),this.removePopupFromPopupList(r,c))};return s&&s({hidePopup:p}),window.setTimeout(()=>{a&&i.addEventListener("keydown",u),l&&(i.addEventListener("mousedown",h),this.eventSvc.addListener("dragStarted",h),i.addEventListener("touchstart",f),i.addEventListener("contextmenu",h))},0),p}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:tE,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n),tE=tE+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;let r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=r,n.isAnchored=!0,r}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&pU(t,null),this.popupList=this.popupList.filter(i=>i.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:r}=e,o=n.getBoundingClientRect(),s=u=>Number.parseInt(u.substring(0,u.length-1),10),a=(u,h)=>{let f=i[u]-o[u],p=s(r.style[u]);return{initialDiff:f,lastDiff:f,initial:p,last:p,direction:h}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new rs(u=>{d.wrapIncoming(()=>{Dde(()=>{let h=t.getBoundingClientRect(),f=n.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}let v=(m,g)=>{let b=s(r.style[g]);m.last!==b&&(m.initial=b,m.last=b);let w=h[g]-f[g];if(w!=m.lastDiff){let x=this.keepXYWithinBounds(r,m.initial+m.initialDiff-w,m.direction);r.style[g]=`${x}px`,m.last=x}m.lastDiff=w};v(l,"top"),v(c,"left")},200).then(h=>{u(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){let{mouseEvent:i,touchEvent:n}=e,r=i||n;if(!r)return!1;let o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){let a=this.popupList[s];if(sce(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){let t=ja(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){let t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,r=this.getWrapper(e);if(!r||n<=1||!t.contains(e))return;let o=[],s=[];for(let h of i)h!==r&&(h.classList.contains("ag-always-on-top")?s.push(h):o.push(h));let a=[],l=s.length,u=r.classList.contains("ag-always-on-top")||!l?[...o,...s,r]:[...o,r,...s];for(let h=0;h<=n;h++){let f=u[h];if(i[h]===u[h]||f===r)continue;let p=f.querySelectorAll("div");for(let v of p)v.scrollTop!==0&&a.push([v,v.scrollTop]);h===0?t.insertAdjacentElement("afterbegin",f):u[h-1].insertAdjacentElement("afterend",f)}for(;a.length;){let h=a.pop();h[0].scrollTop=h[1]}}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let i of this.popupList)t.applyThemeClasses(i.wrapper)}}},Mhe=class extends U5{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){let{value:t}=e,i=this.getGui();i.textContent=n_(t);let n=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();i.classList.add(`ag-${n}-tooltip`)}},sW=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},Ehe=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;let i=t.pointerId;if(!sW(e,i))return null;let n={eElement:e,pointerId:i,onLost(r){The(n,r)}};return e.addEventListener("lostpointercapture",n.onLost),n},Dhe=e=>{if(!e)return;aW(e);let{eElement:t,pointerId:i}=e;if(t){try{t.releasePointerCapture(i)}catch{}e.eElement=null}},aW=e=>{let{eElement:t,onLost:i}=e;t&&i&&(t.removeEventListener("lostpointercapture",i),e.onLost=null)},The=(e,t)=>{aW(e);let{eElement:i,pointerId:n}=e;i&&t.pointerId===n&&sW(i,n)},Db,Pb,CF={passive:!0},gm={passive:!1},Ch=e=>{if(!Pb)Pb=new WeakSet;else if(Pb.has(e))return!1;return Pb.add(e),!0},Ahe=class extends ac{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!Db?.has(Sh(this.beans))}hasPointerCapture(){let e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();let e=this.dragSources;for(let t of e)OU(t);e.length=0,super.destroy()}removeDragSource(e){let t=this.dragSources;for(let i=0,n=t.length;i<n;++i){let r=t[i];if(r.params===e){t.splice(i,1),OU(r);break}}}addDragSource(e){if(!this.isAlive())return;let{eElement:t,includeTouch:i}=e,n=[],r;if(i){let c=t.style;c&&(r=c.touchAction,c.touchAction="none")}let o={handlers:n,params:e,oldTouchAction:r};this.dragSources.push(o),hE(n,[t,"pointerdown",c=>this.onPointerDown(e,c),gm],[t,"mousedown",c=>this.onMouseDown(e,c)]);let l=this.gos.get("suppressTouch");i&&!l&&hE(n,[t,"touchstart",d=>this.onTouchStart(e,d),gm])}cancelDrag(e){let t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){let t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&PC(this.beans,e)&&!wC(SF(e))}initDrag(e,...t){this.drag=e;let i=this.beans,n=a=>this.onScroll(a),r=a=>this.onKeyDown(a),o=Sh(i),s=ja(i);hE(e.handlers,[o,"contextmenu",kb],[o,"keydown",r],[s,"scroll",n,{capture:!0}],[s.defaultView||window,"scroll",n],...t)}destroyDrag(){this.dragging=!1;let e=this.drag;if(e){let t=e.rootEl;Db?.get(t)===e&&Db.delete(t),this.drag=null,Dhe(e.pointerCapture),F5(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;let i=this.beans;if(Pb?.has(t))return;let n=t.pointerType;if(n==="touch"&&(i.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),wC(SF(t))))||!t.isPrimary||n==="mouse"&&t.button!==0)return;this.destroyDrag();let r=Sh(i),o=e.eElement,s=t.pointerId,a=new xF(r,e,t,s);Db??(Db=new WeakMap),Db.set(r,a);let l=h=>{h.pointerId===s&&this.onMouseOrPointerMove(h)},c=h=>{h.pointerId===s&&this.onMouseOrPointerUp(h)},d=h=>{h.pointerId===s&&Ch(h)&&this.cancelDrag()},u=h=>this.draggingPreventDefault(h);this.initDrag(a,[r,"pointerup",c],[r,"pointercancel",d],[r,"pointermove",l,gm],[r,"touchmove",u,gm],[o,"mousemove",u,gm]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Ch(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!Ch(t)||wC(SF(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){this.dragging&&kb(t);return}this.destroyDrag();let n=this.beans,r=Sh(n),o=new xF(r,e,t.touches[0]),s=h=>this.onTouchMove(h),a=h=>this.onTouchUp(h),l=h=>this.onTouchCancel(h),c=h=>this.draggingPreventDefault(h),d=Sh(n),u=t.target??e.eElement;this.initDrag(o,[u,"touchmove",s,CF],[u,"touchend",a,CF],[u,"touchcancel",l,CF],[d,"touchmove",c,gm],[d,"touchend",a,gm],[d,"touchcancel",l,gm]),e.dragStartPixels===0&&this.onMove(o.start)}draggingPreventDefault(e){this.dragging&&kb(e)}onMouseDown(e,t){if(t.button!==0||Pb?.has(t)||this.isPointer())return;let i=this.beans;this.destroyDrag();let n=new xF(Sh(i),e,t),r=a=>this.onMouseOrPointerMove(a),o=a=>this.onMouseOrPointerUp(a),s=Sh(i);this.initDrag(n,[s,"mousemove",r],[s,"mouseup",o]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Ch(t)}onScroll(e){if(!Ch(e))return;let t=this.drag,i=t?.lastDrag;i&&this.dragging&&t.params?.onDragging?.(i)}onMouseOrPointerMove(e){Ch(e)&&(km()&&ja(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&kb(e),this.onMove(e))}onTouchCancel(e){let t=this.drag;!t||!Ch(e)||Lb(t.start,e.changedTouches)&&this.cancelDrag()}onTouchMove(e){let t=this.drag;if(!t||!Ch(e))return;let i=Lb(t.start,e.touches);i&&(this.onMove(i),this.draggingPreventDefault(e))}onMove(e){let t=this.drag;if(!t)return;t.lastDrag=e;let i=t.params;if(!this.dragging){let n=t.start,o=i.dragStartPixels??4;if(QG(e,n,o)||(this.dragging=!0,i.capturePointer&&(t.pointerCapture=Ehe(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:i.eElement}),i.onDragStart?.(n),this.drag!==t)||(i.onDragging?.(n),this.drag!==t))return}i.onDragging?.(e)}onTouchUp(e){let t=this.drag;t&&Ch(e)&&this.onUp(Lb(t.start,e.changedTouches))}onMouseOrPointerUp(e){Ch(e)&&this.onUp(e)}onUp(e){let t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop?.(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===St.ESCAPE&&this.cancelDrag()}},OU=e=>{F5(e.handlers);let t=e.oldTouchAction;if(t!=null){let i=e.params.eElement.style;i&&(i.touchAction=t)}},xF=class{constructor(e,t,i,n=null){this.rootEl=e,this.params=t,this.start=i,this.pointerId=n,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},SF=e=>{let t=e.target;return t instanceof Element?t:null},Rhe=class extends ac{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.externalDropZoneCount=0,this.lastDropTarget=null}addDragSource(e,t=!1){let i={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:n=>this.onDragStart(e,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(i),this.beans.dragSvc.addDragSource(i)}setDragImageCompIcon(e,t=!1){let i=this.dragImageComp;i&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,i.setIcon(e,t))}removeDragSource(e){let{dragSourceAndParamsList:t,beans:i}=this;for(let n=0,r=t.length;n<r;n++)if(t[n].dragSource===e){let o=t[n];i.dragSvc?.removeDragSource(o),t.splice(n,1);break}}destroy(){let{dragSourceAndParamsList:e,dropTargets:t,beans:i}=this,n=i.dragSvc;for(let r of e)n?.removeDragSource(r);e.length=0,t.length=0,this.externalDropZoneCount=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){let e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();let i=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-i.left,this.dragInitialSourcePointerOffsetY=t.clientY-i.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){let{dragSource:t,lastDropTarget:i}=this;if(t?.onDragStopped?.(),i){let n=this.dropTargetEvent(i,e,!1);i.onDragStop?.(n)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t,lastMouseEvent:i}=this;if(e?.onDragCancelled?.(),t&&i){let n=this.dropTargetEvent(t,i,!1);t.onDragCancel?.(n)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);let i=this.findCurrentDropTarget(e),{lastDropTarget:n,dragSource:r,dragItem:o}=this,s=!1;if(i!==n){if(s=!0,n){let a=this.dropTargetEvent(n,e,t);n.onDragLeave?.(a)}if(n!==null&&!i?this.handleExit(r,o):n===null&&i&&this.handleEnter(r,o),i){let a=this.dropTargetEvent(i,e,t);i.onDragEnter?.(a)}this.lastDropTarget=i}else if(i){let a=this.dropTargetEvent(i,e,t);i.onDragging?.(a),a?.changed&&(s=!0)}this.lastMouseEvent=e,s&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){let t=e.getContainer(),i=e.getSecondaryContainers?.(),n=i?.length;if(!n)return[[t]];let r=new Array(n+1);r[0]=[t];for(let o=0;o<n;++o)r[o+1]=i[o];return r}isMouseOnDropTarget(e,t){let i=this.getAllContainersFromDropTarget(t),n=!1,r=(a,l)=>{for(let c of l){let{width:d,height:u,left:h,right:f,top:p,bottom:v}=c.getBoundingClientRect();if(d===0||u===0)return!1;let m=a.clientX>=h&&a.clientX<f,g=a.clientY>=p&&a.clientY<v;if(!m||!g)return!1}return!0};for(let a of i)if(r(e,a)){n=!0;break}let{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:n&&t.isInterestedIn(s,o)}findCurrentDropTarget(e){let t=[],i=this.dropTargets;for(let s=0,a=i.length;s<a;++s){let l=i[s];this.isMouseOnDropTarget(e,l)&&t.push(l)}let n=t.length;if(n===0)return null;if(n===1)return t[0];let o=Sh(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let s=0,a=o.length;s<a;++s){let l=o[s];for(let c=0,d=t.length;c<d;c++){let u=t[c],h=this.getAllContainersFromDropTarget(u),f=!1;for(let p=0,v=h.length;p<v&&!f;p++){let m=h[p];for(let g=0,b=m.length;g<b;g++)if(m[g]===l){f=!0;break}}if(f)return u}}return null}addDropTarget(e){this.dropTargets.push(e),e.external&&this.externalDropZoneCount++}removeDropTarget(e){let t=e.getContainer(),i=this.dropTargets,n=0;for(let r=0,o=i.length;r<o;++r){let s=i[r];if(s.getContainer()===t){s.external&&--this.externalDropZoneCount;continue}n!==r&&(i[n]=s),++n}i.length=n}hasExternalDropZones(){return this.externalDropZoneCount>0}findExternalZone(e){let t=this.dropTargets;for(let i=0,n=t.length;i<n;++i){let r=t[i];if(r.external&&r.getContainer()===e)return r}return null}dropTargetEvent(e,t,i){let{dragSource:n,dragItem:r,lastDraggingEvent:o,lastMouseEvent:s,dragInitialSourcePointerOffsetX:a,dragInitialSourcePointerOffsetY:l}=this,c=e.getContainer(),d=c.getBoundingClientRect(),{clientX:u,clientY:h}=t,f=u-(s?.clientX||0),p=h-(s?.clientY||0),v=this.createEvent({event:t,x:u-d.left,y:h-d.top,vDirection:p>0?"down":p<0?"up":null,hDirection:f<0?"left":f>0?"right":null,initialSourcePointerOffsetX:a,initialSourcePointerOffsetY:l,dragSource:n,fromNudge:i,dragItem:r,dropZoneTarget:c,dropTarget:o?.dropTarget??null,changed:!!o?.changed});return this.lastDraggingEvent=v,v}positionDragImageComp(e){let t=this.dragImageComp?.getGui();t&&uce(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){let t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(i=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(i);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;let n=this.dragImageComp;n!==i&&(this.dragImageComp=i,this.removeDragImageComp(n)),i&&(this.appendDragImageComp(i),this.updateDragImageComp())})}appendDragImageComp(e){let t=e.getGui(),i=t.style;i.position="absolute",i.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(i.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),i.top="20px",i.left="20px";let n=E5(this.beans);n?n.appendChild(t):this.warnNoBody()}updateDragImageComp(){let{dragImageComp:e,dragSource:t,lastDropTarget:i,lastDraggingEvent:n,dragImageLastLabel:r}=this;if(!e)return;this.setDragImageCompIcon(i?.getIconName?.(n)??null);let o=t?.dragItemName;typeof o=="function"&&(o=o(n)),o||(o=""),r!==o&&(this.dragImageLastLabel=o,e.setLabel(o))}},khe=class extends ac{constructor(e,t){super(),this.comp=e,this.stopPropagationCallbacks=t}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:i,eFocusableElement:n,stopPropagationCallbacks:r}=this,o=[t,i],s={setTabIndex:g=>{for(let b of o)g==null?b.removeAttribute("tabindex"):b.setAttribute("tabindex",g)}};this.addTabGuards(t,i);let{focusTrapActive:a=!1,onFocusIn:l,onFocusOut:c,focusInnerElement:d,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:f,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new vue({comp:s,focusTrapActive:a,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:l,onFocusOut:c,focusInnerElement:d,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:f,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:m},r))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=ja(this.beans).createElement("div"),i=e==="top"?bF.TAB_GUARD_TOP:bF.TAB_GUARD_BOTTOM;return t.classList.add(bF.TAB_GUARD,i),xm(t,"presentation"),t}addTabGuards(e,t){let i=this.eFocusableElement;i.prepend(e),i.append(t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];vl(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){P5(t)||(t=t.getGui());let{eBottomGuard:n}=this;n?n.before(t):e(t,i)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;Sc(e),Sc(t),super.destroy()}},Ihe=class extends r_{initialiseTabGuard(e,t){this.tabGuardFeature=this.createManagedBean(new khe(this,t)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}};var Phe=class extends Rhe{createEvent(e){return Rn(this.gos,e)}createDragImageComp(e){let{gos:t,beans:i}=this;return jde(i.userCompFactory,Rn(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){oi(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){let i={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}};function lW(e,t){return e+"_"+t}function $s(e){return e instanceof VC}var VC=class extends Kt{constructor(e,t,i,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=yC(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return lW(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(let e of this.displayedChildren)$s(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=To(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(let t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(let t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(let t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(let t of this.displayedChildren??[])Em(t)?e.push(t):$s(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(let t of this.children??[])Em(t)?e.push(t):$s(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(let i of this.children??[]){if($s(i)&&!i.displayedChildren?.length)continue;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},LU="row-group-",K5="t-",Z5="b-",Fhe=0,Dm=class{constructor(e){this.id=void 0,this.destroyed=!1,this._groupData=void 0,this.master=!1,this.detail=void 0,this.rowIndex=null,this.field=null,this.rowGroupColumn=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Fhe++,this.alreadyRendered=!1,this.formulaRowIndex=null,this.hovered=!1,this.__selected=!1,this.beans=e}get groupData(){let e=this._groupData;return e!==void 0?e:this.footer?this.sibling?.groupData:this.beans.groupStage?.loadGroupData(this)??null}set groupData(e){this._groupData=e}get allLeafChildren(){let e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:i,eventSvc:n}=this.beans,r=this.data;this.data=e,i?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();let o=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(o),this.sibling){this.sibling.data=e;let a=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(a)}n.dispatchEvent({type:"rowNodeDataChanged",node:this});let s=this.pinnedSibling;s&&(s.data=e,s.__localEventService?.dispatchEvent(s.createDataChangedEvent(e,r,t)),n.dispatchEvent({type:"rowNodeDataChanged",node:s}))}updateDataOnDetailNode(){let e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?(ho(13),null):this.rowPinned==="top"?K5+this.rowIndex:this.rowPinned==="bottom"?Z5+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:i}=this.beans,n=i?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),i&&(i.updateRowSelectable(this),i.syncInRowNode(this,n));let o=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(o)}setId(e){let t=Zb(this.beans.gos);if(t)if(this.data){let i=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(LU)&&ho(14,{groupPrefix:LU})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");let t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,i){this.beans.expansionSvc?.setExpanded(this,e,t,i)}setDataValue(e,t,i){let{colModel:n,valueSvc:r,gos:o,editSvc:s}=this.beans,a=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!a)return!1;let l=r.getValueForDisplay({column:a,node:this,source:"api"}).value;if(o.get("readOnlyEdit")){let{beans:{eventSvc:d},data:u,rowIndex:h,rowPinned:f}=this;return d.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:h,rowPinned:f,column:a,colDef:a.colDef,data:u,node:this,oldValue:l,newValue:t,value:t,source:i}),!1}if(s&&!s.committing){let d=s.setDataValue({rowNode:this,column:a},t,i);if(d!=null)return d}let c=r.setValue(this,a,t,i);return this.dispatchCellChangedEvent(a,t,l),c&&this.pinnedSibling?.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){let n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};this.__localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();let e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){let t=this.childrenAfterGroup;if(t)for(let i=0,n=t.length;i<n;++i)t[i].depthFirstSearch(e);e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,i="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new f0)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);let i=this.__localEventService??(this.__localEventService=new f0);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,i);let n=this.frameworkEventListenerService?.wrap(e,t)??t;i.addEventListener(e,n)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,i)}removeLocalListener(e,t){let i=this.__localEventService;i&&(i.removeEventListener(e,t),i.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(oi(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){let e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}_destroy(e){if(this.destroyed)return!1;if(this.destroyed=!0,e?this.clearRowTopAndRowIndex():(this.setRowTop(null),this.setRowIndex(null)),!this.footer){let t=this.detailNode;t&&t._destroy(e);let i=this.sibling;i&&i._destroy(e)}return!0}};function Ohe(e,t,i){return Rn(t,{type:i,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Lhe=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_groupData","_leafs","childStore","groupValue","oldRowTop","sticky","treeNodeFlags","treeParent"]),Nhe=(e,t)=>{let i=new Dm(t);for(let n of Object.keys(e))Lhe.has(n)||(i[n]=e[n]);return i.oldRowTop=null,i},c5=(e,t,i)=>{if(!i)return;let n=i.rowIndex;if(n==null)return;n+=t;let r=e.getRowCount();for(;n>=0&&n<r;){let o=e.getRow(n);if(!o||!o.footer&&!o.detail)return o;n+=t}},cW={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},Bhe=new Set(Object.values(cW));function vm(e,t){let i=e.filterUi;if(!i)return null;if(i.created)return i.promise;if(t)return null;let n=i.create(i.refreshed),r=i;return r.created=!0,r.promise=n,n}function Vhe(e,t,i,n,r,o,s){return t.refresh?.(Zt(Ie({},i),{model:n,source:o,additionalEventAttributes:s})),e().then(a=>{if(a){let{filter:l,filterParams:c}=a;dW(l,c,n,r,o,s)}})}function dW(e,t,i,n,r,o){e?.refresh?.(Zt(Ie({},t),{model:i,state:n,source:r,additionalEventAttributes:o}))}function uW(e,t,i,n){let r=e();r?.created&&r.promise.then(o=>{let s=t();dW(o,r.filterParams,s,i()??{model:s},"ui",n)})}function NU(e){let t,i=!1,n,{action:r,filterParams:o,getFilterUi:s,getModel:a,getState:l,updateState:c,updateModel:d,processModelToApply:u}=e;switch(r){case"apply":{let h=l();n=h?.model??null,u&&(n=u(n)),t={state:h?.state,model:n},i=!0;break}case"clear":{t={model:null},o?.buttons?.includes("apply")||(i=!0,n=null);break}case"reset":{t={model:null},i=!0,n=null;break}case"cancel":{t={model:a()};break}}c(t),i?d(n):uW(s,a,l,{fromAction:r})}function Ga(e,t){return e[t]??null}function Ya(e){return wm(e)}function zhe(e){return{tag:"div",cls:e}}var Hhe=class extends wo{constructor(e){let{className:t="ag-filter-apply-panel"}=e??{};super(zhe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){let i=this.buttons;if(this.buttons=e,i===e)return;let n=this.getGui();vl(n);let r;this.destroyListeners();let o=document.createDocumentFragment(),s=this.className,a=({type:c,label:d})=>{let u=g=>{this.dispatchLocalEvent({type:c,event:g})};["apply","clear","reset","cancel"].includes(c)||oi(75);let h=c==="apply",p=Ya({tag:"button",attrs:{type:h&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${s}-button${h?" "+s+"-apply-button":""}`,children:d});this.activateTabIndex([p]),h&&(r=p);let v=g=>{g.key===St.ENTER&&(g.preventDefault(),u(g))},m=this.listeners;p.addEventListener("click",u),m.push(()=>p.removeEventListener("click",u)),p.addEventListener("keydown",v),m.push(()=>p.removeEventListener("keydown",v)),o.append(p)};for(let c of e)a(c);this.eApply=r;let l=this.validationTooltipFeature;r&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!r&&l&&(this.validationTooltipFeature=this.destroyBean(l)),n.append(o)}getApplyButton(){return this.eApply}updateValidity(e,t=null){let i=this.eApply;i&&(kC(i,!e),this.validationMessage=t,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(let e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}};var Uhe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`,minDateValidation:e=>`Date must be after ${e[0]}`,maxDateValidation:e=>`Date must be before ${e[0]}`,strictMinValueValidation:e=>`Must be greater than ${e[0]}`,strictMaxValueValidation:e=>`Must be less than ${e[0]}`};function Th(e,t,i){return fce(e,Uhe,t,i)}function Q5(e,t){let{debounceMs:i}=e;return nD(e)?(i!=null&&oi(71),0):i??t}function nD(e){return(e.buttons?.indexOf("apply")??-1)>=0}function hW(e,t,i,n){let r=Th(e,i);if(typeof t=="function"){let o=Th(e,n);r=t({filterOptionKey:n,filterOption:o,placeholder:r})}else typeof t=="string"&&(r=t);return r}var Ghe=class extends wo{constructor(e,t,i,n,r,o){super(),this.column=e,this.wrapper=t,this.eventParent=i,this.updateModel=n,this.isGlobalButtons=r,this.enableGlobalButtonCheck=o,this.hidePopup=null,this.applyActive=!1}postConstruct(){let{comp:e,params:t}=this.wrapper,i=t,n=i.useForm,r=n?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),n&&this.addManagedElementListeners(this.getGui(),{submit:o=>{o?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=i,this.resetButtonsPanel(i),this.addManagedListeners(this.eventParent,Ie({filterParamsChanged:({column:o,params:s})=>{o===this.column&&this.resetButtonsPanel(s,this.params)},filterStateChanged:({column:o,state:s})=>{o===this.column&&this.eButtons?.updateValidity(s.valid!==!1)},filterAction:({column:o,action:s,event:a})=>{o===this.column&&this.afterAction(s,a)}},this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:o})=>{if(o!==this.isGlobalButtons){this.isGlobalButtons=o;let s=this.params;this.resetButtonsPanel(s,s,!0)}}}:void 0))}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,i){let{buttons:n,readOnly:r}=t??{},{buttons:o,readOnly:s,useForm:a}=e;if(!i&&r===s&&AC(n,o))return;let l=o&&o.length>0&&!e.readOnly&&!this.isGlobalButtons,c=this.eButtons;if(l){let d=o.map(u=>{let h=`${u}Filter`;return{type:u,label:Th(this,h)}});if(this.applyActive=nD(this.params),!c){c=this.createBean(new Hhe),this.appendChild(c.getGui());let u=this.column,h=f=>({event:p})=>{this.updateModel(u,f,{fromButtons:!0}),this.afterAction(f,p)};c?.addManagedListeners(c,{apply:h("apply"),clear:h("clear"),reset:h("reset"),cancel:h("cancel")}),this.eButtons=c}c.updateButtons(d,a)}else this.applyActive=!1,c&&(Sc(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){let t=this.hidePopup;if(!t)return;let i=e,n=i?.key,r;(n===St.ENTER||n===St.SPACE)&&(r={keyboardEvent:i}),t(r),this.hidePopup=null}afterAction(e,t){let{params:i,applyActive:n}=this,r=i?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&n&&this.close(t);break}case"reset":{r&&n&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===St.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},Whe={tag:"div",cls:"ag-filter"},jhe=class extends wo{constructor(e,t,i){super(Whe),this.column=e,this.source=t,this.enableGlobalButtonCheck=i,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??rs.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:i,beans:{colFilter:n}}=this,r=n.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(o=>{if(!o)return;let{isHandler:s,comp:a}=o,l;if(s){let c=!!this.enableGlobalButtonCheck,d=this.createBean(new Ghe(t,o,n,n.updateModel.bind(n),c&&n.isGlobalButtons,c));this.comp=d,l=d.getGui()}else l=a.getGui(),Ai(l)||oi(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){let{source:t,column:i}=e;(t==="api"||t==="paramsUpdated")&&i.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(vl(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},BU={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},VU=["january","february","march","april","may","june","july","august","september","october","november","december"];function qhe(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function zU(e){return e instanceof Date&&!isNaN(e.getTime())}var d5={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:zU}),dateString:({dataTypeDefinition:e})=>({comparator:(t,i)=>{let n=e.dateParser(i);return i==null||n<t?-1:n>t?1:0},isValidDate:t=>typeof t=="string"&&zU(e.dateParser(t))}),dateTime:e=>d5.date(e),dateTimeString:e=>d5.dateString(e),object:()=>{},text:()=>{}},u5={number:()=>({comparator:qhe}),boolean:({t:e})=>({valueFormatter:t=>Ai(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:i=>{let n=e(i);return Ai(n)?n:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(i,n)=>{if(i==="NaN")return t("invalidDate","Invalid Date");if(n===1&&i!=null){let r=VU[Number(i)-1];return t(r,BU[r])}return i??t("blanks","(Blanks)")},treeListPathGetter:i=>JM(i,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:i})=>({valueFormatter:n=>{let r=e(n);return Ai(r)?r:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:n=>JM(t.dateParser(n??void 0),!1),treeListFormatter:(n,r)=>{if(r===1&&n!=null){let o=VU[Number(n)-1];return i(o,BU[o])}return n??i("blanks","(Blanks)")}}),dateTime:e=>{let t=u5.date(e);return t.treeListPathGetter=JM,t},dateTimeString(e){let t=e.dataTypeDefinition.dateParser,i=u5.dateString(e);return i.treeListPathGetter=n=>JM(t(n??void 0)),i},object:({formatValue:e,t})=>({valueFormatter:i=>{let n=e(i);return Ai(n)?n:t("blanks","(Blanks)")}}),text:()=>{}};function Yhe(e,t,i,n,r,o,s){let a=t,l=i,c=e==="agSetColumnFilter";!l&&n.baseDataType==="object"&&!c&&(l=({column:f,node:p})=>r({column:f,node:p,value:o.valueSvc.getValue(f,p)}));let u=(c?u5:d5)[n.baseDataType],h=u({dataTypeDefinition:n,formatValue:r,t:s});return a=typeof t=="object"?Ie(Ie({},h),t):h,{filterParams:a,filterValueGetter:l}}var $he={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Xhe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Khe(e,t=!1){return(t?Xhe:$he)[e??"text"]}var Zhe=class extends yue{},fW="__ag_Grid_Stop_Propagation";function g0(e){e[fW]=!0}function Wf(e){return e[fW]===!0}var pW={isStopPropagation:Wf,stopPropagation:g0},jC=class extends q9{constructor(e,t){super(e,pW,t)}},Qhe=class extends wo{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){let e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new jC(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new Zhe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){let t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}areStatesEqual(e,t){return e===t}refresh(e){let t=e,i=this.params;this.params=t;let{source:n,state:r,additionalEventAttributes:o}=t;n==="colDef"&&this.updateParams(t,i);let s=this.state;this.state=r;let a=o?.fromAction;return(a&&a!=="apply"||r.model!==s.model||!this.areStatesEqual(r.state,s.state))&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=nD(e),this.setupApplyDebounced()}doesFilterPass(e){oi(283);let{getHandler:t,model:i,column:n}=this.params;return t().doesFilterPass(Zt(Ie({},e),{model:i,handlerParams:this.beans.colFilter.getHandlerParams(n)}))}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return oi(284),this.params.model!=null}setupApplyDebounced(){let e=Q5(this.params,this.defaultDebounceMs),t=qa(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return oi(285),this.params.model}setModel(e){oi(286);let{beans:t,params:i}=this;return t.colFilter.setModelForColumnLegacy(i.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){let{params:t,state:{valid:i=!0,model:n}}=this;if(!i)return!1;let r=!this.areModelsEqual(t.model,n);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();let i=this.getModelFromUi(),n={model:i,state:this.getState(),valid:this.canApply(i)};this.state=n;let{params:r,gos:o,eventSvc:s,applyActive:a}=this;r.onStateChange(n),r.onUiChange(this.getUiChangeEventParams()),o.get("enableFilterHandlers")||s.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),n.valid&&(e??(e=a?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced())}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:i}=this;if(!t)return;let n=e==="floatingFilter"||e==="columnFilter";n?(t.restoreLastSize(),t.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(n)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e,t){return Th(this,e,t)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function mW(e){return!!e.operator}function Jhe(e,t,i){if(t==null)return null;let n=null,{compName:r,jsComp:o,fwComp:s}=V9(e,t);return r?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:o==null&&s==null&&t.filter===!0&&(n=i()),n}var Ru={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},J5=class extends Kt{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?Ru.AUTO_HEIGHT:t.print?Ru.PRINT:Ru.NORMAL;this.view.updateLayoutClasses(i,t)}},bm="Viewport",HU="fakeVScrollComp",MF=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],UU=100,EF=150,efe=class extends Kt{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=qa(this,()=>this.lastScrollSource[1]=null,EF),this.resetLastVScrollDebounced=qa(this,()=>this.lastScrollSource[0]=null,EF)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,i=>{this.centerRowsCtrl=i.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,bm)});for(let e of MF){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?qa(this,this.onVScroll.bind(this,bm),UU):this.onVScroll.bind(this,bm),n=t?qa(this,this.onVScroll.bind(this,HU),UU):this.onVScroll.bind(this,HU);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...MF,bm]){if(this.lastScrollSource[1]===t)continue;let i=this.getViewportForSource(t);AE(i,e,this.enableRtl)}}getViewportForSource(e){return e===bm?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n=TE(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===bm?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:i}=this;i?.setScrollTop(t),this.nextScrollTop=t,e===bm?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,i?.active?i.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent(Zt(Ie({},t),{type:"bodyScrollEnd"}))},EF)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!d0()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=T5(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){let e=this.scrollLeft,t=!1;for(let i of MF)if(this.getViewportForSource(i).scrollLeft!==e){t=!0;break}t&&this.onHScroll(bm)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),AE(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:i,lastScrollTop:n}=this;return{top:n,bottom:n+i}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:i}=this.beans,n=i.getRowCount(),r=-1;for(let o=0;o<n;o++){let s=i.getRow(o);if(typeof e=="function"){if(s&&e(s)){r=o;break}}else if(e===s||e===s.data){r=o;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,i=0){if(bl(this.gos,"print"))return;let{rowModel:n}=this.beans,r=n.getRowCount();if(typeof e!="number"||e<0||e>=r){oi(88,{index:e});return}this.clearRetryListeners();let{frameworkOverrides:o,pageBounds:s,rowContainerHeight:a,rowRenderer:l}=this.beans;o.wrapIncoming(()=>{let c=this.ctrlsSvc.getGridBodyCtrl(),d=n.getRow(e),u,h,f=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:p,stickyBottomHeight:v}=c,m=d.rowTop,g=d.rowHeight,b=s.getPixelOffset(),w=d.rowTop-b,x=w+d.rowHeight,R=this.getVScrollPosition(),_=a.divStretchOffset,L=R.top+_,F=R.bottom+_,T=F-L,P=a.getScrollPositionForPixel(w),A=a.getScrollPositionForPixel(x-T),O=Math.min((P+A)/2,w),V=L+p>w,U=F-v<x,ae=null;t==="top"?ae=P-p:t==="bottom"?ae=A+v:t==="middle"?ae=O:V?ae=P-p:U&&(A-P>T?ae=P-p:ae=A+v),ae!==null&&(this.setVerticalScrollPosition(ae),l.redraw({afterScroll:!0})),u=m!==d.rowTop||g!==d.rowHeight,h=p!==c.stickyTopHeight||v!==c.stickyBottomHeight,f++}while((u||h)&&f<10);if(this.animationFrameSvc?.flushAllFrames(),i<10&&(d?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){let p=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{let v=this.getVScrollPosition().top;p!==v&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=n.getRowCount())&&this.ensureIndexVisible(e,t,i+1)}})}})}clearRetryListeners(){for(let e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){let{colModel:i,frameworkOverrides:n}=this.beans,r=i.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;let o=this.getPositionedHorizontalScroll(r,t);n.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,a=(s?i:n)||r,l=s?n:i;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:d,colMiddle:u,colRight:h}=this.getColumnBounds(e);return c?u-o/2:a?s?h:d:s?d-o:h-o}return null}isColumnOutsideViewport(e){let{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:r}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>r:i<r,a=o?i<n:t>n;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,i=this.visibleCols.bodyWidth,n=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,s=t?i-r:r,a=s+n*o,l=s+n/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}},eO=class extends Kt{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=bl(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,n=t.bodyWidth,r=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth(),s;e?s=n+r+o:(s=n,this.addSpacer&&(this.gos.get("enableRtl")?r:o)===0&&i.verticalScrollShowing&&(s+=i.getScrollbarWidth())),this.callback(s)}},tfe=class extends Kt{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,n=()=>{$f(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),i.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=T5(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function _E(e,t,i,n){let r=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return gW(e,t,i,n,r)}function ife(e,t,i,n){let r=t?.suppressMouseEventHandling;return gW(e,void 0,i,n,r)}function gW(e,t,i,n,r){return r?r(Rn(e,{column:t,node:i,event:n})):!1}function vW(e,t,i){let n=t;for(;n;){let r=h9(e,n,i);if(r)return r;n=n.parentElement}return null}var HE="cellCtrl";function tO(e,t){return vW(e,t,HE)}var UE="renderedRow";function nfe(e,t){return vW(e,t,UE)}function h5(e,t,i,n,r){let o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let s=Rn(e,{event:t,editing:r,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(o&&o(s))}function rfe(e){let{pinnedRowModel:t,rowModel:i,rangeSvc:n,visibleCols:r}=e;if(!n||r.allCols.length===0)return;let o=t?.isEmpty("top")??!0,s=t?.isEmpty("bottom")??!0,a=o?null:"top",l,c;s?(l=null,c=i.getRowCount()-1):(l="bottom",c=t?.getPinnedBottomRowCount()??-1),n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l})}var ofe=class extends Kt{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){let t=["dblclick","contextmenu","mouseover","mouseout","click",ZG("touchstart")?"touchstart":"mousedown"];for(let i of t){let n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})}}processMouseEvent(e,t){if(!PC(this.beans,t)||Wf(t))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i?.column&&i.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,n,i)):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:tO(t,e),rowCtrl:nfe(t,e)}}processKeyboardEvent(e,t){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){let n=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!h5(this.gos,i,e.rowNode,e.column,n)&&t==="keydown"&&(!n&&this.beans.navigation?.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,n),$9(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){let{rowNode:n}=e,{focusSvc:r,navigation:o}=this.beans,a=r.getFocusedCell()?.column;if(!h5(this.gos,i,n,a,!1)){let c=i.key;if(t==="keydown")switch(c){case St.PAGE_HOME:case St.PAGE_END:case St.PAGE_UP:case St.PAGE_DOWN:o?.handlePageScrollingKey(i,!0);break;case St.LEFT:case St.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case St.UP:case St.DOWN:e.onKeyboardNavigate(i);break;case St.TAB:e.onTabKeyDown(i);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!PC(this.beans,e))return;let i=z9(e),{clipboardSvc:n,undoRedo:r}=this.beans;if(i===St.A)return this.onCtrlAndA(e);if(i===St.C)return this.onCtrlAndC(n,e);if(i===St.D)return this.onCtrlAndD(n,e);if(i===St.V)return this.onCtrlAndV(n,e);if(i===St.X)return this.onCtrlAndX(n,e);if(i===St.Y)return this.onCtrlAndY(r);if(i===St.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:i,selectionSvc:n},gos:r}=this;i&&jf(r)&&!$ce(r)&&t.isRowsToRender()?rfe(this.beans):n&&n.selectAllRowNodes({source:"keyboardSelectAll",selectAll:b9(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:i}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(i,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:i}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(i,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:i}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(i,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},bW=class extends Kt{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},iE=e=>e.topRowCtrls,nE=e=>e.getStickyTopRowCtrls(),rE=e=>e.getStickyBottomRowCtrls(),oE=e=>e.bottomRowCtrls,sE=e=>e.allRowCtrls,DF=e=>e.getCtrls("top"),TF=e=>e.getCtrls("center"),AF=e=>e.getCtrls("bottom"),sfe={center:{type:"center",name:"center-cols",getRowCtrls:sE,getSpannedRowCtrls:TF},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:sE,getSpannedRowCtrls:TF},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:sE,getSpannedRowCtrls:TF},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:sE},topCenter:{type:"center",name:"floating-top",getRowCtrls:iE,getSpannedRowCtrls:DF},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:iE,getSpannedRowCtrls:DF},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:iE,getSpannedRowCtrls:DF},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:iE},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:nE},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:nE},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:nE},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:nE},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:rE},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:rE},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:rE},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:rE},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:oE,getSpannedRowCtrls:AF},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:oE,getSpannedRowCtrls:AF},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:oE,getSpannedRowCtrls:AF},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:oE}};function _W(e){return`ag-${qC(e).name}-viewport`}function yE(e){let t=qC(e);return t.container??`ag-${t.name}-container`}function afe(e){return`ag-${qC(e).name}-spanned-cells-container`}function qC(e){return sfe[e]}var lfe=["topCenter","topLeft","topRight"],cfe=["bottomCenter","bottomLeft","bottomRight"],dfe=["center","left","right"],ufe=["center","left","right","fullWidth"],hfe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],ffe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],pfe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],yW=["stickyTopCenter","stickyTopLeft","stickyTopRight"],wW=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],mfe=[...yW,"stickyTopFullWidth",...wW,"stickyBottomFullWidth"],gfe=[...lfe,...cfe,...dfe,...yW,...wW],vfe=class extends Kt{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=qC(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new tfe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=n,this.createManagedBean(new ofe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:r,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(ffe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(pfe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(ufe,()=>this.createManagedBean(new bW(this.eContainer,this.name==="center"?n:void 0))),o&&this.forContainers(gfe,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(hfe,()=>this.createManagedBean(new eO(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans,i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i,displayedColumnsWidthChanged:i,displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),i(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(mfe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let i=this.gos.get("ensureDomOrder"),n=bl(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return IC(this.eViewport)}getCenterViewportScrollLeft(){return TE(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=Tm(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return A5(this.eViewport)}getViewportScrollLeft(){return TE(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||k5(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){AE(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let i=bl(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,o=t.filter(s=>{let a=s.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},CW="ag-force-vertical-scroll",bfe="ag-selectable",_fe="ag-column-moving",yfe=class extends Kt{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,n,r,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=i.querySelector(`.${_W("center")}`),this.eFullWidthContainer=i.querySelector(`.${yE("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${yE("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${yE("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new J5(this.comp)),this.scrollFeature=this.createManagedBean(new efe(i)),this.beans.rowDragSvc?.setupRowDrag(i,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,r,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),i=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:i,rowResizeEnded:i}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){let t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let i=t&&e.getScrollbarWidth()||0,n=G9()?16:0,r=`calc(100% + ${i+n}px)`;$f(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t,gos:i}=this,n=i.get("treeData");if(!n){let r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){for(let t of e)this.addManagedElementListeners(t,{focusin:i=>{let{target:n}=i,r=a0(n,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{let{target:n,relatedTarget:r}=i,o=t.contains(r),s=a0(r,"ag-root",t);a0(n,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(_fe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(bfe,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,n=i===-1?-1:e+i;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?CW:null,i=bl(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&XG(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,i=t.sizesMeasured,n=()=>{let r=i&&zb(this.gos)&&!e.stretching,o=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,r)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({stylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,n())}})}addBodyViewportListener(){let{eBodyViewport:e,eStickyTop:t,eStickyBottom:i,eTop:n,eBottom:r,beans:{popupSvc:o,touchSvc:s}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),s?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});let l=this.onStickyWheel.bind(this);for(let d of[t,i,n,r])this.addManagedElementListeners(d,{wheel:l});let c=this.onHorizontalWheel.bind(this);for(let d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&PC(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){let{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();let{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e,beans:{environment:t}}=this,i=e?.getPinnedTopTotalHeight(),n=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),o=t.getRowBorderWidth(),s=r-o,a=i?s+i:0,l=n?s+n:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,n=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=n+o;i.setStickyBottomBottom(`${s}px`)}};function wfe(e,t){return tO(e,t.target)?.getFocusedCellPosition()??null}function GU(e,t){let i=bl(e.gos,"normal"),n=t,r,o;n.clientX!=null||n.clientY!=null?(r=n.clientX,o=n.clientY):(r=n.x,o=n.y);let{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(o+=s,i){let a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();r+=c.left,o+=l.top}return{x:r,y:o}}var xW=class extends wo{constructor(e,t){super(),this.direction=t,this.eViewport=bi,this.eContainer=bi,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",H9()||d0())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=G9(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),i=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),$f(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;yce(this,()=>Lh(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},Cfe={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},xfe=class extends xW{constructor(){super(Cfe,"horizontal"),this.eLeftSpacer=bi,this.eRightSpacer=bi,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new eO(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=n),Ih(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=n),Ih(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=n)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=i?0:n===0&&t?16:n,s=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),CC(this.getGui(),o),CC(this.eViewport,o),CC(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return TE(this.eViewport,this.enableRtl)}setScrollPosition(e){Lh(this.eViewport)||this.attemptSettingScrollPosition(e),AE(this.eViewport,e,this.enableRtl)}},Sfe={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:xfe},Mfe={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Efe=class extends xW{constructor(){super(Mfe,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new bW(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,r=n===0&&i?16:n;this.toggleCss("ag-scrollbar-invisible",i),Ih(this.getGui(),r),Ih(this.eViewport,r),Ih(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let i=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),r=i.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Lh(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},Dfe={selector:"AG-FAKE-VERTICAL-SCROLL",component:Efe},Tfe="ag-column-first",Afe="ag-column-last";function SW(e,t,i,n){return Ko(e)?[]:kfe(e.headerClass,e,t,i,n)}function MW(e,t,i){e.toggleCss(Tfe,i.isColAtEdge(t,"first")),e.toggleCss(Afe,i.isColAtEdge(t,"last"))}function Rfe(e,t,i,n){return Rn(t,{colDef:e,column:i,columnGroup:n})}function kfe(e,t,i,n,r){if(Ko(e))return[];let o;if(typeof e=="function"){let s=Rfe(t,i,n,r);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function Ife(e){let{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}function iO(e,t){let i=e.column===t.column,n=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return i&&n&&r}function Pfe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ai(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Ffe(e,t){return!e&&!t?!0:!e||!t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Ofe(e){let t=0,i,{pinnedRowModel:n,rowModel:r,pageBounds:o}=e;return n?.getPinnedTopRowCount()?i="top":r.getRowCount()?(i=null,t=o.getFirstRow()):n?.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function Lfe(e){let t,i=null,{pinnedRowModel:n,pageBounds:r}=e,o=n?.getPinnedBottomRowCount(),s=n?.getPinnedTopRowCount();return o?(i="bottom",t=o-1):e.rowModel.getRowCount()?t=r.getLastRow():s&&(i="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function Yf(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Fb(e,t){let i=e.spannedRowRenderer?.getCellByPosition(t);if(i)return i;let n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function Nfe(e,t,i){let{rowModel:n,pinnedRowModel:r}=e,o;return o??(o=n?.getRowNode(t)),i?o??(o=r?.getPinnedRowById(t,i)):(o??(o=r?.getPinnedRowById(t,"top")),o??(o=r?.getPinnedRowById(t,"bottom"))),o}function GE(e,t,i=!1){let{rowIndex:n,rowPinned:r}=t,{pageBounds:o,pinnedRowModel:s,rowModel:a}=e;if(n===0)return r==="top"?null:r==="bottom"&&a.isRowsToRender()?{rowIndex:o.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(i){let l=r?void 0:a.getRow(n);return EW(e,l,!0)??{rowIndex:n-1,rowPinned:r}}return{rowIndex:n-1,rowPinned:r}}function WU(e,t,i=!1){let{rowIndex:n,rowPinned:r}=t,{pageBounds:o,pinnedRowModel:s,rowModel:a}=e;if(Bfe(e,t))return r==="bottom"?null:r==="top"&&a.isRowsToRender()?{rowIndex:o.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(i){let l=r?void 0:a.getRow(n);return EW(e,l)??{rowIndex:n+1,rowPinned:r}}return{rowIndex:n+1,rowPinned:r}}function EW(e,t,i=!1){let{gos:n,rowRenderer:r}=e;if(!t?.sticky||!f9(n))return;let o=r.getStickyTopRowCtrls(),s=r.getStickyBottomRowCtrls(),a=!s.some(u=>u.rowNode.rowIndex===t.rowIndex),l=a?o:s,c=(i?-1:1)*(a?-1:1),d;for(let u=0;u<l.length;u++)if(l[u].rowNode.rowIndex===t.rowIndex){d=l[u+c];break}return d?{rowIndex:d.rowNode.rowIndex,rowPinned:null}:void 0}function Bfe(e,t){let{rowPinned:i,rowIndex:n}=t,{pinnedRowModel:r,pageBounds:o}=e;return i==="top"?(r?.getPinnedTopRowCount()??0)-1<=n:i==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=n:o.getLastRow()<=n}function Vfe(e,t,i){t.addManagedElementListeners(i,{keydown:n=>{if(!n.defaultPrevented&&n.key===St.TAB){let r=n.shiftKey;y0(e,i,!1,r)||e_(e,r)&&n.preventDefault()}}})}function zfe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function u0(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.exclusive}function rD(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.exclusive}function e_(e,t,i=!1){let n=e.ctrlsSvc.get("gridCtrl");return!i&&n.focusNextInnerContainer(t)?!0:((i||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function Hfe(e,t){let i=e.focusSvc,n=i.getFocusedCell();if(n&&t&&iO(n,t)){let{rowIndex:r,rowPinned:o,column:s}=t;M5(e)&&i.setFocusedCell({rowIndex:r,column:s,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!W9()})}}function Rh(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function nO(e){let t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let n of i){if(!n)continue;let r=n.getGroupRowCount()||0;for(let o=0;o<r;o++){let s=n.getGroupRowCtrlAtIndex(o),a=t[o];if(s){let l=Ufe(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function Ufe(e,t){let n=e.colModel.isPivotMode()?Wfe(e):TW(e),r=t.getHeaderCellCtrls();for(let o of r){let{column:s}=o,a=s.getAutoHeaderHeight();a!=null&&a>n&&s.isAutoHeaderHeight()&&(n=a)}return n}function rO(e){let i=e.colModel.isPivotMode()?Gfe(e):YC(e);return e.colModel.forAllCols(n=>{let r=n.getAutoHeaderHeight();r!=null&&r>i&&n.isAutoHeaderHeight()&&(i=r)}),i}function YC(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function DW(e){return e.gos.get("floatingFiltersHeight")??YC(e)}function TW(e){return e.gos.get("groupHeaderHeight")??YC(e)}function Gfe(e){return e.gos.get("pivotHeaderHeight")??YC(e)}function Wfe(e){return e.gos.get("pivotGroupHeaderHeight")??TW(e)}function jfe(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var qfe=class extends Kt{setComp(e,t,i){this.comp=e,this.eGui=t;let{beans:n}=this,{headerNavigation:r,touchSvc:o,ctrlsSvc:s}=n;r&&this.createManagedBean(new jC(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();let a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o?.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>$f(this.beans,()=>e()),stylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,i=nO(e).reduce((o,s)=>o+s,0),n=rO(e);if(e.filterManager?.hasFloatingFilters()&&(t+=DW(e)),t+=i,t+=n,this.headerHeight===t)return;this.headerHeight=t;let r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let i=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",i)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),i=e.shiftKey,n=i!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:o,focusSvc:s}=r;(o.navigateHorizontally(n,!0,e)||!i&&s.focusOverlay(!1)||e_(r,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:i}=this.beans;switch(e.key){case St.LEFT:t="LEFT";case St.RIGHT:{Ai(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case St.UP:t="UP";case St.DOWN:{Ai(t)||(t="DOWN"),i.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:i,beans:n}=this;!t&&i.contains(os(n))||i.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){let{menuSvc:n,ctrlsSvc:r}=this.beans;if(!e&&!i||!n?.isHeaderContextMenuEnabled())return;let{target:o}=e??t;(o===this.eGui||o===r.getHeaderRowContainerCtrl()?.eViewport)&&n.showHeaderContextMenu(void 0,e,i)}},oO=class extends wo{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},Yfe={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},$fe=class extends oO{constructor(e){super(Yfe,e),this.eResize=bi,this.eHeaderCompWrapper=bi,this.headerCompVersion=0}postConstruct(){let e=this.getGui(),t=()=>{let n=this.ctrl.getSelectAllGui();n&&(this.eResize.insertAdjacentElement("afterend",n),this.addDestroyFunc(()=>n.remove()))},i={setWidth:n=>e.style.width=n,toggleCss:(n,r)=>this.toggleCss(n,r),setUserStyles:n=>UC(e,n),setAriaSort:n=>n?Zle(e,n):Qle(e),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:t,removeSelectAllGui:()=>this.ctrl.getSelectAllGui()?.remove()};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),t()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.headerCompGui?.remove(),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},Xfe={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},Kfe=class extends oO{constructor(e){super(Xfe,e),this.eResize=bi,this.eHeaderCompWrapper=bi}postConstruct(){let e=this.getGui(),t=(n,r)=>r!=null?e.setAttribute(n,r):e.removeAttribute(n),i={toggleCss:(n,r)=>this.toggleCss(n,r),setUserStyles:n=>UC(e,n),setHeaderWrapperHidden:n=>{n?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:n=>{n!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${n}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",n!=null)},setResizableDisplayed:n=>yo(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>t("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let i=this.getGui(),n=e.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}},Zfe={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},Qfe=class extends oO{constructor(e){super(Zfe,e),this.eFloatingFilterBody=bi,this.eButtonWrapper=bi,this.eButtonShowMainFilter=bi}postConstruct(){let e=this.getGui(),t={toggleCss:(i,n)=>this.toggleCss(i,n),setUserStyles:i=>UC(e,i),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>yo(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp?.getGui().remove(),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp)}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached?.()}}},Jfe=class extends wo{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){this.getGui().setAttribute("tabindex",String(this.gos.get("tabIndex"))),EE(this.getGui(),this.ctrl.getAriaRowIndex());let t={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,n)=>this.setHeaderCtrls(i,n),setWidth:i=>this.getGui().style.width=i,setRowIndex:i=>EE(this.getGui(),i)};this.ctrl.setComp(t,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let i=this.headerComps;this.headerComps={};for(let n of e){let r=n.instanceId,o=i[r];delete i[r],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[r]=o}if(Object.values(i).forEach(n=>{n.getGui().remove(),this.destroyBean(n)}),t){let n=Object.values(this.headerComps);n.sort((o,s)=>{let a=o.getCtrl().column.getLeft(),l=s.getCtrl().column.getLeft();return a-l});let r=n.map(o=>o.getGui());$G(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new Kfe(e);break;case"filter":t=new Qfe(e);break;default:t=new $fe(e);break}return this.createBean(t),t.setParentComponent(this),t}},sO=class extends Kt{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?To(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),n=Ai(this.columnOrGroup.getOldLeft());t?.isActive()&&n&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:i,visibleCols:n}=this.beans;if(!bl(i,"print")||e.getPinned()==="left")return t;let o=n.getColsLeftWidth();if(e.getPinned()==="right"){let s=n.bodyWidth;return o+s+t}return o+t}setLeft(e){if(Ai(e)&&(this.eCell.style.left=`${e}px`),$s(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Kle(this.ariaEl,t.length)}}},epe=0,AW="headerCtrl",aO=class extends Kt{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+epe++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,i,n,r){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,i,n,r),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){let{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,n=i.getDefinition(),r=n?.suppressHeaderKeyboardEvent;if(!Ai(r))return!1;let o=Rn(this.gos,{colDef:n,column:i,headerRowIndex:t,event:e});return!!r(o)}getWrapperHasFocus(){return os(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,i;if(typeof t=="function"){let n=this.getHeaderClassParams();i=t(n)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:i,compBean:n}=e,{beans:r}=this,o=u=>{if(!this.isAlive()||!n.isAlive())return;let{paddingTop:h,paddingBottom:f,borderBottomWidth:p,borderTopWidth:v}=b0(this.eGui),m=h+f+p+v,b=t.offsetHeight+m;if(u<5){let x=!ja(r)?.contains(t),R=b==0;if(x||R){$F(()=>o(u+1),"raf",r);return}}this.setColHeaderHeight(this.column,b)},s=!1,a,l=()=>{let u=this.column.isAutoHeaderHeight();u&&!s&&c(),!u&&s&&d()},c=()=>{s=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),o(0),a=Tm(this.beans,t,()=>o(0))},d=()=>{s=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),n.addDestroyFunc(()=>d()),n.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),n.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),i&&i(l)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:i,eGui:n}=this;!e||!t||!n||(MW(e,t,i.visibleCols),UG(n,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=u0(this.beans);this.eGui&&Mc(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=os(this.beans),i=e.key===St.LEFT||e.key===St.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey)return;if((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),(e.ctrlKey||e.metaKey)&&z9(e)===St.C)return this.beans.clipboardSvc?.copyToClipboard();if(!i)return;let o=e.key===St.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(o)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:i}=this,n=e.key===St.LEFT!==t.get("enableRtl"),r=i.getPinned(),o=t.get("enableRtl");return r&&o!==(r==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case St.PAGE_DOWN:case St.PAGE_UP:case St.PAGE_HOME:case St.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=AW,{eGui:i,gos:n}=this;p0(n,i,t,this),e.addDestroyFunc(()=>p0(n,i,t,null))}focus(e){if(!this.isAlive())return!1;let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus()):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){let n=e??t,{menuSvc:r,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&n.preventDefault(),r?.isHeaderContextMenuEnabled(i)&&r.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},tpe=class extends aO{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,i,n,r){this.comp=e;let{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:u}=a,h=WC(this,c,r);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:p=>this.setRefreshFunction("measuring",p),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(o.pinned,s,i,e,this)):yo(i,!1),d?.createHoverFeature(h,[s],t),u?.createRangeHighlightFeature(h,s,e),h.createManagedBean(new sO(s,t,a)),h.createManagedBean(new jC(t,{shouldStopEventPropagation:p=>this.shouldStopEventPropagation(p),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(s,{colDefChanged:()=>this.refresh(),formulaRefChanged:()=>this.refresh(),headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let f=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:f,columnRowGroupChanged:f,columnPivotChanged:f,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.colDef;return Rn(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return qde(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:i,gos:n}=this.beans;return Rn(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!i&&(!this.openFilterEnabled||dd(this.gos)),showColumnMenu:(o,s)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t?.setSortForColumn(this.column,ku(o),!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{let i=t.createSelectAllFeature(this.column);i&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(i),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!i&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===St.SPACE?this.selectAllFeature?.onSpaceKeyDown(e):e.key===St.ENTER?this.onEnterKeyDown(e):e.key===St.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){let{column:t,gos:i,sortable:n,beans:r}=this,o=!1;(e.ctrlKey||e.metaKey)&&(o=this.showMenuOnKeyPress(e,!0)),o||(!e.altKey&&Ub(i)?r.rangeSvc?.handleColumnSelection(t,e):n&&r.sortSvc?.progressSort(t,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){let i=this.comp.getUserCompInstance();return jU(i)&&i.onMenuKeyboardShortcut(t)?(e.preventDefault(),!0):!1}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),W9()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),i=SW(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i);for(let r of i)n.has(r)?n.delete(r):this.comp.toggleCss(r,!0);for(let r of n)this.comp.toggleCss(r,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(let e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let i=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:i,beans:n}=this,r=nO(this.beans),o=r.reduce((h,f)=>h+f,0)===0;if(i.toggleCss("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.toggleCss("ag-header-span-height",!1),i.toggleCss("ag-header-span-total",!1);return}let{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.toggleCss("ag-header-span-height",s>0);let l=rO(n);if(s===0){i.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}i.toggleCss("ag-header-span-total",a);let c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,d=r.length-c,u=0;for(let h=0;h<d;h++)u+=r[r.length-1-h];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${l+u}px`)}refreshAriaSort(){let e=null,{beans:t,column:i,comp:n,sortable:r}=this;if(r){let o=this.getLocaleTextFunc(),s=t.sortSvc?.getDisplaySortForColumn(i)??null;n.setAriaSort(Vle(s)),e=o("ariaSortableColumn","Press ENTER to sort")}else n.setAriaSort();this.setAriaDescriptionProperty("sort",e)}refreshAriaMenu(){let e=null;this.menuEnabled&&(e=this.getLocaleTextFunc()("ariaMenuColumn","Press ALT DOWN to open column menu")),this.setAriaDescriptionProperty("menu",e)}refreshAriaFilterButton(){let e=null,{openFilterEnabled:t,gos:i}=this;t&&!dd(i)&&(e=this.getLocaleTextFunc()("ariaFilterColumn","Press CTRL ENTER to open filter")),this.setAriaDescriptionProperty("filterButton",e)}refreshAriaFiltered(){let e=null;this.column.isFilterActive()&&(e=this.getLocaleTextFunc()("ariaColumnFiltered","Column Filtered")),this.setAriaDescriptionProperty("filter",e)}refreshAriaCellSelection(){let e=null,{gos:t,column:i,beans:n}=this;if(Ub(t)){let o=this.getLocaleTextFunc(),s=n.rangeSvc?.isColumnInAnyRange(i);e=o("ariaColumnCellSelection",`Press CTRL+SPACE to ${s?"de":""}select all visible cells in this column`)}this.setAriaDescriptionProperty("cellSelection",e)}setAriaDescriptionProperty(e,t){let i=this.ariaDescriptionProperties;t!=null?i.set(e,t):i.delete(e)}announceAriaDescription(){let{beans:e,eGui:t,ariaDescriptionProperties:i}=this;if(!t.contains(os(e)))return;let n=Array.from(i.keys()).sort((r,o)=>r==="filter"?-1:o.charCodeAt(0)-r.charCodeAt(0)).map(r=>i.get(r)).join(". ");e.ariaAnnounce?.announceValue(n,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered(),this.refreshAriaCellSelection()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return jU(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function jU(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var ipe=0,RF=class extends Kt{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=ipe++,this.comp=null,this.allCtrls=[];let n="ag-header-row-column";i==="group"?n="ag-header-row-group":i==="filter"&&(n="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${n}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=bl(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=WC(this,this.beans.context,t),i&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,stylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=bl(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0,t=nO(this.beans);for(let r=0;r<t.length;r++){if(r===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[r]};e+=t[r]}let i=rO(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:i};e+=i;let n=DW(this.beans);return{topOffset:e,rowHeight:n}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;let t=this.getUpdatedHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);let i=n=>{let{focusSvc:r,visibleCols:o}=this.beans;return r.isHeaderWrapperFocused(n)?o.isVisible(n.column):!1};if(e)for(let[n,r]of e)i(r)?this.ctrlsById.set(n,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,i){if(e.isEmptyGroup())return;let n=e.getUniqueId(),r;if(i&&(r=i.get(n),i.delete(n)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new tpe(e,this));break}t.set(n,r)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];let e=[];for(let t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){let i=this.allCtrls.find(r=>r.column==e);return i?i.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},npe=class extends Kt{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:i,ctrlsSvc:n,colModel:r,colMoves:o}=this.beans;this.setupCenterWidth(),i?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);let s=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:s,advancedFilterEnabledChanged:s});let a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(a,this),r.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,filterManager:i,visibleCols:n}=this.beans,r=0,o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{let u=n.headerGroupRowCount;r=u,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));let h=this.groupsRowCtrls.length;if(h!==u){if(h>u){for(let f=u;f<h;f++)this.destroyBean(this.groupsRowCtrls[f]);this.groupsRowCtrls.length=u;return}for(let f=h;f<u;f++){let p=this.createBean(new RF(f,this.pinned,"group"));this.groupsRowCtrls.push(p)}}},a=()=>{let u=r++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new RF(u,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==u&&this.columnsRowCtrl.setRowIndex(u)},l=()=>{this.includeFloatingFilter=!!i?.hasFloatingFilters()&&!this.hidden;let u=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){u();return}e||u();let h=r++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==h&&this.filtersRowCtrl.setRowIndex(h):this.filtersRowCtrl=this.createBean(new RF(h,this.pinned,"filter"))},c=this.getAllCtrls();s(),a(),l();let d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,o),c.length!==d.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){let t=i=>i?.getHeaderCellCtrls().find(n=>n.column===e);if(Em(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){let n=t(this.groupsRowCtrls[i]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,i){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let i=e?.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;let{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new eO(e=>this.comp.setCenterWidth(`${e}px`),!0))}},rpe=class extends Kt{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(YU(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,i)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){YU(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(dd(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Em(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(d0()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!dd(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!dd(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return dd(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,i,n){let{positionBy:r,onClosedCallback:o}=t,s=t.column;if(r==="button"){let{buttonElement:a}=t;e?.showMenuAfterButtonClick(s,a,i,o,n)}else if(r==="mouse"){let{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(s,a,i,o,n)}else if(s){let a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),$f(a,()=>{let c=l.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);c&&e?.showMenuAfterButtonClick(s,c.getAnchorElementForMenu(n),i,o,n)})}}};function qU(e,t,i){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",i))}function YU(e){let{enterpriseMenuFactory:t,filterMenuFactory:i,gos:n}=e;return t&&dd(n)?t:i}var oD=class extends U5{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},sD=class extends wo{constructor(){super()}};function ope(e,t,i){let n=Ec(e,t,i);if(n){let{className:o}=n;if(typeof o=="string"&&o.includes("ag-icon")||typeof o=="object"&&o["ag-icon"])return n}let r=Ya({tag:"span"});return r.appendChild(n),r}function Ec(e,t,i){let n=null;e==="smallDown"?oi(262):e==="smallLeft"?oi(263):e==="smallRight"&&oi(264);let r=i?.getColDef().icons;if(r&&(n=r[e]),t.gos&&!n){let o=t.gos.get("icons");o&&(n=o[e])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else{oi(38,{iconName:e});return}if(typeof o=="string")return R5(o);if(P5(o))return o;oi(133,{iconName:e});return}else{let o=t.registry.getIcon(e);return o||t.validation?.validateIcon(e),Ya({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var spe={tag:"div",cls:"ag-overlay-loading-center",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},ape=class extends sD{constructor(){super(...arguments),this.eLoadingIcon=bi,this.eLoadingText=bi}init(e){let{beans:t,gos:i}=this,n=Hf(i.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(n??spe),!n){let r=Ec("overlayLoading",t,null);r&&this.eLoadingIcon.appendChild(r);let o=e.loading?.overlayText??this.getLocaleTextFunc()("loadingOoo","Loading...");this.eLoadingText.textContent=o,t.ariaAnnounce.announceValue(o,"overlay")}}},lpe={tag:"div",cls:"ag-overlay-exporting-center",children:[{tag:"span",ref:"eExportingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eExportingText",cls:"ag-exporting-text"}]},cpe=class extends sD{constructor(){super(...arguments),this.eExportingIcon=bi,this.eExportingText=bi}init(e){let{beans:t}=this;this.setTemplate(lpe);let i=Ec("overlayExporting",t,null);i&&this.eExportingIcon.appendChild(i);let n=e.exporting?.overlayText??this.getLocaleTextFunc()("exportingOoo","Exporting...");this.eExportingText.textContent=n,t.ariaAnnounce.announceValue(n,"overlay")}},dpe={tag:"span",cls:"ag-overlay-no-rows-center"},upe=class extends sD{init(e){let{beans:t,gos:i}=this,n=Hf(i.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(n??dpe),!n){let r=e.noRows?.overlayText??this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=r,t.ariaAnnounce.announceValue(r,"overlay")}}},hpe={tag:"span",cls:"ag-overlay-no-matching-rows-center"},fpe=class extends sD{init(e){let{beans:t}=this;this.setTemplate(hpe);let i=e.noMatchingRows?.overlayText??this.getLocaleTextFunc()("noMatchingRows","No Matching Rows");this.getGui().textContent=i,t.ariaAnnounce.announceValue(i,"overlay")}},ppe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",mpe={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},gpe=class extends wo{constructor(){super(),this.dragSource=null,this.eIcon=bi,this.eLabel=bi,this.eGhost=bi,this.registerCSS(ppe)}postConstruct(){let e=t=>ope(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(mpe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eGhost:i,eIcon:n,dragSource:r,dropIconMap:o,gos:s}=this;vl(n);let a=null;e||(e=r?.getDefaultIconName?r.getDefaultIconName():"notAllowed"),a=o[e],i.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),n.classList.toggle("ag-shake-left-to-right",t),!(a===o.hide&&s.get("suppressDragLeaveHidesColumns"))&&a&&n.appendChild(a)}setLabel(e){this.eLabel.textContent=e}},vpe=".ag-checkbox-cell{height:100%}",bpe={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},_pe=class extends wo{constructor(){super(bpe,[j5]),this.eCheckbox=bi,this.registerCSS(vpe)}init(e){this.refresh(e);let{eCheckbox:t,beans:i}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),zG(n,"polite"),this.addManagedListeners(n,{click:r=>{if(g0(r),t.isDisabled())return;let o=t.getValue();this.onCheckboxChanged(o)},dblclick:r=>{g0(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===St.SPACE&&!t.isDisabled()){e.eGridCell===os(i)&&t.toggle();let o=t.getValue();this.onCheckboxChanged(o),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0,{value:n,column:r,node:o}=e;if(o.group&&r)if(typeof n=="boolean")t=n;else{let u=r.getColId();u.startsWith(eD)?t=n==null||n===""?void 0:n==="true":o.aggData&&o.aggData[u]!==void 0||o.sourceRowIndex>=0?t=n??void 0:i=!1}else t=n??void 0;let{eCheckbox:s}=this;if(!i){s.setDisplayed(!1);return}s.setValue(t);let a=e.disabled??!r?.isCellEditable(o);s.setDisabled(a);let l=this.getLocaleTextFunc(),c=ZE(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;s.setInputAriaLabel(d)}onCheckboxChanged(e){let{params:t}=this,{column:i,node:n,value:r}=t,{editSvc:o}=this.beans;if(!i)return;let s={rowNode:n,column:i};o?.dispatchCellEvent(s,null,"cellEditingStarted",{value:r});let a=n.setDataValue(i,e,"ui");o?.dispatchCellEvent(s,null,"cellEditingStopped",{oldValue:r,newValue:e,valueChanged:a}),a||this.updateCheckbox(t)}},$U=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){let{all:t,visible:i,order:n}=this;t.has(e)||(t.add(e),i.add(e),n.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Fh(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(let t of this.visible)if(t.id==e)return t}clear(){let{all:e,visible:t,order:i,queued:n}=this;e.clear(),n.clear(),t.clear(),i.length=0}sort(){let{sortSvc:e,rowNodeSorter:t,gos:i}=this.beans,n=e?.getSortOptions()??[],r=Cpe(this.order);if(this.order.sort((s,a)=>(s.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,n)??this.order,!r)return;let o=p9(i);o==="bottom"||o==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){let{all:t,visible:i}=this,n=i.size;return t.forEach(r=>e(r)?i.delete(r):i.add(r)),this.order=Array.from(i),this.sort(),n!=i.size}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function RW(e){if(e.level===-1)return!0;let t=e.parent;return t?.childrenAfterSort?.some(i=>i==e)?RW(t):!1}function kF(e,t){let{gos:i,rowModel:n,filterManager:r}=e;return GC(i,n)?!n.getRowNode(t.id):r?.isAnyFilterPresent()?!RW(t):i.get("pivotMode")?!t.group:!1}function ype(e){return!!e.footer&&e.level===-1}function wpe(e){return!!e.pinnedSibling&&ype(e.pinnedSibling)}function Cpe(e){let t=e.findIndex(wpe);if(t>-1)return e.splice(t,1)?.[0]}var XU=class extends Kt{postConstruct(){let{gos:e,beans:t}=this;this.top=new $U(t,"top"),this.bottom=new $U(t,"bottom");let i=r=>kF(t,r.pinnedSibling),n=()=>{let r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(o=>this.pinRow(o,r(o)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:r})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow();let o=!1;this.forContainers(a=>{o||(o=a.hide(i))});let s=this.refreshRowPositions();(!r||s||o)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Spe),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:n}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(i)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",n)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{let i=[];t.forEach(n=>i.push(n)),i.forEach(n=>this.pinRow(n,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,i){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Epe(this.beans);return}let n=e.rowPinned??e.pinnedSibling?.rowPinned;if(n!=null&&t!=null&&t!=n){let s=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(s,null,i),this.pinRow(a,t,i);return}let o=i&&Mpe(this.beans,e,i);if(o){o.forEach(s=>this.pinRow(s,t));return}if(t==null){let s=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(s);if(!a)return;a.delete(s);let l=s.pinnedSibling;IF(s),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{let s=KU(this.beans,e,t),a=this.getContainer(t);a.add(s),kF(this.beans,e)&&a.hide(l=>kF(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0,i=n=>{if(n.rowHeightEstimated){let r=Mm(this.beans,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(i),t=0,this.top.forEach(i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return ZU(this.top)}getPinnedBottomTotalHeight(){return ZU(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){let e=t=>{let i=[];return this.forEachPinnedRow(t,n=>i.push(n.pinnedSibling.id)),i};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,i)=>{for(let n of e[i]){let r=this.beans.rowModel.getRowNode(n);r?this.pinRow(r,i):t.queue(n)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{let i=new Set;e.forEachQueued(n=>{let r=this.beans.rowModel.getRowNode(n);r&&i.add(r)});for(let n of i)e.unqueue(n.id),this.pinRow(n,t)})}pinGrandTotalRow(){let{gos:e,beans:t,_grandTotalPinned:i}=this,n=t.rowModel;if(!Bs(e,n))return;let r=n.rootNode?.sibling;if(!r)return;let o=r.pinnedSibling,s=o&&this.findPinnedRowNode(o);if(i){if(s&&s.floating!==i&&(s.delete(o),IF(o)),!s||s.floating!==i){let a=KU(t,r,i);this.getContainer(i).add(a)}}else{if(!s)return;s.delete(o),IF(o)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(i=>i.setRowHeight(i.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){let t=n=>xpe(this.beans,n);if(e)return t(this.getContainer(e));let i=!1;return this.forContainers(n=>{let r=t(n);i||(i=r)}),i}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function xpe(e,t){let i=0,n=!1;return t.forEach((r,o)=>{if(n||(n=r.rowTop!==i),r.setRowTop(i),r.rowHeightEstimated||r.rowHeight==null){let s=Mm(e,r).height;n||(n=r.rowHeight!==s),r.setRowHeight(s)}r.setRowIndex(o),i+=r.rowHeight}),n}function KU(e,t,i){if(t.pinnedSibling)return t.pinnedSibling;let n=Nhe(t,e);n.setRowTop(null),n.setRowIndex(null),n.rowPinned=i;let r=i==="top"?K5:Z5;return n.id=`${r}${i}-${t.id}`,n.pinnedSibling=t,t.pinnedSibling=n,n}function IF(e){if(!e.pinnedSibling)return;e.rowPinned=null,e._destroy(!1);let t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Spe(e){let t=new Set;e.forEach(i=>{i.group&&t.add(i)}),t.forEach(i=>e.delete(i))}function Mpe(e,t,i){let{rowSpanSvc:n}=e,r=(i&&n?.isCellSpanning(i,t))??!1;if(i&&r)return n?.getCellSpan(i,t)?.spannedNodes}function ZU(e){let t=e.size();if(t===0)return 0;let i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}function Epe({gos:e,rowModel:t}){Bs(e,t)&&t.refreshModel({step:"map"})}var QU=class extends Kt{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){let t=i=>{i.setRowHeight(i.rowHeight,!0)};hC(this.pinnedBottomRows,t),hC(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0,i=n=>{if(n.rowHeightEstimated){let r=Mm(this.beans,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return hC(this.pinnedBottomRows,i),t=0,hC(this.pinnedTopRows,i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let i=this.getCache(t);if(e===void 0){i.order.length=0,i.cache={};return}let n=Zb(this.gos),r=t==="top"?K5:Z5,o=new Set(i.order),s=[],a=new Set,l=0,c=-1;for(let d of e){let u=n?.({data:d,level:0,rowPinned:t})??r+this.nextId++;if(a.has(u)){oi(96,{id:u,data:d});continue}c++,a.add(u),s.push(u);let h=MC(i,u);if(h!==void 0)h.data!==d&&h.updateData(d),l+=this.setRowTopAndRowIndex(h,l,c),o.delete(u);else{let f=new Dm(this.beans);f.id=u,f.data=d,f.rowPinned=t,l+=this.setRowTopAndRowIndex(f,l,c),i.cache[u]=f,i.order.push(u)}}for(let d of o)MC(i,d)?.clearRowTopAndRowIndex(),delete i.cache[d];i.order=s}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(Mm(this.beans,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return JU(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return JU(this.pinnedBottomRows)}getPinnedTopRowCount(){return p5(this.pinnedTopRows)}getPinnedBottomRowCount(){return p5(this.pinnedBottomRows)}getPinnedTopRow(e){return f5(this.pinnedTopRows,e)}getPinnedBottomRow(e){return f5(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return MC(this.getCache(t),e)}forEachPinnedRow(e,t){return hC(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function JU(e){let t=p5(e);if(t===0)return 0;let i=f5(e,t-1);return i===void 0?0:i.rowTop+i.rowHeight}function MC(e,t){return e.cache[t]}function f5(e,t){return MC(e,e.order[t])}function hC(e,t){e.order.forEach((i,n)=>{let r=MC(e,i);r&&t(r,n)})}function p5(e){return e.order.length}var Dpe=class extends Kt{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){let{gos:e}=this,t=()=>{let i=e.get("enableRowPinning"),n=p9(e),o=!!i||(n==="pinnedBottom"||n==="pinnedTop"),s=o?this.inner instanceof QU:this.inner instanceof XU;this.inner&&s&&this.destroyBean(this.inner),(s||!this.inner)&&(this.inner=this.createManagedBean(o?new XU:new QU))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,i){return this.inner.pinRow(e,t,i)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},WE=e=>{let t=e.childrenAfterGroup;for(;t?.length;){let i=t[0];if(i.sourceRowIndex>=0)return i;t=i.childrenAfterGroup}},Tpe=(e,t,i,n)=>{if(!t.size||!e)return!1;let r=!1,o=e.length??0,s=-1;i&&(s=i.sourceRowIndex,i=s<0?WE(i):null,i&&(s=i.sourceRowIndex)),s<0||s>=o?s=o:n||++s;let a=s,l=Math.min(s,o-1);for(let u of t){let h=u.sourceRowIndex;h<a&&(a=h),h>l&&(l=h)}let c=a;for(let u=a;u<s;++u){let h=e[u];t.has(h)||(h.sourceRowIndex!==c&&(h.sourceRowIndex=c,e[c]=h,r=!0),++c)}let d=l;for(let u=l;u>=s;--u){let h=e[u];t.has(h)||(h.sourceRowIndex!==d&&(h.sourceRowIndex=d,e[d]=h,r=!0),--d)}for(let u of t)u.sourceRowIndex!==c&&(u.sourceRowIndex=c,e[c]=u,r=!0),++c;return r},wE=class{constructor(){this.reordered=!1,this.removals=[],this.updates=new Set,this.adds=new Set}};function $C(e){return!!(e.rowPinned&&e.pinnedSibling)}function Wd(e,t,i,n){let r=t==="top";if(!i)return Wd(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),n);if(!n){let l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Wd(e,t,i,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let o=!1,s=!1,a=[];return e.forEachPinnedRow(t,l=>{if(l===i&&!o){o=!0,a.push(l);return}if(o&&l===n){s=!0,a.push(l);return}o&&!s&&a.push(l)}),a}var Ape={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Rpe=class extends wo{constructor(){super(Ape,[j5]),this.eCheckbox=bi}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:i}=this,n=t.isSelected(),r=ZE(e,n),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);i.setValue(n,!0),i.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getWrapperElement(),{dblclick:g0,click:n=>{g0(n),!this.eCheckbox.isDisabled()&&this.beans.selectionSvc?.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:r})=>{let o=typeof n=="object"?uF(n):void 0,s=typeof r=="object"?uF(r):void 0;o!==s&&this.onSelectableChanged()}),JF(this.gos)||typeof this.getIsVisible()=="function"){let n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){let{column:e,rowNode:t,overrides:i,gos:n}=this,r=t.selectable,o=this.getIsVisible(),s;if(typeof o=="function"){let u=i?.callbackParams;if(!e)s=o(Zt(Ie({},u),{node:t,data:t.data}));else{let h=e.createColumnFunctionCallbackParams(t);s=o(Ie(Ie({},u),h))}}else s=o??!1;let a=r&&!s||!r&&s,l=r||s,c=n.get("rowSelection"),d=c&&typeof c!="string"?!uF(c):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(l&&(a?d:!0)),this.setDisplayed(l&&(a?d:!0)),l&&this.eCheckbox.setDisabled(a),i?.removeHidden&&this.setDisplayed(l)}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?Hb(t):this.column?.getColDef()?.checkboxSelection}},kpe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t,{rowModel:i,pinnedRowModel:n}=this;return t??(t=i.getRowNode(e)),n?.isManual()&&(t??(t=n.getPinnedRowById(e,"top")),t??(t=n.getPinnedRowById(e,"bottom"))),t}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let i=t[0].id===this.rootId,n=t.findIndex(r=>r.id===e.id);if(n>-1){let r=t.slice(0,n),o=t.slice(n+1);return this.setEndRange(e),i?{keep:r,discard:o}:{keep:o,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){let i=this.getRoot();if(i==null){let r=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&r.push(o)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}let n=this.getNodesInRange(i,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){let{pinnedRowModel:i,rowModel:n}=this;if(!i?.isManual())return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Wd(i,"top",e,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){let r=Wd(i,"bottom",void 0,e),o=n.getRowCount(),s=n.getRow(o-1);return(n.getNodesInRangeForSelection(t,s)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Wd(i,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){let r=Wd(i,"top",t,void 0),o=Wd(i,"bottom",void 0,e),s=n.getRow(0),a=n.getRow(n.getRowCount()-1);return r.concat(n.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(!e.rowPinned&&t.rowPinned==="top")return Wd(i,"top",t,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){let r=Wd(i,"top",e,void 0),o=Wd(i,"bottom",void 0,t),s=n.getRow(0),a=n.getRow(n.getRowCount()-1);return r.concat(n.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Wd(i,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){let r=Wd(i,"bottom",void 0,t),o=n.getRow(n.getRowCount());return(n.getNodesInRangeForSelection(e,o)??[]).concat(r)}return null}},Ipe=class extends Kt{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(os(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new W5);this.cbSelectAll=t,t.addCss("ag-header-select-all"),xm(t.getGui(),"presentation"),this.showOrHideSelectAll();let i=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:i,paginationChanged:i,modelUpdated:i}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:r})=>{let o=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;o(n)!==o(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,i=this.cbSelectAll,n=t.getSelectAllState(e);i.setValue(n);let r=t.hasNodesToSelect(e);i.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:i,cbSelectAll:n,cbSelectAllVisible:r}=this,o=n.getValue(),s=ZE(t,o),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");i.setAriaDescriptionProperty("selectAll",r?`${a} (${s})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||i.announceAriaDescription()}checkSelectionType(e){return OC(this.gos)?!0:(oi(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:i}=this.beans;return Bs(t)||GC(t)?!0:(oi(129,{feature:e,rowModel:i.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),i="uiSelectAll";t==="currentPage"?i="uiSelectAllCurrentPage":t==="filtered"&&(i="uiSelectAllFiltered");let n={source:i,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(n):r.deselectAllRowNodes(n)}isCheckboxSelection(){let{column:e,gos:t,beans:i}=this,o=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return kW(i,e)&&this.checkRightRowModelType(o)&&this.checkSelectionType(o)}getSelectAllMode(){let e=b9(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:i}=this.column.getColDef();return t?"currentPage":i?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function kW({gos:e,selectionColSvc:t},i){let n=e.get("rowSelection"),r=i.getColDef(),{headerCheckboxSelection:o}=r,s=!1;if(typeof n=="object"){let l=Rm(i),c=z5(i);(IE(n)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(s=mE(n))}else typeof o=="function"?s=o(Rn(e,{column:i,colDef:r})):s=!!o;return s}var Ppe=class extends Kt{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new kpe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let i=JF(e);i!==this.isRowSelectable&&(this.isRowSelectable=i,this.updateSelectable())}),this.isRowSelectable=JF(e),this.addManagedEventListeners({cellValueChanged:i=>this.updateRowSelectable(i.node),rowNodeDataChanged:i=>this.updateRowSelectable(i.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Rpe}createSelectAllFeature(e){if(kW(this.beans,e))return new Ipe(e)}isMultiSelect(){return OC(this.gos)}onRowCtrlSelected(e,t,i){let n=!!e.rowNode.isSelected();e.forEachGui(i,r=>{r.rowComp.toggleCss("ag-row-selected",n);let o=r.element;GG(o,n),o.contains(os(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected(),i=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||i)return;let r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(r,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!$C(e)||!l0(this.gos)}updateRowSelectable(e,t){let i=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,i,t),i}setRowSelectable(e,t,i){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),i)return;if(LC(this.gos)){let r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,i=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){let r=e.childrenAfterGroup[n],o=r.isSelected();if(!r.selectable){let s=this.calculateSelectedFromChildren(r);if(s===null)continue;o=s}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:e.selectable?e.__selected:null}selectRowNode(e,t,i,n="api"){if(t&&e.destroyed)return!1;let r=!e.selectable&&t,o=e.__selected===t;if(r||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");let a=e.pinnedSibling;return a?.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(Zt(Ie({},Ohe(e,this.gos,"rowSelected")),{event:i||null,source:n})),!0}isCellCheckboxSelection(e,t){let i=this.gos.get("rowSelection");if(i&&typeof i!="string"){let n=Rm(e)&&Hb(i);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,i,n){let{gos:r,selectionCtx:o}=this,s=e.isSelected(),a=LC(r),l=jce(r),c=qce(r),d=this.isMultiSelect(),u=n==="rowClicked";if(u&&!(l||c))return null;if(t&&i&&d){let h=o.getRoot();if(h)if(h.isSelected()){let f=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:f.discard,select:f.keep,reset:!1}}else{let f=o.extend(e,a);return{select:[],deselect:f.keep,reset:!1}}else return null}else if(t&&d){let h=o.selectAll?this.beans.rowModel.getRow(0):void 0,f=o.getRoot(h),p=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:p.keep,deselect:p.discard,reset:o.selectAll||!!(f&&!f.isSelected())}}else if(i){if(u){let h=!s;return h&&!l||!h&&!c?null:(o.setRoot(e),{node:e,newValue:h,clearSelection:!1})}return o.setRoot(e),{node:e,newValue:!s,clearSelection:!d}}else{o.setRoot(e);let h=Yce(r),f=FE(r)==="filteredDescendants",p=u&&(!h||!l);if(f&&s===void 0&&Bs(r))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!d||p};if(u){let v=s?!h:l;return v===s&&!p||v&&!l||!v&&!c?null:{node:e,newValue:v,clearSelection:!d||p,keepDescendants:e.group&&a}}return{node:e,newValue:!s,clearSelection:!d||p}}}},IW=class extends Ihe{initialiseTabGuard(e){super.initialiseTabGuard(e,pW)}};var Fpe=500,Ope=550,aE,Lpe=e=>{if(!aE)aE=new WeakSet;else if(aE.has(e))return!1;return aE.add(e),!0},r0=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let i=this.eventSvc;if(!i){if(i===null)return;this.eventSvc=i=new f0;let n=this.onTouchStart.bind(this);this.startListener=n,this.eElement.addEventListener("touchstart",n,{passive:!0})}i.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!Lpe(e))return;let t=e.touches[0];this.touchStart=t;let i=this.handlers;if(!i.length){let n=this.eElement,r=n.ownerDocument,o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this),a=this.onTouchCancel.bind(this),l={passive:!0},c={passive:!1};hE(i,[n,"touchmove",o,l],[r,"touchcancel",a,l],[r,"touchend",s,c],[r,"contextmenu",kb,c])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},Ope)}onTouchMove(e){let{moved:t,touchStart:i}=this;if(!t&&i){let n=Lb(i,e.touches);n&&!QG(n,i,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){let t=this.touchStart;!t||!Lb(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&kb(e),this.cancel())}onTouchCancel(e){let t=this.touchStart;!t||!Lb(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now(),i=this.lastTapTime;i&&t-i>Fpe&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),F5(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){let e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}};var lO=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${t9}/${this.frameworkName}-data-grid`,Pce(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}};function Npe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Bpe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],eG=Object.fromEntries(Bpe.map((e,t)=>[e,t]));function Vpe(e,t){let i=(e.beanName?eG[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?eG[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function zpe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var Hpe={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},Upe={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},Gpe={tag:"div",cls:"ag-header-viewport",role:"rowgroup",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"presentation"}]},PF=class extends wo{constructor(e){super(),this.eCenterContainer=bi,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{let n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new npe(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",i=e?Hpe:t?Upe:Gpe;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==bi?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),e.getGui().remove()}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i,n=r=>{let o=r.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),i&&YG(this.eRowContainer,o,i),i=o};for(let r of e){let o=r.instanceId,s=t[o];delete t[o];let a=s||this.createBean(new Jfe(r));this.headerRowComps[o]=a,this.rowCompsList.push(a),n(a)}for(let r of Object.values(t))this.destroyRowComp(r)}},Wpe={tag:"div",cls:"ag-header",role:"presentation"},jpe=class extends wo{constructor(){super(Wpe)}postConstruct(){let e={toggleCss:(n,r)=>this.toggleCss(n,r),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new qfe).setComp(e,this.getGui(),this.getFocusableElement());let i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new PF("left")),i(new PF(null)),i(new PF("right"))}},qpe={selector:"AG-HEADER-ROOT",component:jpe},Ype=class extends wo{constructor(e,t,i,n,r){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.gos=e.gos,this.column=t.column,this.rowNode=t.rowNode,this.eRow=n;let o=Ya({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.column.colIdSanitised}});this.eCell=o;let s;t.isCellSpanning()?(s=Ya({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),s.appendChild(o),this.setTemplateFromElement(s)):this.setTemplateFromElement(o),this.cellCssManager=new O9(()=>o),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let a={toggleCss:(l,c)=>this.cellCssManager.toggleCss(l,c),setUserStyles:l=>UC(o,l),getFocusableElement:()=>o,setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(l,c)=>this.refreshEditStyles(l,c)};t.setComp(a,o,s,this.eCellWrapper,i,r,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t)),this.rowDraggingComp?.refreshVisibility()}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){let e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&this.eCellWrapper==null;n&&(this.eCellWrapper=Ya({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));let r=!i&&this.eCellWrapper!=null;r&&(Sc(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!i);let o=!e&&i,s=o&&this.eCellValue==null;if(s){let c=this.cellCtrl.getCellValueClass();this.eCellValue=Ya({tag:"span",cls:c,role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue)}let a=!o&&this.eCellValue!=null;a&&(Sc(this.eCellValue),this.eCellValue=void 0);let l=n||r||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){let{cellCtrl:e,eCellWrapper:t,eCellValue:i,includeRowDrag:n,includeDndSource:r,includeSelection:o}=this,s=a=>{a&&t.insertBefore(a.getGui(),i)};n&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),s(this.rowDraggingComp)),r&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),s(this.dndSourceComp)),o&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),s(this.checkboxSelectionComp))}createCellEditorInstance(e,t,i){let n=this.editorVersion,r=e.newAgStackInstance(),{params:o}=e;r.then(a=>this.afterCellEditorCreated(n,a,o,t,i)),Ko(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();vl(t);let i=n_(e);i!=null&&(t.textContent=i)}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Sc(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(os(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Sc(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let t=this.rendererVersion,i=o=>s=>{if(this.rendererVersion!==t||!this.isAlive())return;let l=o.newAgStackInstance(),c=this.afterCellRendererCreated.bind(this,t,o.componentClass);l?.then(c)},{animationFrameSvc:n}=this.beans,r;if(n?.active&&this.firstRender?r=(o,s=!1)=>{n.createTask(i(o),this.rowNode.rowIndex,"p2",o.componentFromFramework,s)}:r=o=>i(o)(),e.params?.deferRender&&!this.cellCtrl.rowNode.group){let{loadingComp:o,onReady:s}=this.cellCtrl.getDeferLoadingCellRenderer();o&&(r(o),s.then(()=>r(e,!0)))}else r(e)}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}this.cellRenderer=i,this.cellRendererClass=t;let r=i.getGui();if(this.cellRendererGui=r,r!=null){let o=this.getParentOfValue();vl(o),o.appendChild(r)}}afterCellEditorCreated(e,t,i,n,r){let o=e!==this.editorVersion,{context:s}=this.beans;if(o){s.destroyBean(t);return}if(t.isCancelBeforeStart?.()){s.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){oi(97,{colId:this.column.getId()}),s.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let l=n||t.isPopup?.();l?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached?.(),this.cellCtrl.enableEditorTooltipFeature(t),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssManager:i}=this;i.toggleCss("ag-cell-inline-editing",e&&!t),i.toggleCss("ag-cell-popup-editing",e&&!!t),i.toggleCss("ag-cell-not-inline-editing",!e||!!t)}addInCellEditor(){let{eCell:e}=this;e.contains(os(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),vl(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){let{gos:i,context:n,popupSvc:r,editSvc:o}=this.beans;i.get("editType")==="fullRow"&&oi(98);let s=this.cellEditorPopupWrapper=n.createBean(o.createPopupEditorWrapper(e)),{cellEditor:a,cellEditorGui:l,eCell:c,rowNode:d,column:u,cellCtrl:h}=this,f=s.getGui();l&&f.appendChild(l);let p=i.get("stopEditingWhenCellsLoseFocus"),v=t??a.getPopupPosition?.()??"over",m=i.get("enableRtl"),g={ePopup:f,additionalParams:{column:u,rowNode:d},type:"popupCellEditor",eventSource:c,position:v,alignSide:m?"right":"left",keepWithinBounds:!0},b=r.positionPopupByComponent.bind(r,g),w=r.addPopup({modal:p,eChild:f,closeOnEsc:!0,closedCallback:()=>{h.onPopupEditorClosed()},anchorToElement:c,positionCallback:b,ariaOwns:c});w&&(this.hideEditorPopup=w.hideFunc)}detach(){this.getGui().remove()}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},$pe=class extends wo{constructor(e,t,i){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;let n=Ya({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(n,i),this.setTemplateFromElement(n);let r=n.style;this.domOrder=this.rowCtrl.getDomOrder();let o={setDomOrder:s=>this.domOrder=s,setCellCtrls:s=>this.setCellCtrls(s),showFullWidth:s=>this.showFullWidth(s),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,getFullWidthCellRendererParams:()=>this.fullWidthCellRendererParams,toggleCss:(s,a)=>this.toggleCss(s,a),setUserStyles:s=>UC(n,s),setTop:s=>r.top=s,setTransform:s=>r.transform=s,setRowIndex:s=>n.setAttribute("row-index",s),setRowId:s=>n.setAttribute("row-id",s),setRowBusinessKey:s=>n.setAttribute("row-business-key",s),refreshFullWidth:s=>{let a=s();return this.fullWidthCellRendererParams=a,this.fullWidthCellRenderer?.refresh?.(a)??!1}};e.setComp(o,this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}setInitialStyle(e,t){let i=this.rowCtrl.getInitialTransform(t);if(i)e.style.setProperty("transform",i);else{let n=this.rowCtrl.getInitialRowTop(t);n&&e.style.setProperty("top",n)}}showFullWidth(e){let t=n=>{if(this.isAlive()){let r=n.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(n,e.params)}else this.beans.context.destroyBean(n)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=new Map(this.cellComps);for(let i of e){let n=i.instanceId;this.cellComps.has(n)?t.delete(n):this.newCellComp(i)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];for(let i of e){let n=this.cellComps.get(i.instanceId);n&&t.push(n.getGui())}$G(this.getGui(),t)}newCellComp(e){let t=this.beans.editSvc?.isEditing(e,{withOpenEditor:!0})??!1,i=new Ype(this.beans,e,this.rowCtrl.printLayout,this.getGui(),t);this.cellComps.set(e.instanceId,i),this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e,t){this.fullWidthCellRenderer=e,this.fullWidthCellRendererParams=t,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer),this.fullWidthCellRendererParams=void 0})}destroyCells(e){for(let t of e.values()){if(!t)return;let i=t.cellCtrl.instanceId;if(this.cellComps.get(i)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(i)}}};function Xpe(e,t,i){let n=!!i.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,r={tag:"div",ref:"eContainer",cls:yE(e),role:"rowgroup"};if(t.type==="center"||n){let o={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${afe(e)}`,role:"presentation"};return r.role="presentation",{tag:"div",ref:"eViewport",cls:`ag-viewport ${_W(e)}`,role:"rowgroup",children:[r,n?o:null]}}return r}var Kpe=class extends wo{constructor(e){super(),this.eViewport=bi,this.eContainer=bi,this.eSpannedContainer=bi,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=qC(this.name)}postConstruct(){this.setTemplate(Xpe(this.name,this.options,this.beans));let e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setSpannedRowCtrls:i=>this.setRowCtrls(i,!0),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>{this.eContainer.style.width=i,this.eSpannedContainer&&(this.eSpannedContainer.style.width=i)},setOffsetTop:i=>{let n=`translateY(${i})`;this.eContainer.style.transform=n,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=n)}};this.createManagedBean(new vfe(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:i,options:n}=this,r=t?this.eSpannedContainer:this.eContainer,o=t?Ie({},this.rowCompsWithSpan):Ie({},this.rowCompsNoSpan),s={};t?this.rowCompsWithSpan=s:this.rowCompsNoSpan=s,this.lastPlacedElement=null;let a=[];for(let l of e){let c=l.instanceId,d=o[c],u;if(d)u=d,delete o[c];else{if(!l.rowNode.displayed)continue;u=new $pe(l,i,n.type)}s[c]=u,a.push([u,!d])}this.removeOldRows(Object.values(o)),this.addRowNodes(a,r)}addRowNodes(e,t){let{domOrder:i}=this;for(let[n,r]of e){let o=n.getGui();i?this.ensureDomOrder(o,t):r&&t.appendChild(o)}}removeOldRows(e){for(let t of e)t.getGui().remove(),t.destroy()}ensureDomOrder(e,t){YG(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},Zpe={selector:"AG-ROW-CONTAINER",component:Kpe};function fC(e,t){return t.map(i=>{let n=`e${i[0].toUpperCase()+i.substring(1)}RowContainer`;return e[n]={name:i},{tag:"ag-row-container",ref:n,attrs:{name:i}}})}function Qpe(e){let t={},i={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:fC(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:fC(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:fC(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:fC(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:fC(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:i}}var Jpe=class extends wo{constructor(){super(...arguments),this.eGridRoot=bi,this.eBodyViewport=bi,this.eStickyTop=bi,this.eStickyBottom=bi,this.eTop=bi,this.eBottom=bi,this.eBody=bi}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,i=e?.getOverlayWrapperSelector(),{paramsMap:n,elementParams:r}=Qpe(!!i);this.setTemplate(r,[...i?[i]:[],Sfe,Dfe,qpe,Zpe],n);let o=(a,l)=>{let c=`${a}px`;l.style.minHeight=c,l.style.height=c},s={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>Xle(this.getGui(),a),setRowCount:a=>Yle(this.getGui(),a),setTopHeight:a=>o(a,this.eTop),setBottomHeight:a=>o(a,this.eBottom),setTopInvisible:a=>this.eTop.classList.toggle("ag-invisible",a),setBottomInvisible:a=>this.eBottom.classList.toggle("ag-invisible",a),setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-invisible",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.toggleCss(a,l),updateLayoutClasses:(a,l)=>{let c=[this.eBodyViewport.classList,this.eBody.classList];for(let d of c)d.toggle(Ru.AUTO_HEIGHT,l.autoHeight),d.toggle(Ru.NORMAL,l.normal),d.toggle(Ru.PRINT,l.print);this.toggleCss(Ru.AUTO_HEIGHT,l.autoHeight),this.toggleCss(Ru.NORMAL,l.normal),this.toggleCss(Ru.PRINT,l.print)},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle(CW,l),registerBodyViewportResizeListener:a=>{let l=Tm(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{for(let c of[this.eTop,this.eBodyViewport,this.eBottom])c.classList.toggle(a,l)},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>xm(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new yfe),this.ctrl.setComp(s,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&jf(this.gos)||OC(this.gos))&&qle(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}},eme={selector:"AG-GRID-BODY",component:Jpe},tme=class extends Kt{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getId());let{dragAndDrop:n,ctrlsSvc:r}=this.beans;n?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new J5(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let o=Tm(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),r.register("gridCtrl",this)}isDetailGrid(){return j9(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){let{view:t}=this;if(e===!1)t.setCursor(null);else{let i=e===1?"ew-resize":"ns-resize";t.setCursor(i)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(i>0){let{visibleCols:r,focusSvc:o}=this.beans,s=r.allCols,a=To(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;let i=this.getFocusableContainers(),{focusSvc:n,visibleCols:r}=this.beans,o=r.allCols;if(e){if(i.length>1)return this.focusContainer(To(i),e);let s=To(o);if(n.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||u0(this.beans)){if(n.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<i.length;s++)if(m0(i[s].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:i}=this.getNextFocusableIndex(t,e),n=t[i];n?this.focusContainer(n):this.forceFocusOutOfContainer(e)}isFocusable(){let e=this.beans;return!rD(e)||!u0(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let i=os(this.beans),n=e.findIndex(o=>o.getGui().contains(i)),r=n+(t?-1:1);return{indexWithFocus:n,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);let i=m0(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ime=class extends IW{constructor(e){super(),this.gridBody=bi,this.sideBar=bi,this.pagination=bi,this.rootWrapperBody=bi,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCss(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new tme),i=t.getOptionalSelectors(),n=this.createTemplate(i),r=[eme,...Object.values(i).filter(o=>!!o)];this.setTemplate(n,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{e.remove(),Sm(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let i=this.rootWrapperBody.classList,{AUTO_HEIGHT:n,NORMAL:r,PRINT:o}=Ru,{autoHeight:s,normal:a,print:l}=t;i.toggle(n,s),i.toggle(r,a),i.toggle(o,l),this.toggleCss(n,s),this.toggleCss(r,a),this.toggleCss(o,l)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,i=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,n=e.statusBarSelector?{tag:"ag-status-bar"}:null,r=e.watermarkSelector?{tag:"ag-watermark"}:null,o=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},i]},n,o,r]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];for(let t of[this.sideBar,this.pagination])t&&e.push(t);return e.filter(t=>Lh(t.getGui()))}},Nn=(e,t)=>{for(let i of Object.keys(t))t[i]=e;return t},tG=Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie(Ie({dispatchEvent:"CommunityCore"},Nn("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0})),Nn("GridState",{getState:0,setState:0})),Nn("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),Nn("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),Nn("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),Nn("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),Nn("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),Nn("ValueCache",{expireValueCache:0})),Nn("CellApi",{getCellValue:0})),Nn("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),Nn("Sort",{onSortChanged:0})),Nn("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0})),Nn("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),Nn("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),Nn("HighlightChanges",{flashCells:0})),Nn("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0})),Nn("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),Nn("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),Nn("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),Nn("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),Nn("ColumnResize",{setColumnWidths:0})),Nn("ColumnHover",{isColumnHovered:0})),Nn("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0})),Nn("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0})),Nn("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),Nn("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),Nn("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0})),Nn("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),Nn("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),Nn("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),Nn("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0})),Nn("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Nn("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0})),Nn("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),Nn("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Nn("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Nn("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Nn("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Nn("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Nn("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Nn("ContextMenu",{showContextMenu:0})),Nn("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),Nn("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Nn("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),Nn("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),Nn("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Nn("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0})),Nn("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Nn("StatusBar",{getStatusPanel:0})),Nn("AiToolkit",{getStructuredSchema:0})),FF={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},nme=(e,t)=>e.eventSvc.dispatchEvent(t),PW=class{};Reflect.defineProperty(PW,"name",{value:"GridApi"});var rme=class extends Kt{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new PW,this.fns=Zt(Ie({},FF),{dispatchEvent:nme}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(tG))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:i,beans:n}=this;i!==FF&&(i[e]=n?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:i,preDestroyLink:n}=this;if(!t)oi(26,{fnName:e,preDestroyLink:n});else{let r=tG[e];i.assertModuleRegistered(r,`api.${e}`)&&oi(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=FF,this.beans=null}};function ome(e){return e.context.getId()}function sme(e){e.gridDestroySvc.destroy()}function ame(e){return e.gridDestroySvc.destroyCalled}function lme(e,t){return e.gos.get(t)}function cme(e,t,i){FW(e,{[t]:i})}function FW(e,t){e.gos.updateGridOptions({options:t})}function dme(e,t){let i=t.replace(/Module$/,"");return e.gos.isModuleRegistered(i)}var ume={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},hme=class extends wo{constructor(e,t,i){super(ume),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Ec("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:i,eCell:n,gos:r}=this,o=i.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(n,0,0),o){let a=Rn(r,{rowNode:t,dragEvent:e});o(a)}else try{let a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function fme(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function pme(e,t){let i=e.dragAndDrop?.findExternalZone(t.getContainer());i&&e.dragAndDrop?.removeDropTarget(i)}function mme(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function gme(e){let t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function vme(e,t){let i=e.rowDropHighlightSvc;if(!i)return;let n=t?.row,r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");let o=n?.rowIndex;o==null||r==="none"?i.clear():i.set(n,r)}var bme=class extends Ahe{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},_me=class extends Kt{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},yme={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},lE={skipAriaHidden:!0},wme=class extends wo{constructor(e,t,i,n,r,o=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=r,this.alwaysVisible=o,this.dragSource=null,this.disabled=!1}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(yme),this.getGui().appendChild(Ec("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){let{beans:e,rowNode:t}=this,i=this.refreshVisibility.bind(this);this.addManagedListeners(e.eventSvc,{rowDragVisibilityChanged:i}),this.addManagedListeners(t,{dataChanged:i,cellChanged:i}),this.refreshVisibility()}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;let{beans:e,column:t,rowNode:i}=this,{gos:n,dragAndDrop:r,rowDragSvc:o}=e,s=o?.visibility,l=!(s==="suppress"||s==="hidden"&&!r?.hasExternalDropZones()),c=l;if(l&&!this.isCustomGui()&&t){let d=t.getColDef().rowDrag;if(d===!1)l=!1;else{let u=typeof d=="function";c=t.isRowDrag(i),l=u||c}}l&&c&&i.footer&&n.get("rowDragManaged")&&(c=!1,l=!0),c&&(c=l),l||this.setDisplayed(l,lE),c||this.setVisible(c,lE),this.setDisabled(!c||s==="disabled"&&!r?.hasExternalDropZones()),l&&this.setDisplayed(l,lE),c&&this.setVisible(c,lE)}setDisabled(e){e!==this.disabled&&(this.disabled=e,this.getGui()?.classList?.toggle("ag-drag-handle-disabled",e))}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let i=this.beans.selectionSvc?.getSelectedNodes()??[];return i.indexOf(e)!==-1?i:[e]}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);let i=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:n=>this.getDragItemName(n,i),getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}getDragItemName(e,t){let i=e?.dragItem||this.getDragItem(),n=(e?.dropTarget?.rows.length??i.rowNodes?.length)||1,r=this.column?.getColDef()?.rowDragText??this.gos.get("rowDragText");if(r)return r(i,n);if(n!==1)return`${n} ${t("rowDragRows","rows")}`;let o=this.cellValueFn();return o||`1 ${t("rowDragRow","rows")}`}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},zC=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:i,children:n}=e;if(n)for(let r=0;r<n.length;++r)this.depthFirstSearchChangedPath(n[r],t);t(i)}depthFirstSearchEverything(e,t,i){let n=e.childrenAfterGroup;if(n)for(let r=0,o=n.length;r<o;++r){let s=n[r];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,i):i&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;){this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={});for(let n of t)this.nodeIdsToColumns[i.id][n.getId()]=!0;i=i.parent}}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){let r=this.mapToItems[i.id],o=this.mapToItems[i.parent.id];o.children||(o.children=[]),o.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},Cme=.25,xme=class extends Kt{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.autoScroll=null,this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,t=>{let i=()=>t.gridBodyCtrl.scrollFeature.getVScrollPosition().top,n=new bue({scrollContainer:t.gridBodyCtrl.eBodyViewport,scrollAxis:"y",getVerticalPosition:i,setVerticalPosition:r=>t.gridBodyCtrl.scrollFeature.setVerticalScrollPosition(r),onScrollCallback:()=>{let r=i();if(this.autoScrollOldV!==r){this.autoScrollOldV=r,this.autoScrollChanging=!0;return}let o=this.autoScrollChanging;this.autoScrollChanged=o,this.autoScrollChanging=!1,o&&(e.dragAndDrop?.nudge(),this.autoScrollChanged=!1)}});this.autoScroll=n,this.clearAutoScroll()})}destroy(){super.destroy(),this.clearAutoScroll(),this.autoScroll=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.beans.rowDragSvc.visibility!=="visible"?"notAllowed":"move"}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let i=this.beans.selectionSvc?.getSelectedNodes();if(i&&i.indexOf(t)>=0)return i.slice().sort(Sme)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){let{lastDraggingEvent:i,beans:n}=this;if(t){let a=this.getRowNodes(e);e.dragItem.rowNodes=a,nG(a,!0)}this.lastDraggingEvent=e;let r=e.fromNudge,o=this.makeRowsDrop(i,e,r,!1);n.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e);let s=this.autoScroll;o?.rowDragManaged&&o.moved&&o.allowed&&o.sameGrid&&!o.suppressMoveWhenRowDragging&&(!r&&!s?.scrolling||this.autoScrollChanged)&&this.dropRows(o),s?.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,i,n){let{beans:r,gos:o}=this,s=this.newRowsDrop(t,n),a=r.rowModel;if(t.dropTarget=s,t.changed=!1,!s)return null;let{sameGrid:l,rootNode:c,source:d,target:u}=s;u??(u=a.getRow(a.getRowCount()-1)??null);let h=this.beans.groupEditSvc,f=!!h?.canSetParent(s),p=null;if(u?.footer){let m=c5(a,-1,u)??c5(a,1,u);f&&(p=u.sibling??c),u=m??null}u?.detail&&(u=u.parent),s.moved&&(s.moved=d!==u);let v=.5;if(u&&(l&&s.moved&&(p||!f)?v=d.rowIndex>u.rowIndex?-.5:.5:v=(s.y-u.rowTop-u.rowHeight/2)/u.rowHeight||0),!f&&l&&u&&s.moved&&Bs(o)){let m=Mme(a,s);m&&(v=d.rowIndex>m.rowIndex?-.5:.5,u=m,s.moved&&(s.moved=d!==u))}return s.target=u,s.newParent=p,s.pointerPos=Eme(u,s.y),s.yDelta=v,h?.fixRowsDrop(s,f,i,v),this.validateRowsDrop(s,f,n),t.changed||(t.changed=iG(e?.dropTarget,s)),s}newRowsDrop(e,t){let{beans:i,gos:n}=this,r=i.rowModel.rootNode,o=Bs(n)?n.get("rowDragManaged"):!1,s=n.get("suppressMoveWhenRowDragging"),a=this.isFromThisGrid(e),{rowNode:l,rowNodes:c}=e.dragItem;if(c||(c=l?[l]:[]),l||(l=c[0]),!l||!r)return null;let d=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e),u=!0;o&&(!c.length||i.rowDragSvc.visibility!=="visible"||(s||!a)&&!d)&&(u=!1);let h=GU(i,e).y,f=this.getOverNode(h);return{api:i.gridApi,context:i.gridOptions.context,draggingEvent:e,rowDragManaged:o,suppressMoveWhenRowDragging:s,sameGrid:a,withinGrid:d,treeData:!1,rootNode:r,moved:l!==f,y:h,overNode:f,overIndex:f?.rowIndex??-1,pointerPos:"none",position:"none",source:l,target:f??null,newParent:null,rows:c,allowed:u,highlight:!t&&o&&s&&(d||!a),yDelta:0,inside:!1,droppedManaged:!1}}validateRowsDrop(e,t,i){let{source:n,target:r,yDelta:o,inside:s,moved:a,rowDragManaged:l,suppressMoveWhenRowDragging:c}=e;e.moved&&(e.moved=n!==r);let{position:d,fallbackPosition:u}=this.computeDropPosition(a,s,o);e.position=d,t||(e.newParent=null),this.enforceSuppressMoveWhenRowDragging(e,c,"initial");let h=(!l||e.allowed)&&this.gos.get("isRowValidDropPosition");h&&this.applyDropValidator(e,t,i,l,h),l&&(e.rows=this.filterRows(e)),this.beans.groupEditSvc?.clearNewSameParent(e,t),this.enforceSuppressMoveWhenRowDragging(e,c,"final"),e.position==="inside"&&(!e.allowed||!e.newParent)&&(e.position=u)}computeDropPosition(e,t,i){let n=i<0?"above":"below";return e?{position:t?"inside":n,fallbackPosition:n}:{position:"none",fallbackPosition:n}}enforceSuppressMoveWhenRowDragging(e,t,i){if(t){if(i==="initial"){e.moved||(e.allowed=!1);return}(!e.rows.length||e.position==="none")&&(e.allowed=!1)}}applyDropValidator(e,t,i,n,r){this.beans.groupEditSvc?.clearNewSameParent(e,t);let o=r(e);if(!o){e.allowed=!1;return}if(typeof o!="object")return;o.rows!==void 0&&(e.rows=o.rows??[]),t&&o.newParent!==void 0&&(e.newParent=o.newParent),o.target!==void 0&&(e.target=o.target),o.position&&(e.position=o.position),o.allowed!==void 0?e.allowed=o.allowed:n||(e.allowed=!0);let s=e.draggingEvent;o.changed&&s&&(s.changed=!0),!i&&o.highlight!==void 0&&(e.highlight=o.highlight)}addRowDropZone(e){if(!e.getContainer()){oi(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){oi(56);return}let i=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(r=>e.onDragEnter(this.rowDragEvent("rowDragEnter",r))),onDragLeave:e.onDragLeave&&(r=>e.onDragLeave(this.rowDragEvent("rowDragLeave",r))),onDragging:e.onDragging&&(r=>e.onDragging(this.rowDragEvent("rowDragMove",r))),onDragStop:e.onDragStop&&(r=>e.onDragStop(this.rowDragEvent("rowDragEnd",r))),onDragCancel:e.onDragCancel&&(r=>e.onDragCancel(this.rowDragEvent("rowDragCancel",r)))},n=Ie({isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0},i);t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:i=>{this.onDragEnter(i),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",i))},onDragLeave:i=>{this.onDragLeave(i),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",i))},onDragging:i=>{this.onDragging(i),e?.onDragging?.(this.rowDragEvent("rowDragMove",i))},onDragStop:i=>{this.onDragStop(i),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",i))},onDragCancel:i=>{this.onDragCancel(i),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",i))},fromGrid:!0}}getOverNode(e){let{pageBounds:t,rowModel:i}=this.beans,r=e>t.getCurrentPagePixelRange().pageLastPixel?-1:i.getRowIndexAtPixel(e);return r>=0?i.getRow(r):void 0}rowDragEvent(e,t){let i=this.beans,{dragItem:n,dropTarget:r,event:o,vDirection:s}=t,a=r?.rootNode===i.rowModel.rootNode,l=a?r.y:GU(i,t).y,c=a?r.overNode:this.getOverNode(l),d=a?r.overIndex:c?.rowIndex??-1;return{api:i.gridApi,context:i.gridOptions.context,type:e,event:o,node:n.rowNode,nodes:n.rowNodes,overIndex:d,overNode:c,y:l,vDirection:s,rowsDrop:r}}dispatchGridEvent(e,t){let i=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e,!1)}onDragStop(e){let t=this.lastDraggingEvent?.dropTarget??null,i=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),i?.allowed&&i.rowDragManaged&&(!t?.droppedManaged||iG(t,i))&&this.dropRows(i),this.stopDragging(e,!0)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e,!0)}stopDragging(e,t){this.clearAutoScroll(),this.beans.groupEditSvc?.stopDragging(t),this.beans.rowDropHighlightSvc?.fromDrag(null),nG(e.dragItem.rowNodes,!1),this.lastDraggingEvent=null}clearAutoScroll(){this.autoScroll?.ensureCleared(),this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}dropRows(e){return e.droppedManaged=!0,e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:i}){let n=Zb(this.gos),r=this.beans.rowModel,o=i.filter(({data:a,rowPinned:l})=>!r.getRowNode(n?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(o.length===0)return!1;let s;if(t){let a=t.sourceRowIndex>=0?t:WE(t);a&&(s=a.sourceRowIndex+(e==="above"?0:1))}return r.updateRowData({add:o,addIndex:s}),!0}filterRows(e){let{groupEditSvc:t}=this.beans,{rows:i,sameGrid:n}=e,r;for(let o=0,s=i.length;o<s;++o){let a=!0,l=i[o];(!l||l.footer||n&&l.destroyed&&!l.group||!this.csrmGetLeaf(l))&&(a=!1),a&&t&&!t.canDropRow(l,e)&&(a=!1),a?r?.push(l):r??(r=i.slice(0,o))}return r??i}csrmMoveRows(e){let t=this.beans.groupEditSvc;return t?.isGroupingDrop(e)?t.dropGroupEdit(e):this.csrmMoveRowsReorder(e)}csrmMoveRowsReorder({position:e,target:t,rows:i,newParent:n,rootNode:r}){let o=!1,s=new Set;for(let h of i){n&&h.parent!==n&&(h.treeParent=n,o=!0);let f=this.csrmGetLeaf(h);f&&s.add(f)}if(!o&&s.size===0)return!1;let a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&Fb(this.beans,l);if(s.size&&Tpe(r._leafs,s,t,e==="above")&&(o=!0),!o)return!1;let d=this.beans.rowModel,u=new wE;return u.reordered=!0,d.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new zC(!1,r),changedRowNodes:u}),c?c.focusCell():a.clearFocusedCell(),!0}csrmGetLeaf(e){if(e.sourceRowIndex>=0)return e.destroyed?void 0:e;let t=this.beans.groupEditSvc;return t?t.csrmFirstLeaf(e):WE(e)}},iG=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!Am(e.rows,t.rows)),Sme=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,nG=(e,t)=>{for(let i=0,n=e?.length||0;i<n;++i){let r=e[i];r.dragging!==t&&(r.dragging=t,r.dispatchRowEvent("draggingChanged"))}},Mme=(e,t)=>{let i=null,n=t.target;if(n&&t.rows.indexOf(n)<0)return null;let r=t.source;if(!n||!r)return null;let o=n.rowIndex-r.rowIndex,s=o<0?-1:1;o=t.suppressMoveWhenRowDragging?Math.abs(o):1;let a=new Set(t.rows);do{let l=c5(e,s,n);if(!l)break;a.has(l)||(i=l,--o),n=l}while(o>0);return i},Eme=(e,t)=>{let i=e?.rowTop,n=e?.rowHeight??0;if(i==null||!n||n<=0)return"none";let r=t-i,o=n*Cme;return r<=o?"above":r>=n-o?"below":"inside"},Dme=class extends Kt{constructor(){super(...arguments),this.beanName="rowDragSvc",this.rowDragFeature=null,this.visibility="suppress"}setupRowDrag(e,t){let i=t.createManagedBean(new xme(e)),n=this.beans.dragAndDrop;n.addDropTarget(i),t.addDestroyFunc(()=>n.removeDropTarget(i)),this.rowDragFeature=i;let r=()=>this.refreshVisibility();this.addManagedPropertyListeners(["rowDragManaged","suppressRowDrag","refreshAfterGroupEdit"],r),this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:r,columnPivotModeChanged:r,sortChanged:r,filterChanged:r}),this.visibility=this.computeVisibility()}createRowDragComp(e,t,i,n,r,o){return new wme(e,t,i,n,r,o)}createRowDragCompForRow(e,t){if(jf(this.gos))return;let i=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${i("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,i,n,r,o){let s=this.gos;return s.get("rowDragManaged")&&(!Bs(s)||s.get("pagination"))?void 0:this.createRowDragComp(i,e,t,n,r,o)}cancelRowDrag(){this.rowDragFeature?.lastDraggingEvent&&this.beans.dragSvc?.cancelDrag()}computeVisibility(){let e=this.beans,t=e.gos;if(t.get("suppressRowDrag"))return"suppress";if(!t.get("rowDragManaged"))return"visible";let n=e.colModel.isPivotMode();return(n||e.rowGroupColsSvc?.columns?.length)&&!t.get("refreshAfterGroupEdit")?"hidden":n||e.filterManager?.isAnyFilterPresent()||e.sortSvc?.isSortActive()?"disabled":"visible"}refreshVisibility(){let e=this.visibility,t=this.computeVisibility();e!==t&&(this.visibility=t,this.eventSvc?.dispatchEvent({type:"rowDragVisibilityChanged"}))}},Tme=class extends Kt{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){let e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){let e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){let i=e!==this.row,n=e.uiLevel,r=t!==this.position,o=n!==this.uiLevel;this.dragging=!1,(i||r||o)&&(i&&this.clear(),this.uiLevel=n,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){let t=e?.dropTarget;if(t){let{highlight:i,target:n,position:r}=t;if(i&&n&&r!=="none"){this.set(n,r),this.dragging=!0;return}}this.dragging&&this.clear()}},OW={moduleName:"Drag",version:Ri,beans:[bme]},Ame={moduleName:"DragAndDrop",version:Ri,dynamicBeans:{dndSourceComp:hme},icons:{rowDrag:"grip"}},LW={moduleName:"SharedDragAndDrop",version:Ri,beans:[Phe],dependsOn:[OW],userComponents:{agDragAndDropImage:gpe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Rme={moduleName:"RowDrag",version:Ri,beans:[Tme,Dme],apiFunctions:{addRowDropZone:fme,removeRowDropZone:pme,getRowDropZoneParams:mme,getRowDropPositionIndicator:gme,setRowDropPositionIndicator:vme},dependsOn:[LW]},kme={moduleName:"HorizontalResize",version:Ri,beans:[_me],dependsOn:[OW]},Ime=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Pme=class extends Kt{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:i,executeLaterFuncs:n}=this;if(i.length===0&&n.length===0){e(),t();return}let r=o=>{for(;o.length;){let s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(i)},0),window.setTimeout(()=>{t(),r(n)},200)})}};function Fme(e,t,i){e.colMoves?.moveColumnByIndex(t,i,"api")}function Ome(e,t,i){e.colMoves?.moveColumns(t,i,"api")}var Lme=class extends Kt{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;if(t)for(let i of t)i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&i?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&n?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function Nme(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,r)=>{let o=e.indexOf(n),s=e.indexOf(r);return o-s})}function Bme(e){let t=[...e];for(let i of e){let n=null,r=i.getParent();for(;r!=null&&r.getDisplayedLeafColumns().length===1;)n=r,r=r.getParent();if(n!=null){let s=!!n.getColGroupDef()?.marryChildren?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns();for(let a of s)t.includes(a)||t.push(a)}}return t}function Vme(e,t,i,n){let r=n.allCols,o=null,s=null;for(let a=0;a<e.length;a++){let l=e[a],c=i.getProposedColumnOrder(t,l);if(!i.doesOrderPassRules(c))continue;let d=c.filter(h=>r.includes(h));if(s===null)s=d;else if(!Am(d,s))break;let u=Hme(c);(o===null||u<o.fragCount)&&(o={move:l,fragCount:u})}return o}function NW(e){let{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:r,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:c,visibleCols:d}=e,{allMovingColumns:u}=e;t&&(u=Bme(u));let h=u.slice();Nme(l.getCols(),h);let f=Gme({movingCols:h,draggingRight:i,xPosition:n,pinned:s,gos:a,colModel:l,visibleCols:d}),p=zme(h,l);if(f.length===0)return;let v=f[0];if(p!==null&&(t||!r)&&!o&&(!i&&v>=p||i&&v<=p))return;let g=Vme(f,h,c,d);if(!g)return;let b=g.move;if(!(b>l.getCols().length-h.length))return{columns:h,toIndex:b}}function BW(e){let{columns:t,toIndex:i}=NW(e)||{},{finished:n,colMoves:r}=e;return!t||i==null?null:(r.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i})}function zme(e,t){let i=t.getCols(),n=e.map(l=>i.indexOf(l)).sort((l,c)=>l-c),r=n[0];return To(n)-r!==n.length-1?null:r}function Hme(e){function t(n){let r=[],o=n.getOriginalParent();for(;o!=null;)r.push(o),o=o.getOriginalParent();return r}let i=0;for(let n=0;n<e.length-1;n++){let r=t(e[n]),o=t(e[n+1]);[r,o]=r.length>o.length?[r,o]:[o,r];for(let s of r)o.indexOf(s)===-1&&i++}return i}function Ume(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Gme(e){let{movingCols:t,draggingRight:i,xPosition:n,pinned:r,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(w=>w.getColDef().suppressMovable))return[];let c=Ume(a,r),d=s.getCols(),u=c.filter(w=>t.includes(w)),h=c.filter(w=>!t.includes(w)),f=d.filter(w=>!t.includes(w)),p=0,v=n;if(i){let w=0;for(let x of u)w+=x.getActualWidth();v-=w}if(v>0){for(let w=0;w<h.length;w++){let x=h[w];if(v-=x.getActualWidth(),v<0)break;p++}i&&p++}let m;if(p>0){let w=h[p-1];m=f.indexOf(w)+1}else m=f.indexOf(h[0]),m===-1&&(m=0);let g=[m],b=(w,x)=>w-x;if(i){let w=m+1,x=d.length-1;for(;w<=x;)g.push(w),w++;g.sort(b)}else{let w=m,x=d.length-1,R=d[w];for(;w<=x&&c.indexOf(R)<0;)w++,g.push(w),R=d[w];w=m-1;let _=0;for(;w>=_;)g.push(w),w--;g.sort(b).reverse()}return g}function m5(e){let{pinned:t,fromKeyboard:i,gos:n,ctrlsSvc:r,useHeaderRow:o,skipScrollPadding:s}=e,a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function OF(e,t){for(let i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var rG=7,g5=100,cE=g5/2,Wme=5,jme=100,qme=class extends Kt{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ai(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,{dragItem:i}=t||{},n=i?.columns??[];for(let r of n){let o=r.getPinned();if(r.getColDef().lockPinned){if(o==e)return"move";continue}let s=i?.containerType;if(s===e||!e)return"move";if(e&&(!o||s!==e))return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{let r=t.visibleState,o=(i||[]).filter(s=>r[s.getId()]&&!s.isVisible());this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){let{gos:r,ctrlsSvc:o}=this.beans,s=r.get("suppressMoveWhenColumnDragging");if(n&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Ko(e.hDirection))return;let a=m5({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,i,a,n):this.handleColumnDragWhileAllowingMovement(e,t,i,a,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e?.length)return;let n=e.filter(r=>!r.getColDef().lockVisible);n.length&&this.beans.colModel.setColsVisible(n,t,i)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}updateDragItemContainerType(){let{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;let t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,i,n,r){let o=this.getAllMovingColumns(e,!0);if(r){let s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,r){let o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:n,fromLeft:s,fromEnter:t,fakeEvent:i}),c=BW(Zt(Ie({},l),{finished:r}));c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let i=e.dragSource.getDragItem(),n=null;t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns;let r=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return n?n.filter(r):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:r,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:r,xPosition:n,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){let{gos:i,colModel:n}=this.beans,r=i.get("enableRtl"),o=n.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned),s=null,a=null,l=null;for(let d of o){if(a=d.getActualWidth(),s=this.getNormalisedColumnLeft(d,0,r),s!=null){let u=s+a;if(s<=t&&u>=t){l=d;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){let u=o[d],h=o[d].getParent();if(!h){l=u;break}let f=h?.getDisplayedLeafColumns();if(f.length){l=To(f);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let c;t-s<a/2?c=0:c=1,oG(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){let{gos:i,visibleCols:n}=this.beans,r=i.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!o||!s||a==null)return;let l=n.allCols,c=l.indexOf(o),d=l.indexOf(s),u=a===0,h=c<d||c===d&&!u,f=0;if(u?h&&(f-=1):h||(f+=1),d+f===c)return;let p=l[d+f];if(!p)return;let v=this.getNormalisedColumnLeft(p,20,r);return{fromLeft:h,xPosition:v}}getColumnMoveAndTargetInfo(e,t,i){let n=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:o}=Yme(e);if(!r||!o||n.column||!t)return Ie({firstMovingCol:r},n);let a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==i?r:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){let{gos:n,ctrlsSvc:r}=this.beans,o=e.getLeft();if(o==null)return null;let s=e.getActualWidth();return m5({x:i?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsSvc:r})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>rG;return t&&i||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:r,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:o,fromEnter:n,fakeEvent:r}),{columns:a,toIndex:l}=NW(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(oG(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth(),r,o;this.gos.get("enableRtl")?(r=e<i+cE,o=e>n-cE):(o=e<i+cE,r=e>n-cE),this.needToMoveRight=r,this.needToMoveLeft=o,o||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),jme),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*Wme,e>g5&&(e=g5);let t=null,i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:n,dragAndDrop:r,gos:o}=this.beans;if(this.failedMoveAttempts<=rG+1||!n)return;if(r.setDragImageCompIcon("pinned"),!o.get("suppressMoveWhenColumnDragging")){let s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){let n=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!n.length)return 0;i&&(t=this.getPinDirection());let{pinnedCols:r,dragAndDrop:o}=this.beans;return r?.setColsPinned(n,t,"uiColumnDragged"),i&&o.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function oG(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function Yme(e){let t=e.length,i,n;for(let r=0;r<t;r++){if(!i){let o=e[r];o.getLeft()!=null&&(i=o)}if(!n){let o=e[t-1-r];o.getLeft()!=null&&(n=o)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}var $me=class extends Kt{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,n=>{let r,o=n.gridBodyCtrl.eBodyViewport;switch(i){case"left":r=[[o,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":r=[[o,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:r=[[o,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new qme(i)),this.bodyDropPivotTarget=this.createManagedBean(new Lme(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Xme=class extends Kt{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){let n=this.beans.colModel.getCols();if(!n)return;let r=n[e];this.moveColumns([r],t,i)}moveColumns(e,t,i,n=!0){let{colModel:r,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){oi(30,{toIndex:t});return}o?.start();let c=r.getColsForKeys(e);this.doesMovePassRules(c,t)&&(CU(r.getCols(),c,t),s.refresh(i),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:n,source:i})),o?.finish()}doesMovePassRules(e,t){let i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){let{colModel:t,gos:i}=this.beans;return!(!A9(e,t.getColTree())||!(r=>{let o=c=>c?c==="left"||c===!0?-1:1:0,s=i.get("enableRtl"),a=s?1:-1,l=!0;for(let c of r){let d=o(c.getColDef().lockPosition);s?d>a&&(l=!1):d<a&&(l=!1),a=d}return l})(e))}getProposedColumnOrder(e,t){let n=this.beans.colModel.getCols().slice();return CU(n,e,t),n}createBodyDropTarget(e,t){return new $me(e,t)}moveHeader(e,t,i,n,r){let{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),u=d.left,h=$s(i),f=h?d.width:i.getActualWidth(),p=e==="left"!==s.get("enableRtl"),v=m5({x:p?u-20:u+f+20,pinned:n,fromKeyboard:!0,gos:s,ctrlsSvc:o}),m=c.focusedHeader;BW({allMovingColumns:h?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:v,pinned:n,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let g;if(h){let b=i.getDisplayedLeafColumns();g=p?b[0]:To(b)}else g=i;if(o.getScrollFeature().ensureColumnVisible(g,"auto"),(!r.isAlive()||s.get("ensureDomOrder"))&&m){let b;if(h){let w=i.getGroupId(),x=i.getLeafColumns();if(!x.length)return;let R=x[0].getParent();if(!R)return;b=Kme(R,w)}else b=i;b&&c.focusHeaderPosition({headerPosition:Zt(Ie({},m),{column:b})})}}setDragSourceForHeader(e,t,i){let{gos:n,colModel:r,dragAndDrop:o,visibleCols:s}=this.beans,a=!n.get("suppressDragLeaveHidesColumns"),l=$s(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],u={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>Qme(t,s.allCols):()=>Zme(t),dragItemName:i,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),OF(c,!0)},onDragStopped:()=>OF(c,!1),onDragCancelled:()=>OF(c,!1),onGridEnter:h=>{if(a){let{columns:f=[],visibleState:p}=h??{},v=l?g=>!p||p[g.getColId()]:()=>!0,m=f.filter(g=>!g.getColDef().lockVisible&&v(g));r.setColsVisible(m,!0,"uiColumnMoved")}},onGridExit:h=>{if(a){let f=h?.columns?.filter(p=>!p.getColDef().lockVisible)||[];r.setColsVisible(f,!1,"uiColumnMoved")}}};return o.addDragSource(u,!0),u}};function Kme(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Zme(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function Qme(e,t){let i=e.getProvidedColumnGroup().getLeafColumns(),n={};for(let a of i)n[a.getId()]=a.isVisible();let r=[];for(let a of t)i.indexOf(a)>=0&&(r.push(a),Fh(i,a));for(let a of i)r.push(a);let o=[],s=e.getLeafColumns();for(let a of r)s.indexOf(a)!==-1&&o.push(a);return{columns:r,columnsInSplit:o,visibleState:n,containerType:o[0]?.pinned}}var Jme={moduleName:"ColumnMove",version:Ri,beans:[Xme,Pme],apiFunctions:{moveColumnByIndex:Fme,moveColumns:Ome},dependsOn:[LW],css:[Ime]},ege=class extends Kt{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let i=this.getHeaderCellForColumn(e);if(!i)return-1;let n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(i),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let i=document.createElement("form");i.style.position="fixed";let n=this.centerRowContainerCtrl.eContainer;for(let o of e)this.cloneItemIntoDummy(o,i);n.appendChild(i);let r=i.offsetWidth;return i.remove(),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;for(let i of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){let n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}return t}cloneItemIntoDummy(e,t){let i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let n=document.createElement("div"),r=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),n.style.position="static"):r.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){let c=s.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}s=s.parentElement}n.appendChild(i),t.appendChild(n)}},VW={moduleName:"AutoWidth",version:Ri,beans:[ege]};function tge(e,t,i=!0,n="api"){e.colResize?.setColumnWidths(t,!1,i,n)}var ige=class extends Kt{constructor(e,t,i,n){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){let n=this.normaliseDragChange(t),r=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(r,i,e)}getInitialValues(e){let t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),i=(l,c)=>l.map(d=>d.getActualWidth()/c),n=this.getColumnsToResize(),r=t(n),o=i(n,r),s={columnsToResize:n,resizeStartWidth:r,resizeRatios:o},a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){let l=a.getDisplayedLeafColumns(),c=s.groupAfterColumns=l.filter(u=>u.isResizable()),d=s.groupAfterStartWidth=t(c);s.groupAfterRatios=i(c,d)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;let n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,i)}resizeColumns(e,t,i,n=!0){let{columnsToResize:r,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:r,ratios:s,width:t}),a){let u=t-o;d.push({columns:a,ratios:c,width:l-u})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},nge=class extends Kt{constructor(e,t,i,n,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=r}postConstruct(){let e=[],t,i,n=()=>{if(yo(this.eResize,t),!t)return;let{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),i&&a&&e.push(a.addColumnAutosizeListeners(this.eResize,this.column))},r=()=>{for(let s of e)s();e.length=0},o=()=>{let s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==i)&&(t=s,i=a,r(),n())};o(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){let{column:i,lastResizeAmount:n,resizeStartWidth:r,beans:o}=this,s=this.normaliseResizeAmount(t),a=r+s,l=[{key:i,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:u}=o;if(this.column.getPinned()){let h=c?.leftWidth??0,f=c?.rightWidth??0,p=IC(d.getGridBodyCtrl().eBodyViewport)-50;if(h+f+(s-n)>p)return}this.lastResizeAmount=s,u?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},rge=class extends Kt{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,n){let r=[],{colModel:o,gos:s,visibleCols:a}=this.beans;for(let l of e){let c=o.getColDefCol(l.key)||o.getCol(l.key);if(!c)continue;if(r.push({width:l.newWidth,ratios:[1],columns:[c]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){let u=a.getColAfter(c);if(!u)continue;let h=c.getActualWidth()-l.newWidth,f=u.getActualWidth()+h;r.push({width:f,ratios:[1],columns:[u]})}}r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:i,source:n})}resizeColumnSets(e){let{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(d=>oge(d)))){if(i){let d=t&&t.length>0?t[0].columns:null;Qb(this.eventSvc,d,i,n)}return}let o=[],s=[];for(let d of t){let{width:u,columns:h,ratios:f}=d,p={},v={};for(let b of h)s.push(b);let m=!0,g=0;for(;m;){if(g++,g>1e3){ho(31);break}m=!1;let b=[],w=0,x=u;h.forEach((_,L)=>{if(v[_.getId()])x-=p[_.getId()];else{b.push(_);let T=f[L];w+=T}});let R=1/w;b.forEach((_,L)=>{let F=L===b.length-1,T;F?T=x:(T=Math.round(f[L]*u*R),x-=T);let P=_.getMinWidth(),A=_.getMaxWidth();T<P?(T=P,v[_.getId()]=!0,m=!0):A>0&&T>A&&(T=A,v[_.getId()]=!0,m=!0),p[_.getId()]=T})}for(let b of h){let w=p[b.getId()];b.getActualWidth()!==w&&(b.setActualWidth(w,n),o.push(b))}}let a=o.length>0,l=[];if(a){let{colFlex:d,visibleCols:u,colViewport:h}=this.beans;l=d?.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0})??[],u.setLeftValues(n),u.updateBodyWidths(),h.checkViewportColumns()}let c=s.concat(l);(a||i)&&Qb(this.eventSvc,c,i,n,l)}resizeHeader(e,t,i){if(!e.isResizable())return;let n=e.getActualWidth(),r=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(n+t,r),o);this.setColumnWidths([{key:e,newWidth:s}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,n,r){return new nge(e,t,i,n,r)}createGroupResizeFeature(e,t,i,n){return new ige(e,t,i,n)}};function oge(e){let{columns:t,width:i}=e,n=0,r=0,o=!0;for(let l of t){let c=l.getMinWidth();n+=c||0;let d=l.getMaxWidth();d>0?r+=d:o=!1}let s=i>=n,a=!o||i<=r;return s&&a}var sge={moduleName:"ColumnResize",version:Ri,beans:[rge],apiFunctions:{setColumnWidths:tge},dependsOn:[kme,VW]},age=class extends Kt{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);for(let t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(let e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},lge=class extends aO{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,i,n,r){let{column:o,beans:s}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:u}=s;this.comp=e,r=WC(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.refreshAnnouncement(),this.setupAutoHeight({wrapperElement:n,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r,n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let h=this.rowCtrl.pinned,f=o.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(r,f,t),d?.createRangeHighlightFeature(r,o,e),r.createManagedBean(new sO(o,t,s)),r.createManagedBean(new age(e,o)),u?this.resizeFeature=r.createManagedBean(u.createGroupResizeFeature(e,i,h,o)):e.setResizableDisplayed(!1),r.createManagedBean(new jC(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,f),this.addManagedEventListeners({cellSelectionChanged:()=>this.refreshAnnouncement()}),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.getDefinition();return Rn(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=To(t)===e;if(!i&&!n)return;let r=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving()),s=!1,a=!1;if(o){let l=this.beans.gos.get("enableRtl"),c=r===1,d=r===0;i&&(l?a=c:s=d),n&&(l?s=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",s),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){let{resizeFeature:i}=this;if(!i)return;let n=i.getInitialValues(t);i.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:i,enterpriseMenuFactory:n}=this.beans,r=this.column,o=r.getProvidedColumnGroup(),s=Rn(i,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(o,l,"gridInitializing")},setTooltip:(l,c)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>n?.showMenuAfterButtonClick(o,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>n?.showMenuAfterMouseEvent(o,l,"columnMenu",c),eGridHeader:this.eGui}),a=$de(t,s);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e,t){let{column:i,comp:n,beans:{rangeSvc:r},gos:o}=this,s=d=>this.handleMouseOverChange(d.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",i.getProvidedColumnGroup()),l=d=>this.handleContextMenuMouseEvent(d,void 0,i.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:s,mouseleave:s,click:a,contextmenu:l}),n.toggleCss("ag-header-group-cell-selectable",Ub(o));let c=r?.createHeaderGroupCellMouseListenerFeature(this.column,t);c&&this.createManagedBean(c)}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),i=SW(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&i.push("ag-header-cell-wrap-text"));for(let n of i)this.comp.toggleCss(n,!0)}setupMovingCss(e){let{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(let o of n)e.addManagedListeners(o,{movingChanged:r});r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription())}handleKeyDown(e){if(super.handleKeyDown(e),!this.getWrapperHasFocus())return;let{column:i,expandable:n,gos:r,beans:o}=this,s=Ub(r);if(e.key==St.ENTER){if(s&&!e.altKey)o.rangeSvc?.handleColumnSelection(i,e);else if(n){let a=!i.isExpanded();o.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),a,"uiColumnExpanded")}}}refreshAnnouncement(){let e,{gos:t,column:i,beans:n}=this;if(Ub(t)){let o=this.getLocaleTextFunc(),s=n.rangeSvc?.isColumnInAnyRange(i);e=o("ariaColumnCellSelection",`Press CTRL+SPACE to ${s?"de":""}select all visible cells in this column group`)}this.ariaAnnouncement=e}announceAriaDescription(){let{beans:e,eGui:t,ariaAnnouncement:i}=this;!i||!t.contains(os(e))||e.ariaAnnounce?.announceValue(i,"columnHeader")}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function cge(e,t,i){e.colGroupSvc?.setColumnGroupOpened(t,i,"api")}function dge(e,t,i){return e.colGroupSvc?.getColumnGroup(t,i)??null}function uge(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function hge(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function fge(e){return e.colGroupSvc?.getColumnGroupState()??[]}function pge(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function mge(e){e.colGroupSvc?.resetColumnGroupState("api")}function gge(e){return e.visibleCols.treeLeft}function vge(e){return e.visibleCols.treeCenter}function bge(e){return e.visibleCols.treeRight}function _ge(e){return e.visibleCols.getAllTrees()}function yge(e,t){for(let i=0;i<t.length;i++){let n=e.indexOf(t[i]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var wge=class extends Kt{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colFlex:i,colModel:n,colGroupSvc:r,colViewport:o,selectionColSvc:s}=this.beans;t||this.buildTrees(n,r),r?.updateOpenClosedVisibility(),this.leftCols=LF(this.treeLeft),this.centerCols=LF(this.treeCenter),this.rightCols=LF(this.treeRight),s?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(n),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),i?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(n,this.leftCols,this.rightCols,e),o.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(let t of this.allCols){let i=t.getParent();for(;i;){if(!i.isPadding()){let n=i.getProvidedColumnGroup().getLevel()+1;n>e&&(e=n);break}i=i.getParent()}}return e}updateBodyWidths(){let e=Vf(this.centerCols),t=Vf(this.leftCols),i=Vf(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,n){let r,o;this.gos.get("enableRtl")?(r=t?t[0]:null,o=i?To(i):null):(r=t?To(t):null,o=i?i[0]:null);for(let s of e.getCols())s.setLastLeftPinned(s===r,n),s.setFirstRightPinned(s===o,n)}buildTrees(e,t){let i=e.getColsToShow(),n=i.filter(l=>l.getPinned()=="left"),r=i.filter(l=>l.getPinned()=="right"),o=i.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new F9,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:n,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),i=[],n=[],r=[];for(let o of t){let s=o.getPinned();s?s===!0||s==="left"?i.push(o):r.push(o):n.push(o)}this.ariaOrderColumns=i.concat(n).concat(r)}getAriaColIndex(e){let t;return $s(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(let e of[this.treeLeft,this.treeRight,this.treeCenter])for(let t of e)$s(t)&&t.checkLeft()}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let n=t.getCols().slice(0),r=this.gos.get("enableRtl");for(let o of[this.leftCols,this.rightCols,this.centerCols]){if(r){let s=Vf(o);for(let a of o)s-=a.getActualWidth(),a.setLeft(s,e)}else{let s=0;for(let a of o)a.setLeft(s,e),s+=a.getActualWidth()}yge(n,o)}for(let o of n)o.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,n){let r=[],o=null;for(let s=0;s<t.length;s++){let a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){let h=c-1;for(let f=1;f<=h;f++)d.push(t[s+f]);s+=h}let u;if(i){u=!1;for(let h of d)i(h)&&(u=!0)}else u=!0;u&&(r.length===0&&o&&(n&&n(a))&&r.push(o),r.push(a)),o=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};h0(this.treeCenter,!1,e),h0(this.treeLeft,!1,e),h0(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){let n=this[t[i]];if(n.length)return e?To(n):n[0]}return null}getColAfter(e){let t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return Vf(this.leftCols)}getDisplayedColumnsRightWidth(){return Vf(this.rightCols)}isColAtEdge(e,t){let i=this.allCols;if(!i.length)return!1;let n=t==="first",r;if($s(e)){let o=e.getDisplayedLeafColumns();if(!o.length)return!1;r=n?o[0]:To(o)}else r=e;return(n?i[0]:To(i))===r}};function h0(e,t,i){if(e)for(let n=0;n<e.length;n++){let r=e[n];if($s(r)){let o=t?r.getDisplayedChildren():r.getChildren();h0(o,t,i)}i(r)}}function LF(e){let t=[];return h0(e,!0,i=>{Em(i)&&t.push(i)}),t}var Cge=class extends Kt{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return Gf(null,t,i=>{Pl(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let i=[];Gf(null,t,n=>{if(Pl(n)){let r=n.getColGroupDef(),o={groupId:n.getGroupId(),open:r?r.openByDefault:void 0};i.push(o)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){let{colModel:i,colAnimation:n,visibleCols:r,eventSvc:o}=this.beans;if(!i.getColTree().length)return;n?.start();let a=[];for(let l of e){let c=l.groupId,d=l.open,u=this.getProvidedColGroup(c);u&&u.isExpanded()!==d&&(u.setExpanded(d),a.push(u))}r.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),n?.finish()}setColumnGroupOpened(e,t,i){let n;Pl(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return Gf(null,this.beans.colModel.getColTree(),i=>{Pl(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){let i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),r=t==="After"?To(n):n[0],o=`getCol${t}`;for(;;){let s=this.beans.visibleCols[o](r);if(!s)return null;let a=this.getColGroupAtLevel(s,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),n,r;for(;n=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(n+r<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();h0(e,!1,t=>{$s(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if($s(e))return e;let i=this.beans.visibleCols.getAllTrees(),n=typeof t=="number",r=null;return h0(i,!1,o=>{if($s(o)){let s=o,a;n?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(r=s)}}),r}createColumnGroups(e){let{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:r,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(r),a=[],l=t;for(;l.length;){let c=l;l=[];let d=0,u=h=>{let f=d;d=h;let p=c[f],m=($s(p)?p.getProvidedColumnGroup():p).getOriginalParent();if(m==null){for(let b=f;b<h;b++)a.push(c[b]);return}let g=this.createColumnGroup(m,i,s,n,o);for(let b=f;b<h;b++)g.addChild(c[b]);l.push(g)};for(let h=1;h<c.length;h++){let f=c[h],v=($s(f)?f.getProvidedColumnGroup():f).getOriginalParent(),m=c[d],b=($s(m)?m.getProvidedColumnGroup():m).getOriginalParent();v!==b&&u(h)}d<c.length&&u(c.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,i,n,r,o,s){let a=r.getUniqueKey(t.groupId||null,null),l=wU(this.beans,t,a),c=new vE(l,a,!1,i);this.createBean(c);let d=this.findExistingGroup(t,o);d&&o.splice(d.idx,1);let u=d?.group;u&&c.setExpanded(u.isExpanded());let h=E9(this.beans,l.children,i+1,e,n,r,o,s);return c.setChildren(h),c}balanceColumnTree(e,t,i,n){let r=[];for(let o=0;o<e.length;o++){let s=e[o];if(Pl(s)){let a=s,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),r.push(a)}else{let a,l;for(let c=t;c<i;c++){let d=n.getUniqueKey(null,null),u=wU(this.beans,null,d),h=new vE(u,d,!0,c);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(r.push(a),e.some(d=>Pl(d))){l.setChildren([s]);continue}else{l.setChildren(e);break}r.push(s)}}return r}findDepth(e){let t=0,i=e;for(;i?.[0]&&Pl(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let n=0;n<e.length;n++){let r=e[n];if(Pl(r)){let o=r,s=this.findMaxDepth(o.getChildren(),t+1);i<s&&(i=s)}}return i}balanceTreeForAutoCols(e,t){let i=[];for(let n of e){let r=n;for(let o=t-1;o>=0;o--){let s=new vE(null,`FAKE_PATH_${n.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([r]),r.originalParent=s,r=s}t===0&&(n.originalParent=null),i.push(r)}return i}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){let r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}createColumnGroup(e,t,i,n,r){let o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=lW(o,s),l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ai(l)?l.reset():(l=new VC(e,o,s,n),r||this.createBean(l)),l}mapOldGroupsById(e){let t={},i=n=>{for(let r of n)if($s(r)){let o=r;t[r.getUniqueId()]=o,i(o.getChildren())}};return e&&i(e),t}setupParentsIntoCols(e,t){for(let i of e??[])if(i.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),i.parent=t,$s(i)){let n=i;this.setupParentsIntoCols(n.getChildren(),n)}}},xge={moduleName:"ColumnGroup",version:Ri,dynamicBeans:{headerGroupCellCtrl:lge},beans:[Cge],apiFunctions:{getAllDisplayedColumnGroups:_ge,getCenterDisplayedColumnGroups:vge,getColumnGroup:dge,getColumnGroupState:fge,getDisplayNameForColumnGroup:hge,getLeftDisplayedColumnGroups:gge,getProvidedColumnGroup:uge,getRightDisplayedColumnGroups:bge,resetColumnGroupState:mge,setColumnGroupOpened:cge,setColumnGroupState:pge}},Sge={tag:"div",cls:"ag-skeleton-container"},Mge=class extends wo{constructor(){super(Sge)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>RC(e.eParentOfValue)),RC(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Kb(this.getGui(),t)}setupLoading(e){let t=Ya({tag:"div",cls:"ag-skeleton-effect"}),i=e.node.rowIndex;if(i!=null){let o=75+25*(i%2===0?Math.sin(i):Math.cos(i));t.style.width=`${o}%`}this.getGui().appendChild(t);let n=this.getLocaleTextFunc(),r=e.deferRender?n("ariaDeferSkeletonCellLoading","Cell is loading"):n("ariaSkeletonCellLoading","Row data is loading");Kb(this.getGui(),r)}refresh(e){return!1}},Ege={moduleName:"CheckboxCellRenderer",version:Ri,userComponents:{agCheckboxCellRenderer:_pe}},Dge={moduleName:"SkeletonCellRenderer",version:Ri,userComponents:{agSkeletonCellRenderer:Mge}};function Tge(e,t){let i=e.colModel.getColDefCol(t);return i?i.getColDef():null}function Age(e){return e.colModel.getColumnDefs(!0)}function Rge(e,t,i){return e.colNames.getDisplayNameForColumn(t,i)||""}function kge(e,t){return e.colModel.getColDefCol(t)}function Ige(e){return e.colModel.getColDefCols()}function Pge(e,t){return Iu(e,t,"api")}function Fge(e){return NE(e)}function Oge(e){wde(e,"api")}function Lge(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Nge(e){return e.visibleCols.isPinningLeft()}function Bge(e){return e.visibleCols.isPinningRight()}function Vge(e,t){return e.visibleCols.getColAfter(t)}function zge(e,t){return e.visibleCols.getColBefore(t)}function Hge(e,t,i){e.colModel.setColsVisible(t,i,"api")}function Uge(e,t,i){e.pinnedCols?.setColsPinned(t,i,"api")}function Gge(e){return e.colModel.getCols()}function Wge(e){return e.visibleCols.leftCols}function jge(e){return e.visibleCols.centerCols}function qge(e){return e.visibleCols.rightCols}function Yge(e){return e.visibleCols.allCols}function $ge(e){return e.colViewport.getViewportColumns()}function v5(e,t){if(!e)return;let i=e,n={};for(let r of Object.keys(i)){if(t&&t.indexOf(r)>=0||e9.has(r))continue;let o=i[r];typeof o=="object"&&o!==null&&o.constructor===Object?n[r]=v5(o):n[r]=o}return n}var Xge=class extends Kt{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,i,n,r=!1){let o=e.slice();t?o.sort((l,c)=>i.indexOf(l)-i.indexOf(c)):(i||r)&&o.sort((l,c)=>n.indexOf(l)-n.indexOf(c));let s=this.rowGroupColsSvc?.columns,a=this.pivotColsSvc?.columns;return this.buildColumnDefs(o,s,a)}buildColumnDefs(e,t=[],i=[]){let n=[],r={};for(let o of e){let s=this.createDefFromColumn(o,t,i),a=!0,l=s,c=o.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}let h=r[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],r[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&n.push(l)}return n}createDefFromGroup(e){let t=v5(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){let n=v5(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSortDef(),n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},Kge=class extends Kt{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let i=this.flexViewportWidth,{visibleCols:n,colDelayRenderSvc:r}=this.beans,o=n.centerCols,s=-1;if(e.resizingCols){let v=new Set(e.resizingCols);for(let m=o.length-1;m>=0;m--)if(v.has(o[m])){s=m;break}}let a=!1,l=o.map((v,m)=>{let g=v.getFlex(),b=g!=null&&g>0&&m>s;return a||(a=b),{col:v,isFlex:b,flex:Math.max(0,g??0),initialSize:v.getActualWidth(),min:v.getMinWidth(),max:v.getMaxWidth(),targetSize:0}});if(a?(r?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(r),!i||!a)return[];let c=l.length,d=l.reduce((v,m)=>v+m.flex,0),u=i,h=(v,m)=>{v.frozenSize=m,v.col.setActualWidth(m,t),u-=m,d-=v.flex,c-=1},f=v=>v.frozenSize!=null;for(let v of l)v.isFlex||h(v,v.initialSize);for(;c>0;){let v=Math.round(d<1?u*d:u),m,g=0,b=0;for(let R of l){if(f(R))continue;m=R,b+=v*(R.flex/d);let _=b-g,L=Math.round(_);R.targetSize=L,g+=L}m&&(m.targetSize+=v-g);let w=0;for(let R of l){if(f(R))continue;let _=R.targetSize,L=Math.min(Math.max(_,R.min),R.max);w+=L-_,R.violationType=L===_?void 0:L<_?"max":"min",R.targetSize=L}let x=w===0?"all":w>0?"min":"max";for(let R of l)f(R)||(x==="all"||R.violationType===x)&&h(R,R.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();let p=l.filter(v=>v.isFlex&&!v.violationType).map(v=>v.col);if(e.fireResizedEvent){let v=l.filter(g=>g.initialSize!==g.frozenSize).map(g=>g.col),m=l.filter(g=>g.flex).map(g=>g.col);Qb(this.eventSvc,v,!0,t,m)}return this.revealColumns(r),p}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){let{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}};function EC(e,t,i){if(!t||!e)return;if(!i)return e[t];let n=t.split("."),r=e;for(let o=0;o<n.length;o++){if(r==null)return;r=r[n[o]]}return r}var Zge=["dateTimeString","dateString","text","number","boolean","date"],Qge=class extends Kt{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===St.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:i}){return{cellEditorParams:{useFormatter:!0},comparator:(n,r)=>{let o=t.getColDefCol(i),s=o?.getColDef();if(!o||!s)return 0;let a=n==null?"":e({column:o,node:null,value:n}),l=r==null?"":e({column:o,node:null,value:r});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={},i={},n=d=>u=>{let{column:h,node:f,value:p}=u,v=h.getColDef().valueFormatter;return v===d.groupSafeValueFormatter&&(v=d.valueFormatter),this.beans.valueSvc.formatValue(h,f,p,v)};for(let d of Object.keys(e)){let u=e[d],h=Zt(Ie({},u),{groupSafeValueFormatter:lG(u,this.gos)});t[d]=h,i[d]=n(h)}let r=this.gos.get("dataTypeDefinitions")??{},o={};for(let d of Object.keys(r)){let u=r[d],h=this.processDataTypeDefinition(u,r,[d],e);h&&(t[d]=h,u.dataTypeMatcher&&(o[d]=u.dataTypeMatcher),i[d]=n(h))}let{valueParser:s,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==s,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=i,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){let i=Ie({},e);for(let n of Zge)delete i[n],i[n]=e[n]??t[n].dataTypeMatcher;return i}processDataTypeDefinition(e,t,i,n){let r,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=n[o],a=t[o];if(s&&a&&(s=a),!aG(e,s,o))return;r=sG(s,e)}else{if(i.includes(o)){oi(44);return}let s=t[o];if(!aG(e,s,o))return;let a=this.processDataTypeDefinition(s,t,[...i,o],n);if(!a)return;r=sG(a,e)}return Zt(Ie({},r),{groupSafeValueFormatter:lG(r,this.gos)})}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t,{field:r}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(r,i):!1),!n){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[n];if(!o){oi(47,{cellDataType:n});return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,o,i),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){let{gos:i}=this;if(!Bs(i))return!1;let n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(NF(t,n))return!1;let r=t.type===null?e.type:t.type;if(r){let o=i.get("columnTypes")??{};if(LE(r).some(a=>{let l=o[a.trim()];return l&&NF(l,n)}))return!1}return!NF(e,n)}inferCellDataType(e,t){if(!e)return;let i,n=this.getInitialData();if(n){let o=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");i=EC(n,e,o)}else this.initWaitForRowData(t);return i==null?void 0:Object.keys(this.dataTypeMatchers).find(o=>this.dataTypeMatchers[o](i))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:n}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);let[r]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:s}=o;s&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&i?.processResizeOperations(),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.destroyColumnStateUpdateListeners();let n={},r={};for(let o of Object.keys(this.columnStateUpdatesPendingInference)){let s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;let l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let d=e0e(a,s);d.rowGroup&&d.rowGroupIndex==null&&(n[o]=d),d.pivot&&d.pivotIndex==null&&(r[o]=d),i.push(d)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,r)),i.length&&Iu(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={},{rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;return n?.restoreColumnOrder(i,e),r?.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){let i=e.getUserProvidedColDef();if(!i)return!1;let n=e5(this.beans,i,e.getColId());return e.setColDef(n,i,t),!0}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!i||e.getColDef().allowFormula&&this.beans.formula?.isFormula(t)?!0:i(t)}validateColDef(e){let t=i=>oi(48,{property:i});if(e.cellDataType==="object"){let{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){let t=e.cellDataType;if(!t||typeof t!="string")return;let{dataTypeDefinitions:i,beans:n,formatValueFuncs:r}=this,o=i[t];o&&n.colFilter?.setColDefPropsForDataType(e,o,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,n){let r=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[i.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:i,colId:n,formatValue:r});Object.assign(e,o)}getDateObjectTypeDef(e){let t=this.getLocaleTextFunc(),i=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:n=>Dc(n.newValue&&String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):ud(n.value,i)??"",dataTypeMatcher:n=>n instanceof Date}}getDateStringTypeDef(e){let t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:i=>Dc(i)??void 0,dateFormatter:i=>ud(i??null,t)??void 0,valueParser:i=>bE(String(i.newValue))?i.newValue:null,valueFormatter:i=>bE(String(i.value))?String(i.value):"",dataTypeMatcher:i=>typeof i=="string"&&bE(i)}}getDefaultDataTypes(){let e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:jF(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:Zt(Ie({},this.getDateStringTypeDef("dateTimeString")),{dataTypeMatcher:t=>typeof t=="string"&&xue(t)}),object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>jF(t.value)??""}}}destroyColumnStateUpdateListeners(){for(let e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function sG(e,t){let i=Ie(Ie({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...LE(e.columnTypes),...LE(t.columnTypes)]),i}function aG(e,t,i){return t?t.baseDataType!==e.baseDataType?(oi(46),!1):!0:(oi(45,{parentCellDataType:i}),!1)}function lG(e,t){if(e.valueFormatter)return i=>{if(i.node?.group){let n=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&n!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Zt(Ie({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Zt(Ie({},i),{value:i.value.value}))}}return}}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!e.dataTypeMatcher?.(i.value))return;return e.valueFormatter(i)}}function Jge(e,t,i,n){if(!t[i])return!1;let r=e[i];return r===null?(t[i]=!1,!1):n===void 0?!!r:r===n}function NF(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>Jge(e,t,i,n))}function e0e(e,t){let i=P9(e);for(let n of t)delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex;return i}var t0e={moduleName:"DataType",version:Ri,beans:[Qge],dependsOn:[Ege]},i0e={moduleName:"ColumnFlex",version:Ri,beans:[Kge]},zW={moduleName:"ColumnApi",version:Ri,beans:[Xge],apiFunctions:{getColumnDef:Tge,getDisplayNameForColumn:Rge,getColumn:kge,getColumns:Ige,applyColumnState:Pge,getColumnState:Fge,resetColumnState:Oge,isPinning:Lge,isPinningLeft:Nge,isPinningRight:Bge,getDisplayedColAfter:Vge,getDisplayedColBefore:zge,setColumnsVisible:Hge,setColumnsPinned:Uge,getAllGridColumns:Gge,getDisplayedLeftColumns:Wge,getDisplayedCenterColumns:jge,getDisplayedRightColumns:qge,getAllDisplayedColumns:Yge,getAllDisplayedVirtualColumns:$ge,getColumnDefs:Age}};function n0e(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var r0e=class extends Kt{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;let n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return i&&r?r.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){let n=t?.getColGroupDef();return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,r){let o=e.headerValueGetter;if(o){let s=Rn(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:r});return typeof o=="function"?o(s):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,s)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return n0e(e.field)}return""}},o0e=class extends Kt{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){let{visibleCols:n}=this,r=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let s=n.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i??[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||s0e(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,r=this.viewportRight+200,o=t<n&&i<n,s=t>r&&i>r;return!o&&!s}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=o=>{let s=o.getLeft();return Ai(s)&&s>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,r=n.centerCols;return n.getColsForRow(e,r,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){let{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;let i=n=>{let r=new Set,o={};for(let s of n){let a=s.getParent(),l=s.isSpanHeaderHeight();for(;a&&!r.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}let d=a.getProvidedColumnGroup().getLevel();o[d]??(o[d]=[]),o[d].push(a),r.add(a),a=a.getParent()}}return o};this.rowsOfHeadersToRenderLeft=i(e),this.rowsOfHeadersToRenderRight=i(t),this.rowsOfHeadersToRenderCenter=i(this.headerColsWithinViewport)}extractViewport(){let e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function s0e(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var a0e=class extends Kt{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(r){let o=t(r),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=R5("<span>"+o+"</span>");return}if(o==null){this.eGui=Ya({tag:"span"});return}this.eGui=o}}return i}},l0e={moduleName:"CellRendererFunction",version:Ri,beans:[a0e]},c0e=class extends vhe{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:i,dynamicBeans:n,selectors:r}=e;if(i){let o=(s,a,l,c)=>{this.agGridDefaults[s]=a,(l||c)&&(this.agGridDefaultOverrides[s]={params:l,processParams:c})};for(let s of Object.keys(i)){let a=i[s];if(rue(a)&&(a=a.getComp(this.beans)),typeof a=="object"){let{classImp:l,params:c,processParams:d}=a;o(s,l,c,d)}else o(s,a)}}this.registerDynamicBeans(n);for(let o of r??[])this.selectors[o.selector]=o;if(t)for(let o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){let i=(a,l,c,d)=>({componentFromFramework:l,component:a,params:c,processParams:d}),{frameworkOverrides:n}=this.beans,r=n.frameworkComponent(t,this.gos.get("components"));if(r!=null)return i(r,!0);let o=this.jsComps[t];if(o){let a=n.isFrameworkComponent(o);return i(o,a)}let s=this.agGridDefaults[t];if(s){let a=this.agGridDefaultOverrides[t];return i(s,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?Ph(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??Ph(256)}},d0e=23,u0e=class extends Kt{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(let e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===d0e&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},h0e='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-drag-handle-disabled{opacity:.35;pointer-events:none}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-row-drag-indicator-color);border-radius:calc(var(--ag-row-drag-indicator-width)/2);content:"";height:var(--ag-row-drag-indicator-width);pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label,:where(.ag-header-group-cell-selectable) .ag-header-cell-comp-wrapper{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-column-drag-indicator-color);border-radius:calc(var(--ag-column-drag-indicator-width)/2);content:"";height:100%;position:absolute;top:0;width:var(--ag-column-drag-indicator-width)}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}:where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}}:where(.ag-ltr) :where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){&:after{right:-1px}}:where(.ag-rtl) :where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){&:after{left:-1px}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',f0e={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:oc,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:zf,rangeSelectionBackgroundColor:Mh(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Mh(.5),rangeHeaderHighlightColor:Kue(.08),rowNumbersSelectedColor:Mh(.5),rowHoverColor:Mh(.08),columnHoverColor:Mh(.05),selectedRowBackgroundColor:Mh(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:oc,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:Wa(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Wa(.1),iconButtonActiveColor:zf,iconButtonActiveBackgroundColor:Mh(.28),iconButtonActiveIndicatorColor:zf,menuBorder:{color:Wa(.2)},menuBackgroundColor:rc(.03),menuTextColor:rc(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Wa(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:zf},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:Wa(.2)},panelBackgroundColor:oc,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:Wa(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Wa(.13)},selectCellBackgroundColor:Wa(.07),selectCellBorder:{color:Wa(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:oc,filterPanelApplyButtonBackgroundColor:zf,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Ah,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Ah,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Wa(.15),statusBarLabelColor:Ah,statusBarLabelFontWeight:500,statusBarValueColor:Ah,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"},rowDragIndicatorColor:{ref:"rangeSelectionBorderColor"},rowDragIndicatorWidth:2,columnDragIndicatorColor:{ref:"accentColor"},columnDragIndicatorWidth:2},p0e=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",HW={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},m0e=Zt(Ie({},HW),{cellBatchEditTextColor:"#f3d0b3"}),g0e=()=>Fl({feature:"batchEditStyle",params:HW,css:p0e}),v0e=g0e(),UW=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",GW={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},b0e=()=>Fl({feature:"buttonStyle",params:GW,css:UW}),_0e=b0e(),y0e=()=>Fl({feature:"buttonStyle",params:Zt(Ie({},GW),{buttonBackgroundColor:oc,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:zf}}),css:UW}),w0e=y0e();var C0e=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",x0e=".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}",S0e=()=>Fl({feature:"columnDropStyle",css:C0e}),WW=S0e(),M0e=()=>Fl({feature:"columnDropStyle",css:x0e}),E0e=M0e(),D0e={warn:(...e)=>{oi(e[0],e[1])},error:(...e)=>{ho(e[0],e[1])},preInitErr:(...e)=>{bC(e[0],e[2],e[1])}},jW=()=>ahe(D0e).withParams(f0e).withPart(w0e).withPart(WW).withPart(v0e),T0e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',A0e=()=>Fl({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:oc,checkboxUncheckedBorderColor:rc(.3),checkboxCheckedBackgroundColor:zf,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:oc,checkboxIndeterminateBackgroundColor:rc(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:oc,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:T0e}),qW=A0e();var YW=()=>Zt(Ie(Ie({},zE),m0e),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:rc(.05),rowHoverColor:Mh(.15),selectedRowBackgroundColor:Mh(.2),menuBackgroundColor:rc(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Ah,findMatchColor:oc,findActiveMatchColor:oc,checkboxUncheckedBorderColor:rc(.4),toggleButtonOffBackgroundColor:rc(.4),rowBatchEditBackgroundColor:rc(.1)});var R0e=()=>Zt(Ie({},YW()),{backgroundColor:"#1f2836"});var k0e=()=>Fl({feature:"colorScheme",params:zE,modeParams:{light:zE,dark:YW(),"dark-blue":R0e()}}),$W=k0e();var I0e=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-aasc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='%23000' d='M13.201 8.08q.65 0 1.135.222.487.222.759.618.27.396.279.919H14.19a.72.72 0 0 0-.293-.536q-.26-.191-.705-.192-.302.001-.51.086a.7.7 0 0 0-.32.23.56.56 0 0 0-.108.338.5.5 0 0 0 .065.273.7.7 0 0 0 .204.203q.127.083.295.146.168.06.36.102l.525.125q.382.086.701.229.32.143.554.35.234.21.362.49.131.284.134.648a1.6 1.6 0 0 1-.273.93q-.27.391-.777.608-.504.214-1.217.214-.708 0-1.232-.217a1.8 1.8 0 0 1-.816-.642q-.29-.428-.305-1.058h1.194q.02.294.17.49.15.195.402.294.253.097.573.097.313 0 .544-.09a.84.84 0 0 0 .362-.255.6.6 0 0 0 .129-.374q0-.195-.117-.33a.9.9 0 0 0-.337-.228 3.4 3.4 0 0 0-.54-.171l-.635-.16q-.738-.18-1.166-.562t-.426-1.03a1.53 1.53 0 0 1 .284-.927q.287-.396.79-.618a2.8 2.8 0 0 1 1.14-.223'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M5.813 14H4.489l-.432-1.332H1.948L1.515 14H.19l2.017-5.84h1.592zm-3.551-2.296h1.481l-.718-2.21H2.98zM8.452 8.16q.645 0 1.075.19.43.191.648.531a1.4 1.4 0 0 1 .217.775q0 .343-.137.602-.137.256-.376.422a1.6 1.6 0 0 1-.542.231v.057q.333.015.624.188.294.175.476.489.183.31.183.74 0 .466-.231.831a1.56 1.56 0 0 1-.676.573Q9.265 14 8.609 14H6.114V8.16zM7.35 12.99h1.006q.517 0 .753-.196a.66.66 0 0 0 .237-.531.8.8 0 0 0-.116-.428.8.8 0 0 0-.334-.29 1.15 1.15 0 0 0-.511-.106H7.349zm0-2.386h.916q.254 0 .45-.09a.75.75 0 0 0 .313-.256.67.67 0 0 0 .118-.396.64.64 0 0 0-.226-.511q-.223-.195-.633-.194H7.35z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M7.166.377a.75.75 0 0 1 .919.066l3.333 3a.75.75 0 0 1-1.003 1.115L7.609 2.033 5.113 4.53a.75.75 0 0 1-1.06-1.06l3-3z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-adesc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='%23000' d='M10.387 11.47a.75.75 0 0 1 1.06 1.06l-3 3-.113.093a.75.75 0 0 1-.919-.065l-3.333-3a.75.75 0 0 1 1.003-1.116l2.806 2.525zM13.201 3.08q.65 0 1.135.222.487.223.759.619.27.396.279.918H14.19a.72.72 0 0 0-.293-.536q-.26-.192-.705-.192-.302.001-.51.086a.7.7 0 0 0-.32.23.56.56 0 0 0-.108.338.5.5 0 0 0 .065.273.7.7 0 0 0 .204.203q.127.083.295.146.168.06.36.102l.525.125a3.7 3.7 0 0 1 .701.229q.32.143.554.35.234.21.362.492.131.282.134.647a1.6 1.6 0 0 1-.273.93 1.74 1.74 0 0 1-.777.607q-.504.214-1.217.214-.708 0-1.232-.217a1.8 1.8 0 0 1-.816-.641q-.29-.429-.305-1.059h1.194q.02.294.17.49.15.195.402.294.253.098.573.098.313 0 .544-.092a.84.84 0 0 0 .362-.254.6.6 0 0 0 .129-.373.5.5 0 0 0-.117-.33.9.9 0 0 0-.337-.23 3.4 3.4 0 0 0-.54-.17l-.635-.16q-.738-.18-1.166-.562t-.426-1.03a1.53 1.53 0 0 1 .284-.926q.287-.396.79-.62a2.8 2.8 0 0 1 1.14-.222'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M5.813 9H4.489l-.432-1.332H1.948L1.515 9H.19l2.017-5.84h1.592zM2.262 6.704h1.481l-.718-2.21H2.98zM8.452 3.16q.645 0 1.075.19.43.192.648.53a1.4 1.4 0 0 1 .217.776q0 .342-.137.602a1.2 1.2 0 0 1-.376.423 1.6 1.6 0 0 1-.542.23v.058q.333.014.624.187.294.175.476.489.183.31.183.74 0 .465-.231.83a1.56 1.56 0 0 1-.676.574Q9.265 9 8.609 9H6.114V3.16zM7.35 7.99h1.006q.517 0 .753-.196a.66.66 0 0 0 .237-.531.8.8 0 0 0-.116-.428.8.8 0 0 0-.334-.291 1.15 1.15 0 0 0-.511-.106H7.349zm0-2.386h.916q.254 0 .45-.09a.75.75 0 0 0 .313-.256.67.67 0 0 0 .118-.397.64.64 0 0 0-.226-.51q-.223-.194-.633-.194H7.35z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}.ag-icon-column-arrow:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-un-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11'/%3E%3Cpath fill='currentColor' d='M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28zM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972z'/%3E%3C/svg%3E")}.ag-icon-pinned-top:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22M3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536'/%3E%3C/svg%3E")}.ag-icon-pinned-bottom:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22M12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536'/%3E%3C/svg%3E")}.ag-icon-chevron-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-filter-add:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M18.666 24h-5.333v-2.667h5.333zM24 17.333H8v-2.667h16zm3.59-9.344h3.221v2.657h-3.22v3.22h-2.656v-3.22h-3.221V7.989h3.22V4.77h2.657zm-8.582 2.678H4V8h15.008z'/%3E%3C/svg%3E")}.ag-icon-edit:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M6.222 25.778h1.611l14.834-14.811-1.611-1.611-14.834 14.81zM4 28v-4.733L22.644 4.656a2.26 2.26 0 0 1 1.567-.634q.423 0 .833.167.412.166.734.478l1.589 1.6q.333.322.483.733t.15.822q0 .423-.161.839-.162.416-.472.728L8.733 28zm17.856-17.833-.8-.811 1.61 1.61z'/%3E%3C/svg%3E")}`,P0e=Fl({feature:"iconSet",css:I0e});var XW={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>'},KW={aasc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2012 8.07928C13.6346 8.0793 14.0128 8.15365 14.3359 8.30193C14.6609 8.45018 14.9141 8.65595 15.0947 8.9201C15.2754 9.18439 15.3683 9.49109 15.374 9.83904H14.1904C14.1676 9.60898 14.0695 9.4303 13.8965 9.30291C13.7235 9.1756 13.4889 9.1115 13.1924 9.1115C12.9909 9.1115 12.8204 9.1404 12.6816 9.19744C12.543 9.25255 12.4364 9.32917 12.3623 9.42791C12.2901 9.52678 12.2539 9.63933 12.2539 9.76482C12.2501 9.8692 12.272 9.9604 12.3193 10.0383C12.3688 10.1162 12.4369 10.1843 12.5225 10.2414C12.6079 10.2964 12.7064 10.3451 12.8184 10.3869C12.9304 10.4268 13.0505 10.4609 13.1777 10.4894L13.7031 10.6144C13.9578 10.6715 14.1914 10.7479 14.4043 10.8429C14.6173 10.938 14.8021 11.0547 14.958 11.1935C15.1138 11.3323 15.2348 11.4957 15.3203 11.6838C15.4077 11.8719 15.4522 12.088 15.4541 12.3312C15.4522 12.6885 15.3611 12.9986 15.1807 13.2609C15.0019 13.5214 14.7427 13.7248 14.4043 13.8693C14.0678 14.0118 13.6617 14.0832 13.1865 14.0832C12.7153 14.0832 12.3048 14.0107 11.9551 13.8664C11.6071 13.7219 11.3345 13.5071 11.1387 13.2238C10.9449 12.9387 10.8435 12.5862 10.834 12.1662H12.0283C12.0416 12.362 12.0984 12.5252 12.1973 12.6564C12.298 12.7857 12.4323 12.8838 12.5996 12.9504C12.7688 13.0149 12.96 13.047 13.1729 13.047C13.3817 13.047 13.563 13.0169 13.7168 12.9562C13.8727 12.8954 13.9935 12.8106 14.0791 12.7023C14.1647 12.5939 14.208 12.469 14.208 12.3283C14.2079 12.1974 14.1686 12.0875 14.0908 11.9982C14.0148 11.9089 13.9022 11.8324 13.7539 11.7697C13.6076 11.707 13.4276 11.6501 13.2148 11.5988L12.5791 11.4387C12.0869 11.3189 11.6982 11.1318 11.4131 10.8771C11.128 10.6224 10.9855 10.2793 10.9873 9.84783C10.9854 9.49418 11.0804 9.18439 11.2705 8.9201C11.4625 8.65603 11.7261 8.45015 12.0605 8.30193C12.3951 8.15369 12.7754 8.07928 13.2012 8.07928Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 14.0002H4.48926L4.05664 12.6681H1.94824L1.51465 14.0002H0.19043L2.20703 8.15935H3.79883L5.8125 14.0002ZM2.26172 11.7043H3.74316L3.02539 9.49334H2.98047L2.26172 11.7043Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 8.15935C8.88165 8.15935 9.24031 8.22251 9.52734 8.34978C9.81445 8.47717 10.0303 8.65477 10.1748 8.88103C10.3192 9.10536 10.3916 9.36368 10.3916 9.65642C10.3916 9.88452 10.3461 10.085 10.2549 10.258C10.1637 10.4289 10.0384 10.5696 9.87891 10.6799C9.72117 10.7882 9.54024 10.8657 9.33691 10.9113V10.9679C9.55917 10.9775 9.76716 11.0406 9.96094 11.1564C10.1568 11.2724 10.3158 11.4356 10.4375 11.6447C10.5591 11.8519 10.6201 12.099 10.6201 12.3859C10.6201 12.6958 10.5427 12.9727 10.3887 13.216C10.2366 13.4573 10.0113 13.6486 9.71289 13.7892C9.41443 13.9299 9.04655 14.0002 8.60938 14.0002H6.11426V8.15935H8.45215ZM7.34863 12.9904H8.35547C8.69943 12.9904 8.95057 12.9252 9.1084 12.7941C9.26621 12.661 9.34473 12.4834 9.34473 12.2629C9.34468 12.1014 9.30643 11.9587 9.22852 11.8351C9.15056 11.7116 9.03903 11.6145 8.89453 11.5441C8.75195 11.4738 8.58148 11.4387 8.38379 11.4387H7.34863V12.9904ZM7.34863 10.6037H8.26465C8.43369 10.6036 8.58376 10.5737 8.71484 10.5148C8.84793 10.454 8.95227 10.3683 9.02832 10.258C9.10628 10.1477 9.14551 10.0155 9.14551 9.8615C9.14546 9.65055 9.07008 9.48001 8.91992 9.35076C8.77165 9.22169 8.56064 9.15741 8.28711 9.1574H7.34863V10.6037Z" fill="black"/><path d="M7.16602 0.377127C7.44584 0.189493 7.82551 0.20905 8.08496 0.442557L11.418 3.44256C11.7257 3.71966 11.7507 4.19428 11.4736 4.50213C11.1966 4.80961 10.7228 4.83441 10.415 4.55779L7.60938 2.03338L5.11328 4.53045C4.82042 4.82326 4.34562 4.82322 4.05273 4.53045C3.75986 4.23757 3.75989 3.7628 4.05273 3.4699L7.05273 0.4699L7.16602 0.377127Z" fill="black"/></svg>',adesc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.3867 11.4697C10.6796 11.1771 11.1544 11.1769 11.4473 11.4697C11.7399 11.7626 11.7399 12.2374 11.4473 12.5303L8.44727 15.5303L8.33398 15.623C8.05425 15.8106 7.67449 15.7909 7.41504 15.5576L4.08203 12.5576C3.77415 12.2805 3.74927 11.8059 4.02637 11.498C4.30342 11.1907 4.77722 11.1657 5.08496 11.4424L7.89062 13.9668L10.3867 11.4697Z" fill="black"/><path d="M13.2012 3.0791C13.6346 3.07912 14.0128 3.1535 14.3359 3.30176C14.6611 3.45006 14.9141 3.65661 15.0947 3.9209C15.2752 4.18513 15.3683 4.49104 15.374 4.83887H14.1904C14.1676 4.60882 14.0695 4.43012 13.8965 4.30273C13.7235 4.17546 13.4889 4.11133 13.1924 4.11133C12.9909 4.11133 12.8204 4.14023 12.6816 4.19727C12.5431 4.25236 12.4364 4.32902 12.3623 4.42773C12.2901 4.52659 12.2539 4.63919 12.2539 4.76465C12.2501 4.86901 12.272 4.96023 12.3193 5.03809C12.3688 5.11604 12.4369 5.18417 12.5225 5.24121C12.6079 5.29623 12.7064 5.34496 12.8184 5.38672C12.9304 5.42661 13.0505 5.46075 13.1777 5.48926L13.7031 5.61426C13.9578 5.67128 14.1914 5.74776 14.4043 5.84277C14.6172 5.93784 14.8021 6.05457 14.958 6.19336C15.1139 6.33216 15.2348 6.49633 15.3203 6.68457C15.4076 6.8727 15.4522 7.08885 15.4541 7.33203C15.4521 7.68929 15.3612 7.99944 15.1807 8.26172C15.0019 8.52216 14.7427 8.72465 14.4043 8.86914C14.0678 9.01165 13.6617 9.08301 13.1865 9.08301C12.7153 9.08299 12.3048 9.01057 11.9551 8.86621C11.6072 8.72173 11.3345 8.50786 11.1387 8.22461C10.9447 7.9394 10.8435 7.58622 10.834 7.16602H12.0283C12.0416 7.36176 12.0985 7.52509 12.1973 7.65625C12.298 7.78554 12.4323 7.88365 12.5996 7.9502C12.7688 8.01477 12.96 8.04785 13.1729 8.04785C13.3817 8.04781 13.5629 8.01678 13.7168 7.95605C13.8727 7.89522 13.9935 7.81051 14.0791 7.70215C14.1646 7.59387 14.2079 7.46965 14.208 7.3291C14.208 7.19796 14.1687 7.08739 14.0908 6.99805C14.0148 6.90868 13.9022 6.83228 13.7539 6.76953C13.6076 6.70685 13.4276 6.64993 13.2148 6.59863L12.5791 6.43848C12.0868 6.31871 11.6982 6.13163 11.4131 5.87695C11.1279 5.62221 10.9855 5.27916 10.9873 4.84766C10.9854 4.49404 11.0804 4.18517 11.2705 3.9209C11.4625 3.65661 11.7259 3.45006 12.0605 3.30176C12.3951 3.15353 12.7754 3.0791 13.2012 3.0791Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 9H4.48926L4.05664 7.66797H1.94824L1.51465 9H0.19043L2.20703 3.15918H3.79883L5.8125 9ZM2.26172 6.7041H3.74316L3.02539 4.49414H2.98047L2.26172 6.7041Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 3.15918C8.88181 3.15918 9.24025 3.22322 9.52734 3.35059C9.81445 3.47798 10.0303 3.6546 10.1748 3.88086C10.3193 4.10518 10.3916 4.36351 10.3916 4.65625C10.3916 4.88432 10.3461 5.08484 10.2549 5.25781C10.1636 5.4289 10.0386 5.57039 9.87891 5.68066C9.72118 5.78898 9.54022 5.86549 9.33691 5.91113V5.96875C9.55913 5.9783 9.76719 6.04044 9.96094 6.15625C10.1568 6.27223 10.3158 6.43538 10.4375 6.64453C10.5591 6.85173 10.6201 7.09875 10.6201 7.38574C10.6201 7.69567 10.5427 7.97245 10.3887 8.21582C10.2366 8.45719 10.0113 8.64841 9.71289 8.78906C9.41442 8.9297 9.04658 8.99999 8.60938 9H6.11426V3.15918H8.45215ZM7.34863 7.99023H8.35547C8.69948 7.99023 8.95057 7.92504 9.1084 7.79395C9.26621 7.66085 9.34473 7.48325 9.34473 7.2627C9.34466 7.10125 9.3064 6.95844 9.22852 6.83496C9.15056 6.71143 9.03899 6.61427 8.89453 6.54395C8.75196 6.47365 8.58145 6.43848 8.38379 6.43848H7.34863V7.99023ZM7.34863 5.60352H8.26465C8.43369 5.60347 8.58376 5.57354 8.71484 5.51465C8.84791 5.45381 8.95228 5.36807 9.02832 5.25781C9.10623 5.14755 9.14551 5.01529 9.14551 4.86133C9.14542 4.65046 9.07002 4.48078 8.91992 4.35156C8.77163 4.22228 8.56087 4.15724 8.28711 4.15723H7.34863V5.60352Z" fill="black"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},F0e=(e={})=>{let t="";for(let i of[...Object.keys(XW),...Object.keys(KW)]){let n=O0e(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},O0e=(e,t=1.5)=>{let i=KW[e];if(i)return i;let n=XW[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},L0e=(e={})=>Fl({feature:"iconSet",css:()=>F0e(e)});var N0e=L0e();var ZW=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',B0e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",V0e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){border-left:none;border-right:none;border-top:none}",QW={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4};var z0e=()=>Fl({feature:"inputStyle",params:Zt(Ie({},QW),{inputBackgroundColor:oc,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:zf},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:rc(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>ZW+B0e}),H0e=z0e(),U0e=()=>Fl({feature:"inputStyle",params:Zt(Ie({},QW),{inputBackgroundColor:"transparent",inputBorder:{width:2,color:Wa(.3)},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}}),css:()=>ZW+V0e}),G0e=U0e(),JW='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}';var ej={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};var W0e=()=>Fl({feature:"tabStyle",params:Zt(Ie({},ej),{tabBarBorder:!0,tabBarBackgroundColor:Wa(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:oc}),css:JW}),j0e=W0e(),q0e=()=>Fl({feature:"tabStyle",params:Zt(Ie({},ej),{tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0}),css:JW}),Y0e=q0e();var $0e=".ag-dnd-ghost,.ag-filter-toolpanel-header,.ag-filter-toolpanel-search,.ag-multi-filter-group-title-bar,.ag-panel-title-bar-title,.ag-status-bar{color:var(--ag-header-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-column-drop-horizontal{background-color:color-mix(in srgb,var(--ag-background-color),var(--ag-foreground-color) 8%)}.ag-cell.ag-cell-inline-editing{background-color:var(--ag-background-color);background-image:linear-gradient(0deg,var(--ag-input-background-color),var(--ag-input-background-color));border:var(--ag-input-border)!important;border-width:1px!important;height:calc(var(--ag-row-height) + var(--ag-spacing)*3);padding:var(--ag-spacing);:where(.ag-row-last:not(.ag-row-first)) &{bottom:0}:where(.ag-has-focus) &{border:var(--ag-input-focus-border)!important;border-width:1px!important}}.ag-advanced-filter-builder-button,.ag-standard-button{text-transform:uppercase}.ag-status-bar{border:solid var(--ag-border-width) var(--ag-border-color)}.ag-list-item-hovered:after{background-color:var(--ag-primary-color)}.ag-pill-button:hover{color:var(--ag-primary-color)}.ag-filter-add-button,.ag-filter-add-button:hover{border-bottom:2px solid var(--ag-primary-color)}",X0e=()=>jW().withPart(qW).withPart($W).withPart(N0e).withPart(j0e).withPart(H0e).withPart(WW).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),K0e=X0e();var Z0e=()=>{let e={tabSelectedUnderlineColor:{ref:"primaryColor"},sideButtonSelectedUnderlineColor:{ref:"primaryColor"},buttonTextColor:{ref:"primaryColor"},rangeSelectionBackgroundColor:{ref:"primaryColor",mix:.2},rangeSelectionBorderColor:{ref:"primaryColor"},rangeSelectionHighlightColor:{ref:"primaryColor",mix:.5},rangeHeaderHighlightColor:{ref:"foregroundColor",mix:.08},rowNumbersSelectedColor:{ref:"primaryColor",mix:.5},inputFocusBorder:{width:2,color:{ref:"primaryColor"}},pickerButtonFocusBorder:{width:1,color:{ref:"primaryColor"}},cellEditingBorder:{color:{ref:"primaryColor"}},menuBackgroundColor:{ref:"backgroundColor"},sideButtonBarBackgroundColor:oc,sideButtonSelectedBackgroundColor:"transparent",sideButtonBarTopPadding:{calc:"spacing * 4"},headerColumnResizeHandleColor:"none",headerBackgroundColor:{ref:"backgroundColor"},rowHoverColor:Wa(.08),columnHoverColor:Wa(.08),headerCellHoverBackgroundColor:Wa(.05),statusBarLabelColor:Wa(.63),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,valueChangeValueHighlightBackgroundColor:"#00acc1",panelTitleBarIconColor:Ah,advancedFilterBuilderButtonBarBorder:!1,filterPanelApplyButtonColor:{ref:"buttonTextColor"},filterPanelApplyButtonBackgroundColor:{ref:"buttonBackgroundColor"},colorPickerThumbSize:13,colorPickerTrackSize:11,colorPickerThumbBorderWidth:2,colorPickerTrackBorderRadius:2,colorPickerColorBorderRadius:2,rowDragIndicatorColor:{ref:"primaryColor"},columnDragIndicatorColor:{ref:"primaryColor"}},t=Zt(Ie({},e),{primaryColor:"#3f51b5",foregroundColor:"#000D",headerTextColor:"#0008",accentColor:"#ff4081",checkboxUncheckedBorderColor:Ah,checkboxIndeterminateBackgroundColor:Ah,toggleButtonOffBackgroundColor:Ah,selectedRowBackgroundColor:"rgba(33, 150, 243, 0.3)"}),i=Zt(Ie({},e),{primaryColor:"#3f51b5",foregroundColor:"#fffD",headerTextColor:"#fff8",accentColor:"#bb86fc",checkboxUncheckedBorderColor:rc(.5),checkboxIndeterminateBackgroundColor:rc(.5),toggleButtonOffBackgroundColor:rc(.5),selectedRowBackgroundColor:"#bb86fc33"});return Fl({feature:"styleMaterial",css:$0e,params:t,modeParams:{light:t,dark:i,"dark-blue":i}})},Q0e=Z0e(),J0e=()=>jW().withPart(_0e).withPart(qW).withPart($W).withPart(P0e).withPart(Y0e).withPart(G0e).withPart(E0e).withPart(Q0e).withParams({rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.75 * rowVerticalPaddingScale"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4.75 * headerVerticalPaddingScale"},widgetVerticalSpacing:{calc:"spacing * 1.75"},cellHorizontalPadding:{calc:"spacing * 3"},buttonHorizontalPadding:{ref:"spacing"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 2"},fontSize:13,iconSize:18,borderRadius:0,wrapperBorderRadius:0,wrapperBorder:!1,menuBorder:!1,dialogBorder:!1,panelTitleBarBorder:!1,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sidePanelBorder:!1,sideButtonSelectedBorder:!1,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,buttonBorder:!1,buttonDisabledBorder:!1,focusShadow:{spread:4,color:Wa(.16)},fontFamily:[{googleFont:"Roboto"},"-apple-system","BlinkMacSystemFont","Segoe UI","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],inputHeight:{calc:"max(iconSize, fontSize) + spacing * 3"},pickerButtonBorder:{width:1,color:"transparent"},headerFontWeight:600,headerFontSize:{calc:"fontSize - 1px"},checkboxBorderWidth:2,checkboxBorderRadius:2,toggleButtonWidth:34,toggleButtonSwitchInset:1,cardShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)"}),aD=J0e(),eve={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},tve={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},ive={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},cG={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},dG={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},BF={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},uG={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};function nve(e,t){for(let i of t.sort((n,r)=>n.moduleName.localeCompare(r.moduleName))){let n=i.css;n&&e.set(`module-${i.moduleName}`,n)}}var rve=class extends mhe{initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(cG),this.getSizeEl(dG),this.getSizeEl(BF),this.getSizeEl(uG),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(uG)}getRowBorderWidth(){return this.getCSSVariablePixelValue(BF)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(cG)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(dG)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(eve)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(tve),i=this.getCSSVariablePixelValue(ive);return e-1+i*t}getCellPadding(){let e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}refreshRowHeightVariable(){let{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let n=`${i}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),i):t!=""?Number.parseFloat(t):-1}fireStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),super.fireStylesChangedEvent(e)}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(BF);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&ho(t?106:239)}getAdditionalCss(){let e=new Map;return e.set("core",[h0e]),nve(e,Array.from(Rce())),e}getDefaultTheme(){return K0e}varError(e){oi(9,{variable:e})}themeError(e){ho(240,{theme:e})}shadowRootError(){ho(293)}},ove=class extends bhe{postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function tj(e,t,i){let n=e.visibleCols.headerGroupRowCount;if(i>=n)return{column:t,headerRowIndex:i};let r=t.getParent();for(;r&&r.getProvidedColumnGroup().getLevel()>i;)r=r.getParent();let o=t.isSpanHeaderHeight();return!r||o&&r.isPadding()?{column:t,headerRowIndex:n}:{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel()}}var sve=class extends Kt{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});let t=ja(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i,{colModel:n,colGroupSvc:r,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(i=n.getCol(e),i||(i=r?.getColumnGroup(e)??null)):i=e,!i)return null;let a=o.getHeaderRowContainerCtrl()?.getAllCtrls(),l=To(a||[]).type==="filter",c=Rh(this.beans)-1,d=-1,u=i;for(;u;)d++,u=u.getParent();let h=d;return t&&l&&h===c-1&&h++,h===-1?null:{headerRowIndex:h,column:i}}navigateVertically(e,t){let{focusSvc:i,visibleCols:n}=this.beans,{focusedHeader:r}=i;if(!r)return!1;let{headerRowIndex:o}=r,s=r.column,a=Rh(this.beans),l=this.getHeaderRowType(o),c=n.headerGroupRowCount,{headerRowIndex:d,column:u,headerRowIndexWithoutSpan:h}=e==="UP"?ave(l,s,o):lve(s,o,c),f=!1;return d<0&&(d=0,u=s,f=!0),d>=a?(d=-1,this.currentHeaderRowWithoutSpan=-1):h!==void 0&&(this.currentHeaderRowWithoutSpan=h),!f&&!u?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:u},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,i){let{focusSvc:n,gos:r}=this.beans,o=Ie({},n.focusedHeader),s,a;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a));let l=r.getCallback("tabToNextHeader");if(t&&l){let c=n.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(c){let{headerRowIndex:d}=n.focusedHeader||{};d!=null&&d!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return s||!t?n.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,a,i)}focusNextHeaderRow(e,t,i){let n=this.beans,r=e.headerRowIndex,o=null,s,a=Rh(n),l=this.beans.visibleCols.allCols;if(t==="Before"){if(r<=0)return!1;o=To(l),s=r-1,this.currentHeaderRowWithoutSpan-=1}else o=l[0],s=r+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:d}=tj(this.beans,o,s);return d>=a&&(d=-1),n.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:d},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if($s(e)){let n=e.getDisplayedLeafColumns();i=t==="Before"?To(n):n[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){let{colGroupSvc:i,visibleCols:n}=this.beans,r=e.column;if(r instanceof VC){let l=r.getDisplayedLeafColumns();r=t==="Before"?l[0]:l[l.length-1]}let o=t==="Before"?n.getColBefore(r):n.getColAfter(r);if(!o)return;let s=n.headerGroupRowCount;if(e.headerRowIndex>=s)return{headerRowIndex:e.headerRowIndex,column:o};let a=i?.getColGroupAtLevel(o,e.headerRowIndex);return a?a.isPadding()&&o.isSpanHeaderHeight()?{headerRowIndex:n.headerGroupRowCount,column:o}:{headerRowIndex:e.headerRowIndex,column:a??o}:{headerRowIndex:o instanceof _0&&o.isSpanHeaderHeight()?n.headerGroupRowCount:e.headerRowIndex,column:o}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function ave(e,t,i){let n=i-1;if(e!=="filter"){let r=t instanceof _0&&t.isSpanHeaderHeight(),o=t.getParent();for(;o&&(o.getProvidedColumnGroup().getLevel()>n||r&&o.isPadding());)o=o.getParent();if(o)return r?{column:o,headerRowIndex:o.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:n}:{column:o,headerRowIndex:n,headerRowIndexWithoutSpan:n}}return{column:t,headerRowIndex:n,headerRowIndexWithoutSpan:n}}function lve(e,t,i){let n=t+1,r={column:e,headerRowIndex:n,headerRowIndexWithoutSpan:n};if(e instanceof VC){if(n>=i)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:i,headerRowIndexWithoutSpan:n};let s=e.getDisplayedChildren()[0];if(s instanceof VC&&s.isPadding()){let l=s.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(s=l)}r.column=s,s instanceof _0&&s.isSpanHeaderHeight()&&(r.headerRowIndex=i,r.headerRowIndexWithoutSpan=n)}return r}var cve=class extends Kt{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(mue(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){let{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(os(this.beans),AW)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=os(this.beans);return this.isDomDataPresentInHierarchy(e,HE)?!0:this.isDomDataPresentInHierarchy(e,UE)}isDomDataPresentInHierarchy(e,t){let i=e;for(;i;){if(h9(this.gos,i,t))return!0;i=i.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:i,column:n}=e,r={rowIndex:t,rowPinned:i,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(Ie({type:"cellFocusCleared"},e))}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:s}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:Hf(n),column:a};let l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent(Zt(Ie(Ie({type:"cellFocused"},l),this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams}),{forceBrowserFocus:r,preventScrollOnBrowserFocus:o,sourceEvent:s})),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:iO(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:i,pinned:n}}=e,{column:r,headerRowIndex:o}=this.focusedHeader;return t===r&&i===o&&n==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),u0(this.beans))return!1;let{direction:t,fromTab:i,allowUserOverride:n,event:r,fromCell:o,rowWithoutSpanValue:s,scroll:a=!0}=e,{headerPosition:l}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(l);if(n){let c=this.focusedHeader,d=Rh(this.beans);if(i){let u=this.gos.getCallback("tabToNextHeader");u&&(l=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:c,headerPosition:l,headerRowCount:d}))}else{let u=this.gos.getCallback("navigateToNextHeader");if(u&&r){let h={key:r.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:d,event:r};l=u(h)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:r,fromCell:o,rowWithoutSpanValue:s,scroll:a}):!1}focusHeaderPositionFromUserFunc(e){if(u0(this.beans))return!1;let{userFunc:t,headerPosition:i,direction:n,event:r}=e,o=this.focusedHeader,s=Rh(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:o,headerPosition:i,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:r})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:i,currentPosition:n,headerPosition:r,headerRowCount:o}=e,a=t({backwards:i==="Before",previousHeaderPosition:n,nextHeaderPosition:r,headerRowCount:o});return a===!0?n:a===!1?null:a}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:i,fromCell:n,rowWithoutSpanValue:r,event:o,scroll:s=!0}=e,{column:a,headerRowIndex:l}=t,{filterManager:c,ctrlsSvc:d,headerNavigation:u}=this.beans;if(this.focusedHeader&&jfe(e.headerPosition,this.focusedHeader))return!1;if(l===-1)return c?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:a,event:o});s&&u?.scrollToColumn(a,i);let f=d.getHeaderRowContainerCtrl(a.getPinned())?.focusHeader(t.headerRowIndex,a,o)||!1;return u&&f&&(r!=null||n)&&(u.currentHeaderRowWithoutSpan=r??-1),f}focusFirstHeader(){if(this.overlays?.exclusive&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let t=tj(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.exclusive&&this.focusOverlay(!0))return!0;let t=Rh(this.beans)-1,i=To(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Hf(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&m0(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:i=!0,event:n}=e;if(this.overlays?.exclusive)return i&&this.focusOverlay(t);if(rD(this.beans))return t&&!u0(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:e_(this.beans,t);let r=t?Lfe(this.beans):Ofe(this.beans);if(r){let o=e.column??this.focusedHeader?.column,{rowIndex:s,rowPinned:a}=r,l=Yf(this.beans,r);if(!o||!l||s==null)return!1;if(o.isSuppressNavigable(l)){let c=this.gos.get("enableRtl"),d;return!n||n.key===St.TAB?d=c?St.LEFT:St.RIGHT:d=n.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:s,column:o,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:s,column:o,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:s,column:o,rowPinned:Hf(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:s,rowPinned:a,column:o})),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let i=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:Rh(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},dve=class extends Kt{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=this.gos.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:hue();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},uve=class extends Kt{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),i.destroy(),super.destroy()}},CE=new Set(["gridPreDestroyed","fillStart","pasteStart"]),hve=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"];var cO=hve.reduce((e,t)=>(e[t]=Zce(t),e),{}),Yb={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agExportingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agNoMatchingRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function hG(e){return`"${e}"`}var fve=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),pve={allowFormula:"Formula",aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?Yb[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:Yb[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?Yb[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},mve=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:i})=>i?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},allowFormula:{supportedRowModels:["clientSide"]},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,i)=>i.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{let i=t.headerValueGetter;return typeof i=="function"||typeof i=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Ph(262);if(t.smallLeft)return Ph(263);if(t.smallRight)return Ph(264)}return null}},sort:{validate:t=>Gb(t.sort)||Cm(t.sort)?null:`sort must be of type (SortDirection | SortDef), currently it is ${typeof t.sort=="object"?JSON.stringify(t.sort):pE(t.sort)}`},initialSort:{validate:t=>Gb(t.initialSort)||Cm(t.initialSort)?null:`initialSort must be of non-null type (SortDirection | SortDef), currently it is ${typeof t.initialSort=="object"?JSON.stringify(t.initialSort):pE(t.initialSort)}`},sortingOrder:{validate:t=>{let i=t.sortingOrder;if(Array.isArray(i)&&i.length>0){let n=i.filter(r=>!(Gb(r)||Cm(r)));if(n.length>0)return`sortingOrder must be an array of type non-null (SortDirection | SortDef)[], incorrect items are: [${n.map(r=>typeof r=="string"||r==null?pE(r):JSON.stringify(r)).join(", ")}]`}else if(!Array.isArray(i)||!i.length)return`sortingOrder must be an array with at least one element, currently it is [${i}]`;return null}},type:{validate:t=>{let i=t.type;return i instanceof Array?i.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof i=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:i})=>i?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:i,cellSelection:n,suppressRowTransform:r,enableCellSpan:o,rowDragEntireRow:s,enableCellTextSelection:a})=>typeof i=="object"&&i?.mode==="singleRow"&&i?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":o?s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:i={}},n){let r=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),o=[];for(let s of t.groupHierarchy??[]){if(typeof s=="object"){n.validation?.validateColDef(s);continue}!r.has(s)&&!(s in i)&&o.push(hG(s))}if(o.length>0){let s=`The following parts of colDef.groupHierarchy are not recognised: ${o.join(", ")}.`,a=`Choose one of ${[...r].map(hG).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${s}
${a}`}return null}}}),gve={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0,allowFormula:void 0},vve=()=>Object.keys(gve),bve=()=>({objectName:"colDef",allProperties:vve(),docsUrl:"column-properties/",deprecations:fve(),validations:mve()}),_ve=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],yve=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","activeOverlayParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","formulaDataSource","formulaFuncs","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],wve=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector","suppressOverlays"],ij=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],Cve=["theme","rowSelection"],dO=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],nj=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","refreshAfterGroupEdit","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows","animateColumnResizing"],xve=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","overlayComponent","loadingOverlayComponent","noRowsOverlayComponent","overlayComponentSelector","activeOverlay","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],Sve=()=>[...wve,...yve,..._ve,...ij,...xve,...nj,...dO,...Cve],Mve=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function xh(e,t,i){return typeof t=="number"||t==null?t==null||t>=i?null:`${e}: value should be greater than or equal to ${i}`:`${e}: value should be a number`}var Eve={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",refreshAfterGroupEdit:["RowGrouping","TreeData"],rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},Dve=()=>{let e={autoSizePadding:{validate({autoSizePadding:i}){return xh("autoSizePadding",i,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:i}){return xh("cacheBlockSize",i,1)}},cacheOverflowSize:{validate({cacheOverflowSize:i}){return xh("cacheOverflowSize",i,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:i=>{let n=i.domLayout,r=["autoHeight","normal","print"];return n&&!r.includes(n)?`domLayout must be one of [${r.join()}], currently it's ${n}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:i,pinnedTopRowData:n,pinnedBottomRowData:r}){return i&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:i,isRowPinnable:n,pinnedTopRowData:r,pinnedBottomRowData:o}){return n&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!i&&n?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:i,isRowPinned:n,pinnedTopRowData:r,pinnedBottomRowData:o}){return n&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!i&&n?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:i={}},n,r){for(let o of Object.keys(i))r.validation?.validateColDef(i[o]);return null}},icons:{validate:({icons:i})=>{if(i){if(i.smallDown)return Ph(262);if(i.smallLeft)return Ph(263);if(i.smallRight)return Ph(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:i}){return xh("infiniteInitialRowCount",i,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:i=>{if(typeof i.ssrmExpandAllAffectsAllRows=="boolean"){if(i.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(i.ssrmExpandAllAffectsAllRows&&typeof i.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:i}){return xh("keepDetailRowsCount",i,1)}},paginationPageSize:{validate({paginationPageSize:i}){return xh("paginationPageSize",i,1)}},paginationPageSizeSelector:{validate:i=>{let n=i.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:i}){return xh("rowBuffer",i,0)}},rowClass:{validate:i=>typeof i.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:i}){return i&&typeof i=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':i&&typeof i!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":i&&i.mode!=="multiRow"&&i.mode!=="singleRow"?`Selection mode "${i.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:i=>{let n=i.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:i}){return xh("serverSideInitialRowCount",i,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:i=>{let n=i.sortingOrder;if(Array.isArray(n)&&n.length>0){let r=n.filter(o=>!ku(o));if(r.length>0)return`sortingOrder must be an array of type (SortDirection | SortDef)[], incorrect items are: ${r.map(o=>typeof o=="string"||o==null?pE(o):JSON.stringify(o))}]`}else if(!Array.isArray(n)||!n.length)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},tooltipHideDelay:{validate:i=>i.tooltipHideDelay&&i.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:i=>i.tooltipShowDelay&&i.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:i=>{let n=i.rowModelType??"clientSide";switch(n){case"clientSide":{let{treeDataChildrenField:r,treeDataParentIdField:o,getDataPath:s,getRowId:a}=i;if(!r&&!o&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{let r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return i.isServerSideGroup&&i.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:i}){return xh("viewportRowModelBufferSize",i,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:i}){return xh("viewportRowModelPageSize",i,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:i,showOpenedGroup:n}){return i?.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":i?.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:i=>{let n=i.renderingMode,r=["default","legacy"];return n&&!r.includes(n)?`renderingMode must be one of [${r.join()}], currently it's ${n}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:i})=>{if(!i)return null;let n=["fitCellContents","fitGridWidth","fitProvidedWidth"],r=i.type;return r!=="fitCellContents"&&r!=="fitGridWidth"&&r!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${n.map(o=>'"'+o+'"').join(", ")}, currently it's ${r}`:r==="fitProvidedWidth"&&typeof i.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${i.width}`:null}}},t={};for(let i of nj)t[i]={expectedType:"boolean"};for(let i of ij)t[i]={expectedType:"number"};return sc(t,e),t},Tve=()=>({objectName:"gridOptions",allProperties:[...Sve(),...Object.values(cO)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Mve(),validations:Dve()}),Ave=0,Rve=0,fG="__ag_grid_instance",kve=class extends Kt{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=Rve++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new f0,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;let n=CE.has(t);if(n&&!e||!n&&e||!Ive(t))return;let r=(o,s)=>{let a=cO[o],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(s))};if(this.gridReadyFired)r(t,i);else if(t==="gridReady"){r(t,i),this.gridReadyFired=!0;for(let o of this.queueEvents)r(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:i})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??Sce[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ai(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addCommon(i)))}updateGridOptions({options:e,force:t,source:i="api"}){let n={id:Ave++,properties:[]},r=[],{gridOptions:o,validation:s}=this;for(let a of Object.keys(e)){let l=O5.applyGlobalGridOption(a,e[a]);s?.warnOnInitialPropertyUpdate(i,a);let c=t||typeof l=="object"&&i==="api",d=o[a];if(c||d!==l){o[a]=l;let u={type:a,currentValue:l,previousValue:d,changeSet:n,source:i};r.push(u)}}this.validateGridOptions(this.gridOptions),n.properties=r.map(a=>a.type);for(let a of r)Sm(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(let i of Object.keys(e)){let n=e[i];if(n==null||n===!1)continue;let r=t[i];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,i)}}validateGridOptions(e){this.validateOptions(e,Eve),this.validation?.processGridOptions(e)}validateColDef(e,t,i){(i||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,pve),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){let i=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return i||ho(200,Zt(Ie({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:L5(),rowModelType:this.get("rowModelType"),isUmd:N5()}}isModuleRegistered(e){return XF(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[fG]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){let i=t[fG];if(Ai(i))return i===this.instanceId;t=t.parentElement}return!1}};function Ive(e){return!!cO[e]}var Pve=class extends Kt{constructor(e,t){super(),this.column=e,this.eGui=t,this.lastMovingChanged=0}postConstruct(){this.addManagedElementListeners(this.eGui,{click:e=>e&&this.onClick(e)}),this.addManagedListeners(this.column,{movingChanged:()=>{this.lastMovingChanged=Date.now()}})}onClick(e){let{sortSvc:t,rangeSvc:i,gos:n}=this.beans;if(!(Ub(n)?e.altKey:!0))i?.handleColumnSelection(this.column,e);else if(this.column.isSortable()){let o=this.column.isMoving(),a=Date.now()-this.lastMovingChanged<50;o||a||t?.progressSortFromEvent(this.column,e)}}};function Fve(e,t){let i={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:i},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:i},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[e?{tag:"span",ref:"eColRef",cls:"ag-header-col-ref"}:null,{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:i},t?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var Ove=class extends wo{constructor(){super(...arguments),this.eFilter=bi,this.eFilterButton=bi,this.eSortIndicator=bi,this.eMenu=bi,this.eLabel=bi,this.eText=bi,this.eColRef=bi,this.eSortOrder=bi,this.eSortAsc=bi,this.eSortDesc=bi,this.eSortMixed=bi,this.eSortNone=bi,this.eSortAbsoluteAsc=bi,this.eSortAbsoluteDesc=bi,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||e.column.formulaRef!=this.currentRef||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let i=Ie({},e);sc(i,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(i)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let{formula:i}=this.beans,n=e.template;return n?n?.trim?n.trim():n:Fve(!!i?.active,t)}init(e){this.params=e;let{sortSvc:t,touchSvc:i,rowNumbersSvc:n,userCompFactory:r}=this.beans,o=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),this.eLabel&&(this.mouseListener??(this.mouseListener=this.createManagedBean(new Pve(e.column,this.eLabel)))),i?.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupColumnRefIndicator(),n?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let i=Yde(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText&&this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){let{displayName:t}=e,i=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=n_(t))}addInIcon(e,t,i){let n=Ec(e,this.beans,i);n&&t.appendChild(n)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Sc(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:i}=this,n=dd(e);this.addInIcon(n?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!n);let r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:i,beans:n,eMenu:r,eFilterButton:o}=this,s=t.column,a=dd(i);if(e&&!a){if(n.menuSvc?.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??o??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:n,eSortOrder:r,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l,eSortAbsoluteAsc:c,eSortAbsoluteDesc:d}=this;n.attachCustomElements(r,o,s,a,l,c,d)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i)}setupColumnRefIndicator(){let{eColRef:e,beans:{editModelSvc:t},params:i}=this;e&&(this.currentRef=i.column.formulaRef,e.textContent=this.currentRef,yo(e,!1),this.addManagedEventListeners({cellEditingStarted:()=>{let n=t?.getEditPositions(),r=!!this.currentRef&&!!n?.some(o=>o.column.isAllowFormula());yo(e,r)},cellEditingStopped:()=>{yo(e,!1)}}))}setupFilterIcon(){let{eFilter:e,params:t}=this;if(!e)return;let i=()=>{let n=t.column.isFilterActive();yo(e,n,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,i,"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,n){if(!e)return Sc(t),!1;let r=this.params.column;return this.addInIcon(n,t,r),this.addManagedListeners(r,{filterChanged:i}),i(),!0}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent=this.destroyBean(this.innerHeaderComponent),this.mouseListener=this.destroyBean(this.mouseListener)}},Lve={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},Nve=class extends wo{constructor(){super(Lve),this.agOpened=bi,this.agClosed=bi,this.agLabel=bi,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t,touchSvc:i}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),i?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&oi(89)}workOutInnerHeaderGroupComponent(e,t){let i=Xde(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:i},beans:{colGroupSvc:n}}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let r=l=>{if(Wf(l))return;let c=!i.isExpanded();n.setColumnGroupOpened(i.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(t,r),this.addTouchAndClickListeners(e,r);let o=l=>{g0(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();let s=i.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t){this.beans.touchSvc?.setupForHeaderGroupElement(this,e,t),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){let n=i.isExpanded();yo(e,n),yo(t,!n)}else yo(e,!1),yo(t,!1)}addInIcon(e,t){let i=Ec(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:i}=this;yo(t,!1),yo(i,!1)}}setupLabel(e){let{displayName:t,columnGroup:i}=e,{innerHeaderGroupComponent:n,isLoadingInnerComponent:r}=this,o=n||r;Ai(t)&&!o&&(this.agLabel.textContent=n_(t)),this.toggleCss("ag-sticky-label",!i.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Bve={moduleName:"ColumnHeaderComp",version:Ri,userComponents:{agColumnHeader:Ove},icons:{menu:"menu",menuAlt:"menu-alt"}},Vve={moduleName:"ColumnGroupHeaderComp",version:Ri,userComponents:{agColumnGroupHeader:Nve},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},zve=class extends Kt{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&oi(92)}createTask(e,t,i,n,r=!1){this.verify();let o=i;n&&this.batchFrameworkComps&&(o="f1");let s={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[o],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.deferred!==n.deferred?i.deferred?-1:1:i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:i,f1:n,destroyTasks:r,beans:o}=this,{ctrlsSvc:s,frameworkOverrides:a}=o,l=t.list,c=i.list,d=n.list,u=Date.now(),h=0,f=e<=0,p=s.getScrollFeature();for(;f||h<e;){if(!p.scrollGridIfNeeded()){let m;if(l.length)this.sortTaskList(t),m=l.pop().task;else if(c.length)this.sortTaskList(i),m=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(f||h<e)&&!p.scrollGridIfNeeded();){if(d.length)this.sortTaskList(n),m=d.pop().task,m();else break;h=Date.now()-u}}),m=()=>{};else if(r.length)m=r.pop();else break;m()}h=Date.now()-u}l.length||c.length||d.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);$f(this.beans,e)}isQueueEmpty(){return!this.ticking}},Hve={moduleName:"AnimationFrame",version:Ri,beans:[zve]},Uve=class extends Kt{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return Ec(e,this.beans,t?.column)}},Gve=class extends Kt{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!d0())return;let t=(i,n,r)=>{let{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget(r?.target??null);s?.column&&s.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!d0()||ZG("dblclick"))return!1;let n=Date.now(),r=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:i,menuSvc:n}=this.beans;if(t.get("suppressTouch"))return;let{params:r,eMenu:o,eFilterButton:s}=e,a=new r0(e.getGui(),!0);e.addDestroyFunc(()=>a.destroy());let l=e.shouldSuppressMenuHide(),c=l&&Ai(o)&&r.enableMenu,d=a;if(c&&(d=new r0(o,!0),e.addDestroyFunc(()=>d.destroy())),r.enableMenu||n?.isHeaderContextMenuEnabled(r.column)){let u=c?"tap":"longTap",h=f=>r.showColumnMenuAfterMouseClick(f.touchStart);e.addManagedListeners(d,{[u]:h}),e.addManagedListeners(a,{longTap:h})}if(r.enableSorting){let u=h=>{let f=h.touchStart.target;l&&(o?.contains(f)||s?.contains(f))||i?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:u})}if(r.enableFilterButton&&s){let u=new r0(s,!0);e.addManagedListeners(u,{tap:()=>r.showFilter(s)}),e.addDestroyFunc(()=>u.destroy())}}setupForHeaderGroup(e){let t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){let i=new r0(t.eGridHeader,!0),n=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(i,{longTap:n}),e.addDestroyFunc(()=>i.destroy())}}setupForHeaderGroupElement(e,t,i){let n=new r0(t,!0);e.addManagedListeners(n,{tap:i}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,i){if(!d0())return;let n=new r0(t),r=o=>{PC(this.beans,o.touchEvent)&&i(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}},Wve={moduleName:"Touch",version:Ri,beans:[Gve]},jve=class extends Kt{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let i=e===St.UP,n=e===St.DOWN,r=e===St.LEFT,o,s,{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:d}=this.beans,{rowPinned:u}=t;if(i||n)u&&d?i?s=0:s=u==="top"?d.getPinnedTopRowCount()-1:d.getPinnedBottomRowCount()-1:s=i?a.getFirstRow():a.getLastRow(),o=t.column;else{let h=l.get("enableRtl");s=t.rowIndex,o=(r!==h?c.allCols:[...c.allCols].reverse()).find(p=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:p}))}return o?{rowIndex:s,rowPinned:u,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case St.UP:i=this.getCellAbove(i);break;case St.DOWN:i=this.getCellBelow(i);break;case St.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case St.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,oi(8,{key:e});break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){let t=e.column,i,{pinnedRowModel:n,rowModel:r}=this.beans;switch(e.rowPinned){case"top":i=n?.getPinnedTopRow(e.rowIndex);break;case"bottom":i=n?.getPinnedBottomRow(e.rowIndex);break;default:i=r.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,i=WU(this.beans,t,!0);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,i=GE(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:i}=this.beans,n=t.allCols,r=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=n[0];let a=WU(this.beans,e,!0);if(Ko(a)||!a.rowPinned&&!(i?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:i,pagination:n}=t,r=i.allCols,o=e.rowIndex,s=e.rowPinned,a=i.getColBefore(e.column);if(!a){a=To(r);let l=GE(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(Ko(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:a,rowPinned:s}}isSuppressNavigable(e,t){let{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){let n=e.createColumnFunctionCallbackParams(t);return i(n)}return!1}};function qve(e){return e.focusSvc.getFocusedCell()}function Yve(e){return e.focusSvc.clearFocusedCell()}function $ve(e,t,i,n){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function Xve(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function Kve(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Zve(e,t,i=!1){let n=e.headerNavigation?.getHeaderPositionForColumn(t,i);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var Qve=class extends Kt{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new rj,this.rowValidations=new oj,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;let i=this.getEditRow(e);t?i.delete(t):i.clear(),i.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;let i=e&&this.edits.get(e);if(i)return i;if(t.checkSiblings){let n=e.pinnedSibling;if(n)return this.getEditRow(n)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;let i=this.getEditRow(e),n=e.pinnedSibling,r=t&&n&&this.getEditRow(n);if(!i&&!r)return;let o=Object.assign({},e.data),s=(a,l)=>a.forEach(({pendingValue:c},d)=>{c!==jd&&(l[d.getColId()]=c)});return i&&s(i,o),r&&s(r,o),o}getEdit(e,t){let i=this._getEdit(e);return t&&i?Ie({},i):i}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;let t=new Map;return this.edits.forEach((i,n)=>{let r=new Map;i.forEach((l,a)=>{var c=l,{editorState:o}=c,s=tm(c,["editorState"]);return r.set(a,Ie({},s))}),t.set(n,r)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,i)=>{let n=new Map;t.forEach((r,o)=>n.set(o,Ie({},r))),this.edits.set(i,n)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);let i=this._getEdit(e),n=Object.assign(Ie(Ie({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}},i),t));return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){let{rowNode:t,column:i}=e;if(t)if(i){let n=this._getEdit(e);n&&(n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed")}else this.getEditRow(t)?.forEach(n=>{n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];let t=[];return(e??this.edits).forEach((i,n)=>{for(let o of i.keys()){let r=i.get(o),{editorState:s}=r,a=tm(r,["editorState"]);t.push(Ie({rowNode:n,column:o},a))}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;let{rowNode:i,column:n}=e,{withOpenEditor:r}=t;if(i){let o=this.getEditRow(i,t);return o?n?r?this.getEdit(e)?.state==="editing":o.has(n)??!1:o.size!==0?r?Array.from(o.values()).some(({state:s})=>s==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:o})=>o==="editing"):this.edits.size>0}start(e){let t=this.getEditRow(e.rowNode)??new Map,{rowNode:i,column:n}=e;n&&!t.has(n)&&t.set(n,{editorValue:void 0,pendingValue:jd,sourceValue:this.beans.valueSvc.getValue(n,i,!1,"api"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(i,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(let e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},rj=class{constructor(){this.cellValidations=new Map}getCellValidation(e){let{rowNode:t,column:i}=e||{};return this.cellValidations?.get(t)?.get(i)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){let{rowNode:i,column:n}=e;this.cellValidations.has(i)||this.cellValidations.set(i,new Map),this.cellValidations.get(i).set(n,t)}clearCellValidation(e){let{rowNode:t,column:i}=e;this.cellValidations.get(t)?.delete(i)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},oj=class{constructor(){this.rowValidations=new Map}getRowValidation(e){let{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function uO(e,t={}){let{rowIndex:i,rowId:n,rowCtrl:r,rowPinned:o}=t;if(r)return r;let{rowModel:s,rowRenderer:a}=e,{rowNode:l}=t;return l||(n?l=Nfe(e,n,o):i!=null&&(l=s.getRow(i))),a.getRowCtrls(l?[l]:[])?.[0]}function ws(e,t={}){let{cellCtrl:i,colId:n,columnId:r,column:o}=t;if(i)return i;let s=e.colModel.getCol(n??r??b5(o)),a=t.rowCtrl??uO(e,t),l=a?.getCellCtrl(s)??void 0;if(l)return l;let c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[s])?.[0]}function pG(e){let{editSvc:t}=e;t?.isBatchEditing()?(ym(e,{persist:!0}),$b(e)):t?.stopEditing(void 0,{source:"api"})}function Jve(e,t,i){let{gos:n,popupSvc:r}=t;if(!n.get("stopEditingWhenCellsLoseFocus"))return;let o=s=>{let a=s.relatedTarget;if(n5(a)===null){pG(t);return}let l=i.some(c=>c.contains(a))&&n.isElementInThisInstance(a);l||(l=!!r&&(r.getActivePopups().some(c=>c.contains(a))||r.isElementWithinCustomPopup(a))),l||pG(t)};for(let s of i)e.addManagedElementListeners(s,{focusout:o})}function b5(e){if(e)return typeof e=="string"?e:e.getColId()}var jd=Symbol("unedited");function sj(e,t={}){let i=[],n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(let r of n){let o=r.comp?.getCellEditor();o&&i.push({ctrl:r,editor:NC(o)})}return i}var ebe=(e,t={})=>sj(e,t).map(i=>i.editor);function tbe(e,t,i,n,r,o){t.length===0&&i?.rowNode&&i?.column&&t_(e,i,{key:n,event:r,cellStartedEdit:o});let{valueSvc:s,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:d}=i??{};for(let u of t){let{rowNode:h,column:f}=u,p=ws(e,u);if(!p){if(h&&f){let m=s.getValue(f,h,void 0,"api"),w=(i?.rowNode===h&&i?.column===f&&n||void 0)??a?.getCellDataValue(u,!1)??s.getValueForDisplay({column:f,node:h})?.value??m??jd;l?.setEdit(u,{pendingValue:i_(e,w,!1,f),sourceValue:m,state:"editing"})}continue}let v=o&&c===p.rowNode&&p.column===d;t_(e,{rowNode:c,column:p.column},{key:v?n:null,event:v?r:null,cellStartedEdit:v&&o})}}function kh({pendingValue:e,sourceValue:t}){return e===jd&&(e=t),e!==t}function t_(e,t,i){let{key:n,event:r,cellStartedEdit:o,silent:s}=i??{},{editModelSvc:a,editSvc:l,gos:c,userCompFactory:d}=e,u=ws(e,t),h=u?.comp?.getCellEditor(),f=lj(e,t,n,o&&!s),p=t.column.isAllowFormula(),v=a?.getEdit(t),m=f.value??v?.sourceValue;if(h){a?.setEdit(t,{editorValue:i_(e,m,!0,t.column),state:"editing"}),h.refresh?.(f);return}let g=t.column.getColDef(),b=B9(d,p?Zt(Ie({},g),{cellEditor:"agTextCellEditor"}):g,f);if(!b)return;let{popupFromSelector:w,popupPositionFromSelector:x}=b,R=w??!!g.cellEditorPopup,_=x??g.cellEditorPopupPosition;if(cj(b.params,r),!u)return;let{rangeFeature:L,rowCtrl:F,comp:T,onEditorAttachedFuncs:P}=u;a?.setEdit(t,{editorValue:i_(e,m,!0,t.column),state:"editing"}),u.editCompDetails=b,P.push(()=>L?.unsetComp()),T?.setEditDetails(b,R,_,c.get("reactiveCustomComponents")),F?.refreshRow({suppressFlash:!0});let A=a?.getEdit(t,!0);!s&&!A?.editorState?.cellStartedEditing&&(l?.dispatchCellEvent(t,r,"cellEditingStarted",{value:m}),a?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}function aj(e,t,i){let n={editorValueExists:!1};if(hO(e)&&(t.getValidationErrors?.()?.length??0)>0||i?.isCancelling)return n;if(i?.isStopping){let o=t?.isCancelAfterEnd?.();if(o)return Zt(Ie({},n),{isCancelAfterEnd:o})}return{editorValue:t.getValue(),editorValueExists:!0}}function lj(e,t,i,n){let{valueSvc:r,gos:o,editSvc:s}=e,a=e.gos.get("enableGroupEdit"),l=ws(e,t),c=t.rowNode?.rowIndex??void 0,d=s?.isBatchEditing(),u=e.colModel.getCol(t.column.getId()),{rowNode:h,column:f}=t,p=l.comp?.getCellEditor(),v=s?.getCellDataValue(t,!1),m=v===void 0?p?aj(e,p)?.editorValue:void 0:v,g=m===jd?r.getValueForDisplay({column:u,node:h})?.value:m,b=a?m:g;return f.isAllowFormula()&&e.formula?.isFormula(b)&&(b=e.formula?.normaliseFormula(b,!0)??b),Rn(o,{value:b,eventKey:i??null,column:f,colDef:f.getColDef(),rowIndex:c,node:h,data:h.data,cellStartedEdit:n??!1,onKeyDown:l?.onKeyDown.bind(l),stopEditing:w=>{s.stopEditing(t,{source:d?"ui":"api",suppressNavigateAfterEdit:w}),jE(e,t)},eGridCell:l?.eGui,parseValue:w=>r.parseValue(u,h,w,l?.value),formatValue:l?.formatValue.bind(l),validate:()=>{s?.validateEdit()}})}function xE(e,t){let{editModelSvc:i}=e;i?.getEditMap().forEach((n,r)=>{n.forEach((o,s)=>{!t&&(o.state==="editing"||o.pendingValue===jd)||!kh(o)&&(o.state!=="editing"||t)&&i?.removeEdits({rowNode:r,column:s})})})}function ibe(e,t){let i=t.comp?.getCellEditor();if(!i?.refresh)return;let{eventKey:n,cellStartedEdit:r}=t.editCompDetails.params,{column:o}=t,s=lj(e,t,n,r),a=o.getColDef(),l=B9(e.userCompFactory,a,s);i.refresh(cj(l.params,n))}function cj(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function ym(e,t){for(let i of e.editModelSvc?.getEditPositions()??[]){let n=ws(e,i);if(!n)continue;let r=n.comp?.getCellEditor();if(!r)continue;let{editorValue:o,editorValueExists:s,isCancelAfterEnd:a}=aj(e,r,t);a&&e.editModelSvc?.setEdit(i,{editorState:{isCancelAfterEnd:a}}),SE(e,i,o,void 0,!s,t)}}function SE(e,t,i,n,r,o){let{editModelSvc:s,valueSvc:a}=e;if(!s)return;let{rowNode:l,column:c}=t;if(!(l&&c))return;let d=s.getEdit(t,!0);if(!d?.sourceValue){let u={sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:d?i_(e,d.editorValue,!1,c):jd};o?.persist&&(u.state="changed"),d=s.setEdit(t,u)}s.setEdit(t,{editorValue:r?i_(e,d.sourceValue,!0,c):i}),o?.persist&&nbe(e,t)}function i_(e,t,i,n){let{formula:r}=e;return n.isAllowFormula()&&r?.isFormula(t)?r?.normaliseFormula(t,i)??t:t}function nbe(e,t){let{editModelSvc:i}=e,n=i?.getEdit(t,!0);i?.setEdit(t,{pendingValue:i_(e,n?.editorValue,!1,t.column)})}function $b(e,t,i){t||(t=e.editModelSvc?.getEditPositions());for(let n of t??[])jE(e,n,i)}function jE(e,t,i){let n=e.gos.get("enableGroupEdit"),{editModelSvc:r}=e,o=ws(e,t),s=r?.getEdit(t,!0);if(!o){s&&r?.setEdit(t,{state:"changed"});return}let{comp:a}=o;if(a&&!a.getCellEditor()){if(o?.refreshCell(),s){r?.setEdit(t,{state:"changed"});let c=n?mG(i,s):{valueChanged:!1,newValue:void 0,oldValue:s.sourceValue};gG(e,t,c,i)}return}if(hO(e)){let c=a?.getCellEditor()?.getValidationErrors?.(),d=r?.getCellValidationModel();c?.length?d?.setCellValidation(t,{errorMessages:c}):d?.clearCellValidation(t)}r?.setEdit(t,{state:"changed"}),a?.setEditDetails(),a?.refreshEditStyles(!1,!1),o?.refreshCell({force:!0,suppressFlash:!0});let l=r?.getEdit(t);if(l&&l.state==="changed"){let c=n?mG(i,l):{valueChanged:kh(l)&&!i?.cancel,newValue:i?.cancel||l.editorState.isCancelAfterEnd?void 0:l?.editorValue??s?.pendingValue,oldValue:l?.sourceValue};gG(e,t,c,i)}}function mG(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:kh(t),oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function gG(e,t,i,{silent:n,event:r}={}){let{editSvc:o,editModelSvc:s}=e,a=s?.getEdit(t),{editorState:l}=a||{},{isCancelBeforeStart:c}=l||{};!n&&!c&&(o?.dispatchCellEvent(t,r,"cellEditingStopped",i),s?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function hO(e){let{gos:t,colModel:i}=e,n=!!t.get("getFullRowEditValidationErrors"),r=i.getColumnDefs()?.filter(s=>s.editable).some(({cellEditorParams:s})=>{let{minLength:a,maxLength:l,getValidationErrors:c,min:d,max:u}=s||{};return a!==void 0||l!==void 0||c!==void 0||d!==void 0||u!==void 0}),o=e.gridApi.getCellEditorInstances().some(s=>s.getValidationElement||s.getValidationErrors);return r||n||o}function v0(e,t){if(!(t||hO(e)))return;let i=sj(e),n=new rj,{ariaAnnounce:r,localeSvc:o,editModelSvc:s,gos:a}=e,l=a.get("editType")==="fullRow",d=JG(o)("ariaValidationErrorPrefix","Cell Editor Validation");for(let h of i){let{ctrl:f,editor:p}=h,{rowNode:v,column:m}=f,g=p.getValidationErrors?.()??[],b=p.getValidationElement?.(!1)||!p.isPopup?.()&&f.eGui;if(b){let w=g!=null&&g.length>0,x=w?g.join(". "):"";D5(b,w),w&&r.announceValue(`${d} ${g}`,"editorValidation"),b instanceof HTMLInputElement?b.setCustomValidity(x):b.classList.toggle("invalid",w)}g?.length>0&&n.setCellValidation({rowNode:v,column:m},{errorMessages:g})}ym(e,{persist:!1}),s?.setCellValidationModel(n);let u=new Set;for(let{ctrl:h}of i)u.add(h.rowCtrl);if(l){let h=rbe(e);s?.setRowValidationModel(h)}for(let h of u.values()){h.rowEditStyleFeature?.applyRowStyles();for(let f of h.getAllCellCtrls())f.tooltipFeature?.refreshTooltip(!0),f.editorTooltipFeature?.refreshTooltip(!0),f.editStyleFeature?.applyCellStyles?.()}}var rbe=e=>{let t=new oj,i=e.gos.get("getFullRowEditValidationErrors"),n=e.editModelSvc?.getEditMap();if(!n)return t;for(let r of n.keys()){let o=n.get(r);if(!o)continue;let s=[],{rowIndex:a,rowPinned:l}=r;for(let d of o.keys()){let u=o.get(d);if(!u)continue;let{editorValue:h,pendingValue:f,sourceValue:p}=u,v=h??(f===jd?void 0:f)??p;s.push({column:d,colId:d.getColId(),rowIndex:a,rowPinned:l,oldValue:p,newValue:v})}let c=i?.({editorsState:s})??[];c.length>0&&t.setRowValidation({rowNode:r},{errorMessages:c})}return t};function obe(e){v0(e,!0);let t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;let i=[];return t.forEach((n,r)=>{n.forEach(({errorMessages:o},s)=>{i.push({column:s,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:o??null})})}),i}function sbe(e,t,i,{rowNode:n,column:r},o){return Rn(e.gos,{type:i,node:n,data:n.data,value:o,column:r,colDef:r.getColDef(),rowPinned:n.rowPinned,event:t,rowIndex:n.rowIndex})}function abe(e,t=!1){return e===St.DELETE?!0:!t&&e===St.BACKSPACE?H9():!1}var lbe=class extends Kt{constructor(e,t,i,n){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case St.ENTER:this.onEnterKeyDown(e);break;case St.F2:this.onF2KeyDown(e);break;case St.ESCAPE:this.onEscapeKeyDown(e);break;case St.TAB:this.onTabKeyDown(e);break;case St.BACKSPACE:case St.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case St.DOWN:case St.UP:case St.RIGHT:case St.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){let{cellCtrl:i,beans:n}=this;if(!n.editSvc?.isEditing(i,{withOpenEditor:!0})){if(e.shiftKey&&i.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let r=i.getFocusedCellPosition();n.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:i}=this.beans;if(!t)return;let n=t.extendLatestRangeInDirection(e);n&&(e.key===St.LEFT||e.key===St.RIGHT?i?.ensureColumnVisible(n.column):i?.ensureRowVisible(n.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:i,beans:n,rowNode:r}=this,{gos:o,rangeSvc:s,eventSvc:a,editSvc:l}=n;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),abe(e,o.get("enableCellEditingOnBackspace"))&&!l?.isEditing(i,{withOpenEditor:!0})){if(s&&jf(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let{column:c}=i,d=this.beans.valueSvc.getDeleteValue(c,r);r.setDataValue(c,d,"cellClear")}}else l?.isEditing(i,{withOpenEditor:!0})||n.editSvc?.startEditing(i,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){let{cellCtrl:t,beans:i}=this,{editSvc:n,navigation:r}=i,o=n?.isEditing(t,{withOpenEditor:!0}),s=t.rowNode,a=n?.isRowEditing(s,{withOpenEditor:!0}),l=c=>{n?.startEditing(c,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(o||a){if(this.isCtrlEnter(e)){n?.applyBulkEdit(t,i?.rangeSvc?.getCellRanges()||[]);return}if(v0(i),n?.checkNavWithValidation(void 0,e)==="block-stop")return;n?.isEditing(t,{withOpenEditor:!0})?n?.stopEditing(t,{event:e,source:"edit"}):a&&!t.isCellEditable()?n?.stopEditing({rowNode:s},{event:e,source:"edit"}):l(t)}else if(i.gos.get("enterNavigatesVertically")){let c=e.shiftKey?St.UP:St.DOWN;r?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(n?.hasValidationErrors())return;n?.hasValidationErrors(t)&&n.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===St.ENTER}onF2KeyDown(e){let{cellCtrl:t,beans:{editSvc:i}}=this;i?.isEditing()&&(v0(this.beans),i?.checkNavWithValidation(void 0,e)==="block-stop")||i?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){let{cellCtrl:t,beans:{editSvc:i}}=this;i?.checkNavWithValidation(t,e)==="block-stop"&&i.revertSingleCellEdit(t),setTimeout(()=>{i?.stopEditing(t,{event:e,cancel:!0})})}processCharacter(e){let i=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:r}=this;if(i||n?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===St.SPACE)this.onSpaceKeyDown(e);else if(n?.isCellEditable(r,"ui")){if(n?.hasValidationErrors()&&!n?.hasValidationErrors(r))return;n?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){let{gos:t,editSvc:i}=this.beans,{rowNode:n}=this.cellCtrl;!i?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&l0(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,n,"spaceKey"),e.preventDefault()}},cbe=class extends Kt{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Wf(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:i,editSvc:n,editModelSvc:r,frameworkOverrides:o,gos:s}=this.beans,a=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:c,cellPosition:d,rowNode:u}=l,h=_E(s,c,u,e);i&&a&&!h&&i.getCellRangeCount(d)>1&&i.intersectLastRange(!0);let f=l.createEvent(e,"cellClicked");f.isEventHandlingSuppressed=h,t.dispatchEvent(f);let p=c.getColDef();if(p.onCellClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{p.onCellClicked(f)})},0),!h&&r?.getState(l)!=="editing"){let v=n?.isEditing(),m=r?.getCellValidationModel().getCellValidationMap().size??0,g=r?.getRowValidationModel().getRowValidationMap().size??0;if(v&&(m>0||g>0))return;n?.shouldStartEditing(l,e)?n?.startEditing(l,{event:e}):n?.shouldStopEditing(l,e)&&(this.beans.gos.get("editType")==="fullRow"?n?.stopEditing(l,{event:e,source:"edit"}):n?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){let{column:t,beans:i,cellCtrl:n}=this,{eventSvc:r,frameworkOverrides:o,editSvc:s,editModelSvc:a,gos:l}=i,c=_E(l,n.column,n.rowNode,e),d=t.getColDef(),u=n.createEvent(e,"cellDoubleClicked");if(u.isEventHandlingSuppressed=c,r.dispatchEvent(u),typeof d.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{d.onCellDoubleClicked(u)})},0),!c&&s?.shouldStartEditing(n,e)&&a?.getState(n)!=="editing"){let h=s?.isEditing(),f=a?.getCellValidationModel().getCellValidationMap().size??0,p=a?.getRowValidationModel().getRowValidationMap().size??0;if(h&&(f>0||p>0))return;s?.startEditing(n,{event:e})}}onMouseDown(e){let{shiftKey:t}=e,i=e.target,{cellCtrl:n,beans:r}=this,{eventSvc:o,rangeSvc:s,rowNumbersSvc:a,focusSvc:l,gos:c,editSvc:d}=r,{column:u,rowNode:h,cellPosition:f}=n,p=_E(c,u,h,e),v=()=>{let w=n.createEvent(e,"cellMouseDown");w.isEventHandlingSuppressed=p,o.dispatchEvent(w)};if(p){v();return}if(this.isRightClickInExistingRange(e))return;let m=s&&!s.isEmpty(),g=this.containsWidget(i),b=Uf(u);if(!(a&&b&&!a.handleMouseDownOnCell(f,e))){if(!t||!m){let w=d?.isEditing(n),R=c.get("enableCellTextSelection")&&e.defaultPrevented,_=(km()||R)&&!w&&!wC(i)&&!g;n.focusCell(_,e)}if(t&&m&&!l.isCellFocused(f)){e.preventDefault();let w=l.getFocusedCell();if(w){let{column:x,rowIndex:R,rowPinned:_}=w;d?.isEditing(w)&&d?.stopEditing(w),l.setFocusedCell({column:x,rowIndex:R,rowPinned:_,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}g||(s?.handleCellMouseDown(e,f),v())}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=Qce(this.beans,e);if(i&&n)return!0}return!1}containsWidget(e){return a0(e,"ag-selection-checkbox",3)||a0(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}},dbe=class extends Kt{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){let t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();Am(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,i=e.getColSpan(t),n=[];if(i===1)n.push(e);else{let r=e,o=e.getPinned();for(let s=0;r&&s<i&&(n.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||Ko(r)||o!==r.getPinned()));s++);}return n}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=To(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let n=t.bodyWidth;return i+n+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let i=c0(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},ube="ag-cell",hbe="ag-cell-auto-height",fbe="ag-cell-normal-height",pbe="ag-cell-focus",mbe="ag-cell-first-right-pinned",gbe="ag-cell-last-left-pinned",vbe="ag-cell-not-inline-editing",bbe="ag-cell-wrap-text",_be=0,Xb=class extends Kt{constructor(e,t,i,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.formulaTooltipFeature=void 0,this.beans=i,this.gos=i.gos,this.editSvc=i.editSvc,this.hasEdit=!!i.editSvc;let{colId:r}=e;this.instanceId=r+"-"+_be++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new dbe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this),this.mouseListener=new cbe(this,e,this.column),this.keyboardListener=new lbe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature(),this.enableFormulaTooltipFeature();let{rangeSvc:t}=e;t&&jf(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(this)),Uf(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature(),this.disableFormulaTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}enableFormulaTooltipFeature(){this.formulaTooltipFeature=this.beans.tooltipSvc?.setupFormulaTooltip(this)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}disableFormulaTooltipFeature(){this.formulaTooltipFeature=this.beans.context.destroyBean(this.formulaTooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),v0(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,i,n,r,o,s){if(this.comp=e,this.eGui=t,this.printLayout=r,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,s),this.refreshFirstAndLastStyles(),this.checkFormulaError(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),o&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(let a of this.onCompAttachedFuncs)a();this.onCompAttachedFuncs=[]}}checkFormulaError(){let e=!!this.beans.formula?.getFormulaError(this.column,this.rowNode);this.eGui.classList.toggle("formula-error",e),this.formulaTooltipFeature?.refreshTooltip(),e?this.disableTooltipFeature():this.enableTooltipFeature()}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){let{beans:e,column:t}=this,{userCompFactory:i,ctrlsSvc:n,eventSvc:r}=e,o=t.getColDef(),s=this.createCellRendererParams();s.deferRender=!0;let a=EU(i,o,s);if(n.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l,c=new rs(u=>{l=u}),[d]=this.addManagedListeners(r,{bodyScrollEnd:()=>{l(),d()}});return{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:rs.resolve()}}showValue(e,t){let{beans:i,column:n,rowNode:r,rangeFeature:o}=this,{userCompFactory:s}=i,a=this.getValueToDisplay(),l,c=r.stub&&r.groupData?.[n.getId()]==null,d=n.getColDef();if(c||this.isCellRenderer()){let u=this.createCellRendererParams();!c||Uf(n)?l=MU(s,d,u):l=EU(s,d,u)}if(!l&&!c&&i.findSvc?.isMatch(r,n)){let u=this.createCellRendererParams();l=MU(s,Zt(Ie({},n.getColDef()),{cellRenderer:"agFindCellRenderer"}),u)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){let u=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});u&&(u.compDetails?l=u.compDetails:u.valueToDisplay&&(a=u.valueToDisplay))}this.comp.setRenderDetails(l,a,e),this.customRowDragComp?.refreshVisibility(),!t&&o&&$f(i,()=>o?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){let e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer",i="";return t&&(i=" ag-allow-overflow"),`${e}${i}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&$C(this.rowNode))&&!!e}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:i}=this.beans.gridOptions,n=IE(t),r=Rm(this.column);return i==="custom"&&n!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&Hb(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||i||n||r}onPopupEditorClosed(){let{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){let{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:i,rowNode:n,comp:r,eGui:o,beans:{valueSvc:s,gos:a,editSvc:l}}=this;return Rn(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay({column:i,node:n}).value,setValue:d=>l?.setDataValue({rowNode:n,column:i},d)||n.setDataValue(i,d),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:r.getParentOfValue(),registerRowDragger:(d,u,h,f)=>this.registerRowDragger(d,u,f),setTooltip:(d,u)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,u),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){let{editSvc:t,comp:i}=this;!i?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:i}={}){let{editStyleFeature:n,customStyleFeature:r,rowCtrl:{rowEditStyleFeature:o},beans:{cellFlashSvc:s,filterManager:a},column:l,comp:c,suppressRefreshCell:d,tooltipFeature:u}=this;if(d)return;let{field:h,valueGetter:f,showRowGroup:p,enableCellChangeFlash:v}=l.getColDef(),m=h==null&&f==null&&p==null,g=e||m||i,b=!!c,w=this.updateAndFormatValue(b),x=g||w;if(b){if(x){this.showValue(!!i,!1);let R=a?.isSuppressFlashingCellsBecauseFiltering();!t&&!R&&v&&s?.flashCell(this),n?.applyCellStyles?.(),r?.applyUserStyles(),r?.applyClassesFromColDef(),o?.applyRowStyles(),this.checkFormulaError()}u?.refreshTooltip(),r?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,i=this.valueFormatted,{value:n,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay({column:this.column,node:this.rowNode,includeValueFormatted:!0});return this.value=n,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){let i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){let t=this.eGui;p0(this.beans.gos,t,HE,this),e.addDestroyFunc(()=>p0(this.beans.gos,t,HE,null))}createEvent(e,t){let{rowNode:i,column:n,value:r,beans:o}=this;return sbe(o,e,t,{rowNode:i,column:n},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:i}=this;MW(e,t,i.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);UG(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){let i=this.editSvc?.allowedFocusTargetOnValidation(this);i&&i!==this||this.beans.focusSvc.setFocusedCell(Zt(Ie({},this.getFocusedCellPosition()),{forceBrowserFocus:e,sourceEvent:t}))}restoreFocus(e=!1){let{beans:{editSvc:t,focusSvc:i},comp:n}=this;if(!n||t?.isEditing(this)||!this.isCellFocused()||!i.shouldTakeFocus())return;let r=()=>{if(!this.isAlive())return;let o=n.getFocusableElement();this.isCellFocused()&&o.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(Uf(this.column)&&(e=!0),Mc(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.toggleCss(mbe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.toggleCss(gbe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(rD(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let i=this.isCellFocused(),n=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(pbe,i),i&&e?.forceBrowserFocus){let r=this.comp.getFocusableElement();if(n){let o=jb(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}i&&e&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Hf(t),column:this.column}}applyStaticCssClasses(){let{comp:e}=this;e.toggleCss(ube,!0),e.toggleCss(vbe,!0);let t=this.column.isAutoHeight()==!0;e.toggleCss(hbe,t),e.toggleCss(fbe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(bbe,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(os(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}),n.refreshVisibility())}createRowDragComp(e,t,i){let n=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){for(let e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function fO(e,t,i,n,r,o){if(i==null&&t==null)return;let s={},a={},l=(c,d)=>{for(let u of c.split(" "))u.trim()!=""&&d(u)};if(i){let c=Object.keys(i);for(let d=0;d<c.length;d++){let u=c[d],h=i[u],f;typeof h=="string"?f=e?e.evaluate(h,n):!0:typeof h=="function"&&(f=h(n)),l(u,p=>{f?s[p]=!0:a[p]=!0})}}if(t&&o)for(let c of Object.keys(t))l(c,d=>{s[d]||(a[d]=!0)});o&&Object.keys(a).forEach(o),Object.keys(s).forEach(r)}function vG(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var ybe=class extends Kt{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){let i=this.gos,n=s=>{if(typeof s=="string")e.push(s);else if(Array.isArray(s))for(let a of s)e.push(a)},r=i.get("rowClass");r&&n(r);let o=i.getCallback("getRowClass");if(o){let s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);n(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,i=>{e.push(i)},()=>{})}processRowClassRules(e,t,i){let{gos:n,expressionSvc:r}=this.beans,o=Rn(n,{data:e.data,node:e,rowIndex:e.rowIndex});fO(r,void 0,n.get("rowClassRules"),o,t,i)}processStylesFromGridOptions(e){let t=this.gos,i=t.get("rowStyle"),n=t.getCallback("getRowStyle"),r;if(n){let o={data:e.data,node:e,rowIndex:e.rowIndex};r=n(o)}if(r||i)return Object.assign({},i,r)}},wbe=0,qE=class extends Kt{constructor(e,t,i,n,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+wbe++,this.rowId=yC(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=vG(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=yC(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,n){let{context:r,focusSvc:o}=this.beans;n=WC(this,r,n);let s={rowComp:e,element:t,containerType:i,compBean:n};this.allRowGuis.push(s),this.updateGui(i,s),this.initialiseRowComp(s);let a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let d=this.fullWidthGui?.element;d&&!this.beans.editSvc?.isEditing(this)&&o.isRowFocused(a.rowIndex,a.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";for(let i of this.allRowGuis)i.element.style.display=t}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),l0(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let i=e.rowComp,n=this.getInitialRowClasses(e.containerType);for(let r of n)i.toggleCss(r,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&qF(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),p0(t,e.element,UE,this),e.compBean.addDestroyFunc(()=>p0(t,e.element,UE,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=yC(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&($F(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&($F(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==i),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:n}}=this,r=!!e||!n.isPinningLeft(),o=!!t,s=!!i||!n.isPinningRight();return r&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let{rowNode:e,gos:t,beans:{colModel:i}}=this,n=e.stub&&!t.get("suppressServerSideFullWidthLoadingRow")&&!t.get("groupHideOpenParents"),r=this.isNodeFullWidthCell(),o=t.get("masterDetail")&&e.detail,s=i.isPivotMode(),a=g9(t,e,s);n?this.rowType="FullWidthLoading":o?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":a?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:i}=this.beans;if(!i?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Xb(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,i=null){let n={list:[],map:{}},r=(c,d,u)=>{u!=null?n.list.splice(u,0,d):n.list.push(d),n.map[c]=d},o=[];for(let c of t){let d=c.getInstanceId(),u=e.map[d];u&&!this.isCorrectCtrlForSpan(u)&&(u.destroy(),u=void 0),u||(u=this.getNewCellCtrl(c)),u&&r(d,u)}for(let c of e.list){let d=c.column.getInstanceId();if(n.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,i)?o.push([d,c]):c.destroy()}if(o.length)for(let[c,d]of o){let u=n.list.findIndex(f=>f.column.getLeft()>d.column.getLeft()),h=u===-1?void 0:Math.max(u-1,0);r(c,d,h)}let{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==i){let c=l.column.getInstanceId();if(!n.map[c]&&a.allCols.includes(l.column)){let u=this.createFocusedCellCtrl();if(u){let h=n.list.findIndex(p=>p.column.getLeft()>u.column.getLeft()),f=h===-1?void 0:Math.max(h-1,0);r(c,u,f)}}}return n}createFocusedCellCtrl(){let{focusSvc:e,rowSpanSvc:t}=this.beans,i=e.getFocusedCell();if(!i)return;let n=t?.getCellSpan(i.column,this.rowNode);if(n){if(n.firstNode!==this.rowNode||!n.doesSpanContain(i))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(i.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(let t of this.allRowGuis){let i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);let n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");let r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){let{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;let{visibleCols:o,editSvc:s}=this.beans,a=s?.isEditing(e),l=e.isCellFocused();return a||l?!(o.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||bl(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=Ai(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,n=i.isPinningLeft(),r=i.isPinningRight();if(t){let{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=r}else{let{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&i&&n&&r}addListeners(){let{beans:e,gos:t,rowNode:i}=this,{expansionSvc:n,eventSvc:r,context:o,rowSpanSvc:s}=e;this.addManagedListeners(this.rowNode,Ie({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},n?.getRowExpandedListeners(this)??{})),i.detail&&this.addManagedListeners(i.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(i,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),s&&this.addManagedListeners(s,{spannedCellsUpdated:({pinned:a})=>{a&&!i.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(let l of this.allRowGuis)this.addRowDraggerToRow(l);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(let e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(let t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(let e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(let i of this.getAllCellCtrls())i.refreshCell(e);for(let i of this.allRowGuis)this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",i=t==="above",n=t==="inside",r=t==="below",o=t!=="none",s=i||r,a=this.rowNode.uiLevel,l=s&&a>0,c=l?a.toString():"0";for(let d of this.allRowGuis){let u=d.rowComp;u.toggleCss("ag-row-highlight-above",i),u.toggleCss("ag-row-highlight-inside",n),u.toggleCss("ag-row-highlight-below",r),u.toggleCss("ag-row-highlight-indent",l),o?d.element.style.setProperty("--ag-row-highlight-level",c):d.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){let e=this.rowNode.dragging;for(let t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Hf(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:i,column:n}=t;if(!(i.element===e.target))return;let s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:c?.column??n};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Wf(e))return;let t=this.allRowGuis.find(a=>a.element.contains(e.target)),i=t?t.element:null,n=i===e.target,r=os(this.beans),o=!1;i&&r&&(o=i.contains(r)&&r.classList.contains("ag-cell"));let s=null;!n&&!o&&(s=y0(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>Lh(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(let i of this.allRowGuis)Mc(i.element,"tabindex",t)}onFullWidthRowFocused(e){let t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{let o=this.beans.colModel.getCol(e?.column)?.pinned;o?n=o==="right"?this.rightGui?.element:this.leftGui?.element:n=this.centerGui?.element}n&&(n.classList.toggle("ag-full-width-focus",i),i&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let i={list:[],map:{}};for(let n of e.list)n!==t&&(i.list.push(n),i.map[n.column.getInstanceId()]=n);return i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:i}=this;return Rn(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){let i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){if(Wf(e))return;let t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=a0(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;let{rangeSvc:t,focusSvc:i}=this.beans;t?.removeAllCellRanges();let n=this.findFullWidthInfoForEvent(e);if(!n)return;let{rowGui:r,column:o}=n,s=r.element,a=e.target,l=this.rowNode,c=e.defaultPrevented||km();s&&s.contains(a)&&wC(a)&&(c=!1),i.setFocusedCell({rowIndex:l.rowIndex,column:o,rowPinned:l.rowPinned,forceBrowserFocus:c})}isSuppressMouseEvent(e){let{gos:t,rowNode:i}=this;if(this.isFullWidth()){let r=this.findFullWidthRowGui(e.target);return ife(t,r?.rowComp.getFullWidthCellRendererParams(),i,e)}let n=tO(t,e.target);return n!=null&&_E(t,n.column,i,e)}onRowClick(e){if(Wf(e)||this.lastMouseDownOnDragger)return;let i=this.isSuppressMouseEvent(e),{eventSvc:n,selectionSvc:r}=this.beans,o=this.createRowEventWithSource("rowClicked",e);o.isEventHandlingSuppressed=i,n.dispatchEvent(o),!i&&r?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:i,rowNode:n}=this,r=Rn(i,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,c)=>this.addFullWidthRowDragging(s,a,l,c),setTooltip:(s,a)=>{i.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Jde(o,r);case"FullWidthGroup":{let{value:s,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay({node:this.rowNode,includeValueFormatted:!0});return r.value=s,r.valueFormatted=a,Qde(o,r)}case"FullWidthLoading":return Zde(o,r);default:return Kde(o,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",n){let{rowDragSvc:r,context:o}=this.beans;if(!r||!this.isFullWidth())return;let s=r.createRowDragComp(()=>i,this.rowNode,void 0,e,t,n);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){let e=vG(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;for(let n of this.allRowGuis)n.rowComp.toggleCss(t,!0),n.rowComp.toggleCss(i,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(let i of this.allRowGuis)i.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(let i of this.allRowGuis)i.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(let t of e)for(let i of this.allRowGuis)i.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(let t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(let t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:n,beans:r}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&(o.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&o.push("ag-row-pinned-manual")),!n.isRowPinned()&&n.pinnedSibling&&o.push("ag-row-pinned-source"),n.isSelected()&&o.push("ag-row-selected"),n.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),n.stub&&o.push("ag-row-loading"),i&&o.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(o,n),n.dragging&&o.push("ag-row-dragging");let{rowStyleSvc:s}=r;return s&&(s.processClassesFromGridOptions(o,n),s.preProcessRowClassRules(o,n)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),i&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:i}=e,{rowNode:n,beans:r,gos:o}=this;i.addManagedListeners(t,{pointerenter:s=>{s.pointerType==="mouse"&&n.dispatchRowEvent("mouseEnter")},pointerleave:s=>{s.pointerType==="mouse"&&n.dispatchRowEvent("mouseLeave")}}),i.addManagedListeners(n,{mouseEnter:()=>{!r.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(i=>i.element);for(let i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),n)}forEachGui(e,t){if(e)t(e);else for(let i of this.allRowGuis)t(i)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),r=u9(this.gos)?Mm(this.beans,this.rowNode).height:void 0,o=r?`${Math.min(i,r)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&zb(this.gos)&&!t.sticky)if(t.rowTop!=null){let r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else for(let r of this.allRowGuis)r.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(os(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;let e=t=>{for(let i of t.list)i.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ai(e)){let t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,i;if(t.sticky)i=t.stickyRowTop;else{let n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(n);i=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(e){for(let t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let i=null;for(let n of this.getAllCellCtrls())n.column==e&&(i=n);if(i!=null||t)return i;for(let n of this.getAllCellCtrls())n?.getColSpanningList().indexOf(e)>=0&&(i=n);return i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let i=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,r=i+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",n),o.rowComp.toggleCss("ag-row-odd",!n),EE(o.element,r)})}},Cbe=class extends Kt{constructor(){super(),this.beanName="navigation",this.onPageDown=gU(this.onPageDown,100),this.onPageUp=gU(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let i=e.key,n=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=wfe(this.gos,e),a=!1;switch(i){case St.PAGE_HOME:case St.PAGE_END:!r&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case St.LEFT:case St.RIGHT:case St.UP:case St.DOWN:if(!s)return!1;r&&!n&&!o&&(this.onCtrlUpDownLeftRight(i,s),a=!0);break;case St.PAGE_DOWN:case St.PAGE_UP:!r&&!n&&(a=this.handlePageUpDown(i,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===St.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:i,focusIndex:n,focusColumn:r,isAsync:o,rowPinned:s}){let{scrollFeature:a}=this.gridBodyCon;Ai(i)&&!i.isPinned()&&a.ensureColumnVisible(i),Ai(e)&&a.ensureIndexVisible(e,t),o||a.ensureIndexVisible(n);let{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:n,column:r,rowPinned:s,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:n,rowPinned:s,column:r})}onPageDown(e){let t=this.beans,i=VF(t),n=this.getViewportHeight(),{pageBounds:r,rowModel:o,rowAutoHeight:s}=t,a=r.getPixelOffset(),l=i.top+n,c=o.getRowIndexAtPixel(l+a);s?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){let t=this.beans,i=VF(t),{pageBounds:n,rowModel:r,rowAutoHeight:o}=t,s=n.getPixelOffset(),a=i.top,l=r.getRowIndexAtPixel(a+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,i=!1){let{pageBounds:n,rowModel:r}=this.beans,o=this.getViewportHeight(),s=n.getFirstRow(),a=n.getLastRow(),l=n.getPixelOffset(),c=r.getRow(e.rowIndex),d=i?c?.rowHeight-o-l:o-l,u=c?.rowTop+d,h=r.getRowIndexAtPixel(u+l);if(h===e.rowIndex){let p=i?-1:1;t=h=e.rowIndex+p}let f;i?(f="bottom",h<s&&(h=s),t<s&&(t=s)):(f="top",h>a&&(h=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(h))&&(t=h,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let i=t?-1:1,n=this.getViewportHeight(),{pageBounds:r,rowModel:o}=this.beans,s=r.getLastRow(),a=0,l=e.rowIndex;for(;l>=0&&l<=s;){let c=o.getRow(l);if(c){let d=c.rowHeight??0;if(a+d>n)break;a+=d}l+=i}return Math.max(0,Math.min(l,s))}getViewportHeight(){let e=this.beans,t=VF(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth(),n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),n=this.getNormalisedPosition(i),{rowIndex:r,rowPinned:o,column:s}=n??i,a=s;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:a,focusIndex:r,focusColumn:a,rowPinned:o})}onHomeOrEndKey(e){let t=e===St.PAGE_HOME,{visibleCols:i,pageBounds:n,rowModel:r}=this.beans,o=i.allCols,s=t?n.getFirstRow():n.getLastRow(),a=r.getRow(s);if(!a)return;let l=(t?o:[...o].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){let i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t),r=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=r;if(n!==!1){n?t.preventDefault():n===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){let{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===s.getFirstRow())&&(l.get("headerHeight")===0||u0(r)?e_(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Xb&&e.focusCell(!0),(a.focusOverlay(!1)||e_(r,i))&&t.preventDefault()}tabToNextCell(e,t){let i=this.beans,{focusSvc:n,rowRenderer:r}=i,o=n.getFocusedCell();if(!o)return!1;let s=Fb(i,o);return!s&&(s=r.getRowByPosition(o),!s?.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,i,n="ui"){let{editSvc:r,focusSvc:o}=this.beans,s,a=e instanceof Xb?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?s=r?.moveToNextCell(a,t,i,n):s=this.moveToNextCellNotEditing(e,t,i),s===null?s:s||!!o.focusedHeader}moveToNextCellNotEditing(e,t,i){let n=this.beans.visibleCols.allCols,r;if(e instanceof qE){if(r=Zt(Ie({},e.getRowPosition()),{column:t?n[0]:To(n)}),this.gos.get("embedFullWidthRows")&&i){let s=e.findFullWidthInfoForEvent(i);s&&(r.column=s.column)}}else r=e.getFocusedCellPosition();let o=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(o===!1)return null;if(o instanceof Xb)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return Ai(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:i,skipToNextEditableCell:n}){let r=e,o=this.beans,{cellNavigation:s,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:d}=o;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=s.getNextTabbedCell(r,t);let u=a.getCallback("tabToNextCell");if(Ai(u)){let v=u({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:r||null});if(v===!0)r=e;else{if(v===!1)return!1;r={rowIndex:v.rowIndex,column:v.column,rowPinned:v.rowPinned}}}if(!r)return null;if(r.rowIndex<0){let p=Rh(o);return l.focusHeaderPosition({headerPosition:{headerRowIndex:p+r.rowIndex,column:r.column},fromCell:!0}),null}let h=a.get("editType")==="fullRow";if(i&&(!h||n)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);let f=Fb(o,r);if(!f){let p=c.getRowByPosition(r);if(!p||!p.isFullWidth()||i)continue;return Zt(Ie({},p.getRowPosition()),{column:r?.column})}if(!s.isSuppressNavigable(f.column,f.rowNode))return f.setFocusedCellPosition(r),d?.setRangeToCell(r),f}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:i,rowModel:n}=this.beans;return t==="top"?i?.getPinnedTopRow(e):t==="bottom"?i?.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,i,n){let r=i,o=!1,s=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=s;for(;r&&(r===i||!this.isValidNavigateCell(r));)c.get("enableRtl")?t===St.LEFT&&(r=this.getLastCellOfColSpan(r)):t===St.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),o=Ko(r);if(o&&e&&e.key===St.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),n){let u=c.getCallback("navigateToNextCell");if(Ai(u)){let f=u({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});Ai(f)?r={rowPinned:f.rowPinned,rowIndex:f.rowIndex,column:f.column}:r=null}}if(!r)return;if(r.rowIndex<0){let u=Rh(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:u+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}let d=this.getNormalisedPosition(r);d?this.focusPosition(d):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let i=Fb(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:i,rowRenderer:n,focusSvc:r,eventSvc:o}=this.beans,s=i.allCols;if(!n.getRowByPosition(e)?.isFullWidth())return!1;let l=r.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?To(s):s[0])};this.focusPosition(c);let d=t??(l!=null&&Pfe(c,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i?.setRangeToCell(e)}isValidNavigateCell(e){return!!Yf(this.beans,e)}getLastCellOfColSpan(e){let t=Fb(this.beans,e);if(!t)return e;let i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:To(i),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=f9(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),n=t&&i?.sticky,{scrollFeature:r}=this.gridBodyCon;!n&&Ko(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}ensureColumnVisible(e){let t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function VF(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var xbe={moduleName:"KeyboardNavigation",version:Ri,beans:[Cbe,jve,sve],apiFunctions:{getFocusedCell:qve,clearFocusedCell:Yve,setFocusedCell:$ve,setFocusedHeader:Zve,tabToNextCell:Xve,tabToPreviousCell:Kve}},Sbe=class extends Kt{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},Mbe=class extends Kt{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,i=e?.rowTop??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:n}}calculateBounds(e,t){let{rowModel:i}=this.beans,n=i.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;let r=i.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Ebe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",Dbe=class extends Kt{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let i of this.elements)i&&(yo(i,t),Ih(i,e))}},Tbe=class extends Kt{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:i}=this.beans,n=bl(e,"print"),r=n?0:t.getColsLeftWidth(),o=n?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,i.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=IC(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:o}=i,s=r;!s.length&&!o||(n&&(s=n({columns:s,viewportWidth:t})),s?.length&&(s=s.filter(a=>!Uf(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new Dbe(e,t)}setColsPinned(e,t,i){let{colModel:n,colAnimation:r,visibleCols:o,gos:s}=this.beans;if(!n.cols||!e?.length)return;if(bl(s,"print")){oi(37);return}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;let l=[];for(let c of e){if(!c)continue;let d=n.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}l.length&&(o.refresh(i),k9(this.eventSvc,l,i)),r?.finish()}initCol(e){let{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let i=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;let r=()=>{let o=i?this.leftWidth:this.rightWidth;if(o==null)return;let s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),u=t.verticalScrollShowing&&(l&&i||!l&&n)?o+c:o;e.comp.setPinnedContainerWidth(`${u}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:n,rightWidth:r}=this,o=IC(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+r+e>o)if(o>n+r)e=o-n-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,i=this.leftWidth??0,n=t+i,r=!1;if(n<e)return{columns:[],hasLockedPinned:r};let{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols],l=0,c=0,d=0,u=[],h=n-d-e;for(;(c<s.length||l<a.length)&&h>0;){if(l<a.length){let f=a[l++];if(f.colDef.lockPinned){r=!0;continue}h-=f.getActualWidth(),u.push(f)}if(c<s.length&&h>0){let f=s[c++];if(f.colDef.lockPinned){r=!0;continue}h-=f.getActualWidth(),u.push(f)}}return{columns:u,hasLockedPinned:r}}},Abe={moduleName:"PinnedColumn",version:Ri,beans:[Tbe],css:[Ebe]},Rbe=class extends ac{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=qa(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=ja(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),zG(i,"polite"),Ule(i,"additions text"),Hle(i,!0),e.eRootDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}\u200B`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(vl(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},kbe=class extends Rbe{},Ibe={moduleName:"Aria",version:Ri,beans:[kbe]},Pbe=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",bG="ag-delay-render",Fbe=class extends Kt{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(bG)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;let{renderStatus:t,ctrlsSvc:i}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}i.getGridBodyCtrl().eGridBody.classList.remove(bG),this.alreadyRevealed=!0}},Obe={moduleName:"ColumnDelayRender",version:Ri,beans:[Fbe],css:[Pbe]};function Lbe(e){e.overlays?.showLoadingOverlay()}function Nbe(e){e.overlays?.showNoRowsOverlay()}function Bbe(e){e.overlays?.hideOverlay()}var Vbe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{pointer-events:all}.ag-overlay-exporting-center,.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);display:flex;padding:var(--ag-spacing)}",zbe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},dj=class extends wo{constructor(){super(zbe),this.eOverlayWrapper=bi,this.activeOverlay=null,this.activePromise=null,this.activeCssClass=null,this.elToFocusAfter=null,this.overlayExclusive=!1,this.oldWrapperPadding=null,this.registerCSS(Vbe)}handleKeyDown(e){if(e.key!==St.TAB||e.defaultPrevented||Wf(e))return;let{beans:t,eOverlayWrapper:i}=this;if(i&&y0(t,i,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:To(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=e_(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){let i=this.eOverlayWrapper;if(!i)return;let n=i.classList,{AUTO_HEIGHT:r,NORMAL:o,PRINT:s}=Ru;n.toggle(r,t.autoHeight),n.toggle(o,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new J5(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setWrapperComp(this,!1),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)}),this.addManagedEventListeners({gridSizeChanged:this.refreshWrapperPadding.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper?.classList;if(!t){this.activeCssClass=null;return}this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i){if(this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,this.overlayExclusive=i,!e)return this.refreshWrapperPadding(),rs.resolve();if(this.setWrapperTypeClass(t),this.setDisplayed(!0,{skipAriaHidden:!0}),this.refreshWrapperPadding(),i&&this.isGridFocused()){let n=os(this.beans);n&&!M5(this.beans)&&(this.elToFocusAfter=n)}return e.then(n=>{let r=this.eOverlayWrapper;if(!r){this.destroyBean(n);return}if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}this.activePromise=null,n&&(this.activeOverlay!==n&&(r.appendChild(n.getGui()),this.activeOverlay=n),i&&this.isGridFocused()&&m0(r))}),e}refreshWrapperPadding(){if(!this.eOverlayWrapper){this.oldWrapperPadding=null;return}let e=!!this.activeOverlay||!!this.activePromise,t=0;e&&!this.overlayExclusive&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),t!==this.oldWrapperPadding&&(this.oldWrapperPadding=t,this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`))}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e){this.overlayExclusive=!1,this.elToFocusAfter=null,this.refreshWrapperPadding();return}let t=this.elToFocusAfter;this.elToFocusAfter=null,this.activeOverlay=null,this.overlayExclusive=!1,t&&!this.isGridFocused()&&(t=null),this.destroyBean(e);let i=this.eOverlayWrapper;i&&vl(i),t?.focus?.({preventScroll:!0}),this.refreshWrapperPadding()}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=os(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setWrapperComp(this,!0),super.destroy(),this.eOverlayWrapper=null}},Hbe={selector:"AG-OVERLAY-WRAPPER",component:dj},Ube=["refresh"],XC=e=>({name:e,optionalMethods:Ube}),o0={id:"agLoadingOverlay",overlayType:"loading",comp:XC("loadingOverlayComponent"),wrapperCls:"ag-overlay-loading-wrapper",exclusive:!0,compKey:"loadingOverlayComponent",paramsKey:"loadingOverlayComponentParams",isSuppressed:e=>{let t=e.get("loading");return t===!1||e.get("suppressLoadingOverlay")===!0&&t!==!0}},Ob={id:"agNoRowsOverlay",overlayType:"noRows",comp:XC("noRowsOverlayComponent"),wrapperCls:"ag-overlay-no-rows-wrapper",compKey:"noRowsOverlayComponent",paramsKey:"noRowsOverlayComponentParams",isSuppressed:e=>e.get("suppressNoRowsOverlay")},pO={id:"agNoMatchingRowsOverlay",overlayType:"noMatchingRows",comp:XC("noMatchingRowsOverlayComponent"),wrapperCls:"ag-overlay-no-matching-rows-wrapper"},YE={id:"agExportingOverlay",overlayType:"exporting",comp:XC("exportingOverlayComponent"),wrapperCls:"ag-overlay-exporting-wrapper",exclusive:!0},ME={id:"activeOverlay",comp:XC("activeOverlay"),wrapperCls:"ag-overlay-modal-wrapper",exclusive:!0},Gbe=e=>e?{agLoadingOverlay:o0,agNoRowsOverlay:Ob,agNoMatchingRowsOverlay:pO,agExportingOverlay:YE}[e]??ME:null,Wbe=e=>e?{loading:o0,noRows:Ob,noMatchingRows:pO,exporting:YE}[e]:null,jbe=class extends Kt{constructor(){super(...arguments),this.beanName="overlays",this.eWrapper=void 0,this.exclusive=!1,this.oldExclusive=!1,this.currentDef=null,this.showInitialOverlay=!0,this.userForcedNoRows=!1,this.exportsInProgress=0,this.newColumnsLoadedCleanup=null}postConstruct(){let e=this.gos;this.showInitialOverlay=Bs(e);let t=()=>{this.userForcedNoRows||this.updateOverlay(!1)},[i,n,r,o]=this.addManagedEventListeners({newColumnsLoaded:t,rowCountReady:()=>{this.disableInitialOverlay(),t(),n()},rowDataUpdated:t,modelUpdated:t});this.newColumnsLoadedCleanup=i,this.addManagedPropertyListeners(["loading","activeOverlay","activeOverlayParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams"],s=>this.onPropChange(new Set(s.changeSet?.properties)))}destroy(){this.doHideOverlay(),super.destroy(),this.eWrapper=void 0}setWrapperComp(e,t){this.isAlive()&&(t?this.eWrapper===e&&(this.eWrapper=void 0):this.eWrapper=e,this.updateOverlay(!1))}isVisible(){return!!this.currentDef}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos;if(!this.eWrapper||e.get("activeOverlay")||this.isDisabled(o0))return;let t=e.get("loading");!t&&t!==void 0||this.doShowOverlay(o0)}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;!this.eWrapper||e.get("activeOverlay")||e.get("loading")||this.isDisabled(Ob)||(this.userForcedNoRows=!0,this.doShowOverlay(Ob))}showExportOverlay(e){return Mf(this,null,function*(){let{gos:t,beans:i}=this;if(!this.eWrapper||t.get("activeOverlay")||t.get("loading")||this.isDisabled(YE)||this.userForcedNoRows&&this.currentDef===Ob){e();return}let n=this.getDesiredDefWithOverride(YE);if(!n){e();return}this.exportsInProgress++,this.focusedCell=i.focusSvc.getFocusedCell(),yield this.doShowOverlay(n),yield new Promise(o=>setTimeout(()=>o()));let r=Date.now();try{e()}finally{let o=Date.now()-r,s=Math.max(0,300-o),a=()=>{this.exportsInProgress--,this.exportsInProgress===0&&(this.updateOverlay(!1),Hfe(i,this.focusedCell),this.focusedCell=null)};s>0?setTimeout(()=>a(),s):a()}})}hideOverlay(){let e=this.gos;this.showInitialOverlay=!1;let t=this.userForcedNoRows;if(this.userForcedNoRows=!1,e.get("loading")){oi(99);return}if(e.get("activeOverlay")){oi(296);return}if(this.currentDef===pO){oi(297);return}this.doHideOverlay(),t&&this.getOverlayDef()!==Ob&&this.updateOverlay(!1)}getOverlayWrapperSelector(){return Hbe}getOverlayWrapperCompClass(){return dj}onPropChange(e){let t=e.has("activeOverlay");if((t||e.has("loading"))&&this.updateOverlay(t))return;let i=this.currentDef,n=this.eWrapper?.activeOverlay;if(n&&i){let r=e.has("activeOverlayParams");if(i===ME)r&&n.refresh?.(this.makeCompParams(!0));else{let o=i.paramsKey;(e.has("overlayComponentParams")||o&&e.has(o))&&n.refresh?.(this.makeCompParams(!1,o,i.overlayType))}}}updateOverlay(e){let t=this.eWrapper;if(!t)return this.currentDef=null,!1;let i=this.getDesiredDefWithOverride(),n=this.currentDef,r=i===ME&&e;return i!==n?i?(this.doShowOverlay(i),!0):(this.disableInitialOverlay(),this.doHideOverlay()):r&&i?(t.hideOverlay(),this.doShowOverlay(i),!0):(i||this.disableInitialOverlay(),!1)}getDesiredDefWithOverride(e){let{gos:t}=this,i=Gbe(t.get("activeOverlay"));return i||(i=e??this.getOverlayDef(),i&&this.isDisabled(i)&&(i=null)),i}getOverlayDef(){let{gos:e,beans:t}=this,{colModel:i,rowModel:n}=t,r=e.get("loading");if(r!==void 0){if(this.disableInitialOverlay(),r)return o0}else if(this.showInitialOverlay){if(!this.isDisabled(o0)&&(!e.get("columnDefs")||!i.ready||!e.get("rowData")))return o0;this.disableInitialOverlay()}else this.disableInitialOverlay();let s=n.getOverlayType();return Wbe(s)}disableInitialOverlay(){this.showInitialOverlay=!1,this.newColumnsLoadedCleanup?.(),this.newColumnsLoadedCleanup=null}doShowOverlay(e){let{gos:t,beans:i}=this,{userCompFactory:n}=i;this.currentDef=e;let r=e!==ME,o=!!e.exclusive;this.exclusive=o;let s;(e.paramsKey&&t.get(e.paramsKey)||e.compKey&&t.get(e.compKey))&&(s=e.paramsKey);let a;r&&(t.get("overlayComponent")||t.get("overlayComponentSelector"))&&(a=n.getCompDetailsFromGridOptions({name:"overlayComponent",optionalMethods:["refresh"]},void 0,this.makeCompParams(!1,e.paramsKey,e.overlayType))),a??(a=n.getCompDetailsFromGridOptions(e.comp,r?e.id:void 0,this.makeCompParams(!r,s,e.overlayType),!1));let l=a?.newAgStackInstance()??null,c=this.eWrapper?this.eWrapper.showOverlay(l,e.wrapperCls,o):rs.resolve();return this.eWrapper?.refreshWrapperPadding(),this.setExclusive(o),c}makeCompParams(e,t,i){let{gos:n}=this,r=e?n.get("activeOverlayParams"):Zt(Ie(Ie({},n.get("overlayComponentParams")),t&&n.get(t)||null),{overlayType:i});return Rn(n,r??{})}doHideOverlay(){let e=!1;this.currentDef&&(this.currentDef=null,e=!0),this.exclusive=!1;let t=this.eWrapper;return t&&(t.hideOverlay(),t.refreshWrapperPadding(),this.setExclusive(!1)),e}setExclusive(e){this.oldExclusive!==e&&(this.oldExclusive=e,this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"}))}isDisabled(e){let{gos:t}=this;return e.overlayType&&t.get("suppressOverlays")?.includes(e.overlayType)||e.isSuppressed?.(t)===!0}},qbe={moduleName:"Overlay",version:Ri,userComponents:{agLoadingOverlay:ape,agNoRowsOverlay:upe,agNoMatchingRowsOverlay:fpe,agExportingOverlay:cpe},apiFunctions:{showLoadingOverlay:Lbe,showNoRowsOverlay:Nbe,hideOverlay:Bbe},icons:{overlayLoading:"loading",overlayExporting:"loading"},beans:[jbe]},Ybe=class extends Kt{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=uue(),Sm(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Sm(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},$be=400,Xbe=class extends Kt{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{for(let o of this.getAllCellCtrls())o.onCellSelectionChanged()},t=()=>{for(let o of this.getAllCellCtrls())o.updateRangeBordersIfRangeCount()},i=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},n=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{jf(this.gos)?i():n()}),jf(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:r})=>{(!r&&n||r&&!n)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:i}=this.beans;if(i&&this.addManagedPropertyListener("showOpenedGroup",()=>{let n=i.columns;n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=bl(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new Kbe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=this.cachedRowCtrls?.getEntries()??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}isCellBeingRendered(e,t){let i=this.rowCtrlsByRowIndex[e];return!t||!i?!!i:i.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!i.getCellCtrl(t)||!i.isRowRendered()}updateCellFocus(e){for(let t of this.getAllCellCtrls())t.onCellFocused(e);for(let t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(let t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(let t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;if(t)for(let i of this.getAllCellCtrls())t.onFlashCells(i,e)},columnHoverChanged:()=>{for(let e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(let e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(let e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(let e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();let e=this.colModel.getCols();for(let t of e){let i=l=>{for(let c of this.getAllCellCtrls())c.column===t&&l(c)},n=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},o=()=>{i(l=>l.onFirstRightPinnedChanged())},s=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})}}onDomLayoutChanged(){let e=bl(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];for(let i of this.getAllRowCtrls()){let n=i.getCellCtrl(e,!0)?.eGui;n&&t.push(n)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,i){let{pinnedRowModel:n,beans:r,printLayout:o}=this,s=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));n?.forEachPinnedRow(t,(l,c)=>{let d=e[c];d&&n.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in s&&i?(e[c]=s[l.id],delete s[l.id]):e[c]=new qE(l,r,!1,!1,o)});let a=(t==="top"?n?.getPinnedTopRowCount():n?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let i=n=>{let r=n[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){let{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(let n of e??[])this.redrawRow(n,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&zb(this.gos),r=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:o,gos:s}=this;if(o){o.checkStickyRows();let a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?i:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Ph(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,i=this.findPositionToFocus(e);if(!i){t.focusHeaderPosition({headerPosition:{headerRowIndex:Rh(this.beans)-1,column:e.column}});return}if(e.rowIndex!==i.rowIndex||e.rowPinned!=i.rowPinned){t.setFocusedCell(Zt(Ie({},i),{preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}));return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Rn(this.gos,Zt(Ie({},i),{forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})))}findPositionToFocus(e){let{pagination:t,pageBounds:i}=this.beans,n=e;for(n.rowPinned==null&&t&&i&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:i.getFirstRow()});n;){if(n.rowPinned==null&&i)if(n.rowIndex<i.getFirstRow()){if(n=GE(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>i.getLastRow()&&(n={rowPinned:null,rowIndex:i.getLastRow()});let r=this.getRowByPosition(n);if(r?.isAlive())return Zt(Ie({},r.getRowPosition()),{column:e.column});n=GE(this.beans,n)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){let r=t[n].getAllCellCtrls(),o=r.length;for(let s=0;s<o;s++)e.push(r[s])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){let n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}refreshCells({rowNodes:e,columns:t,force:i,suppressFlash:n}={}){let r={force:i,newData:!1,suppressFlash:n};for(let o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){for(let t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||(t=!0,this.redrawRow(i.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=_5(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(n=>{let r=n.rowNode;return y5(r,t)})}getCellCtrls(e,t){let i;Ai(t)&&(i={},t.forEach(r=>{let o=this.colModel.getCol(r);Ai(o)&&(i[o.getId()]=!0)}));let n=[];for(let r of this.getRowCtrls(e))for(let o of r.getAllCellCtrls()){let s=o.column.getId();i&&!i[s]||n.push(o)}return n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);let t={};for(let i of Object.values(this.rowCtrlsByRowIndex)){let n=i.rowNode;t[n.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(let i of e){let n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:i}=this.beans,{afterScroll:n}=e,r,o=this.stickyRowFeature;o&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);let s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();let d=o.extraTopHeight+o.extraBottomHeight;d&&this.updateContainerHeights(d)}let c=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if(!(n&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!l),r!=null)){let d=t?.getFocusCellToUseAfterRefresh();r!=null&&d==null&&(i?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){let i={};for(let o of e)i[o]=!0;let r=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!i[o]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);let i=this.beans.pagination,n=this.beans.focusSvc?.getFocusedCell()?.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!i||i.isRowInPage(n))&&n<this.rowModel.getRowCount()&&t.push(n);let r=s=>{let a=s.rowNode.rowIndex;a==null||a===n||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};for(let s of Object.values(this.rowCtrlsByRowIndex))r(s);if(e)for(let s of Object.values(e))r(s);t.sort((s,a)=>s-a);let o=[];for(let s=0;s<t.length;s++){let a=t[s],l=this.rowModel.getRow(a);l&&!l.sticky&&o.push(a)}return o}recycleRows(e,t=!1,i=!1){let n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);for(let r of n)this.createOrUpdateRowCtrl(r,e,t,i);if(e){let{animationFrameSvc:r}=this.beans;r?.active&&i&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];for(let t of this.getFullWidthRowCtrls()){let i=t.rowNode.rowIndex;e.push(i.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=_5(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;let n=i.rowNode;return!(t!=null&&!y5(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let r,o=this.rowCtrlsByRowIndex[e];if(o||(r=this.rowModel.getRow(e),Ai(r)&&Ai(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null)),!o)if(r||(r=this.rowModel.getRow(e)),Ai(r))o=this.createRowCon(r,i,n);else return;r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o}destroyRowCtrls(e,t){let i=[];if(e){for(let n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){let r=n.instanceId;this.zombieRowCtrls[r]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[r]})}else n.destroySecondPass()}}t&&(i.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(let n of i)n()},$be))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=c0(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let n,r;if(!i.isRowsToRender())n=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),r=t.getLastRow();else{let d=this.getRowBufferInPixels(),u=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation"),f=!1,p,v;do{let x=t.getPixelOffset(),{pageFirstPixel:R,pageLastPixel:_}=t.getCurrentPagePixelRange(),L=e.divStretchOffset,F=u.getVScrollPosition(),T=F.top,P=F.bottom;h?(p=R+L,v=_+L):(p=Math.max(T+x-d,R)+L,v=Math.min(P+x+d,_)+L),this.firstVisibleVPixel=Math.max(T+x,R)+L,this.lastVisibleVPixel=Math.min(P+x,_)+L,f=this.ensureAllRowsInRangeHaveHeightsCalculated(p,v)}while(f);let m=i.getRowIndexAtPixel(p),g=i.getRowIndexAtPixel(v),b=t.getFirstRow(),w=t.getLastRow();m<b&&(m=b),g>w&&(g=w),n=m,r=g}let o=bl(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&r-n>a&&(r=n+a);let l=n!==this.firstRenderedRow,c=r!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=n,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,$f(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let i=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(s||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||s||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let n=e.rowNode,r=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),o=this.editSvc?.isEditing(e),s=n.detail;return r||o||s?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,i){let n=this.cachedRowCtrls?.getRow(e)??null;if(n)return n;let r=i&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new qE(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),i=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t,{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},Kbe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Fh(this.entriesList,i)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],Fh(this.entriesList,e)}getEntries(){return this.entriesList}};function _5(e){if(!e)return;let t={top:{},bottom:{},normal:{}};for(let i of e){let n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i;break}}return t}function y5(e,t){let i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var Zbe=class extends Kt{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Eh(e),this.firstLeaf=Bs(e)?WE:Qbe,this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Eh(e))}doFullSort(e,t){let i=e.map((n,r)=>({currentPos:r,rowNode:n}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(n=>n.rowNode)}compareRowNodes(e,t,i){let n=t.rowNode,r=i.rowNode;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=a.sort==="desc",c=this.getValue(n,a.column),d=this.getValue(r,a.column),u,h=this.getComparator(a,n);if(h)u=h(c,d,n,r,l);else{let p={accentedCompare:this.isAccentedSort};a.type==="absolute"&&(p.transform=Jbe),u=Fle(c,d,p)}if(!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-i.currentPos}getComparator(e,t){let i=e.column.getColDef(),n=this.getComparatorFromColDef(i,e);if(n)return n;if(!i.showRowGroup)return;let r=!t.group&&i.field;if(!r)return;let o=this.beans.colModel.getColDefCol(r);if(o)return this.getComparatorFromColDef(o.getColDef(),e)}getComparatorFromColDef(e,t){let i=e.comparator;if(i!=null)return typeof i=="object"?i[qf(t.type)]:i}getValue(e,t){if(this.primaryColumnsSortGroups&&e.rowGroupColumn===t)return this.getGroupDataValue(e,t);if(e.group&&t.getColDef().showRowGroup)return;let{valueSvc:i,formula:n}=this.beans,r=i.getValue(t,e,!1);return t.isAllowFormula()&&n?.isFormula(r)?n.resolveValue(t,e):r}getGroupDataValue(e,t){let{gos:i,valueSvc:n,colModel:r,showRowGroupCols:o}=this.beans;if(m9(i,r.isPivotActive())){let l=this.firstLeaf(e);return l&&n.getValue(t,l,!1)}let a=o?.getShowRowGroupCol(t.getId());if(a)return e.groupData?.[a.getId()]}},Qbe=e=>{if(e.data)return e;let t=e.childrenAfterGroup;for(;t?.length;){let i=t[0];if(i.data)return i;t=i.childrenAfterGroup}};function Jbe(e){if(!e)return e;let t=Number(e);return isNaN(t)?e:Math.abs(t)}function e_e(e){e.sortSvc?.onSortChanged("api")}var n0=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),t_e={tag:"span",cls:"ag-sort-indicator-container",children:[n0("Order","order"),n0("Asc","ascending-icon"),n0("Desc","descending-icon"),n0("Mixed","mixed-icon"),n0("AbsoluteAsc","absolute-ascending-icon"),n0("AbsoluteDesc","absolute-descending-icon"),n0("None","none-icon")]},mO=class extends wo{constructor(e){super(),this.eSortOrder=bi,this.eSortAsc=bi,this.eSortDesc=bi,this.eSortMixed=bi,this.eSortNone=bi,this.eSortAbsoluteAsc=bi,this.eSortAbsoluteDesc=bi,e||this.setTemplate(t_e)}attachCustomElements(e,t,i,n,r,o,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=r,this.eSortAbsoluteAsc=o,this.eSortAbsoluteDesc=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("sortAbsoluteAscending",this.eSortAbsoluteAsc,e),this.addInIcon("sortAbsoluteDescending",this.eSortAbsoluteDesc,e);let i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;let n=Ec(e,this.beans,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortAbsoluteAsc:i,eSortAbsoluteDesc:n,eSortNone:r,column:o,gos:s,beans:a}=this,l=a.sortSvc.getDisplaySortForColumn(o),c=qf(l?.type),d=JE(l?.direction),u=o.getAvailableSortTypes(),h=u.has("default"),f=u.has("absolute"),p=c==="absolute",v=c==="default",m=d==="asc",g=d==="desc";if(e&&yo(e,m&&v&&h,{skipAriaHidden:!0}),t&&yo(t,g&&v&&h,{skipAriaHidden:!0}),r){let b=!o.getColDef().unSortIcon&&!s.get("unSortIcon");yo(r,!b&&!d,{skipAriaHidden:!0})}i&&yo(i,m&&p&&f,{skipAriaHidden:!0}),n&&yo(n,g&&p&&f,{skipAriaHidden:!0})}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);let n=t.getColDef().showRowGroup;Eh(i)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:i}=this;if(e){let n=t.sortSvc.getDisplaySortForColumn(i)?.direction==="mixed";yo(e,n,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;let n=i.getColumnsWithSortingOrdered(),r=i.getDisplaySortIndexForColumn(t)??-1,o=n.some(a=>i.getDisplaySortIndexForColumn(a)??!1),s=r>=0&&o;yo(e,s,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():vl(e)}},i_e={selector:"AG-SORT-INDICATOR",component:mO},n_e=class extends Kt{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){let n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}progressSortFromEvent(e,t){let n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,i,n){let{gos:r,showRowGroupCols:o}=this.beans,s=Eh(r),a=[e];if(s&&e.getColDef().showRowGroup){let u=o?.getSourceColumnsForGroupColumn?.(e)?.filter(h=>h.isSortable());u&&(a=[e,...u])}for(let d of a)this.setColSort(d,t,n);let l=(i||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),c=[];if(!l){let d=this.clearSortBarTheseColumns(a,n);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(n,c)}updateSortIndex(e){let{gos:t,colModel:i,showRowGroupCols:n}=this.beans,r=Eh(t),o=n?.getShowRowGroupCol(e.getId()),s=r&&o||e,a=this.getColumnsWithSortingOrdered();i.forAllCols(d=>this.setColSortIndex(d,null));let l=a.filter(d=>r&&d.getColDef().showRowGroup?!1:d!==s);(s.getSortDef()?[...l,s]:l).forEach((d,u)=>this.setColSortIndex(d,u))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{if(t.getSortDef())return e=!0,!0}),e}dispatchSortChangedEvents(e,t){let i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){let i=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSortDef()&&i.push(n),this.setColSort(n,void 0,t))}),i}getNextSortDirection(e){let t=e.getSortingOrder(),i=e.getSortDef(),r=t.findIndex(o=>gE(o,i))+1;return r>=t.length&&(r=0),ku(t[r])}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:n}=this.beans,r=[];if(t.forAllCols(c=>{c.getSortDef()&&r.push(c)}),t.isPivotMode()){let c=Eh(e);r=r.filter(d=>{let u=!!d.getAggFunc(),h=!d.isPrimary(),f=c?i?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return u||h||f})}let o=n?.columns.filter(c=>!!c.getSortDef())??[],s={};r.forEach((c,d)=>s[c.getId()]=d),r.sort((c,d)=>{let u=c.getSortIndex(),h=d.getSortIndex();if(u!=null&&h!=null)return u-h;if(u==null&&h==null){let f=s[c.getId()],p=s[d.getId()];return f>p?1:-1}else return h==null?-1:1});let a=Eh(e)&&!!o.length;a&&(r=[...new Set(r.map(c=>i?.getShowRowGroupCol(c.getId())??c))]);let l=new Map;if(r.forEach((c,d)=>l.set(c,d)),a)for(let c of o){let d=i.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}return l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}collectSortItems(e=!1){let t=[],i=this.getColumnsWithSortingOrdered();for(let n of i){let r=n.getSortDef()?.direction;if(!r)continue;let o=qf(n.getSortDef()?.type),s={sort:r,type:o};e?s.colId=n.getId():s.column=n,t.push(s)}return t}getSortModel(){return this.collectSortItems(!0)}getSortOptions(){return this.collectSortItems()}canColumnDisplayMixedSort(e){let t=Eh(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSortDef();let n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=n[0].getSortDef();return n.every(s=>gE(s.getSortDef(),r))?r:{type:qf(e.getSortDef()?.type),direction:"mixed"}}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t){let i=()=>{let{type:n,direction:r}=ku(t.getSortDef());if(e.toggleCss("ag-header-cell-sorted-asc",r==="asc"),e.toggleCss("ag-header-cell-sorted-desc",r==="desc"),e.toggleCss("ag-header-cell-sorted-abs-asc",n==="absolute"&&r==="asc"),e.toggleCss("ag-header-cell-sorted-abs-desc",n==="absolute"&&r==="desc"),e.toggleCss("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){let a=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(l=>r==l.getSortDef()?.direction);e.toggleCss("ag-header-cell-sorted-mixed",a)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){let{sortIndex:t,initialSortIndex:i}=e.colDef,n=M9(e.colDef);n&&e.setSortDef(n,!0),t!==void 0?t!==null&&(e.sortIndex=t):i!==null&&(e.sortIndex=i)}updateColSort(e,t,i){t!==void 0&&this.setColSort(e,ku(t),i)}setColSort(e,t,i){gE(e.getSortDef(),t)||(e.setSortDef(ku(t),t===void 0),e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new mO(e)}getSortIndicatorSelector(){return i_e}},uj={moduleName:"Sort",version:Ri,beans:[n_e,Zbe],apiFunctions:{onSortChanged:e_e},userComponents:{agSortIndicator:mO},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",sortAbsoluteAscending:"aasc",sortAbsoluteDescending:"adesc"}},r_e=class extends Kt{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Sm(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Wb(e.source))}}};function o_e(e){e.valueCache?.expire()}function s_e(e,t){let{colKey:i,rowNode:n,useFormatter:r}=t,o=e.colModel.getColDefCol(i)??e.colModel.getCol(i);if(Ko(o))return null;let s=e.valueSvc.getValueForDisplay({column:o,node:n,includeValueFormatted:r});return r?s.valueFormatted??n_(s.value):s.value}var a_e="paste",l_e=class extends Kt{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;Bs(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:i}=this.beans;if(e.source===a_e||t.get("suppressChangeDetection"))return;let n=e.node,r=[n],o=this.clientSideRowModel,s=o?.rootNode;if(s&&!n.isRowPinned()){let a=t.get("aggregateOnlyChangedColumns"),l=new zC(a,s);l.addParentNode(n.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{r.push(c),c.sibling&&r.push(c.sibling)})}i.refreshCells({rowNodes:r})}},c_e=class extends Kt{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);ho(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return ho(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=n,n}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},d_e=class extends Kt{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){if(this.active){let n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=i}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},u_e={moduleName:"ValueCache",version:Ri,beans:[d_e],apiFunctions:{expireValueCache:o_e}},h_e={moduleName:"Expression",version:Ri,beans:[c_e]},f_e={moduleName:"ChangeDetection",version:Ri,beans:[l_e]},p_e={moduleName:"CellApi",version:Ri,apiFunctions:{getCellValue:s_e}},m_e=class extends Kt{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc,this.formulaDataSvc=e.formulaDataSvc}postConstruct(){this.initialised||this.init()}init(){let{gos:e,valueCache:t}=this;this.executeValueGetter=t?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=GC(e),this.cellExpressions=e.get("enableCellExpressions"),this.isTreeData=e.get("treeData"),this.initialised=!0;let i=n=>this.callColumnCellValueChangedHandler(n);this.eventSvc.addListener("cellValueChanged",i,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",i,!0)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValueForDisplay(e){let{column:t,node:i,includeValueFormatted:n,useRawFormula:r,exporting:o,source:s="ui"}=e,{showRowGroupColValueSvc:a}=this.beans,l=!t&&i.group,c=t?.colDef.showRowGroup,d=!this.isTreeData||i.footer;if(a&&d&&(l||c)){let w=a.getGroupValue(i,t);if(w==null)return{value:null,valueFormatted:null};if(!n)return{value:w.value,valueFormatted:null};let x=a.formatAndPrefixGroupColValue(w,t,o);return{value:w.value,valueFormatted:x}}if(!t)return{value:i.key,valueFormatted:null};let u=i.leafGroup&&this.colModel.isPivotMode(),h=i.group&&i.expanded&&!i.footer&&!u,f=this.gos.get("groupSuppressBlankHeader")||!i.sibling,p=h&&!f,v=this.getValue(t,i,p,s),m=v,{formula:g}=this.beans,b=n&&!(o&&t.colDef.useValueFormatterForExport===!1);return t.isAllowFormula()&&g?.isFormula(v)&&(r?(v=g.normaliseFormula(v,!0),m=g.resolveValue(t,i)):(v=g.resolveValue(t,i),m=v)),{value:v,valueFormatted:b?this.formatValue(t,i,m):null}}getValue(e,t,i=!1,n="ui"){if(this.initialised||this.init(),!t)return;if(this.hasEditSvc&&n==="ui"){let a=this.editSvc;if(a.isEditing()){let l=a.getCellDataValue({rowNode:t,column:e},!0);if(l!==void 0)return l}}let o=e.getColDef().showRowGroup;if(typeof o=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(o)??-1)>t.level)return null;let s=this.resolveValue(e,t,i);if(this.cellExpressions&&fU(s)){let a=s.substring(1);s=this.executeValueGetter(a,t.data,e,t)}return s}getFormulaFromDataSource(e,t){let i=this.formulaDataSvc;if(!i?.hasDataSource()||!e.isAllowFormula())return;let n=i.getFormula({column:e,rowNode:t});return fU(n)?n:void 0}resolveValue(e,t,i){let n=e.getColDef(),r=e.getColId(),o=this.isTreeData,s=this.getFormulaFromDataSource(e,t);if(s!==void 0)return s;let a=!i&&t.aggData&&t.aggData[r]!==void 0;if(o&&a)return t.aggData[r];let l=t.data,c=n.field;if(o&&n.valueGetter)return this.executeValueGetter(n.valueGetter,l,e,t);if(o&&c&&l)return EC(l,c,e.isFieldContainsDots());let d=t.groupData;if(d&&r in d)return t.groupData[r];if(a)return t.aggData[r];let h=n.showRowGroup,f=typeof h!="string"||!t.group,p=this.isSsrm&&i&&!!n.aggFunc,v=this.isSsrm&&t.footer&&t.field&&(h===!0||h===t.field);if(n.valueGetter&&!p)return f?this.executeValueGetter(n.valueGetter,l,e,t):void 0;if(v)return EC(l,t.field,e.isFieldContainsDots());if(c&&l&&!p)return f?EC(l,c,e.isFieldContainsDots()):void 0}parseValue(e,t,i,n){let r=e.getColDef();if(r.allowFormula&&this.beans.formula?.isFormula(i))return i;let o=r.valueParser;if(Ai(o)){let s=Rn(this.gos,{node:t,data:t?.data,oldValue:n,newValue:i,colDef:r,column:e});return typeof o=="function"?o(s):this.expressionSvc?.evaluate(o,s)}return i}getDeleteValue(e,t){return Ai(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay({column:e,node:t}).value)??null:null}formatValue(e,t,i,n,r=!0){let{expressionSvc:o}=this.beans,s=null,a,l=e.getColDef();if(n?a=n:r&&(a=l.valueFormatter),a){let c=t?t.data:null,d=Rn(this.gos,{value:i,node:t,data:c,colDef:l,column:e});typeof a=="function"?s=a(d):s=o?o.evaluate(a,d):null}else if(l.refData)return l.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s}setValue(e,t,i,n){let r=this.colModel.getColDefCol(t);if(!e||!r)return!1;this.ensureRowData(e);let o=r.getColDef();if(!this.isSetValueSupported({column:r,newValue:i,colDef:o}))return!1;let s=Rn(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,n),newValue:i,colDef:o,column:r});s.newValue=i;let a=this.handleExternalFormulaChange({column:r,eventSource:n,newValue:i,setterParams:s,rowNode:e});if(a!==null)return a;let l=this.computeValueChange({column:r,newValue:i,params:s,rowData:e.data,valueSetter:o.valueSetter,field:o.field});return l===void 0&&(l=!0),l?this.finishValueChange(e,r,s,n):!1}finishValueChange(e,t,i,n){e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let r=this.getValue(t,e);return this.dispatchCellValueChangedEvent(e,i,r,n),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,i,r,n),!0}ensureRowData(e){Ko(e.data)&&(e.data={})}isSetValueSupported(e){let{column:t,newValue:i,colDef:n}=e,{field:r,valueSetter:o}=n,s=this.beans.formula,a=t.isAllowFormula()&&s?.isFormula(i),l=!!this.formulaDataSvc?.hasDataSource();return Ko(r)&&Ko(o)&&!(l&&a)?(oi(17),!1):this.dataTypeSvc&&!this.dataTypeSvc.checkType(t,i)?(oi(135),!1):!0}handleExternalFormulaChange(e){let{column:t,rowNode:i,newValue:n,eventSource:r,setterParams:o}=e,s=this.beans.formula,a=this.formulaDataSvc;if(!a?.hasDataSource()||!t.isAllowFormula())return null;let l=s?.isFormula(n),c=a.getFormula({column:t,rowNode:i});if(l){if(!(c!==n))return!1;a.setFormula({column:t,rowNode:i,formula:n});let u=s?.resolveValue(t,i),h=t.getColDef();if(Ai(h.valueSetter)||!Ko(h.field)){let f=Zt(Ie({},o),{newValue:u});this.computeValueChange({column:t,newValue:u,params:f,rowData:i.data,valueSetter:h.valueSetter,field:h.field})}return this.finishValueChange(i,t,o,r)}return c!==void 0&&a.setFormula({column:t,rowNode:i,formula:void 0}),null}computeValueChange(e){let{valueSetter:t,params:i,rowData:n,field:r,column:o,newValue:s}=e;return Ai(t)?typeof t=="function"?t(i):this.expressionSvc?.evaluate(t,i):this.setValueUsingField(n,r,s,o.isFieldContainsDots())}dispatchCellValueChangedEvent(e,t,i,n){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:i,value:i,source:n})}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let r=!1;if(!n)r=e[t]===i,r||(e[t]=i);else{let o=t.split("."),s=e;for(;o.length>0&&s;){let a=o.shift();o.length===0?(r=s[a]===i,r||(s[a]=i)):s=s[a]}}return!r}executeValueGetterWithValueCache(e,t,i,n){let r=i.getColId(),o=this.valueCache.getValue(n,r);if(o!==void 0)return o;let s=this.executeValueGetterWithoutValueCache(e,t,i,n);return this.valueCache.setValue(n,r,s),s}executeValueGetterWithoutValueCache(e,t,i,n){let r=Rn(this.gos,{data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)}),o;return typeof e=="function"?o=e(r):o=this.expressionSvc?.evaluate(e,r),o}getValueCallback(e,t){let i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){let i=this.getValue(e,t),n=e.getColDef().keyCreator,r=i;if(n){let o=Rn(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});r=n(o)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&oi(121)),r}},g_e={moduleName:"CommunityCore",version:Ri,beans:[uve,rme,c0e,Ade,Ybe,wge,ove,kve,Mde,Mbe,Sbe,Xbe,m_e,cve,rve,dve,u0e,r_e,r0e,o0e,Uve],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:ome,destroy:sme,isDestroyed:ame,getGridOption:lme,setGridOption:cme,updateGridOptions:FW,isModuleRegistered:dme},dependsOn:[t0e,Jme,sge,uj,Bve,xge,Vve,qbe,f_e,Hve,xbe,Abe,Ibe,Wve,l0e,i0e,h_e,Dge,Obe]},hj={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1,Formula:1},zF=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],v_e={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:zF,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...zF,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...zF,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},b_e={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function __e(e,t){let i=[];for(let n of Array.isArray(e)?e:[e]){let r=v_e[n];if(r)for(let o of r){let s=b_e[o];(!s||s===t)&&i.push(o)}else i.push(n)}return i}var fj=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,y_e=e=>{let t=e.map(n=>`import { ${DC(n)} } from '${hj[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>DC(n,!0)).join(", ")} ]); 

For more info see: ${Vb}/modules/`};function DC(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function w_e(e,t){let i=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines"),n="";return!globalThis?.agCharts&&i.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>hj[o])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}function pj({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var _G=({reasonOrId:e,moduleName:t,gridScoped:i,gridId:n,rowModelType:r,additionalText:o,isUmd:s})=>{let a=__e(t,r),l=typeof e=="string"?e:M_e[e];if(s)return w_e(l,a);let c=a.filter(h=>h==="IntegratedCharts"||h==="Sparklines"),d=c.length>0?`${c.map(h=>DC(h)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(h=>DC(h)).join(", "):DC(a[0])} is not registered${i?" for gridId: "+n:""}. ${d} Check if you have registered the module:
`}
${y_e(a)}`+(o?` 

${o}`:"")},yG=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,C_e=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,x_e={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:i})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",i],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${C_e(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:i,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${i?"":" the default"} paginationPageSizeSelector=[${n?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:i,jsComps:n})=>{let r=[],o=[...Object.keys(i??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(n??[]).filter(a=>!!n[a])],s=s5({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&r.push(`         Did you mean: [${s.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Vb}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{let i=s5({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,i.length>0?`         Did you mean: [${i.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:i})=>["duplicate group keys for row data, keys should be unique",e,t,...i??[]],187:({rowId:e,firstData:t,secondData:i})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",i],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:_G,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Vb}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>yG("IntegratedChartsModule"),258:()=>yG("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:i,gridId:n,rowModelType:r})=>_G({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Yb[t],gridId:n,gridScoped:i,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Vb}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>fj(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:pj,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`,293:()=>"The grid was initialised detached from the DOM and was then inserted into a Shadow Root. Theme styles are probably broken. Pass the themeStyleContainer grid option to let the grid know where in the document to insert theme CSS.",294:()=>"When using the `agRichSelectCellEditor` setting `filterListAsync = true` requires `allowTyping = true` and the `values()` callback must return a Promise of filtered values.",295:({blockedService:e})=>`colDef.allowFormula is not supported with ${e}. Formulas has been turned off.`,296:()=>"Since v35, `api.hideOverlay()` does not hide the overlay when `activeOverlay` is set. Set `activeOverlay=null` instead.",297:()=>'`api.hideOverlay()` does not hide the no matching rows overlay as it is only controlled by grid state. Set `suppressOverlays=["noMatchingRows"] to not show it.'};function S_e(e,t){let i=x_e[e];if(!i)return[`Missing error text for error id ${e}!`];let n=i(t),o=`
See ${c9(e,t)}`;return Array.isArray(n)?n.concat(o):[n,o]}var M_e={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},wG=new WeakMap,CG=new WeakMap;function mj(e,t,i){if(!t)return ho(11),{};let n=i,r;if(!n?.setThemeOnGridDiv){let s=Ya({tag:"div"});s.style.height="100%",e.appendChild(s),e=s,r=()=>e.remove()}return new D_e().create(e,t,s=>{let a=new ime(e);s.createBean(a)},void 0,i,r)}var E_e=1,D_e=class{create(e,t,i,n,r,o){let s=O5.applyGlobalGridOptions(t),a=s.gridId??String(E_e++),l=this.getRegisteredModules(r,a,s.rowModelType),c=this.createBeansList(s.rowModelType,l,a),d=this.createProvidedBeans(e,s,r);if(!c)return;let h={providedBeanInstances:d,beanClasses:c,id:a,beanInitComparator:Vpe,beanDestroyComparator:zpe,derivedBeans:[Npe],destroyCallback:()=>{CG.delete(p),wG.delete(e),Tce(a),o?.()}},f=new fhe(h);this.registerModuleFeatures(f,l),i(f),f.getBean("syncSvc").start(),n?.(f);let p=f.getBean("gridApi");return wG.set(e,p),CG.set(p,e),p}getRegisteredModules(e,t,i){return FC(g_e,void 0,!0),e?.modules?.forEach(n=>FC(n,t)),Ace(t,xG(i))}registerModuleFeatures(e,t){let i=e.getBean("registry"),n=e.getBean("apiFunctionSvc");for(let r of t){i.registerModule(r);let o=r.apiFunctions;if(o){let s=Object.keys(o);for(let a of s)n?.addFunction(a,o[a])}}}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Ko(n)&&(n=new lO);let r={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:n};return i?.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e,t,i){let n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=xG(e),o=n[r];if(!o){bC(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!kce()){bC(272,void 0,fj());return}if(!e){let a=Object.entries(n).filter(([l,c])=>XF(c,i,l));if(a.length==1){let[l,c]=a[0];if(l!==r){let d={moduleName:c,rowModelType:l};bC(275,d,pj(d));return}}}if(!XF(o,i,r)){let a=N5(),l=`rowModelType = '${r}'`,c=a?`Unable to use ${l} as that requires the ag-grid-enterprise script to be included.
`:`Missing module ${o}Module for rowModelType ${r}.`;bC(200,{reasonOrId:l,moduleName:o,gridScoped:L5(),gridId:i,rowModelType:r,isUmd:a},c);return}let s=new Set;for(let a of t)for(let l of a.beans??[])s.add(l);return Array.from(s)}};function xG(e){return e??"clientSide"}function Im(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function lD(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0}function T_e(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var A_e=class extends Kt{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");return t?pce(t):mce(e.get("localeText"))}};function R_e(e,t=!1){let i=[],n=[],r=[],o=[],s=[],a=[],l=[],c=[],d=[],u=0;for(let h=0;h<e.length;h++){let{colId:f,sort:p,sortType:v,sortIndex:m,rowGroup:g,rowGroupIndex:b,aggFunc:w,pivot:x,pivotIndex:R,pinned:_,hide:L,width:F,flex:T}=e[h];d.push(f),p&&(i[m??u++]={colId:f,sort:p,type:v}),g&&(n[b??0]=f),typeof w=="string"&&r.push({colId:f,aggFunc:w}),x&&(o[R??0]=f),_&&(_==="right"?a:s).push(f),L&&l.push(f),(T!=null||F)&&c.push({colId:f,flex:T??void 0,width:F===null?void 0:F})}return{sort:i.length?{sortModel:HF(i)}:void 0,rowGroup:n.length?{groupColIds:HF(n)}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:HF(o)}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function HF(e){return e.filter(t=>t!=null)}function k_e(e){let t=[];for(let{groupId:i,open:n}of e)n&&t.push(i);return t.length?{openColumnGroupIds:t}:void 0}var gj=class{wrap(e,t,i,n){let r=this.createWrapper(e,n);for(let o of t??[])this.createMethod(r,o,!0);for(let o of i??[])this.createMethod(r,o,!1);return r}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&oi(49,{methodName:t}),null)}}};function UF(e){return e.get("tooltipShowMode")==="whenTruncated"}function I_e(e,t){if(typeof e!="number")return"";let i=t(),n=i("thousandSeparator",","),r=i("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var P_e=class extends Kt{getFileName(e){let t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){return this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},F_e=class{constructor(e){let{colModel:t,rowGroupColsSvc:i,colNames:n,valueSvc:r,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=i,this.colNames=n,this.valueSvc=r,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e){let{column:t,node:i,currentColumnIndex:n,accumulatedRowIndex:r,type:o,useRawFormula:s}=e,a=n===0&&g9(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(t.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||a))return{value:this.processRowGroupCallback(Rn(this.gos,{column:t,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Rn(this.gos,{accumulatedRowIndex:r,column:t,node:i,value:this.valueSvc.getValueForDisplay({column:t,node:i}).value,type:o,parseValue:p=>this.valueSvc.parseValue(t,i,p,this.valueSvc.getValue(t,i,void 0)),formatValue:p=>this.valueSvc.formatValue(t,i,p)??p}))??""};let l=this.gos.get("treeData"),c=this.valueSvc,d=i.level===-1&&i.footer,u=t.colDef.showRowGroup===!0&&(i.group||l);if(!d&&(a||u)){let p="",v=i;for(;v&&v.level!==-1;){let{value:m,valueFormatted:g}=c.getValueForDisplay({column:a?void 0:t,node:v,includeValueFormatted:!0,exporting:!0});p=` -> ${g??m??""}${p}`,v=v.parent}return{value:p,valueFormatted:p}}let{value:h,valueFormatted:f}=c.getValueForDisplay({column:t,node:i,includeValueFormatted:!0,exporting:!0,useRawFormula:s});return{value:h??"",valueFormatted:f}}getHeaderName(e,t){return e?e(Rn(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function O_e(e,t){let i=document.defaultView||window;if(!i){oi(52);return}let n=document.createElement("a"),r=i.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),n.remove(),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}var L_e={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,overlayComponent:!0,suppressOverlays:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},xc="clientSide",Il="serverSide",Tb="infinite",N_e={onGroupExpandedOrCollapsed:[xc],refreshClientSideRowModel:[xc],isRowDataEmpty:[xc],forEachLeafNode:[xc],forEachNodeAfterFilter:[xc],forEachNodeAfterFilterAndSort:[xc],resetRowHeights:[xc,Il],applyTransaction:[xc],applyTransactionAsync:[xc],flushAsyncTransactions:[xc],getBestCostNodeSelection:[xc],getServerSideSelectionState:[Il],setServerSideSelectionState:[Il],applyServerSideTransaction:[Il],applyServerSideTransactionAsync:[Il],applyServerSideRowData:[Il],retryServerSideLoads:[Il],flushServerSideAsyncTransactions:[Il],refreshServerSide:[Il],getServerSideGroupLevelState:[Il],refreshInfiniteCache:[Tb],purgeInfiniteCache:[Tb],getInfiniteRowCount:[Tb],isLastRowIndexKnown:[Tb,Il],expandAll:[xc,Il],collapseAll:[xc,Il],onRowHeightChanged:[xc,Il],setRowCount:[Tb,Il],getCacheBlockState:[Tb,Il]},B_e={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function V_e(e,t,i){let n=B_e[e];if(n){let{version:o,new:s,old:a,message:l}=n,c=a??e;return(...d)=>{let u=s?`Please use ${s} instead. `:"";return xC(`Since ${o} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}let r=N_e[e];return r?(...o)=>{let s=i.rowModel.getType();if(!r.includes(s)){Nb(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,o)}:t}var z_e={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},H_e={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,aasc:1,adesc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},U_e={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",overlayLoading:"Overlay",overlayExporting:"Overlay",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",richSelectLoading:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortAbsoluteAscending:["MenuCore","Sort"],sortAbsoluteDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},G_e=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),W_e=class extends Kt{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Ice(S_e)}warnOnInitialPropertyUpdate(e,t){e==="api"&&L_e[t]&&oi(22,{key:t})}processGridOptions(e){this.processOptions(e,Tve())}validateApiFunction(e,t){return V_e(e,t,this.beans)}missingUserComponent(e,t,i,n){let r=Yb[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):oi(101,{propertyName:e,componentName:t,agGridDefaults:i,jsComps:n})}missingDynamicBean(e){let t=z_e[e];return t?Ph(200,Zt(Ie({},this.gos.getModuleErrorParams()),{moduleName:t,reasonOrId:e})):void 0}checkRowEvents(e){q_e.has(e)&&oi(10,{eventType:e})}validateIcon(e){if(G_e.has(e)&&oi(43,{iconName:e}),H_e[e])return;let t=U_e[e];if(t){ho(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:L5(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}oi(134,{iconName:e})}isProvidedUserComp(e){return!!Yb[e]}validateColDef(e){this.processOptions(e,bve())}processOptions(e,t){let{validations:i,deprecations:n,allProperties:r,propertyExceptions:o,objectName:s,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],r,s,a);let l=new Set;if(Object.keys(e).forEach(d=>{let u=n[d];if(u){let{message:b,version:w}=u;l.add(`As of v${w}, ${String(d)} is deprecated. ${b??""}`)}let h=e[d];if(h==null||h===!1)return;let f=i[d];if(!f)return;let{dependencies:p,validate:v,supportedRowModels:m,expectedType:g}=f;if(g){let b=typeof h;if(b!==g){l.add(`${String(d)} should be of type '${g}' but received '${b}' (${h}).`);return}}if(m){let b=this.gridOptions.rowModelType??"clientSide";if(!m.includes(b)){l.add(`${String(d)} is not supported with the '${b}' row model. It is only valid with: ${m.join(", ")}.`);return}}if(p){let b=this.checkForRequiredDependencies(d,p,e);if(b){l.add(b);return}}if(v){let b=v(e,this.gridOptions,this.beans);if(b){l.add(b);return}}}),l.size>0)for(let d of l)xC(d)}checkForRequiredDependencies(e,t,i){let r=Object.entries(t).filter(([o,s])=>{let a=i[o];return!s.required.includes(a)});return r.length===0?null:r.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,i,n,r){let o=["__ob__","__v_skip","__metadata__"],s=j_e(Object.getOwnPropertyNames(e),[...o,...t,...i],i),a=Object.keys(s);for(let l of a){let c=s[l],d=`invalid ${n} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;i.includes("context")&&(d+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),xC(d)}if(a.length>0&&r){let l=this.beans.frameworkOverrides.getDocLink(r);xC(`to see all the valid ${n} properties please check: ${l}`)}}};function j_e(e,t,i){let n={},r=e.filter(o=>!t.some(s=>s===o));if(r.length>0)for(let o of r)n[o]=s5({inputValue:o,allSuggestions:i}).values;return n}var q_e=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Y_e={moduleName:"Validation",version:Ri,beans:[W_e]};function w5(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var $_e=class extends Kt{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){let t=!!this.filterManager?.isChildFilterPresent();this.beans.formula?.active?this.softFilter(t,e):this.filterNodes(t,e)}filterNodes(e,t){let i=(n,r)=>{n.hasChildren()&&e&&!r?n.childrenAfterFilter=n.childrenAfterGroup.filter(o=>{let s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):n.childrenAfterFilter=n.childrenAfterGroup,w5(n)};if(this.doingTreeDataFiltering()){let n=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){let l=o.childrenAfterGroup[a],c=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(o.childrenAfterGroup[a],c):i(l,c)}i(o,s)},r=o=>n(o,!1);t.executeFromRootNode(r)}else{let n=r=>i(r,!1);t.forEachChangedNodeDepthFirst(n,!0)}}softFilter(e,t){let i=n=>{if(n.childrenAfterFilter=n.childrenAfterGroup,n.hasChildren())for(let r of n.childrenAfterGroup)r.softFiltered=e&&!(r.data&&this.filterManager.doesRowPassFilter({rowNode:r}));w5(n)};t.forEachChangedNodeDepthFirst(i,!0)}doingTreeDataFiltering(){let{gos:e}=this;return e.get("treeData")&&!e.get("excludeChildrenWhenTreeDataFiltering")}},X_e=class extends aO{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,i,n,r){this.comp=e;let o=WC(this,this.beans.context,r);this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o);let s=()=>this.onColDefChanged(o);o.addManagedListeners(this.column,{colDefChanged:s}),o.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&s()}}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.colDef;return Rn(t.gos,{colDef:i,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=Ec("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new jC(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();Kb(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){let{beans:t}=this;if(os(t)===this.eGui)return;let r=y0(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}let o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case St.UP:case St.DOWN:case St.LEFT:case St.RIGHT:if(t)return;g0(e);case St.ENTER:t&&m0(this.eGui)&&e.preventDefault();break;case St.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&a0(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){let r=this.lastFocusEvent,o=!!(r&&r.key===St.TAB);if(r&&o){let s=r.shiftKey;m0(this.eGui,s)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new sO(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!dd(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{beans:{colFilter:t},column:i,gos:n}=this,r=o=>{if(o?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;let s=this.comp.getFloatingFilterComp();s&&s.then(a=>{if(a){if(n.get("enableFilterHandlers")){let d=o,u="filter";d?.afterFloatingFilter?u="ui":d?.afterDataChange?u="dataChanged":o?.source==="api"&&(u="api"),this.updateFloatingFilterParams(this.userCompDetails,u);return}let l=t?.getCurrentFloatingFilterParentModel(i),c=o?Zt(Ie({},o),{columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}):null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(i,{filterChanged:r}),t?.isFilterActive(i)&&r(null)}setupWidth(e){let t=()=>{let i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let n=this.beans.colFilter,r=this.active?n?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!r?this.updateCompDetails(e,r,i):o.then(s=>{!s||n?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,i):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let i=e.params;this.comp.getFloatingFilterComp()?.then(n=>{typeof n?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(i=Zt(Ie({},i),{model:Ga(this.beans.colFilter?.model??{},this.column.getColId()),source:t})),n.refresh(i))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function K_e(e,t){let i=e.colModel.getCol(t);if(!i){ho(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:i,positionBy:"auto"})}function Z_e(e){e.menuSvc?.hidePopupMenu()}var Q_e={moduleName:"SharedMenu",version:Ri,beans:[rpe],apiFunctions:{showColumnMenu:K_e,hidePopupMenu:Z_e}},J_e=class extends She{getDefaultPopupParent(){return this.beans.ctrlsSvc.get("gridCtrl").getGui()}callPostProcessPopup(e,t,i,n,r){let o=this.gos.getCallback("postProcessPopup");if(o){let{column:s,rowNode:a}=e??{};o({column:s,rowNode:a,ePopup:i,type:t,eventSource:n,mouseEvent:r})}}getActivePopups(){return this.popupList.map(e=>e.element)}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Wf(e)}},cD={moduleName:"Popup",version:Ri,beans:[J_e]},eye=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function tye(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function iye(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function nye(e,t){let i=e.colModel.getColDefCol(t);if(i)return e.colFilter?.destroyFilter(i,"api")}function rye(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function oye(e){return e.filterManager?.getFilterModel()??{}}function sye(e,t,i){let{gos:n,colModel:r,colFilter:o}=e;i&&!n.get("enableFilterHandlers")&&(oi(288),i=!1);let s=r.getColDefCol(t);return s?o?.getModelForColumn(s,i)??null:null}function aye(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()}function lye(e,t){let i=e.colModel.getCol(t);if(!i){ho(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function cye(e){e.menuSvc?.hideFilterMenu()}function dye(e,t){let i=e.colModel.getCol(t);if(!i){ho(12,{colKey:t});return}return e.colFilter?.getHandler(i,!0)}function uye(e,t){let{colModel:i,colFilter:n,gos:r}=e;if(!r.get("enableFilterHandlers")){oi(287);return}let{colId:o,action:s}=t;if(o){let a=i.getColById(o);a&&n?.updateModel(a,s)}else n?.updateAllModels(s)}var hye={filterHandler:()=>({doesFilterPass:()=>!0})},fye=class extends Kt{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap=Ie({},cW),this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});let e=this.gos,t=Ie({},e.get("initialState")?.filter?.filterModel??{});this.initialModel=t,this.model=Ie({},t),e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",i){let{colModel:n,dataTypeSvc:r,filterManager:o}=this.beans;if(r?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}let s=[],a=this.getModel(!0);if(e){let l=new Set(Object.keys(e));this.allColumnFilters.forEach((c,d)=>{let u=e[d];s.push(this.setModelOnFilterWrapper(c,u)),l.delete(d)}),l.forEach(c=>{let d=n.getColDefCol(c)||n.getCol(c);if(!d){oi(62,{colId:c});return}if(!d.isFilterAllowed()){oi(63,{colId:c});return}let u=this.getOrCreateFilterWrapper(d,!0);if(!u){oi(64,{colId:c});return}s.push(this.setModelOnFilterWrapper(u,e[c],!0))})}else this.model={},this.allColumnFilters.forEach(l=>{s.push(this.setModelOnFilterWrapper(l,null))});rs.all(s).then(()=>{let l=this.getModel(!0),c=[];this.allColumnFilters.forEach((d,u)=>{let h=a?a[u]:null,f=l?l[u]:null;AC(h,f)||c.push(d.column)}),c.length>0?o?.onFilterChanged({columns:c,source:t}):i&&this.updateActive("filterChanged")})}getModel(e){let t={},{allColumnFilters:i,initialModel:n,beans:{colModel:r}}=this;if(i.forEach((o,s)=>{let a=this.getModelFromFilterWrapper(o);Ai(a)&&(t[s]=a)}),!e)for(let o of Object.keys(n)){let s=n[o];Ai(s)&&!i.has(o)&&r.getCol(o)?.isFilterAllowed()&&(t[o]=s)}return t}setState(e,t,i="api"){if(this.state.clear(),t)for(let n of Object.keys(t)){let r=t[n];this.state.set(n,{model:Ga(this.model,n),state:r})}this.setModel(e,i,!0)}getState(){let e=this.state;if(!e.size)return;let t={},i=!1;return e.forEach((n,r)=>{let o=n.state;o!=null&&(i=!0,t[r]=o)}),i?t:void 0}getModelFromFilterWrapper(e){let i=e.column.getColId();if(e.isHandler)return Ga(this.model,i);let n=e.filter;return n?typeof n.getModel!="function"?(oi(66),null):n.getModel():Ga(this.initialModel,i)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){let e=c=>c?c.isFilterActive?c.isFilterActive():(oi(67),!1):!1,{colModel:t,gos:i}=this.beans,n=!!QF(i),r=c=>{if(!c.isPrimary())return!0;let u=!t.isPivotActive();return!c.isValueActive()||!u?!1:t.isPivotMode()?!0:n},o=[],s=[],a=(c,d,u)=>{d&&(r(c)?o.push(u):s.push(u))},l=[];return this.allColumnFilters.forEach(c=>{let d=c.column,u=d.getColId();if(c.isHandler)l.push(rs.resolve().then(()=>{a(d,this.isHandlerActive(d),{colId:u,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{let h=vm(c);h&&l.push(h.then(f=>{a(d,e(f),{colId:u,isHandler:!1,comp:f})}))}}),rs.all(l).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){let i=[];return this.allColumnFilters.forEach(n=>{let r=n.column;if(n.isHandler)i.push(rs.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{let o=vm(n);o&&i.push(o.then(s=>{this.setColFilterActive(r,s.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),rs.all(i)}doFiltersPass(e,t,i){let{data:n,aggData:r}=e,o=i?this.activeAggregateFilters:this.activeColumnFilters,s=i?r:n,a=this.model;for(let l=0;l<o.length;l++){let c=o[l],{colId:d,isHandler:u}=c;if(d!==t)if(u){let{handler:h,handlerParams:f}=c;if(!h.doesFilterPass({node:e,data:s,model:Ga(a,d),handlerParams:f}))return!1}else{let h=c.comp;if(typeof h.doesFilterPass!="function"){ho(91);continue}if(!h.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){let t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:i}=this.beans,n=()=>{this.isAlive()&&i?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){let{column:t,additionalEventAttributes:i}=e,n=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(r=>{let{column:o,isHandler:s}=r;n!==o.getColId()&&(s&&r.handler.onAnyFilterChanged?.(),vm(r,s)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){let t=[];this.allColumnFilters.forEach(i=>{let n=i.isHandler;n&&i.handler.onNewRowsLoaded?.();let r=vm(i,n);r&&t.push(r.then(o=>{o.onNewRowsLoaded?.()}))}),rs.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){let{filterValueSvc:i,colModel:n}=this.beans;return(r,o)=>{let s=o?n.getCol(o):e;return s?i.getValue(s,r,t):void 0}}isFilterActive(e){let t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);let i=t?.filter;return i?i.isFilterActive():Ga(this.initialModel,e.getColId())!=null}isHandlerActive(e){let t=Ai(Ga(this.model,e.getColId()));if(t)return t;let i=this.beans.groupFilter;return i?.isGroupFilter(e)?i.isFilterActive(e):!1}getOrCreateFilterUi(e){let t=this.getOrCreateFilterWrapper(e,!0);return t?vm(t):null}getFilterUiForDisplay(e){let t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;let i=vm(t);return i?i.then(n=>({comp:n,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){let i=this.getOrCreateFilterWrapper(e,t);return i?.isHandler?i.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let i=this.cachedFilter(e);return!i&&t&&(i=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return Xce(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Khe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,i,n,r,o){let s=()=>{let c=this.createFilterCompParams(e,r,o),d=n(c,r);return eue(this.beans.userCompFactory,t,d,i)},a=s();return a?{compDetails:a,createFilterUi:c=>(c?s():a).newAgStackInstance()}:null}createFilterInstance(e,t,i,n){let r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));let{handler:o,handlerParams:s,handlerGenerator:a}=this.createHandler(e,t,i)??{},l=this.createFilterComp(e,t,i,n,!!o,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:o,handlerGenerator:a,handlerParams:s};let{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||oi(281,{colId:e.getColId()})),{compDetails:c,handler:o,handlerGenerator:a,handlerParams:s,createFilterUi:d}}createBaseFilterParams(e,t){let{filterManager:i,rowModel:n}=this.beans;return Rn(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>i?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:n})}createFilterCompParams(e,t,i,n){let r=this.filterChangedCallbackFactory(e),o=this.createBaseFilterParams(e,n);if(o.filterChangedCallback=r,o.filterModifiedCallback=n?()=>{}:s=>this.filterModified(e,s),t){let s=o,a=e.getColId(),l=Ga(this.model,a);s.model=l,s.state=this.state.get(a)??{model:l},s.onModelChange=(c,d)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui",!1,d).then(()=>{r(Zt(Ie({},d),{source:"columnFilter"}))})},s.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},s.onAction=(c,d,u)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:u})},s.getHandler=()=>this.getHandler(e,!0),s.onUiChange=c=>this.filterUiChanged(e,c),s.source=i}return o}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,i){let n=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:n};return n.then(i),r}createFilterWrapper(e){let{compDetails:t,handler:i,handlerGenerator:n,handlerParams:r,createFilterUi:o}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),s=e.getColId();if(i)return delete this.initialModel[s],i.init?.(Zt(Ie({},r),{source:"init",model:Ga(this.model,s)})),{column:e,isHandler:!0,handler:i,handlerGenerator:n,handlerParams:r,filterUi:this.createFilterUiForHandler(t,o)};if(o){let a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,o,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,i){let{gos:n,frameworkOverrides:r,registry:o}=this.beans,s,a=f=>{let p=f.filter;if(L9(p)){let v=p.handler;return v||(s=p.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof p=="string"?p:void 0},l=n.get("enableFilterHandlers"),c=l?a(t):void 0,d=f=>()=>this.createBean(o.createDynamicBean(f,!0)),u,h;if(typeof c=="string"){let f=n.get("filterHandlers")?.[c];f!=null?u=f:Bhe.has(c)&&(u=d(c),h=c)}else u=c;if(!u){let f,{compName:p,jsComp:v,fwComp:m}=V9(r,t);p?f=p:v==null&&m==null&&t.filter===!0&&(f=i),h=this.handlerMap[f],h&&(u=d(h))}return u?{filterHandler:u,handlerNameOrCallback:s??h}:l?(Bs(n)&&oi(277,{colId:e.getColId()}),hye):void 0}createHandler(e,t,i){let n=this.createHandlerFunc(e,t,i);if(!n)return;let r=hF(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:o,filterHandler:s}=n,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,s,r);return{handler:a,handlerParams:l,handlerGenerator:o??s}}createHandlerFromFunc(e,t,i){let n=e.getColDef(),r=t(Rn(this.gos,{column:e,colDef:n})),o=this.createHandlerParams(e,i);return{handler:r,handlerParams:o}}createHandlerParams(e,t){let i=e.getColDef(),n=e.getColId(),r=this.filterChangedCallbackFactory(e);return Rn(this.gos,{colDef:i,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:o=>this.beans.filterManager?.doesRowPassOtherFilters(n,o)??!0,onModelChange:(o,s)=>{this.updateStoredModel(n,o),this.refreshHandlerAndUi(e,o,"handler",!1,s).then(()=>{r(Zt(Ie({},s),{source:"columnFilter"}))})},filterParams:t})}onColumnsChanged(){let e=[],{colModel:t,filterManager:i,groupFilter:n}=this.beans;this.allColumnFilters.forEach((o,s)=>{let a;o.column.isPrimary()?a=t.getColDefCol(s):a=t.getCol(s),!(a&&a===o.column)&&(e.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(s))});let r=n&&e.every(o=>n.isGroupFilter(o));e.length>0&&!r&&i?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let i=this.beans.groupFilter;return i?.isGroupFilter(e)?i.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){let{userCompFactory:i,frameworkOverrides:n,selectableFilter:r,gos:o}=this.beans,s=f=>{this.getOrCreateFilterUi(e)?.then(v=>{f(NC(v))})},a=e.getColDef(),l=r?.isSelectable(a)?r.getFilterDef(e,a):a,c=Jhe(n,l,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",d=o.get("enableFilterHandlers"),u=hF(i,l,this.createFilterCompParams(e,d,"init",!0)),h=Rn(o,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(d){let f=h,p=e.getColId(),v=this.filterChangedCallbackFactory(e);f.onUiChange=m=>this.floatingFilterUiChanged(e,m),f.model=Ga(this.model,p),f.onModelChange=(m,g)=>{this.updateStoredModel(p,m),this.refreshHandlerAndUi(e,m,"floating",!0,g).then(()=>{v(Zt(Ie({},g),{source:"columnFilter"}))})},f.getHandler=()=>this.getHandler(e,!0),f.source="init"}return nue(i,a,h,c)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,i,n){let r="paramsUpdated";if(e.isHandler){let o=t.getColId();delete this.initialModel[o],this.state.delete(o);let s=e.filterUi,a=this.createFilterUiForHandler(i,n);e.filterUi=a;let l=this.eventSvc;s?.created?s.promise.then(c=>{this.destroyBean(c),l.dispatchEvent({type:"filterDestroyed",source:r,column:t})}):l.dispatchEvent({type:"filterHandlerDestroyed",source:r,column:t})}else this.destroyFilter(t,r)}destroyFilter(e,t="api"){let i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialModel[i],n&&this.disposeFilterWrapper(n,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let i=!1,{column:n,isHandler:r,filterUi:o}=e,s=n.getColId();r&&(i=this.isHandlerActive(n),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));let a=()=>{this.setColFilterActive(n,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:n})};if(o){if(o.created)return o.promise.then(l=>(i=r?i:!!l?.isFilterActive(),this.destroyBean(l),a(),i));a()}return rs.resolve(i)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){let i=this.allColumnFilters.get(e);if(!i)return;let n=this.beans,r=i.column,o=r.getColDef(),s=r.isFilterAllowed(),a=this.getDefaultFilter(r),l=n.selectableFilter,c=l?.isSelectable(o)?l.getFilterDef(r,o):o,d=s?this.createHandlerFunc(r,c,this.getDefaultFilter(r)):void 0,u=!!d,h=i.isHandler;if(h!=u){this.destroyFilter(r,"paramsUpdated");return}let{compDetails:f,createFilterUi:p}=(s?this.createFilterComp(r,c,a,m=>m,u,"colDef"):null)??{compDetails:null,createFilterUi:null},v=f?.params??hF(n.userCompFactory,c,this.createFilterCompParams(r,u,"colDef"));if(h){let m=d?.handlerNameOrCallback??d?.filterHandler,g=Ga(this.model,e);if(i.handlerGenerator!=m){let b=i.handler,{handler:w,handlerParams:x}=this.createHandlerFromFunc(r,d.filterHandler,v);i.handler=w,i.handlerParams=x,i.handlerGenerator=m,delete this.model[e],w.init?.(Zt(Ie({},x),{source:"init",model:null})),this.destroyBean(b),g!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{let b=this.createHandlerParams(r,f?.params);i.handlerParams=b,i.handler.refresh?.(Zt(Ie({},b),{source:"colDef",model:g}))}}if(this.areFilterCompsDifferent(i.filterUi?.compDetails??null,f)||!i.filterUi||!f){this.destroyFilterUi(i,r,f,p);return}i.filterUi.filterParams=v,vm(i,h)?.then(m=>{(m?.refresh?m.refresh(v):!0)===!1?this.destroyFilterUi(i,r,f,p):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:v})})}refreshHandlerAndUi(e,t,i,n,r){let o=this.cachedFilter(e);if(!o)return n&&this.getOrCreateFilterWrapper(e,!0),rs.resolve();if(!o.isHandler)return rs.resolve();let{filterUi:s,handler:a,handlerParams:l}=o;return Vhe(()=>{if(s){let{created:c,filterParams:d}=s;if(c)return s.promise.then(u=>u?{filter:u,filterParams:d}:void 0);s.refreshed=!0}return rs.resolve(void 0)},a,l,t,this.state.get(e.getColId())??{model:t},i,r)}setColumnFilterWrapper(e,t){let i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){let t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);let i=this.getOrCreateFilterUi(t);return i?new Promise(n=>{i.then(r=>{n(NC(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:i})=>{this.setModelForColumn(e,t).then(()=>i())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){let{state:n,model:r}=this,o=e.getColId(),s=n.get(o);return s?s.model??null:Ga(r,o)}let i=this.cachedFilter(e);return i?this.getModelFromFilterWrapper(i):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let i=()=>{},n=new Promise(r=>{i=r});return this.columnModelUpdates.push({key:e,model:t,resolve:i}),n}return new Promise(i=>{this.setModelForColumnLegacy(e,t).then(n=>i(n))})}getStateForColumn(e){return this.state.get(e)??{model:Ga(this.model,e)}}setModelForColumnLegacy(e,t){let i=this.beans.colModel.getColDefCol(e),n=i?this.getOrCreateFilterWrapper(i,!0):null;return n?this.setModelOnFilterWrapper(n,t):rs.resolve()}setColDefPropsForDataType(e,t,i){let n=e.filter,r=n===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):n;if(typeof r!="string")return;let o,s,a=this.beans,{filterParams:l,filterValueGetter:c}=e;r==="agMultiColumnFilter"?{filterParams:o,filterValueGetter:s}=a.multiFilter?.getParamsForDataType(l,c,t,i)??{}:{filterParams:o,filterValueGetter:s}=Yhe(r,l,c,t,i,a,this.getLocaleTextFunc()),e.filterParams=o,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,i,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",i)),e.dispatchColEvent("filterChanged",i,n)}setModelOnFilterWrapper(e,t,i){return new rs(n=>{if(e.isHandler){let o=e.column,s=o.getColId(),a=this.model[s];if(this.updateStoredModel(s,t),i&&t===a){n();return}this.refreshHandlerAndUi(o,t,"api").then(()=>n());return}let r=vm(e);if(r){r.then(o=>{if(typeof o?.setModel!="function"){oi(65),n();return}(o.setModel(t)||rs.resolve()).then(()=>n())});return}n()})}updateStoredModel(e,t){Ai(t)?this.model[e]=t:delete this.model[e];let i=this.state.get(e),n={model:t,state:i?.state};this.state.set(e,n)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(i=>{this.eventSvc.dispatchEvent(Ie({type:"filterModified",column:e,filterInstance:i},t))})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(Ie({type:"filterUiChanged",column:e},t))}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(Ie({type:"floatingFilterUiChanged",column:e},t))}updateModel(e,t,i){let n=e.getColId(),r=this.cachedFilter(e),o=()=>r?.filterUi;NU({action:t,filterParams:r?.filterUi?.filterParams,getFilterUi:o,getModel:()=>Ga(this.model,n),getState:()=>this.state.get(n),updateState:s=>this.updateState(e,s),updateModel:s=>o()?.filterParams?.onModelChange(s,Zt(Ie({},i),{fromAction:t})),processModelToApply:r?.isHandler?r.handler.processModelToApply?.bind(r.handler):void 0})}updateAllModels(e,t){let i=[];this.allColumnFilters.forEach((n,r)=>{let o=this.beans.colModel.getColDefCol(r);o&&NU({action:e,filterParams:n.filterUi?.filterParams,getFilterUi:()=>n.filterUi,getModel:()=>Ga(this.model,r),getState:()=>this.state.get(r),updateState:s=>this.updateState(o,s),updateModel:s=>{this.updateStoredModel(r,s),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),i.push(this.refreshHandlerAndUi(o,s,"ui"))},processModelToApply:n?.isHandler?n.handler.processModelToApply?.bind(n.handler):void 0})}),i.length&&rs.all(i).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){let t=e.getColId();uW(()=>this.cachedFilter(e)?.filterUi,()=>Ga(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){let{state:e,model:t,activeFilterComps:i}=this;for(let r of i)if(r.source==="COLUMN_MENU")return!1;let n=!1;for(let r of e.keys()){let o=e.get(r);if(o.valid===!1)return!1;(o.model??null)!==Ga(t,r)&&(n=!0)}return n}hasUnappliedModel(e){let{model:t,state:i}=this;return(i.get(e)?.model??null)!==Ga(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;let i=this.beans.filterPanelSvc;return i?.isActive?!!i.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function pye(e){return!!e.filterManager?.isAnyFilterPresent()}function mye(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var gye=class extends Kt{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:i}=this;this.alwaysPassFilter=i.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=i.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,i="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,i)}setFilterModel(e,t="api",i){if(this.isAdvFilterEnabled()){i||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){QF(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):rs.resolve()).then(()=>{let r={source:t,type:"filterChanged",columns:n};i&&sc(r,i),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!QF(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){oi(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(let e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},vye=class extends Kt{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,i,n){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({additionalParams:{column:e},type:i,mouseEvent:t,ePopup:r})},i,t.target,dd(this.gos),n)}showMenuAfterButtonClick(e,t,i,n){if(e&&!e.isColumn)return;let r=-1,o="left",s=dd(this.gos);!s&&this.gos.get("enableRtl")&&(r=1,o="right");let a=s?void 0:4*r,l=s?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:i,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",additionalParams:{column:e}})},i,t,s,n)}showPopup(e,t,i,n,r,o){let s=e?this.createBean(new jhe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){ho(57);return}let a=Ya({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:v=>this.trapFocusWithin(v,a)}),a.appendChild(s?.getGui());let l,c=()=>s?.afterGuiDetached(),d=Kce(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,u=v=>{qU(e,!1,"contextMenu");let m=v instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),m&&n&&Lh(n)&&j9(n)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e),o?.()},h=this.getLocaleTextFunc(),f=r&&i!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),p=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:f});p&&(this.hidePopup=l=p.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:i,hidePopup:l})}),qU(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==St.TAB||e.defaultPrevented||y0(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),m0(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},bye=class extends Kt{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,i){if(!t)return;let n=e.getColDef(),{selectableFilter:r,valueSvc:o,formula:s}=this.beans,a=i??r?.getFilterValueGetter(e.getColId())??n.filterValueGetter;if(a)return this.executeFilterValueGetter(a,t.data,e,t,n);let l=o.getValue(e,t);return e.isAllowFormula()&&s?.isFormula(l)?s.resolveValue(e,t):l}executeFilterValueGetter(e,t,i,n,r){let{expressionSvc:o,valueSvc:s}=this.beans,a=Rn(this.gos,{data:t,node:n,column:i,colDef:r,getValue:s.getValueCallback.bind(s,n)});return typeof e=="function"?e(a):o?.evaluate(e,a)}},_ye={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},yye=class extends wo{constructor(){super(_ye,[tD]),this.eFloatingFilterText=bi}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){let i=e,n=i.getHandler();if(n.getModelAsString){let r=n.getModelAsString(i.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}refresh(e){this.init(e)}},gO=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){let i=e.filterOptions??t;this.filterOptions!==i&&(this.filterOptions=i,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){let{filterOptions:e}=this;if(e)for(let t of e){if(typeof t=="string")continue;let i=[["displayKey"],["displayName"],["predicate","test"]],n=r=>r.some(o=>t[o]!=null)?!0:(oi(72,{keys:r}),!1);if(!i.every(n)){this.filterOptions=e.filter(r=>r===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){let{filterOptions:t}=this;if(e)return e;if(t.length>=1){let i=t[0];if(typeof i=="string")return i;if(i.displayKey)return i.displayKey;oi(73)}else oi(74)}getCustomOption(e){return this.customFilterOptions[e]}};function TC(e,t,i){return i==null?e.splice(t):e.splice(t,i)}function $E(e){return e==null||typeof e=="string"&&e.trim().length===0}function wye(e){return e==="AND"||e==="OR"?e:"AND"}function Cye(e,t,i){if(e==null)return;let{predicate:n}=e;if(n!=null&&!t.some(r=>r==null))return n(t,i)}function xye(e,t){let i=e.length;return i>t&&(e.splice(t),oi(78),i=t),i}function HC(e,t){let i=t.getCustomOption(e);if(i){let{numberOfInputs:r}=i;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var vO=class extends Qhe{constructor(e,t,i){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=i,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);let t=new gO;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=wye(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions(),Mc(this.getGui(),"tabindex",this.isReadOnly()?"-1":null)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{let n=i===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){let i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let o;if(i){let s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{let s=e,a=t;o=s.operator===a.operator&&Am(s.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),rs.resolve();if(e.operator){let n=e,r=n.conditions;r==null&&(r=[],oi(77));let o=xye(r,this.maxNumConditions),s=this.getNumConditions();if(o<s)this.removeConditionsAndOperators(o);else if(o>s)for(let l=s;l<o;l++)this.createJoinOperatorPanel(),this.createOption();let a=n.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),r.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{let n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),rs.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(oi(79),t=1),this.maxNumConditions=t;let i=e.numAlwaysVisibleConditions??1;i<1&&(oi(80),i=1),i>t&&(oi(81),i=t),this.numAlwaysVisibleConditions=i}createOption(){let e=this.getGui(),t=this.createManagedBean(new Y5);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());let i=this.createEValue();this.eConditionBodies.push(i),e.appendChild(i),this.putOptionsIntoDropdown(t),this.resetType(t);let n=this.getNumConditions()-1;this.forEachPositionInput(n,r=>this.resetInput(r)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){let e=Ya({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);let t=this.createJoinOperator(this.eJoinAnds,e,"and"),i=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);let n=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,r),this.resetJoinOperatorOr(i,n,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){let n=this.createManagedBean(new Tue);e.push(n);let r="ag-filter-condition-operator";return n.addCss(r),n.addCss(`${r}-${i}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;for(let i of t)e.addOption(i);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);let n=e+1,r=i-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,r)=>{let o=this.isConditionDisabled(r,e);n.setDisabled(o||this.filterListOptions.length<=1),r===1&&(kC(this.eJoinPanels[0],o),this.eJoinAnds[0].setDisabled(o),this.eJoinOrs[0].setDisabled(o))}),this.eConditionBodies.forEach((n,r)=>{yo(n,this.isConditionBodyVisible(r))});let i=(t??this.getJoinOperator())==="OR";for(let n of this.eJoinAnds)n.setValue(!i,!0);for(let n of this.eJoinOrs)n.setValue(i,!0);this.forEachInput((n,r,o,s)=>{this.setElementDisplayed(n,r<s),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:i,eConditionBodies:n,eJoinPanels:r,eJoinAnds:o,eJoinOrs:s}=this;this.removeComponents(i,e,t),this.removeElements(n,e,t),this.removeEValues(e,t);let a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,i){let n=TC(e,t,i);for(let r of n)Sc(r)}removeComponents(e,t,i){let n=TC(e,t,i);for(let r of n)Sc(r.getGui()),this.destroyBean(r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){let i=this.getInputs(0)[0];i instanceof s0&&this.isConditionBodyVisible(0)?t=i.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}shouldKeepInvalidInputState(){return!1}afterGuiDetached(){super.afterGuiDetached();let e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column)||this.shouldKeepInvalidInputState())return;e.onStateChange({model:e.model});let t=-1,i=-1,n=!1,r=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,i=s);else{let a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),n=!0,l&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,r),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}resetPlaceholder(){let e=this.getLocaleTextFunc(),{filterPlaceholder:t,eTypes:i}=this;this.forEachInput((n,r,o,s)=>{if(!(n instanceof s0))return;let a=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",l=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value"),c=i[o].getValue(),d=hW(this,t,a,c);n.setInputPlaceholder(d),n.setInputAriaLabel(l)})}setElementValue(e,t,i){e instanceof s0&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){SU(e)&&yo(e.getGui(),t)}setElementDisabled(e,t){SU(e)&&kC(e.getGui(),t)}attachElementOnChange(e,t){e instanceof s0&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){let i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){let n=HC(t,this.optionsFactory),r=this.getInputs(e);for(let o=0;o<r.length;o++){let s=r[o];s!=null&&i(s,o,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return HC(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null)||this.positionHasInvalidInputs(e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOrs.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){let i=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(n),t)}updateJoinOperatorsDisabled(){let e=(t,i)=>this.updateJoinOperatorDisabled(t,i);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let i=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((n,r,o)=>{o===t&&this.setElementValue(n,i[r]!=null?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,i===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}hasInvalidInputs(){return!1}positionHasInvalidInputs(e){return!1}isReadOnly(){return!!this.params.readOnly}},SG=".ag-input-field-input",vj=class{constructor(e,t,i,n,r,o){this.context=e,this.eParent=r,this.alive=!0,this.debouncedReport=qa({isAlive:()=>this.alive},MG,500),this.timeoutHandle=null,tue(t,i,n)?.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),a?.afterGuiAttached?.();let{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),o?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){yo(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}setCustomValidity(e,t=!1){let i=this.dateComp?.getGui().querySelector(SG);if(i&&"setCustomValidity"in i){let n=e.length>0;i.setCustomValidity(e),n?t?this.timeoutHandle=this.debouncedReport(i):MG(i):this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),D5(i,n)}}getValidity(){return this.dateComp?.getGui().querySelector(SG)?.validity}};function MG(e){e.reportValidity()}var bO=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function bj(e,t){let{dateFrom:i,dateTo:n,type:r}=e||{};return[i&&Dc(i,void 0,!0)||null,n&&Dc(n,void 0,!0)||null].slice(0,HC(r,t))}var EG=1e3,DG=1/0,Sye=class extends vO{constructor(){super("dateFilter",bj,bO),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=EG,this.maxValidYear=DG,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!BC()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);let t=(l,c)=>{let d=e[l];if(d!=null)if(isNaN(d))oi(82,{param:l});else return d==null?c:Number(d);return c},i=t("minValidYear",EG),n=t("maxValidYear",DG);this.minValidYear=i,this.maxValidYear=n,i>n&&oi(83);let{minValidDate:r,maxValidDate:o}=e,s=r instanceof Date?r:Dc(r);this.minValidDate=s;let a=o instanceof Date?o:Dc(o);this.maxValidDate=a,s&&a&&s>a&&oi(84)}refreshInputValidation(){for(let e=0;e<this.dateConditionFromComps.length;e++)this.refreshInputPairValidation(e,!1,!0)}refreshInputPairValidation(e,t=!1,i=!1){let{dateConditionFromComps:n,dateConditionToComps:r,beans:o}=this,s=n[e],a=r[e],l=s.getDate(),c=a.getDate(),d=Mye(l,c,t),u=d?this.translate(d,[String(t?c:l)]):"",h=!BC()&&!i;(t?s:a).setCustomValidity(u,h),(t?a:s).setCustomValidity("",h),u.length>0&&o.ariaAnnounce.announceValue(u,"dateFilter")}createDateCompWrapper(e,t,i){let{beans:{userCompFactory:n,context:r,gos:o},params:s}=this,a=i==="from",l=new vj(r,n,s.colDef,Rn(o,{onDateChanged:()=>{this.refreshInputPairValidation(t,a),this.onUiChanged()},onFocusIn:()=>this.refreshInputPairValidation(t,a),filterParams:s,location:"filter"}),e);return this.addDestroyFunc(()=>l.destroy()),l}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}setElementValue(e,t){e.setDate(t),t||e.setCustomValidity("")}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){let e=Ya({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,n){let r=Ya({tag:"div",cls:`ag-filter-${n} ag-filter-date-${n}`});t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r,t.length-1,n))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),TC(this.eConditionPanelsFrom,e,t),TC(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){let n=TC(e,t,i);for(let r of n)r.destroy()}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:i,minValidYear:n,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(i){if(e>i)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=t.getDate()!=null&&!(t.getValidity()?.valid??!0))),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,i=>t||(t=!(i.getValidity()?.valid??!0))),t}canApply(e){return!this.hasInvalidInputs()}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachPositionInput(e,(i,n,r,o)=>{!t||n>=o||t&&(t=this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),i={},n=this.getValues(e),r=this.params.useIsoSeparator?"T":" ";return n.length>0&&(i.dateFrom=ud(n[0],!0,r)),n.length>1&&(i.dateTo=ud(n[1],!0,r)),Ie({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},i)}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,r,o)=>{n<o&&t.push(i.getDate())}),t}translate(e,t){let i=e;return e==="lessThan"?i="before":e==="greaterThan"&&(i="after"),super.translate(i,t)}};function Mye(e,t,i){return e!=null&&t!=null&&e>=t?`${i?"max":"min"}DateValidation`:null}var _j=class extends Kt{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){let t=e.filterParams,i=new gO;this.optionsFactory=i,i.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(i,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){let t=e.filterParams,i=this.optionsFactory;i.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:i,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){let t=e.model;if(t==null)return!0;let{operator:i}=t,n=[];if(i){let s=t;n.push(...s.conditions??[])}else n.push(t);let r=i&&i==="OR"?"some":"every",o=this.params.getValue(e.node);return n[r](s=>this.individualConditionPasses(e,s,o))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){let{model:t,filterParams:{filterOptions:i,maxNumConditions:n}}=e;if(t==null)return;let o=mW(t)?t.conditions:[t],s=i?.map(d=>typeof d=="string"?d:d.displayKey)??this.defaultOptions;if(!(!o||o.every(d=>s.find(u=>u===d.type)!==void 0))){this.params=Zt(Ie({},e),{model:null}),e.onModelChange(null);return}let l=!1,c=this.filterType;if((o&&!o.every(d=>d.filterType===c)||t.filterType!==c)&&(o=o.map(d=>Zt(Ie({},d),{filterType:c})),l=!0),typeof n=="number"&&o&&o.length>n&&(o=o.slice(0,n),l=!0),l){let d=o.length>1?Zt(Ie({},t),{filterType:c,conditions:o}):Zt(Ie({},o[0]),{filterType:c});this.params=Zt(Ie({},e),{model:d}),e.onModelChange(d)}}individualConditionPasses(e,t,i){let n=this.optionsFactory,r=this.mapValuesFromModel(t,n),o=n.getCustomOption(t.type),s=Cye(o,r,i);return s??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,i,t,e))}},yj=class extends _j{evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:i,includeBlanksInGreaterThan:n,includeBlanksInLessThan:r,includeBlanksInRange:o}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(i)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){let n=i.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";let r=this.comparator(),o=e[0]!=null?r(e[0],t):0;switch(n){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let s=r(e[1],t);return this.params.filterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return $E(t);case"notBlank":return!$E(t);default:return oi(76,{filterModelType:n}),!0}}},wj={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},Eye={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},_O=class extends Kt{constructor(e,t,i){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=i}getModelAsString(e,t){let i=this.getLocaleTextFunc(),n=t==="filterToolPanel";if(!e)return n?Th(this,"filterSummaryInactive"):null;if(e.operator!=null){let o=e,a=(o.conditions??[]).map(c=>this.getModelAsString(c,t)),l=o.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Th(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return n?Th(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):i(e.type,e.type);{let o=e,s=this.optionsFactory.getCustomOption(o.type),{displayKey:a,displayName:l,numberOfInputs:c}=s||{};return a&&l&&c===0?i(a,l):this.conditionToString(o,n,o.type==="inRange"||c===2,a,l)}}}updateParams(e){let{optionsFactory:t,filterParams:i}=e;this.optionsFactory=t,this.filterParams=i}conditionForToolPanel(e,t,i,n,r,o){let s,a=this.getTypeKey(e);return a&&(s=Th(this,a)),r&&o&&(s=this.getLocaleTextFunc()(r,o)),s!=null?t?`${s} ${Th(this,"filterSummaryInRangeValues",[i(),n()])}`:`${s} ${i()}`:null}getTypeKey(e){let t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e)}},Cj=class extends _O{constructor(e,t){super(e,t,i=>{let{dataTypeSvc:n,valueSvc:r}=this.beans,o=t.column,s=n?.getDateFormatterFunction(o),a=s?s(i??void 0):i;return r.formatValue(o,null,a)}),this.filterTypeKeys=wj}conditionToString(e,t,i,n,r){let{type:o}=e,s=Dc(e.dateFrom),a=Dc(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):h=>o5(h,l),d=()=>s!==null?c(s):"null",u=()=>a!==null?c(a):"null";if(t){let h=this.conditionForToolPanel(o,i,d,u,n,r);if(h!=null)return h}return i?`${d()}-${u()}`:s!=null?c(s):`${o}`}};function Dye(e,t){let i=t;return i<e?-1:i>e?1:0}var Tye=class extends yj{constructor(){super(bj,bO),this.filterType="date",this.FilterModelFormatterClass=Cj}comparator(){return this.params.filterParams.comparator??Dye}isValid(e){let t=this.params.filterParams.isValidDate;return!t||t(e)}},xj=class extends wo{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let i=e;return this.isTypeEditable(i.type)}init(e){this.params=e;let t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){let i=e;this.onModelUpdated(i.model)}}setParams(e){let t=new gO;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let i=this.optionsFactory.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;let n=this.isTypeEditable(i);this.setEditable(n)}refresh(e){this.params=e;let t=e,i=this.reactive;if((!i||t.source==="colDef")&&this.updateParams(e),i){let{source:n,model:r}=t;if(n==="dataChanged"||n==="ui")return;this.onModelUpdated(r)}}updateParams(e){let t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},Aye={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Rye=class extends xj{constructor(){super(Aye,[tD]),this.eReadOnlyText=bi,this.eDateWrapper=bi,this.FilterModelFormatterClass=Cj,this.filterType="date",this.defaultOptions=bO}setParams(e){super.setParams(e),this.createDateComponent();let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let i=e?Dc(e.dateFrom):null;this.dateComp.setDate(i),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){yo(this.eDateWrapper,e),yo(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){let e=this.dateComp.getDate();if(this.reactive){let t=this.params;t.onUiChange();let i=t.model,n=ud(e),r=n==null?null:Zt(Ie({},i??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption}),{dateFrom:n});t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){let{filterParams:e}=this.params,t=Q5(e,this.defaultDebounceMs);return Rn(this.gos,{onDateChanged:qa(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:i,params:{column:n}}=this;this.dateComp=new vj(e,t,n.getColDef(),this.getDateComponentParams(),i,r=>{r.setInputAriaLabel(this.getAriaLabel(n))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},kye={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Iye=class extends wo{constructor(){super(kye,[tD]),this.eDateInput=bi,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this),focusin:this.handleFocusIn.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}handleFocusIn(){this.params.onFocusIn?.()}setParams(e){let t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&km();let{minValidYear:n,maxValidYear:r,minValidDate:o,maxValidDate:s,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,u=l??d?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(i?u?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",o&&n&&oi(85),s&&r&&oi(86),o&&s){let[h,f]=[o,s].map(p=>p instanceof Date?p:Dc(p));h&&f&&h.getTime()>f.getTime()&&oi(87)}o?o instanceof Date?t.min=o5(o):t.min=o:n&&(t.min=`${n}-01-01`),s?s instanceof Date?t.max=o5(s):t.max=s:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Dc(this.eDateInput.getValue())}setDate(e){let t=this.params.filterParams.colDef.cellDataType,i=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(ud(e,i))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},yO=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function C5(e){return e?.allowedCharPattern??null}function XE(e){return e==null||isNaN(e)?null:e}function Sj(e,t){let{filter:i,filterTo:n,type:r}=e||{};return[XE(i),XE(n)].slice(0,HC(r,t))}var Pye=class extends vO{constructor(){super("numberFilter",Sj,yO),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!BC()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){let t=this.eValuesFrom[e],i=this.eValuesTo[e];this.refreshInputPairValidation(t,i)}}refreshInputPairValidation(e,t,i=!1){let n=this.params.numberParser,r=TG(n,e),o=TG(n,t),s=Fye(r,o,i),a=s?this.translate(s,[String(i?o:r)]):"";(i?e:t).setCustomValidity(a),(i?t:e).setCustomValidity(""),a.length>0&&this.beans.ariaAnnounce.announceValue(a,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){let t=super.refresh(e),{state:i,additionalEventAttributes:n}=e,r=this.state,o=n?.fromAction;return(o&&o!="apply"||i.model!==r.model||!this.areStatesEqual(i.state,r.state))&&this.refreshInputValidation(),t}setElementValue(e,t,i){let{numberFormatter:n}=this.params,r=!i&&n?n(t??null):t;super.setElementValue(e,r),r===null&&e.setCustomValidity("")}createEValue(){let{params:e,eValuesFrom:t,eValuesTo:i}=this,n=C5(e),r=Ya({tag:"div",cls:"ag-filter-body",role:"presentation"}),o=this.createFromToElement(r,t,"from",n),s=this.createFromToElement(r,i,"to",n),a=(d,u,h)=>()=>this.refreshInputPairValidation(d,u,h),l=a(o,s,!0);o.onValueChange(l),o.addGuiEventListener("focusin",l);let c=a(o,s,!1);return s.onValueChange(c),s.addGuiEventListener("focusin",c),r}createFromToElement(e,t,i,n){let r=this.createManagedBean(n?new w0({allowedCharPattern:n}):new q5);return r.addCss(`ag-filter-${i}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui()),r}removeEValues(e,t){let i=n=>this.removeComponents(n,e,t);i(this.eValuesFrom),i(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,r,o)=>{n<o&&t.push(XE(Mj(this.params.numberParser,i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),i={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){let{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,i=>t||(t=!i.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}};function Mj(e,t){if(typeof t=="number")return t;let i=Hf(t);return i!=null&&i.trim()===""&&(i=null),e?e(i):i==null||i.trim()==="-"?null:Number.parseFloat(i)}function TG(e,t){return XE(Mj(e,t.getValue(!0)))}function Fye(e,t,i){return e!=null&&t!=null&&e>=t?`strict${i?"Max":"Min"}ValueValidation`:null}var Ej=class extends _O{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=wj}conditionToString(e,t,i,n,r){let{filter:o,filterTo:s,type:a}=e,l=this.formatValue.bind(this);if(t){let c=this.conditionForToolPanel(a,i,()=>l(o),()=>l(s),n,r);if(c!=null)return c}return i?`${l(o)}-${l(s)}`:o!=null?l(o):`${a}`}},Oye=class extends yj{constructor(){super(Sj,yO),this.filterType="number",this.FilterModelFormatterClass=Ej}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},Dj=class extends Kt{constructor(e){super(),this.params=e,this.eInput=bi,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new w0(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let i=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t,placeholder:i}){let{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t),n.toggleCss("ag-floating-filter-search-icon",!!i),n.setInputPlaceholder(i)}};function x5(e){let t=e?.trim();return t===""?e:t}function Tj(e,t){let{filter:i,filterTo:n,type:r}=e||{};return[i||null,n||null].slice(0,HC(r,t))}var Lye={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},Aj=class extends xj{constructor(){super(...arguments),this.eFloatingFilterInputContainer=bi,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Lye)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){let{inputSvc:t,defaultDebounceMs:i,readOnly:n}=this,{filterPlaceholder:r,column:o,browserAutoComplete:s,filterParams:a}=e,l=this.lastType??this.optionsFactory.defaultOption,c=e.filterParams.filterPlaceholder,d=r===!0?hW(this,c,"filterOoo",l):r||void 0;if(t.setParams({ariaLabel:this.getAriaLabel(o),autoComplete:s??!1,placeholder:d}),this.applyActive=nD(a),!n){let u=Q5(a,i);t.setValueChangedListener(qa(this,this.syncUpWithParentFilter.bind(this),u))}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,i=t.getValue();vl(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(i,!0)}syncUpWithParentFilter(e){let t=e.key===St.ENTER,i=this.reactive;if(i&&this.params.onUiChange(),this.applyActive&&!t)return;let{inputSvc:n,params:r,lastType:o}=this,s=n.getValue();if(r.filterParams.trimInput&&(s=x5(s),n.setValue(s,!0)),i){let a=r,l=a.model,c=this.convertValue(s),d=c==null?null:Zt(Ie({},l??{filterType:this.filterType,type:o??this.optionsFactory.defaultOption}),{filter:c});a.onModelChange(d,{afterFloatingFilter:!0})}else r.parentFilterInstance(a=>{a?.onFloatingFilterChanged(o||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},Nye=class extends Kt{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new q5),this.eTextInput=this.createManagedBean(new w0),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),i=this.eTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(i,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams({ariaLabel:e,autoComplete:t,placeholder:i}){this.setAriaLabel(e),t!==void 0&&this.setAutoComplete(t),this.setPlaceholder(this.eNumberInput,i),this.setPlaceholder(this.eTextInput,i)}setPlaceholder(e,t){e.toggleCss("ag-floating-filter-search-icon",!!t),e.setInputPlaceholder(t)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Bye=class extends Aj{constructor(){super(...arguments),this.FilterModelFormatterClass=Ej,this.filterType="number",this.defaultOptions=yO}updateParams(e){C5(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=C5(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Dj({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Nye)}convertValue(e){return e?Number(e):null}},wO=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Vye=class extends vO{constructor(){super("textFilter",Tj,wO),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){let t=this.getConditionType(e),i={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,r,o)=>{n<o&&t.push(Hf(i.getValue()))}),t}createEValue(){let e=Ya({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:i}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,i,"to"),e}createFromToElement(e,t,i){let n=this.createManagedBean(new w0);n.addCss(`ag-filter-${i}`),n.addCss("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeEValues(e,t){let i=o=>this.removeComponents(o,e,t),{eValuesFrom:n,eValuesTo:r}=this;i(n),i(r)}},Rj=class extends _O{constructor(){super(...arguments),this.filterTypeKeys=Eye}conditionToString(e,t,i,n,r){let{filter:o,filterTo:s,type:a}=e;if(t){let l=d=>()=>Th(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(a,i,l(o),l(s),n,r);if(c!=null)return c}return i?`${o}-${s}`:o!=null?`${o}`:`${a}`}},zye=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.includes(i);case"notContains":return!t.includes(i);case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{let n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},Hye=e=>e,Uye=e=>e==null?null:e.toString().toLowerCase(),Gye=class extends _j{constructor(){super(Tj,wO),this.filterType="text",this.FilterModelFormatterClass=Rj}updateParams(e){super.updateParams(e);let t=e.filterParams;this.matcher=t.textMatcher??zye,this.formatter=t.textFormatter??(t.caseSensitive?Hye:Uye)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){let r=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(i.type==="blank")return $E(t);if(i.type==="notBlank")return!$E(t);let u={api:s,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:o,textFormatter:d};return r.some(h=>this.matcher(Zt(Ie({},u),{filterText:h})))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){let t=i=>{let n=Ie({},i),{filter:r,filterTo:o}=i;return r&&(n.filter=x5(r)??null),o&&(n.filterTo=x5(o)??null),n};return mW(e)?Zt(Ie({},e),{conditions:e.conditions.map(t)}):t(e)}return e}},Wye=class extends Aj{constructor(){super(...arguments),this.FilterModelFormatterClass=Rj,this.filterType="text",this.defaultOptions=wO}createFloatingFilterInputService(){return this.createManagedBean(new Dj)}};function jye(e){return!!e.quickFilter?.isFilterPresent()}function qye(e){return e.quickFilter?.getText()}function Yye(e){e.quickFilter?.resetCache()}var $ye=class extends Kt{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:i,pivotResultCols:n}=this.beans,r=t.isPivotMode(),o=e?.getColumns(),s=t.getColDefCols(),a=(r&&!i.get("applyQuickFilterBeforePivotOrAgg")?n?.getPivotResultCols()?.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=i.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassCache(e,i):this.doesRowPassNoCache(e,i))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ai(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){oi(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(i=>{let n=this.getTextForColumn(i,e);return Ai(n)&&n.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let i;e?(this.checkGenerateAggText(t),i=t.quickFilterAggregateText):i=this.getAggText(t);let{quickFilterParts:n,matcher:r}=this;return r(n,i)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let i=this.beans.filterValueSvc.getValue(e,t),n=e.getColDef();if(n.getQuickFilterText){let r=Rn(this.gos,{value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(r)}return Ai(i)?i.toString().toUpperCase():null}getAggText(e){let t=[];for(let i of this.colsToUse){let n=this.getTextForColumn(i,e);Ai(n)&&t.push(n)}return t.join(`
`)}},Xye={moduleName:"ClientSideRowModelFilter",version:Ri,rowModels:["clientSide"],beans:[$_e]},CO={moduleName:"FilterCore",version:Ri,beans:[gye],apiFunctions:{isAnyFilterPresent:pye,onFilterChanged:mye},css:[eye],dependsOn:[Xye]},kj={moduleName:"FilterValue",version:Ri,beans:[bye]},dD={moduleName:"ColumnFilter",version:Ri,beans:[fye,vye],dynamicBeans:{headerFilterCellCtrl:X_e},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:tye,getColumnFilterInstance:iye,destroyFilter:nye,setFilterModel:rye,getFilterModel:oye,getColumnFilterModel:sye,setColumnFilterModel:aye,showColumnFilter:lye,hideColumnFilter:cye,getColumnFilterHandler:dye,doFilterAction:uye},dependsOn:[CO,cD,kj,Q_e]},Kye={moduleName:"CustomFilter",version:Ri,userComponents:{agReadOnlyFloatingFilter:yye},dependsOn:[dD]},Zye={moduleName:"TextFilter",version:Ri,dependsOn:[dD],userComponents:{agTextColumnFilter:{classImp:Vye,params:{useForm:!0}},agTextColumnFloatingFilter:Wye},dynamicBeans:{agTextColumnFilterHandler:Gye}},Qye={moduleName:"NumberFilter",version:Ri,dependsOn:[dD],userComponents:{agNumberColumnFilter:{classImp:Pye,params:{useForm:!0}},agNumberColumnFloatingFilter:Bye},dynamicBeans:{agNumberColumnFilterHandler:Oye}},Jye={moduleName:"DateFilter",version:Ri,dependsOn:[dD],userComponents:{agDateColumnFilter:{classImp:Sye,params:{useForm:!0}},agDateInput:Iye,agDateColumnFloatingFilter:Rye},dynamicBeans:{agDateColumnFilterHandler:Tye}},ewe={moduleName:"QuickFilterCore",version:Ri,rowModels:["clientSide"],beans:[$ye],dependsOn:[CO,kj]},twe={moduleName:"QuickFilter",version:Ri,apiFunctions:{isQuickFilterPresent:jye,getQuickFilter:qye,resetQuickFilter:Yye},dependsOn:[ewe]},iwe={moduleName:"ExternalFilter",version:Ri,dependsOn:[CO]},nwe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip),&:where(.ag-cell-formula-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",GF=(e,t,i)=>{let{editModelSvc:n}=e,r=n?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,o=n?.getRowValidationModel().getRowValidation(t)?.errorMessages,s=r||o;return s?.length?s.join(i("tooltipValidationErrorSeparator",". ")):void 0},rwe=class extends Kt{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,i,n){e&&t.destroyBean(e);let r=this.gos,o=UF(r),{column:s,eGui:a}=t,l=s.getColDef();!n&&o&&!l.headerComponent&&(n=uE(()=>a.querySelector(".ag-header-cell-text")));let c="header",u=this.beans.colNames.getDisplayNameForColumn(s,"header",!0),h=i??u,f={getGui:()=>a,getLocation:()=>c,getTooltipValue:()=>i??l?.headerTooltipValueGetter?.(Rn(r,{location:c,colDef:l,column:s,value:h,valueFormatted:u}))??l?.headerTooltip,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:s,colDef:s.getColDef()})},p=this.createTooltipFeature(f);return p&&(p=t.createBean(p),t.setRefreshFunction("tooltip",()=>p.refreshTooltip())),p}setupHeaderGroupTooltip(e,t,i,n){e&&t.destroyBean(e);let r=this.gos,o=UF(r),{column:s,eGui:a}=t,l=s.getColGroupDef();!n&&o&&!l?.headerGroupComponent&&(n=uE(()=>a.querySelector(".ag-header-group-text")));let c="headerGroup",u=this.beans.colNames.getDisplayNameForColumnGroup(s,"header"),h=i??u,f={getGui:()=>a,getLocation:()=>c,getTooltipValue:()=>i??l?.headerTooltipValueGetter?.(Rn(r,{location:c,colDef:l,column:s,value:h,valueFormatted:u}))??l?.headerTooltip,shouldDisplayTooltip:n,getAdditionalParams:()=>{let v={column:s};return l&&(v.colDef=l),v}},p=this.createTooltipFeature(f);return p&&t.createBean(p)}enableCellTooltipFeature(e,t,i){let{beans:n}=this,{gos:r,editSvc:o}=n,{column:s,rowNode:a}=e,l="cell",c=()=>{let f=!!!o?.isEditing(e)&&GF(n,e,this.getLocaleTextFunc());if(f)return l="cellEditor",f;l="cell";let p=s.getColDef(),v=a.data;if(p.tooltipField&&Ai(v))return EC(v,p.tooltipField,s.isTooltipFieldContainsDots());let m=p.tooltipValueGetter;return m?m(Rn(r,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=UF(r);i||(d&&!e.isCellRenderer()?i=()=>{let h=!!o?.isEditing(e);if(!h&&GF(n,e,this.getLocaleTextFunc()))return!0;if(!s.isTooltipEnabled())return!1;let v=uE(()=>{let m=e.eGui;return m.children.length===0?m:m.querySelector(".ag-cell-value")});return!h&&v()}:i=()=>!o?.isEditing(e));let u={getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,shouldDisplayTooltip:i,getAdditionalParams:()=>({column:s,colDef:s.getColDef(),rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(u,n)}setupFullWidthRowTooltip(e,t,i,n){let r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},o=this.beans,s=o.context;e&&t.destroyBean(e,s);let a=this.createTooltipFeature(r,o);if(a)return t.createBean(a,s)}setupFormulaTooltip(e){let{beans:t}=this,{context:i,formula:n}=t;if(!this.beans.formula?.active||!e.column.isAllowFormula())return;let r={getGui:()=>e.eGui,getTooltipValue:()=>{let s=n?.getFormulaError(e.column,e.rowNode);return s?s.message:void 0},getLocation:()=>"cellFormula",shouldDisplayTooltip:()=>!!n?.getFormulaError(e.column,e.rowNode)},o=this.createTooltipFeature(r,t);if(o)return e.createBean(o,i)}setupCellEditorTooltip(e,t){let{beans:i}=this,{context:n}=i,r=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!r)return;let o={getGui:()=>r,getTooltipValue:()=>GF(i,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{let{editModelSvc:a}=i,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),d=!!l&&l.size>0,u=!!c&&c.size>0;return d||u}},s=this.createTooltipFeature(o,i);if(s)return e.createBean(s,n)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=Ai(t.tooltipField)||Ai(t.tooltipValueGetter)||Ai(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},owe=class extends whe{createTooltipComp(e,t){iue(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},Ij={moduleName:"Tooltip",version:Ri,beans:[rwe],dynamicBeans:{tooltipFeature:oW,highlightTooltipFeature:Che,tooltipStateManager:owe},userComponents:{agTooltipComponent:Mhe},dependsOn:[cD],css:[nwe]},Rb=class{constructor(e){this.cellValueChanges=e}},WF=class extends Rb{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},swe=10,AG=class{constructor(e){this.actionStack=[],this.maxStackSize=e||swe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},awe=class extends Kt{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&iO(this.activeCellEdit,t),n=this.activeRowEdit!==null&&Ffe(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;let{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:c}=e,d={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let i=e.get("undoRedoCellEditingLimit");if(i<=0)return;this.undoStack=new AG(i),this.redoStack=new AG(i),this.addListeners();let n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:i,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});let r=this.undoRedo(i,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){let{eventSvc:t,undoStack:i,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});let r=this.undoRedo(n,i,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,i,n,r){if(!e)return!1;let o=e.pop();return o?.cellValueChanges?(this.processAction(o,s=>s[n],r),o instanceof WF?this.processRange(o.ranges||[o[i]]):this.processCell(o.cellValueChanges),t.push(o),!0):!1}processAction(e,t,i){for(let n of e.cellValueChanges){let{rowIndex:r,rowPinned:o,columnId:s}=n,a={rowIndex:r,rowPinned:o},l=Yf(this.beans,a);l.displayed&&l.setDataValue(s,t(n),i)}}processRange(e){let t,i=this.beans.rangeSvc;i.removeAllCellRanges(!0),e.forEach((n,r)=>{if(!n)return;let o=n.startRow,s=n.endRow;r===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};i.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:i,rowPinned:n}=t,r={rowIndex:i,rowPinned:n},o=Yf(this.beans,r),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){let{rowIndex:t,columnId:i,rowPinned:n}=e,{colModel:r,focusSvc:o,rangeSvc:s}=this.beans,a=r.getCol(i);if(!a)return;let{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);let c={rowIndex:t,column:a,rowPinned:n};o.setFocusedCell(Zt(Ie({},c),{forceBrowserFocus:!0})),s?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new Rb(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let i=new Rb(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new Rb(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new WF(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:i}=this.beans;t&&jf(i)?e=new WF(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Rb(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;let i=new Rb(t??[]);this.pushActionsToUndoStack(i),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},lwe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",cwe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},dwe=class extends oD{constructor(){super(cwe,[j5]),this.eEditor=bi}initialiseEditor(e){let t=e.value??void 0,i=this.eEditor;i.setValue(t),i.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(i,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),i=ZE(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${n} (${i})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{getValidationErrors:t}=e,i=this.getValue();return t?t({value:i,internalErrors:null,cellEditorParams:e}):null}},uD=class extends oD{constructor(e){super(),this.cellEditorInput=e,this.eEditor=bi}initialiseEditor(e){let{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());let{eEditor:i}=this,{cellStartedEdit:n,eventKey:r,suppressPreventDefault:o}=e;i.getInputElement().setAttribute("title",""),t.init(i,e);let s,a=!0;n?(this.focusAfterAttached=!0,r===St.BACKSPACE||r===St.DELETE?s="":r&&r.length===1?o?a=!1:s=r:(s=t.getStartValue(),r!==St.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),a&&s!=null&&i.setStartValue(s),this.addGuiEventListener("keydown",l=>{let{key:c}=l;(c===St.PAGE_UP||c===St.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;km()||t.getFocusableElement().focus();let i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){let{eEditor:e}=this,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},uwe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},hwe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return uwe}getAgComponents(){return[K9]}init(e,t){this.eEditor=e,this.params=t;let{min:i,max:n,step:r,colDef:o}=t;i!=null&&e.setMin(i),n!=null&&e.setMax(n),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let t=this.eEditor.getInputElement().valueAsDate,{params:i}=this,{min:n,max:r,getValidationErrors:o}=i,s=[],a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(n){let l=n instanceof Date?n:new Date(n);if(t<l){let c=l.toLocaleDateString();s.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(r){let l=r instanceof Date?r:new Date(r);if(t>l){let c=l.toLocaleDateString();s.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return s.length||(s=null),o?o({value:t,cellEditorParams:i,internalErrors:s}):s}getValue(){let{eEditor:e,params:t}=this,i=e.getDate();return!Ai(i)&&!Ai(t.value)?t.value:i??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return ud(e,this.includeTime??!1)}},fwe=class extends uD{constructor(){super(new hwe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},pwe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},mwe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return pwe}getAgComponents(){return[K9]}init(e,t){this.eEditor=e,this.params=t;let{min:i,max:n,step:r,colDef:o}=t;i!=null&&e.setMin(i),n!=null&&e.setMax(n),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let{eEditor:e,params:t}=this,i=e.getInputElement().value,n=this.formatDate(this.parseDate(i??void 0)),{min:r,max:o,getValidationErrors:s}=t,a=[];if(n){let l=new Date(n),c=this.getLocaleTextFunc();if(r){let d=new Date(r);if(l<d){let u=d.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${u}`,[u]))}}if(o){let d=new Date(o);if(l>d){let u=d.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${u}`,[u]))}}}return a.length||(a=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){let{params:e,eEditor:t}=this,i=this.formatDate(t.getDate());return!Ai(i)&&!Ai(e.value)?e.value:e.parseValue(i??"")}getStartValue(){return ud(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Dc(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ud(e??null,this.includeTime??!1)??void 0}},gwe=class extends uD{constructor(){super(new mwe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},vwe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},bwe=class extends oD{constructor(){super(vwe,[Rue]),this.eEditor=bi}initialiseEditor(e){let{eEditor:t}=this,{cellStartedEdit:i,eventKey:n,maxLength:r,cols:o,rows:s}=e;this.focusAfterAttached=i,t.getInputElement().setAttribute("title",""),t.setMaxLength(r||200).setCols(o||60).setRows(s||10);let a;i?(this.focusAfterAttached=!0,n===St.BACKSPACE||n===St.DELETE?a="":n&&n.length===1?a=n:(a=this.getStartValue(e),n!==St.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=this.getStartValue(e)),a!=null&&t.setValue(a,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){let{value:t}=e;return t?.toString()??t}onKeyDown(e){let t=e.key;(t===St.LEFT||t===St.UP||t===St.RIGHT||t===St.DOWN||e.shiftKey&&t===St.ENTER)&&e.stopPropagation()}afterGuiAttached(){let{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:i}=this,n=this.getLocaleTextFunc();e.setInputAriaLabel(n("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),i&&e.getInputElement().select())}getValue(){let{eEditor:e,params:t}=this,{value:i}=t,n=e.getValue();return!Ai(n)&&!Ai(i)?i:t.parseValue(n)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:i}=e,n=this.getLocaleTextFunc(),r=this.getValue(),o=[];return typeof r=="string"&&t!=null&&r.length>t&&o.push(n("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),i?i({value:r,internalErrors:o,cellEditorParams:e}):o}},_we={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},ywe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return _we}getAgComponents(){return[kue]}init(e,t){this.eEditor=e,this.params=t;let{max:i,min:n,precision:r,step:o}=t;i!=null&&e.setMax(i),n!=null&&e.setMin(n),r!=null&&e.setPrecision(r),o!=null&&e.setStep(o);let s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){let{params:e}=this,{min:t,max:i,getValidationErrors:n}=e,o=this.eEditor.getInputElement().valueAsNumber,s=this.getLocaleTextFunc(),a=[];return typeof o=="number"&&(t!=null&&o<t&&a.push(s("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),i!=null&&o>i&&a.push(s("maxValueValidation",`Must be less than or equal to ${i}.`,[String(i)]))),a.length||(a=null),n?n({value:o,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===St.UP||e.key===St.DOWN)&&e.preventDefault()}getValue(){let{eEditor:e,params:t}=this,i=e.getValue();if(!Ai(i)&&!Ai(t.value))return t.value;let n=t.parseValue(i);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){km()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},wwe=class extends uD{constructor(){super(new ywe(()=>this.getLocaleTextFunc()))}},Cwe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},xwe=class extends oD{constructor(){super(Cwe,[Uue]),this.eEditor=bi,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;let{eEditor:t,valueSvc:i,gos:n}=this,{values:r,value:o,eventKey:s}=e;if(Ko(r)){oi(58);return}this.startedByEnter=s!=null?s===St.ENTER:!1;let a=!1;r.forEach(u=>{let h={value:u},f=i.formatValue(e.column,null,u),p=f!=null;h.text=p?f:u,t.addOption(h),a=a||o===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){let{params:e}=this,{values:t,getValidationErrors:i}=e,n=this.getValue(),r=[];if(t&&!t.includes(n)){let o=this.getLocaleTextFunc();r.push(o("invalidSelectionValidation","Invalid selection."))}else r=null;return i?i({value:n,internalErrors:r,cellEditorParams:e}):r}},Swe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},Mwe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return Swe}getAgComponents(){return[tD]}init(e,t){this.eEditor=e,this.params=t;let i=t.maxLength;i!=null&&e.setMaxLength(i)}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:i}=e,n=this.getValue(),r=this.getLocaleTextFunc(),o=[];return t!=null&&typeof n=="string"&&n.length>t&&o.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),i?i({value:n,cellEditorParams:e,internalErrors:o}):o}getValue(){let{eEditor:e,params:t}=this,i=e.getValue();return!Ai(i)&&!Ai(t.value)?t.value:t.parseValue(i)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){km()&&this.eEditor.getInputElement().focus({preventScroll:!0});let e=this.eEditor,t=e.getValue(),i=Ai(t)&&t.length||0;i&&e.getInputElement().setSelectionRange(i,i)}},RG=class extends uD{constructor(){super(new Mwe(()=>this.getLocaleTextFunc()))}};function Ewe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Dwe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function Pj(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function Fj(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function Twe(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function Awe(e){e.undoRedo?.undo("api")}function Rwe(e){e.undoRedo?.redo("api")}function kwe(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function Iwe(e){let t=e.editModelSvc?.getEditMap(),i=[];return t?.forEach((n,r)=>{let{rowIndex:o,rowPinned:s}=r;n.forEach((a,l)=>{let{editorValue:c,pendingValue:d,sourceValue:u,state:h}=a,f=kh(a),p=c??d;p===jd&&(p=void 0);let v={newValue:p,oldValue:u,state:h,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:o,rowPinned:s};(h==="editing"||h==="changed"&&f)&&i.push(v)})}),i}function Pwe(e,t=!1){let{editSvc:i}=e;if(i?.isBatchEditing()){if(t)for(let n of e.editModelSvc?.getEditPositions()??[])n.state==="editing"&&i.revertSingleCellEdit(n);else ym(e,{persist:!0});$b(e,void 0,{cancel:t})}else i?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function Fwe(e,t){let i=ws(e,t);return e.editSvc?.isEditing(i)??!1}function Owe(e,t){let{key:i,colKey:n,rowIndex:r,rowPinned:o}=t,{editSvc:s,colModel:a}=e,l=a.getCol(n);if(!l){oi(12,{colKey:n});return}let d=Yf(e,{rowIndex:r,rowPinned:o||null,column:l});if(!d){oi(290,{rowIndex:r,rowPinned:o});return}if(!s?.isCellEditable({rowNode:d,column:l},"api"))return;o==null&&Fj(e,r),Pj(e,n),s?.startEditing({rowNode:d,column:l},{event:i?new KeyboardEvent("keydown",{key:i}):void 0,source:"api"})}function Lwe(e){return e.editSvc?.validateEdit()||null}function Nwe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function Bwe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var Vwe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},zwe=class extends U5{constructor(e){super(Vwe),this.params=e}postConstruct(){p0(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,i=n=>{h5(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:i})}};function Hwe(e,{column:t},i,n,r="ui"){if(i instanceof KeyboardEvent&&(i.key===St.TAB||i.key===St.ENTER||i.key===St.F2||i.key===St.BACKSPACE&&n))return!0;if(i?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;let s=t?.getColDef(),a=Uwe(e.gos,s),l=i?.type;return l==="click"&&i?.detail===1&&a===1||l==="dblclick"&&i?.detail===2&&a===2?!0:r==="api"?n??!1:!1}function Uwe(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function S5(e,{rowNode:t,column:i},n="ui"){let r=i.getColDef().editable,o=e.editModelSvc;return i.isColumnFunc(t,r)||!!o&&o.hasEdits({rowNode:t,column:i},{withOpenEditor:!0})}function Gwe(e,t,i="ui"){let n=S5(e,t,i);return n===!0||i==="ui"?n:e.colModel.getCols().some(o=>S5(e,{rowNode:t.rowNode,column:o},i))}var KE=(e,t=!1)=>{if(e!==void 0)return kh(e)||t&&e.state==="editing"};function Oj(e,t,i=!1){return KE(e.editModelSvc?.getEdit(t),i)}var Lj=(e,t,i)=>{if(e)for(let n=0,r=e.length;n<r;++n){let o=e[n];if(o.data&&(KE(t?.getEdit({rowNode:o,column:i}))||KE(t?.getEdit({rowNode:o.pinnedSibling,column:i})))||Lj(o.childrenAfterGroup,t,i))return!0}};function Nj(e,t){let{column:i,rowNode:n}=t;return e.gos.get("groupTotalRow")&&!n?.footer?!1:Lj(n?.childrenAfterGroup,e.editModelSvc,i)}function Bj(e,{rowNode:t,column:i}){if(t=t.pinnedSibling,!!t)return KE(e.editModelSvc?.getEdit({rowNode:t,column:i}))}var Wwe=class extends Kt{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){let{cellCtrl:e,editSvc:t,beans:i}=this;if(t?.isBatchEditing()&&t.isEditing()){let r=Oj(i,e)||Nj(i,e)||Bj(i,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);let n=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",n)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},jwe=class extends Kt{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){let{rowCtrl:e,editModelSvc:t,beans:i}=this,n=e.rowNode,r=t?.getEditRow(n),o=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:n});if(!r&&n.pinnedSibling&&(n=n.pinnedSibling,r=t?.getEditRow(n)),r){let s=Array.from(r.keys()).some(a=>{let l={rowNode:n,column:a};return Oj(i,l,!0)||Nj(i,l)||Bj(i,l)});this.applyStyle(o,s);return}this.applyStyle(o)}applyStyle(e=!1,t=!1){let i=this.editSvc?.isBatchEditing()??!1,n=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",n&&t),r.toggleCss("ag-row-batch-edit",n&&t&&i),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",n&&t&&e)})}},qwe=({rowModel:e,pinnedRowModel:t,editModelSvc:i},n)=>{let r=new Set;e.forEachNode(o=>n.has(o)&&r.add(o)),t?.forEachPinnedRow("top",o=>n.has(o)&&r.add(o)),t?.forEachPinnedRow("bottom",o=>n.has(o)&&r.add(o));for(let o of n)r.has(o)||i.removeEdits({rowNode:o});return r},Ywe=({editModelSvc:e},t,i)=>{for(let n of t)e?.getEditRow(n)?.forEach((r,o)=>!i.has(o)&&e.removeEdits({rowNode:n,column:o}))},$we=e=>()=>{let t=new Set(e.colModel.getCols()),i=e.editModelSvc.getEditMap(!0),n=new Set(i.keys());Ywe(e,qwe(e,n),t)},Xwe=new Set(["undo","redo","paste","bulk","rangeSvc"]),Kwe=new Set(["ui","api"]),Vj={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},Zwe=new Set(Object.keys(Vj)),Qwe=new Set(["paste","rangeSvc","cellClear","redo","undo"]),dE={cancel:!0,source:"api"},Jwe={cancel:!1,source:"api"},pC={checkSiblings:!0},mC={force:!0,suppressFlash:!0},eCe=class extends Kt{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){let{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:n})=>{this.stopEditing(void 0,dE),this.createStrategy(n)});let t=$we(e),i=()=>{let n=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return n||r?this.stopEditing(void 0,dE):this.isEditing()&&(this.batch?$b(e,this.model.getEditPositions()):this.stopEditing(void 0,Jwe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:i,filterChanged:i,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,dE)):(this.stopEditing(void 0,dE),this.batch=!1)}createStrategy(e){let{beans:t,gos:i,strategy:n}=this,r=kG(i,e);if(n){if(n.beanName===r)return n;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,i,n="ui"){let r=Hwe(this.beans,e,t,i,n);return r&&(this.strategy??(this.strategy=this.createStrategy())),r}shouldStopEditing(e,t,i="ui"){return this.strategy?.shouldStop(e,t,i)??null}shouldCancelEditing(e,t,i="ui"){return this.strategy?.shouldCancel(e,t,i)??null}validateEdit(){return obe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??pC)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){let{startedEdit:i=!0,event:n=null,source:r="ui",ignoreEventKey:o=!1,silent:s}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;let a=ws(this.beans,e);if(a&&!a.comp){a.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}let l=this.shouldStartEditing(e,n,i,r);if(l===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&!t.continueEditing&&this.stopEditing(void 0,{source:r}),l&&this.batch&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:n,source:r,ignoreEventKey:o,startedEdit:i,silent:s})}stopEditing(e,t){let i=this.prepareStopContext(e,t);if(!i)return!1;this.stopping=!0;let n=!1,{edits:r}=i;try{let o=this.processStopRequest(i);return n||(n=o.res),r=o.edits,this.finishStopEditing(Zt(Ie({},i),{edits:r,params:t,position:e,res:n})),n}finally{this.stopping=!1}}prepareStopContext(e,t){let{event:i,cancel:n,source:r="ui",forceCancel:o,forceStop:s}=t||{};if(Zwe.has(r)&&this.batch)return this.bulkRefresh(e),null;let a=this.committing?Vj[r]:r;if(!(this.committing||this.isEditing(e)||this.batch&&this.model.hasEdits(e,pC))||!this.strategy||this.stopping)return null;let c=ws(this.beans,e);c&&(c.onEditorAttachedFuncs=[]);let d=!n&&(!!this.shouldStopEditing(e,i,a)||(this.committing||r==="paste")&&!this.batch)||(s??!1),u=n&&!!this.shouldCancelEditing(e,i,a)||(o??!1);return{cancel:n,cellCtrl:c??void 0,edits:this.model.getEditMap(!0),event:i,forceCancel:o,forceStop:s,position:e,source:r,treatAsSource:a,willCancel:u,willStop:d}}processStopRequest(e){let{event:t,position:i,willCancel:n,willStop:r}=e;return r||n?this.handleStopOrCancel(e):this.shouldHandleMidBatchKey(t,i)?{res:!1,edits:this.handleMidBatchKey(t,i,e)}:(ym(this.beans,{persist:!0}),this.batch&&this.strategy?.cleanupEditors(i),{res:!1,edits:this.model.getEditMap()})}handleStopOrCancel(e){let{beans:t,model:i}=this,{cancel:n,edits:r,event:o,source:s,willCancel:a,willStop:l}=e;ym(t,{persist:!0,isCancelling:a||n,isStopping:l});let c=i.getEditMap(),d=this.processEdits(c,n,s);this.strategy?.stop(n,o),this.clearValidationIfNoOpenEditors();for(let u of d)i.clearEditValue(u);this.bulkRefresh(void 0,r);for(let u of i.getEditPositions(c)){let h=ws(t,u),f=kh(u);h?.refreshCell({force:!0,suppressFlash:!f})}return{res:l,edits:c}}shouldHandleMidBatchKey(e,t){return e instanceof KeyboardEvent&&this.batch&&!!this.strategy?.midBatchInputsAllowed(t)&&this.isEditing(t,{withOpenEditor:!0})}handleMidBatchKey(e,t,i){let{beans:n,model:r}=this,{cellCtrl:o,edits:s}=i,{key:a}=e,l=a===St.ENTER,c=a===St.ESCAPE,d=a===St.TAB;return l||d||c?(l||d?ym(n,{persist:!0}):c&&this.revertSingleCellEdit(o),this.batch?this.strategy?.cleanupEditors():$b(n,r.getEditPositions(),{event:e,cancel:c}),e.preventDefault(),this.bulkRefresh(t,s,{suppressFlash:!0}),r.getEditMap()):s}finishStopEditing({cellCtrl:e,edits:t,params:i,position:n,res:r,willCancel:o,willStop:s}){let a=this.beans;r&&n&&this.model.removeEdits(n),this.navigateAfterEdit(i,e?.cellPosition),xE(a),this.clearValidationIfNoOpenEditors(),this.bulkRefresh();let{rowRenderer:l,formula:c}=a;o&&l.refreshRows({rowNodes:Array.from(t.keys())}),this.batch&&(c?c.refreshFormulas(!0):l.refreshRows({suppressFlash:!0,force:!0}),r&&s&&this.dispatchBatchEvent("batchEditingStopped",t))}clearValidationIfNoOpenEditors(){this.model.hasEdits(void 0,{withOpenEditor:!0})||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap())}navigateAfterEdit(e,t){if(!e||!t)return;let{event:i,suppressNavigateAfterEdit:n}=e;if(!(i instanceof KeyboardEvent)||n)return;let{key:o,shiftKey:s}=i,a=this.gos.get("enterNavigatesVerticallyAfterEdit");if(o!==St.ENTER||!a)return;let l=s?St.UP:St.DOWN;this.beans.navigation?.navigateToNextCell(null,l,t,!1)}processEdits(e,t=!1,i){let n=Array.from(e.keys()),r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,o=[];for(let s of n){let a=e.get(s);for(let l of a.keys()){let c=a.get(l),d={rowNode:s,column:l},u=kh(c);!t&&u&&!r&&(this.setNodeDataValue(s,l,c.pendingValue,void 0,i)||o.push(d))}}return o}setNodeDataValue(e,t,i,n,r="edit"){let{beans:o}=this,s=ws(o,{rowNode:e,column:t}),a=Kwe.has(r)?"edit":r;s&&(s.suppressRefreshCell=!0),this.committing=!0;let l=e.setDataValue(t,i,a);return this.committing=!1,s&&(s.suppressRefreshCell=!1),n&&s?.refreshCell(mC),l}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let i=mC;t?.forceRefreshOfEditCellsOnly&&(i=Ie(Ie({},tCe(e)),mC)),this.beans.rowRenderer.refreshCells(i)}dispatchEditValuesChanged({rowNode:e,column:t},i={}){if(!e||!t||!i)return;let{pendingValue:n,sourceValue:r}=i,{rowIndex:o,rowPinned:s,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:o,rowPinned:s,column:t,source:"api",data:a,newValue:n,oldValue:r,value:n,colDef:t.getColDef()})}bulkRefresh(e={},t,i={}){let{beans:n,gos:r}=this,{editModelSvc:o,rowModel:s}=n;Bs(r,s)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),i):t&&o?.getEditMap(!1)?.forEach((a,l)=>{for(let c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),i)}))}refCell({rowNode:e,column:t},i,n={}){let{beans:r,gos:o}=this,s=new Set([e]),a=new Set,l=e.pinnedSibling;l&&s.add(l);let c=e.sibling;c&&a.add(c);let d=e.parent;for(;d;)d.sibling?.footer&&o.get("groupTotalRow")||!d.parent&&d.sibling&&o.get("grandTotalRow")?a.add(d.sibling):a.add(d),d=d.parent;for(let u of s)this.dispatchEditValuesChanged({rowNode:u,column:t},i);for(let u of s)ws(r,{rowNode:u,column:t})?.refreshCell(n);for(let u of a)ws(r,{rowNode:u,column:t})?.refreshCell(n)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){let{rowNode:i}=e,{gos:n,beans:r}=this;if(i.group){if(n.get("treeData")){if(!i.data&&!n.get("enableGroupEdit"))return!1}else if(!n.get("enableGroupEdit"))return!1}let o=kG(n)==="fullRow"?Gwe(r,e,t):S5(r,e,t);return o&&(this.strategy??(this.strategy=this.createStrategy())),o}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,i=!0){if(this.hasValidationErrors(e)){let n=ws(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),i&&(!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){let i=ws(this.beans,e);i?.comp?.getCellEditor()&&($b(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),t_(this.beans,e,{silent:!0}),v0(this.beans),i?.refreshCell(mC),t&&(i?.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){v0(this.beans);let t=ws(this.beans,e);t&&(t.refreshCell(mC),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let i=!1;return e?.rowNode?(i||(i=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(i||(i=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(i||(i=this.model.getCellValidationModel().getCellValidationMap().size>0),i||(i=this.model.getRowValidationModel().getRowValidationMap().size>0)),i}moveToNextCell(e,t,i,n="ui"){let r,o=this.isEditing(),s=o&&this.checkNavWithValidation(void 0,i)==="block-stop";return e instanceof Xb&&o&&(r=this.strategy?.moveToNextEditingCell(e,t,i,n,s)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&!s&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t},i=!0){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t}),r=e.pinnedSibling;if(r){let s=this.model.getEdit({rowNode:r,column:t});s&&(n=s)}let o=i?n?.editorValue??n?.pendingValue:n?.pendingValue;return o===jd||!n?n?.sourceValue??this.valueSvc.getValue(t,e,!1,"api"):o}addStopEditingWhenGridLosesFocus(e){Jve(this,this.beans,e)}createPopupEditorWrapper(e){return new zwe(e)}setDataValue(e,t,i){try{if((!this.isEditing()||this.committing)&&!Qwe.has(i))return;let{beans:n}=this;this.strategy??(this.strategy=this.createStrategy());let r=this.batch?"ui":this.committing?i??"api":"api";if(!i||Xwe.has(i))return SE(n,e,t,i,void 0,{persist:!0}),this.batch?(this.cleanupEditors(),xE(n),this.bulkRefresh(),!0):this.setNodeDataValue(e.rowNode,e.column,t,!0,i);let o=this.model.getEdit(e);if(o){if(o.pendingValue===t)return!1;if(o.sourceValue!==t)return SE(n,e,t,i,void 0,{persist:!0}),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0;if(o.sourceValue===t)return n.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,Zt(Ie({},o),{pendingValue:t})),!0}return SE(n,e,t,i,void 0,{persist:!0}),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){ibe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){let{model:i}=this;if(!this.batch||!i.hasRowEdits(e.rowNode,pC))return;let{rowNode:r}=e,{compDetails:o,valueToDisplay:s}=t;if(o){let{params:a}=o;return a.data=i.getEditRowDataValue(r,pC),{compDetails:o}}return{valueToDisplay:s}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,i,n){this.strategy?.dispatchCellEvent(e,t,i,n)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Rn(this.gos,Ie({type:e},e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}))}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},i){if(!i||i.length===0)return;let{beans:n,rangeSvc:r,valueSvc:o}=this,{formula:s}=n;ym(n,{persist:!0});let a=this.model.getEditMap(!0),l=a.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"});let c=s?.isFormula(l)??!1;i.forEach(u=>{let h=u.columns.some(f=>f?.isAllowFormula());if(r?.forEachRowInRange(u,f=>{let p=Yf(n,f);if(p===void 0)return;let v=a.get(p)??new Map,m=l;for(let g of u.columns){if(!g)continue;let b=!!c&&g.isAllowFormula();if(this.isCellEditable({rowNode:p,column:g},"api")){let w=o.getValue(g,p,!0,"api"),x=o.parseValue(g,p??null,m,w);Number.isNaN(x)&&(x=null),v.set(g,{editorValue:void 0,pendingValue:x,sourceValue:w,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}b&&(m=s?.updateFormulaByOffset({value:m,columnDelta:1}))}v.size>0&&a.set(p,v),c&&h&&(l=s?.updateFormulaByOffset({value:l,rowDelta:1}))}),this.setEditMap(a),this.batch){this.cleanupEditors(),xE(n),this.bulkRefresh();return}this.committing=!0,this.stopEditing(void 0,{source:"bulk"}),this.committing=!1,this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(a)})}),this.bulkRefresh();let d=ws(n,{rowNode:e,column:t});d&&d.focusCell(!0)}createCellStyleFeature(e){return new Wwe(e,this.beans)}createRowStyleFeature(e){return new jwe(e,this.beans)}setEditingCells(e,t){let{beans:i}=this,{colModel:n,valueSvc:r}=i,o=new Map;for(let{colId:s,column:a,colKey:l,rowIndex:c,rowPinned:d,newValue:u,state:h}of e){let f=s?n.getCol(s):l?n.getCol(l):a;if(!f)continue;let p=Yf(i,{rowIndex:c,rowPinned:d});if(!p)continue;let v=r.getValue(f,p,!0,"api");if(!t?.forceRefreshOfEditCellsOnly&&!kh({pendingValue:u,sourceValue:v})&&h!=="editing")continue;let m=o.get(p);m||(m=new Map,o.set(p,m)),u===void 0&&(u=jd),m.set(f,{editorValue:void 0,pendingValue:u,sourceValue:v,state:h??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(o,t)}onCellFocused(e){let t=ws(this.beans,e);if(!t||!this.isEditing(t,pC))return;let i=this.model.getEdit(t);if(!i||!kh(i))return;let r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}allowedFocusTargetOnValidation(e){return ws(this.beans,e)}};function tCe(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function kG(e,t){return t??e.get("editType")??"singleCell"}var zj=class extends Kt{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t,i=e.previousParams,{editSvc:n,beans:r}=this,o=e.type==="cellFocused"?e.sourceEvent:null;i&&(t=ws(r,i));let{gos:s,editModelSvc:a}=r,l=e.type==="cellFocusCleared";if(n.isEditing(void 0,{withOpenEditor:!0})){let{column:c,rowIndex:d,rowPinned:u}=e,h={column:c,rowNode:Yf(r,{rowIndex:d,rowPinned:u})},f=s.get("invalidEditValueMode")==="block";if(f)return;let p=!f,v=!!a?.getCellValidationModel().hasCellValidation(h),m=p&&v;(i||l?n.stopEditing(void 0,{cancel:m,source:l&&p?"api":void 0,event:o}):!0)||(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){let i=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};for(let r of i){if(n.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0){n.fail.push(r);continue}n.pass.push(r)}if(e)for(let r of i)jE(this.beans,r,{cancel:e}),this.model.stop(r);else{let r=this.processValidationResults(n);if(r.destroy.length>0)for(let o of r.destroy)jE(this.beans,o,{event:t,cancel:e}),this.model.stop(o);if(r.keep.length>0)for(let o of r.keep){let s=ws(this.beans,o);this.editSvc?.cellEditingInvalidCommitBlocks()||s&&this.editSvc.revertSingleCellEdit(s)}}return!0}cleanupEditors({rowNode:e}={},t){ym(this.beans,{persist:!1});let i=this.model.getEditPositions(),n=[];if(e)for(let r of i)r.rowNode!==e&&n.push(r);else for(let r of i)n.push(r);$b(this.beans,n),xE(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){let t=e.comp,i=t?.getCellEditor();if(i?.focusIn)i.focusIn();else{let n=this.beans.gos.get("editType")==="fullRow";e.focusCell(n),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){let{event:t,ignoreEventKey:i=!1,startedEdit:n,position:r,cells:o=this.model.getEditPositions()}=e,s=t instanceof KeyboardEvent&&!i&&t.key||void 0;tbe(this.beans,o,r,s,t,n)}dispatchCellEvent(e,t,i,n){let r=ws(this.beans,e);r&&this.eventSvc.dispatchEvent(Ie(Ie({},r.createEvent(t??null,i)),n))}dispatchRowEvent(e,t,i){if(i)return;let n=uO(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStop(e,t,i="ui"){let n=this.editSvc.isBatchEditing();return n&&i==="api"?!0:n&&(i==="ui"||i==="edit")?!1:i==="api"?!0:t instanceof KeyboardEvent&&!n?t.key===St.ENTER:null}shouldCancel(e,t,i="ui"){let n=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!n&&t.key===St.ESCAPE||n&&i==="api"||i==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});let i=[];if(e.forEach((n,r)=>{n.forEach((o,s)=>{o.state==="editing"&&i.push(Zt(Ie({},o),{rowNode:r,column:s}))})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),i.length>0){let n=i.at(-1),r=n.pendingValue===jd?void 0:n.pendingValue;this.start({position:n,event:new KeyboardEvent("keydown",{key:r}),source:"api"});let o=ws(this.beans,n);o&&this.setFocusInOnEditor(o)}}destroy(){this.cleanupEditors(),super.destroy()}},iCe=class extends zj{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,i="ui"){let{rowNode:n}=e||{};if(!uO(this.beans,{rowNode:this.rowNode}))return!0;let o=super.shouldStop({rowNode:this.rowNode},t,i);return o!==null?o:this.rowNode?n!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){let{position:t,silent:i,startedEdit:n,event:r,ignoreEventKey:o}=e,{rowNode:s}=t;this.rowNode!==s&&super.cleanupEditors(t);let a=this.beans.visibleCols.allCols,l=[],c=[];for(let d of a)d.isCellEditable(s)&&c.push(d);if(c.length!=0){this.dispatchRowEvent({rowNode:s},"rowEditingStarted",i),this.startedRows.push(s);for(let d of c){let u={rowNode:s,column:d};l.push(u),this.model.hasEdits(u)||this.model.start(u)}this.rowNode=s,this.setupEditors({cells:l,position:t,startedEdit:n,event:r,ignoreEventKey:o})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){let{rowNode:i}=this;if(i&&!this.model.hasRowEdits(i))return!1;let n=[];if(e||this.model.getEditMap().forEach((r,o)=>{if(!(!r||r.size===0)){for(let s of r.values())if(kh(s)){n.push(o);break}}}),v0(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:i})==="block-stop")return!1;super.stop(e,t);for(let r of n)this.dispatchRowEvent({rowNode:r},"rowValueChanged");return this.cleanupEditors({rowNode:i},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){let{rowIndex:t}=e,i=e.previousParams;if(i?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;let n=ws(this.beans,i);this.gos.get("invalidEditValueMode")==="block"&&n&&(this.model.getCellValidationModel().getCellValidation(n)||this.model.getRowValidationModel().getRowValidation(n))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(let i of this.startedRows)this.dispatchRowEvent({rowNode:i},"rowEditingStopped");this.startedRows.length=0}moveToNextEditingCell(e,t,i,n="ui",r=!1){let o=e.cellPosition,s;this.model.suspend(!0);try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(s===!1)return null;if(s==null)return!1;let a=s.cellPosition,l=e.isCellEditable(),c=s.isCellEditable(),d=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();let u=this.gos.get("suppressStartEditOnTab");return c&&!r?u?s.focusCell(!0,i):(s.comp?.getCellEditor()||t_(this.beans,s,{event:i,cellStartedEdit:!0}),this.setFocusInOnEditor(s),s.focusCell(!1,i)):(c&&r&&this.setFocusInOnEditor(s),s.focusCell(!0,i)),!d&&!r&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:i}),this.cleanupEditors(s,!0),u?s.focusCell(!0,i):this.editSvc.startEditing(s,{startedEdit:!0,event:i,source:n,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:i},n)=>{if(i!=="editing")return;let r=ws(this.beans,{rowNode:t,column:n});r&&!r.comp?.getCellEditor()&&t_(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},nCe=class extends zj{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,i="ui"){let n=super.shouldStop(e,t,i);if(n!==null)return n;let{rowNode:r,column:o}=e||{};return(!this.rowNode||!this.column)&&r&&o?null:this.rowNode!==r||this.column!==o}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){let{position:t,startedEdit:i,event:n,ignoreEventKey:r}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:i,event:n,ignoreEventKey:r})}dispatchRowEvent(e,t,i){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){let{colModel:t,editSvc:i}=this.beans,{rowIndex:n,column:r,rowPinned:o}=e,s=Yf(this.beans,{rowIndex:n,rowPinned:o}),a=b5(r),l=t.getCol(a),c=e.previousParams;if(c){let d=b5(c.column);if(c?.rowIndex===n&&d===a&&c?.rowPinned===o)return}i?.isEditing({rowNode:s,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,i,n="ui",r=!1){let o=this.beans.focusSvc.getFocusedCell();o&&(e=Fb(this.beans,o)??e);let s=e.cellPosition,a,l=this.beans.gos.get("editType")==="fullRow";l&&this.model.suspend(!0),r||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:i}));try{a=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(a===!1)return null;if(a==null)return!1;let c=a.cellPosition,d=e.isCellEditable(),u=a.isCellEditable(),h=c&&s.rowIndex===c.rowIndex&&s.rowPinned===c.rowPinned;d&&!r&&this.setFocusOutOnEditor(e);let f=this.gos.get("suppressStartEditOnTab");if(!h&&!r&&(super.cleanupEditors(a,!0),f?a.focusCell(!0,i):this.editSvc.startEditing(a,{startedEdit:!0,event:i,source:n,ignoreEventKey:!0})),u&&!r){if(a.focusCell(!1,i),f)a.focusCell(!0,i);else if(!a.comp?.getCellEditor()){let p=this.editSvc?.isEditing(a,{withOpenEditor:!0});t_(this.beans,a,{event:i,cellStartedEdit:!0,silent:p}),this.setFocusInOnEditor(a),this.cleanupEditors(a)}}else u&&r&&this.setFocusInOnEditor(a),a.focusCell(!0,i);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Pm={moduleName:"EditCore",version:Ri,beans:[Qve,eCe],apiFunctions:{getEditingCells:Iwe,getEditRowValues:kwe,getCellEditorInstances:ebe,startEditingCell:Owe,stopEditing:Pwe,isEditing:Fwe,validateEdit:Lwe},dynamicBeans:{singleCell:nCe,fullRow:iCe},dependsOn:[cD,Ij],css:[lwe]},rCe={moduleName:"UndoRedoEdit",version:Ri,beans:[awe],apiFunctions:{undoCellEditing:Awe,redoCellEditing:Rwe,getCurrentUndoSize:Nwe,getCurrentRedoSize:Bwe},dependsOn:[Pm]},oCe={moduleName:"TextEditor",version:Ri,userComponents:{agCellEditor:RG,agTextCellEditor:RG},dependsOn:[Pm]},sCe={moduleName:"NumberEditor",version:Ri,userComponents:{agNumberCellEditor:{classImp:wwe}},dependsOn:[Pm]},aCe={moduleName:"DateEditor",version:Ri,userComponents:{agDateCellEditor:fwe,agDateStringCellEditor:gwe},dependsOn:[Pm]},lCe={moduleName:"CheckboxEditor",version:Ri,userComponents:{agCheckboxCellEditor:dwe},dependsOn:[Pm]},cCe={moduleName:"SelectEditor",version:Ri,userComponents:{agSelectCellEditor:xwe},dependsOn:[Pm]},dCe={moduleName:"LargeTextEditor",version:Ri,userComponents:{agLargeTextCellEditor:bwe},dependsOn:[Pm]},uCe={moduleName:"CustomEditor",version:Ri,dependsOn:[Pm]},hCe=class extends Kt{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Wb(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),ade(e))}createColumns(e,t){let i=()=>{OE(this.beans,this.columns?.tree),this.columns=null},n=e.treeDepth,o=(this.columns?.treeDepth??-1)==n,s=this.generateSelectionCols();if(sde(s,this.columns?.list??[])&&o)return;i();let{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(s,c)??[];this.columns={list:s,tree:d,treeDepth:c,map:{}},t(h=>{if(!h)return null;let f=h.filter(p=>!Rm(p));return[...s,...f]})}updateColumns(e){let t=Wb(e.source),{beans:i}=this;for(let n of this.columns?.list??[]){let r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),Iu(i,{state:[cde(r,n.colId)]},t)}}getColumn(e){return this.columns?.list.find(t=>SC(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,i=e.get("rowSelection");if(typeof i!="object"||!l0(e))return!1;let n=(t.autoColSvc?.getColumns()?.length??0)>0;if(i.checkboxLocation==="autoGroupColumn"&&n)return!1;let r=!!Hb(i),o=mE(i);return r||o}createSelectionColDef(e){let{gos:t}=this,i=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),a=i??{},{rowSpan:r,spanRows:o}=a,s=tm(a,["rowSpan","spanRows"]);return Zt(Ie({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(l,c,d,u){let h=d.isSelected(),f=u.isSelected();return h===f?0:h?1:-1},editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,pinned:null},s),{colId:C9,chartDataType:"excluded"})}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);let i=new _0(e,null,t,!1);return this.createBean(i),[i]}onSelectionOptionsChanged(e,t,i){let n=t&&typeof t!="string"?Hb(t):void 0,r=e&&typeof e!="string"?Hb(e):void 0,o=n!==r,s=t&&typeof t!="string"?mE(t):void 0,a=e&&typeof e!="string"?mE(e):void 0,l=s!==a,c=IE(e),d=IE(t);(o||l||c!==d)&&this.beans.colModel.refreshAll(i)}destroy(){OE(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,i){if(!this.columns?.list.length)return;let n=e.length+t.length+i.length;if(n===0)return;let r=this.columns.list[0];if(!r.isVisible())return;let o=()=>{let l;switch(r.pinned){case"left":case!0:l=e;break;case"right":l=i;break;default:l=t}l&&Fh(l,r)};(this.beans.rowNumbersSvc?.getColumn(x9)?2:1)===n&&o()}},fCe=':where(.ag-selection-checkbox) .ag-checkbox-input-wrapper{&:before{content:"";cursor:pointer;inset:-8px;position:absolute}}';function pCe(e,t){if(!t.nodes.every(s=>s.rowPinned&&!$C(s)?(oi(59),!1):s.id===void 0?(oi(60),!1):!0))return;let{nodes:n,source:r,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:r??"api",newValue:o})}function mCe(e,t,i="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:i,selectAll:t})}function gCe(e,t,i="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:i,selectAll:t})}function vCe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function bCe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function _Ce(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function yCe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function wCe(e){return e.selectionSvc?.getSelectedNodes()??[]}function CCe(e){return e.selectionSvc?.getSelectedRows()??[]}var xCe=class extends Ppe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=PE(e),this.groupSelectsDescendants=LC(e),this.groupSelectsFiltered=FE(e)==="filteredDescendants",this.masterSelectsDetail=yU(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=LC(e),i=PE(e),n=FE(e)==="filteredDescendants";this.masterSelectsDetail=yU(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||i!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=i)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,i){if(this.isRowSelectionBlocked(t))return 0;let n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,i);if(n==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in n)return n.reset?this.resetNodes():this.selectRange(n.deselect,!1,i),this.selectRange(n.select,!0,i);{let r=n.checkFilteredNodes?Uj(n.node):n.newValue;return this.setNodesSelected({nodes:[n.node],newValue:r,clearSelection:n.clearSelection,keepDescendants:n.keepDescendants,event:e,source:i})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:i,nodes:n,event:r,source:o,keepDescendants:s=!1}){if(n.length===0)return 0;let{gos:a}=this;if(!l0(a)&&e)return oi(132),0;if(n.length>1&&!this.isMultiSelect())return oi(130),0;let l=0;for(let c=0;c<n.length;c++){let d=n[c],u=Ab(d);if(u.rowPinned&&!$C(u)){oi(59);continue}if(u.id===void 0){oi(60);continue}if(e&&d.destroyed)continue;this.groupSelectsFiltered&&u.group&&!a.get("treeData")||this.selectRowNode(u,e,r,o)&&(this.detailSelection.delete(u.id),l++),this.groupSelectsDescendants&&u.childrenAfterGroup?.length&&(l+=this.selectChildren(u,e,o))}return i||(n.length===1&&o==="api"&&this.selectionCtx.setRoot(Ab(n[0])),e&&(t||!this.isMultiSelect())&&(l+=this.clearOtherNodes(Ab(n[0]),s,o)),l>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),l}selectRange(e,t,i){let n=0;return e.forEach(r=>{let o=Ab(r);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i){let n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:i,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((i,n)=>{e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:i,rowModel:n}=this.beans;if(!Bs(i,n))return!1;let r=n.rootNode;if(!r)return!1;t||(t=new zC(!0,r),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==r){let a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t,i){let n=new Map,r=0;return this.selectedNodes.forEach(o=>{let s=o.id==e.id;if((t?!MCe(e,o):!0)&&!s){let l=this.selectedNodes.get(o.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),this.groupSelectsDescendants&&o.parent&&n.set(o.parent.id,o.parent)}}),n.forEach(o=>{let s=this.calculateSelectedFromChildren(o);this.selectRowNode(o,s===null?!1:s,void 0,i)}),r}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new Dm(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!Bs(e,t))return;let i=t.getTopLevelNodes();if(i===null)return;let n=[];function r(o){for(let s=0,a=o.length;s<a;s++){let l=o[s];l.isSelected()?n.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(i),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let i=Bs(this.gos),n=!1,r=o=>{let s=this.selectRowNode(Ab(o),!1,void 0,e);n||(n=s)};if(t==="currentPage"||t==="filtered"){if(!i){ho(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,i&&this.groupSelectsDescendants){let o=this.updateGroupsFromChildrenSelections(e);n||(n=o)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,i=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&i++)}),{selectedCount:t,notSelectedCount:i}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:i}=this.getSelectedCounts(e);return Hj(t,i)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[],i=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){i(r);return}if(!r.expanded&&!r.footer){let o=s=>{i(s),s.childrenAfterFilter?.forEach(o)};o(r);return}this.groupSelectsDescendants||i(r)}),t;let n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(i),t):(n.forEachNode(i),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:i}=this.beans,n=t.getFirstRow(),r=t.getLastRow();for(let o=n;o<=r;o++){let s=i.getRow(o);s&&e(s)}}selectAllRowNodes(e){let{gos:t,selectionCtx:i}=this;if(!l0(t)){oi(132);return}if(Wce(t)&&!OC(t)){oi(130);return}if(!this.canSelectAll())return;let{source:n,selectAll:r}=e,o=!1;if(this.getNodesToSelect(r).forEach(s=>{let a=this.selectRowNode(Ab(s),!0,void 0,n);o||(o=a)}),i.selectAll=!0,Bs(t)&&this.groupSelectsDescendants){let s=this.updateGroupsFromChildrenSelections(n);o||(o=s)}o&&this.dispatchSelectionChanged(n)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,i){if(e||(e=[]),!Array.isArray(e)){ho(103);return}let n=new Set(e),r=[];this.beans.rowModel.forEachNode(o=>{n.has(o.id)&&r.push(o)}),i&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){return Bs(this.beans.gos)}updateSelectable(e){let{gos:t,rowModel:i}=this.beans;if(!l0(t))return;let n="selectableChanged",r=e!==void 0,o=Bs(t)&&this.groupSelectsDescendants,s=[],a=l=>{if(r&&!l.group)return;if(o&&l.group){let d=l.childrenAfterGroup?.some(u=>u.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&s.push(l)};if(o){if(e===void 0){let l=i.rootNode;e=l?new zC(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!r,!r)}else i.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:n}),!r&&o&&this.updateGroupsFromChildrenSelections?.(n)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let i=e.detailNode?.detailGridInfo?.api;if(!i)return;let n=SCe(i);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){let o=this.detailSelection.get(e.id)??new Set;for(let s of i.getSelectedNodes())o.add(s.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,i){if(this.masterSelectsDetail){if(!OC(t)){oi(269);return}switch(e.isSelected()){case!0:{i.selectAll();break}case!1:{i.deselectAll();break}case void 0:{let n=this.detailSelection.get(e.id);if(n){let r=[];for(let o of n){let s=i.getRowNode(o);s&&r.push(s)}i.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Ab(e){return $C(e)?e.pinnedSibling:e.footer?e.sibling:e}function SCe(e){let t=0,i=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&i++}),Hj(t,i)}function Hj(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function MCe(e,t){let i=t.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}function Uj(e){let t=e.isSelected()===!1,i=e.childrenAfterFilter?.some(Uj)??!1;return t||i}var ECe={moduleName:"SharedRowSelection",version:Ri,beans:[hCe],css:[fCe],apiFunctions:{setNodesSelected:pCe,selectAll:mCe,deselectAll:gCe,selectAllFiltered:vCe,deselectAllFiltered:bCe,selectAllOnCurrentPage:_Ce,deselectAllOnCurrentPage:yCe,getSelectedNodes:wCe,getSelectedRows:CCe}},DCe={moduleName:"RowSelection",version:Ri,rowModels:["clientSide","infinite","viewport"],beans:[xCe],dependsOn:[ECe]};function TCe(e){e.expansionSvc?.expandAll(!0)}function ACe(e){e.expansionSvc?.expandAll(!1)}function Gj(e){e.rowModel?.onRowHeightChanged()}function Wj(e){if(e.rowAutoHeight?.active){oi(3);return}e.rowModel?.resetRowHeights()}function RCe(e,t,i){let n=T_e(e);if(n){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){ho(238);return}n.setRowCount(t,i);return}ho(28);return}lD(e)?.setRowCount(t,i)}function kCe(e){return GC(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function ICe(e){return e.rowModel.isLastRowIndexKnown()}var PCe={moduleName:"CsrmSsrmSharedApi",version:Ri,apiFunctions:{expandAll:TCe,collapseAll:ACe}},FCe={moduleName:"RowModelSharedApi",version:Ri,apiFunctions:{onRowHeightChanged:Gj,resetRowHeights:Wj}},OCe={moduleName:"SsrmInfiniteSharedApi",version:Ri,apiFunctions:{setRowCount:RCe,getCacheBlockState:kCe,isLastRowIndexKnown:ICe}},LCe=class extends Kt{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{if(!n){ho(18),t||ho(20);return}if(this.isGridApi(n))return n;let r=n;return"current"in r?r.current?.api:(r.api||ho(19),r.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(let t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":oi(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;if(t)for(let i of e.columnGroups){let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){let t=e.column,i=null,n=this.beans,{colResize:r,ctrlsSvc:o,colModel:s}=n;if(t&&(i=s.getColDefCol(t.getColId())),t&&!i)return;let a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let u=e.api.getColumnState().map(h=>({colId:h.colId}));Iu(n,{state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let u=e.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));Iu(n,{state:u},"alignedGridChanged")}break;case"columnPinned":{let u=e.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));Iu(n,{state:u},"alignedGridChanged")}break;case"columnResized":{let d=e,u={};for(let h of a)u[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()};for(let h of d.flexColumns??[])u[h.getId()]&&delete u[h.getId()];r?.setColumnWidths(Object.values(u),!1,d.finished,"alignedGridChanged");break}}let c=o.getGridBodyCtrl().isVerticalScrollShowing();for(let d of this.getAlignedGridApis())d.setGridOption("alwaysShowVerticalScroll",c)}},NCe={moduleName:"AlignedGrids",version:Ri,beans:[LCe],dependsOn:[zW]},BCe=class extends Kt{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},IG(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){this.dispatchRowDataUpdateStarted(e),this.destroyAllNodes();let t=IG(this.rootNode),i=new Array(e.length);t._leafs=i;let n=0,r=this.beans.groupStage?.getNestedDataGetter(),o=r?new Set:null,s=(a,l)=>{let c=a.level+1;for(let d=0,u=l.length;d<u;++d){let h=l[d];if(!h)continue;let f=this.createRowNode(h,c);if(f.sourceRowIndex=n,i[n++]=f,o&&!o.has(h)){o.add(h),f.treeParent=a;let p=r(h);p&&s(f,p)}}};s(t,e),i.length=n}destroyAllNodes(){let{selectionSvc:e,pinnedRowModel:t,groupStage:i}=this.beans;e?.reset("rowDataChanged"),t?.isManual()&&t.reset(),i?.clearNonLeafs();let n=this.rootNode._leafs;if(n)for(let r=0,o=n.length;r<o;++r)n[r]._destroy(!1);this.allNodesMap=Object.create(null),this.nextId=0}setImmutableRowData(e,t){let{rootNode:i,gos:n}=this;this.dispatchRowDataUpdateStarted(t);let r=Zb(n),o=e.changedRowNodes,{adds:s,updates:a}=o,l=new Set,c=[],d=this.beans.groupStage?.getNestedDataGetter(),u=n.get("suppressMaintainUnsortedOrder")?void 0:!1,h=-1,f=!1,p=(g,b)=>{if(!u&&u!==void 0){let w=g.sourceRowIndex;u=w<=h,h=w}g.data!==b&&(g.updateData(b),s.has(g)||a.add(g),!g.selectable&&g.isSelected()&&c.push(g))},v=(g,b,w)=>{for(let x=0,R=b.length;x<R;++x){let _=b[x];if(!_)continue;let L=this.getRowNode(r({data:_,level:w}));if(L?(p(L,_),f||(f=!!d&&L.treeParent!==g)):(L=this.createRowNode(_,w),s.add(L)),!d||l.has(L)){l.add(L);continue}l.add(L),L.treeParent=g;let F=d(_);F&&v(L,F,w+1)}};v(i,t,0);let m=this.deleteUnusedNodes(l,o,c,!!e.animate)||u||s.size>0;if(m){let g=i._leafs??(i._leafs=[]);u===void 0?GCe(g,l,o):UCe(g,l)&&(o.reordered=!0)}(m||f||a.size)&&(e.rowDataUpdated=!0,this.deselect(c))}deleteUnusedNodes(e,{removals:t},i,n){let r=this.rootNode._leafs;for(let o=0,s=r.length;o<s;o++){let a=r[o];e.has(a)||this.destroyNode(a,n)&&(t.push(a),a.isSelected()&&i.push(a))}return t.length>0}updateRowData(e,t,i){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return oi(268),{remove:[],update:[],add:[]};let n=[],r=Zb(this.gos),o=this.executeRemove(r,e,t,n,i),s=this.executeUpdate(r,e,t,n),a=this.executeAdd(e,t);return this.deselect(n),{remove:o,update:s,add:a}}executeRemove(e,{remove:t},{adds:i,updates:n,removals:r},o,s){let a=this.rootNode._leafs,l=a?.length,c=t?.length;if(!c||!l)return[];let d=0,u=l,h=0,f=new Array(c);for(let p=0;p<c;++p){let v=this.lookupNode(e,t[p]);if(!v)continue;let m=v.sourceRowIndex;m<u&&(u=m),m>h&&(h=m),f[d++]=v,this.destroyNode(v,s)&&(v.isSelected()&&o.push(v),i.delete(v)||(n.delete(v),r.push(v)))}return f.length=d,d&&HCe(a,u,h),f}executeUpdate(e,{update:t},{adds:i,updates:n},r){let o=t?.length;if(!o)return[];let s=new Array(o),a=0;for(let l=0;l<o;l++){let c=t[l],d=this.lookupNode(e,c);d&&(d.updateData(c),!d.selectable&&d.isSelected()&&r.push(d),s[a++]=d,i.has(d)||n.add(d))}return s.length=a,s}executeAdd(e,t){var i;let n=(i=this.rootNode)._leafs??(i._leafs=[]),r=n.length,o=e.add,s=o?.length;if(!s)return[];let a=r+s,l=this.sanitizeAddIndex(n,e.addIndex);if(l<r){for(let u=r-1,h=a-1;u>=l;--u){let f=n[u];f.sourceRowIndex=h,n[h--]=f}t.reordered=!0}n.length=a;let c=new Array(s),d=t.adds;for(let u=0;u<s;u++){let h=this.createRowNode(o[u],0);d.add(h),h.sourceRowIndex=l,n[l]=h,c[u]=h,l++}return c}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){let t="rowDataChanged",i=this.beans.selectionSvc;e.length&&i?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),i?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:i?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t){let i=new Dm(this.beans);i.parent=this.rootNode,i.level=t,i.group=!1,i.expanded=!1,i.setDataAndId(e,String(this.nextId++));let n=i.id,r=this.allNodesMap;return r[n]&&oi(2,{nodeId:n}),r[n]=i,i}destroyNode(e,t){if(!e._destroy(t))return!1;let i=e.id,n=this.allNodesMap;n[i]===e&&delete n[i];let r=e.pinnedSibling;return r&&this.beans.pinnedRowModel?.pinRow(r,null),!0}lookupNode(e,t){if(!e)return zCe(this.rootNode._leafs,t);let i=e({data:t,level:0}),n=this.allNodesMap[i];return n||(ho(4,{id:i}),null)}sanitizeAddIndex(e,t){let i=e.length;if(typeof t!="number"||t<0||t>=i||Number.isNaN(t))return i;t=Math.ceil(t);let n=this.gos;return t>0&&n.get("treeData")&&n.get("getDataPath")&&(t=VCe(e,t)),t}},VCe=(e,t)=>{for(let i=0,n=e.length;i<n;i++)if(e[i]?.rowIndex==t-1)return i+1;return t},IG=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);let t=[],i=[],n=[],r=[];e.childrenAfterGroup=t,e.childrenAfterSort=i,e.childrenAfterAggFilter=n,e.childrenAfterFilter=r;let o=e.sibling;return o&&(o.childrenAfterGroup=t,o.childrenAfterSort=i,o.childrenAfterAggFilter=n,o.childrenAfterFilter=r,o.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},zCe=(e,t)=>{if(e)for(let i=0,n=e.length;i<n;i++){let r=e[i];if(r.data===t)return r}return ho(5,{data:t}),null},HCe=(e,t,i)=>{t=Math.max(0,t);for(let n=t,r=e.length;n<r;++n){let o=e[n];n<=i&&o.destroyed||(o.sourceRowIndex=t,e[t++]=o)}e.length=t},UCe=(e,t)=>{let i=t.size;e.length=i;let n=0,r=!1,o=!1;for(let s of t){let a=s.sourceRowIndex;a===n?o||(o=r):(a>=0?o=!0:r=!0,s.sourceRowIndex=n,e[n]=s),++n}return o},GCe=(e,t,{adds:i})=>{let n=e.length,r=t.size;r>n&&(e.length=r);let o=0;for(let s=0;s<n;++s){let a=e[s];a.destroyed||(o!==s&&(a.sourceRowIndex=o,e[o]=a),++o)}for(let s of i)s.sourceRowIndex<0&&(s.sourceRowIndex=o,e[o++]=s);e.length=o},jj=e=>{let t=e.childrenAfterSort,i=e.sibling;if(i&&(i.childrenAfterSort=t),!!t)for(let n=0,r=t.length-1;n<=r;n++){let o=t[n],s=n===0,a=n===r;o.firstChild!==s&&(o.firstChild=s,o.dispatchRowEvent("firstChildChanged")),o.lastChild!==a&&(o.lastChild=a,o.dispatchRowEvent("lastChildChanged")),o.childIndex!==n&&(o.childIndex=n,o.dispatchRowEvent("childIndexChanged"))}},WCe=class extends Kt{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e,t){let i=this.beans.sortSvc.getSortOptions(),n=i.length>0&&!!t&&this.gos.get("deltaSort"),{gos:r,colModel:o,rowGroupColsSvc:s,rowNodeSorter:a,rowRenderer:l,showRowGroupCols:c}=this.beans,d=r.get("groupMaintainOrder"),u=o.getCols().some(b=>b.isRowGroupActive()),h=s?.columns,f=o.isPivotMode(),p=r.getCallback("postSortRows"),v=!1,m,g=b=>{let w=f&&b.leafGroup,x=d&&u&&!b.leafGroup;x&&(m??(m=this.shouldSortContainsGroupCols(i)),x&&(x=!m));let R=null;if(x){let _=!1;if(h){let L=b.level+1;L<h.length&&(_=h[L].wasSortExplicitlyRemoved)}_||(R=YCe(b))}else!i.length||w||(n&&t?R=jCe(a,b,t,e,i):R=a.doFullSort(b.childrenAfterAggFilter,i));if(R||(R=b.childrenAfterAggFilter?.slice(0)??[]),v||(v=b.childrenAfterSort?.[0]!==R[0]),b.childrenAfterSort=R,jj(b),p){let _={nodes:b.childrenAfterSort};p(_)}};if(e?.forEachChangedNodeDepthFirst(g),v&&r.get("groupHideOpenParents")){let b=c?.columns;b?.length&&l.refreshCells({columns:b,force:!0})}}shouldSortContainsGroupCols(e){let t=e.length;if(!t)return!1;if(Eh(this.gos)){for(let i=0;i<t;++i){let n=e[i].column;if(n.isPrimary()&&n.isRowGroupActive())return!0}return!1}for(let i=0;i<t;++i)if(e[i].column.getColDef().showRowGroup)return!0;return!1}},jCe=(e,t,i,n,r)=>{let o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,r);let a=new Set,l=[],{updates:c,adds:d}=i;for(let h=0,f=o.length;h<f;++h){let p=o[h];c.has(p)||d.has(p)||n&&!n.canSkip(p)?l.push({currentPos:l.length,rowNode:p}):a.add(p)}let u=s.filter(h=>a.has(h)).map((h,f)=>({currentPos:f,rowNode:h}));return l.sort((h,f)=>e.compareRowNodes(r,h,f)),qCe(e,r,l,u)},qCe=(e,t,i,n)=>{let r=0,o=0,s=i.length,a=n.length,l=new Array(s+a),c=0;for(;r<s&&o<a;){let d=i[r],u=n[o];e.compareRowNodes(t,d,u)<0?(l[c++]=d.rowNode,++r):(l[c++]=u.rowNode,++o)}for(;r<s;)l[c++]=i[r++].rowNode;for(;o<a;)l[c++]=n[o++].rowNode;return l},YCe=e=>{let t=e.childrenAfterSort,i=e.childrenAfterAggFilter,n=t?.length,r=i?.length;if(!n||!r)return null;let o=new Array(r),s=new Set;for(let l=0;l<r;++l)s.add(i[l]);let a=0;for(let l=0;l<n;++l){let c=t[l];s.delete(c)&&(o[a++]=c)}if(s.size===0&&a===n)return t;for(let l of s)o[a++]=l;return o.length=a,o},$Ce=class extends Kt{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.formulaRows=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=null,this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=qa(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){let e=this.beans,t=new Dm(e);this.rootNode=t,this.nodeManager=this.createBean(new BCe(t));let i=()=>{this.beans.groupStage?.invalidateGroupCols(),this.refreshModel({step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")})};this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:i,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:()=>this.refreshModel({step:"pivot"}),columnPivotModeChanged:()=>this.refreshModel({step:"group"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),stylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){let{beans:e,stagesRefreshProps:t}=this,i=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(n=>!!n);this.stages=i;for(let n=i.length-1;n>=0;--n){let r=i[n];for(let o of r.refreshProps)t.set(o,n)}this.addManagedPropertyListeners([...t.keys(),"rowData"],n=>{let r=n.changeSet?.properties;r&&this.onPropChange(r)}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,i,n){let r,o=!1;do{r=!1;let s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,i),c=Math.min(a,n);for(let d=l;d<=c;d++){let u=this.getRow(d);if(u.rowHeightEstimated){let h=Mm(this.beans,u);u.setRowHeight(h.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}onPropChange(e){let{nodeManager:t,gos:i,beans:n}=this,r=n.groupStage;if(!t)return;let o=new Set(e),s=r?.onPropChange(o),a;o.has("rowData")?a=i.get("rowData"):s&&(a=r?.extractData()),a&&!Array.isArray(a)&&(a=null,oi(1));let l={step:"nothing",changedProps:o};a&&(!s&&!this.isEmpty()&&a.length>0&&i.exists("getRowId")&&!i.get("resetRowDataOnUpdate")?(l.keepRenderedRows=!0,l.animate=!i.get("suppressAnimationFrame"),l.changedRowNodes=new wE,t.setImmutableRowData(l,a)):(l.rowDataUpdated=!0,l.newData=!0,t.setNewRowData(a),this.rowNodesCountReady=!0));let c=l.rowDataUpdated?"group":this.getRefreshedStage(e);c&&(l.step=c,this.refreshModel(l))}getRefreshedStage(e){let{stages:t,stagesRefreshProps:i}=this;if(!t)return null;let n=t.length,r=n;for(let o=0,s=e.length;o<s&&r;++o)r=Math.min(r,i.get(e[o])??r);return r<n?t[r].step:null}setRowTopAndRowIndex(e){let{beans:t,rowsToDisplay:i}=this,n=t.environment.getDefaultRowHeight(),r=0,o=bl(this.gos,"normal");for(let s=0,a=i.length;s<a;++s){let l=i[s],c=l.id;if(c!=null&&e?.add(c),l.rowHeight==null){let d=Mm(t,l,o,n);l.setRowHeight(d.height,d.estimated)}l.setRowTop(r),l.setRowIndex(s),r+=l.rowHeight}if(this.beans.formula?.active){let s=this.formulaRows;for(let a=0,l=s.length;a<l;++a){let c=s[a];c.formulaRowIndex=a}}}clearRowTopAndRowIndex(e,t){let i=e.active,n=s=>{s?.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{n(s),n(s.detailNode),n(s.sibling);let a=s.childrenAfterGroup;if(!s.hasChildren()||!a)return;let l=s.level==-1;if(!(i&&!l&&!s.expanded))for(let d=0,u=a.length;d<u;++d)r(a[d])},o=this.rootNode;o&&r(o)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){let{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;let n=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+n}getTopLevelRowDisplayedIndex(e){let{beans:t,rootNode:i,rowsToDisplay:n}=this;if(!i||!n.length||n[0]===i)return e;let o=i.childrenAfterSort,s=l=>{let c=o[l];if(this.gos.get("groupHideOpenParents"))for(;c.expanded&&c.childrenAfterSort&&c.childrenAfterSort.length>0;)c=c.childrenAfterSort[0];return c.rowIndex},a=t.footerSvc;return a?a?.getTopDisplayIndex(n,e,o,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;let r=this.getRow(e);r.footer&&(r=r.sibling);let o=r.parent;for(;o&&o!==t;)r=o,o=r.parent;let s=t.childrenAfterSort?.indexOf(r)??-1;return s>=0?s:e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:zb(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){let n=t.length===0||t.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:zb(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:zb(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new zC(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:i,rowDataUpdated:n}=e;return!(!t||i||!n||t.removals.length||t.adds.size)}refreshModel(e){let{nodeManager:t,beans:i,eventSvc:n,started:r,refreshingModel:o}=this;if(!t)return;let s=!!e.rowDataUpdated,a=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&s));if(r&&s&&n.dispatchEvent({type:"rowDataUpdated"}),!r||o||i.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||(this.rowDataUpdatedPending=s);return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.refreshingModel=!0,i.masterDetailSvc?.refreshModel(e),s&&e.step!=="group"&&i.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(a);case"pivot":this.doPivot(a);case"aggregate":this.doAggregate(a);case"filter_aggregates":this.doFilterAggregates(a);case"sort":this.doSort(a,e.changedRowNodes);case"map":this.doRowsToDisplay()}let l=new Set;this.setRowTopAndRowIndex(l),this.clearRowTopAndRowIndex(a,l),this.refreshingModel=!1,n.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getOverlayType(){return this.isEmpty()?"noRows":this.beans.filterManager?.isAnyFilterPresent()&&this.getRowCount()===0?"noMatchingRows":null}getNodesInRangeForSelection(e,t){let i=!1,n=!1,r=[],o=LC(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(n)return;if(i&&(s===t||s===e)&&(n=!0,o&&s.group)){qj(r,s);return}if(!i){if(s!==t&&s!==e)return;i=!0,t===e&&(n=!0)}(!s.group||!o)&&r.push(s)}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}getFormulaRow(e){return this.formulaRows[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay,i=t.length;if(this.isEmpty()||i===0)return-1;let n=0,r=i-1;if(e<=0)return 0;if(t[r].rowTop<=e)return r;let s=-1,a=-1;for(;;){let l=Math.floor((n+r)/2),c=t[l];if(this.isRowInPixel(c,e)||(c.rowTop<e?n=l+1:c.rowTop>e&&(r=l-1),s===n&&a===r))return l;s=n,a=r}}isRowInPixel(e,t){let i=e.rowTop,n=i+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){let t=this.rootNode?._leafs;if(t)for(let i=0,n=t.length;i<n;++i)e(t[i],i)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){let t=this.rowsToDisplay;for(let i=0,n=t.length;i<n;++i)e(t[i],i)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterSort)}forEachPivotNode(e,t,i){let{colModel:n,rowGroupColsSvc:r}=this.beans;if(!n.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}let o=i?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[o])}depthFirstSearchRowNodes(e,t=!1,i=o=>o.childrenAfterGroup,n=this.rootNode,r=0){let o=r;if(!n)return o;let s=n===this.rootNode;if(s||e(n,o++),n.hasChildren()&&!n.footer){let a=i(n);if(a){let l=this.beans.footerSvc;o=l?.addTotalRows(o,n,e,t,s,"top")??o;for(let c of a)o=this.depthFirstSearchRowNodes(e,t,i,c,o);return l?.addTotalRows(o,n,e,t,s,"bottom")??o}}return o}doAggregate(e){this.rootNode&&this.beans.aggStage?.execute(e)}doFilterAggregates(e){let t=this.rootNode,i=this.beans.filterAggStage;if(i){i.execute(e);return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){let i=this.beans.sortStage;if(i){i.execute(e,t);return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),jj(n)})}doGrouping(e){let t=this.rootNode;if(!t)return;let n=this.beans.groupStage?.execute(e);if(n===void 0){let r=t._leafs;t.childrenAfterGroup=r,t.updateHasChildren();let o=t.sibling;o&&(o.childrenAfterGroup=r)}(n||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){let t=this.beans.filterStage;if(t){t.execute(e);return}e.forEachChangedNodeDepthFirst(i=>{i.childrenAfterFilter=i.childrenAfterGroup,w5(i)},!0)}doPivot(e){this.beans.pivotStage?.execute(e)}getRowNode(e){let t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:this.beans.groupStage?.getNonLeaf(e)}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];let i=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),i)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){let e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){let{nodeManager:e,beans:t,eventSvc:i,asyncTransactions:n}=this;if(!e)return;t.valueCache?.onDataChanged();let r=[],o=[],s=new wE,a=!this.gos.get("suppressAnimationFrame");for(let{rowDataTransaction:l,callback:c}of n??[]){this.rowNodesCountReady=!0;let d=e.updateRowData(l,s,a);r.push(d),c&&o.push(c.bind(null,d))}this.commitTransactions(s,a),o.length>0&&setTimeout(()=>{for(let l=0,c=o.length;l<c;l++)o[l]()},0),r.length>0&&i.dispatchEvent({type:"asyncTransactionsFlushed",results:r}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){let t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let i=new wE,n=!this.gos.get("suppressAnimationFrame"),r=t.updateRowData(e,i,n);return this.commitTransactions(i,n),r}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:t,changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{rootNode:e,beans:t}=this;if(t.formula?.active){let r=e?.childrenAfterSort??[];this.formulaRows=r,this.rowsToDisplay=r.filter(o=>!o.softFiltered);for(let o of this.rowsToDisplay)o.setUiLevel(0);return}let i=t.flattenStage;if(i){this.rowsToDisplay=i.execute();return}let n=this.rootNode.childrenAfterSort??[];for(let r of n)r.setUiLevel(0);this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);let i=e.sibling;i?.setRowHeight(i.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let i=t.detailNode;i?.setRowHeight(i.rowHeight,!0);let n=t.sibling;n?.setRowHeight(n.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,this.stages=null,this.stagesRefreshProps.clear(),clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},qj=(e,t)=>{let i=t.childrenAfterGroup;if(i)for(let n=0,r=i.length;n<r;++n){let o=i[n];o.data&&e.push(o),o.group&&qj(e,o)}};function XCe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function KCe(e,t){let i=Im(e);i&&((!t||t==="everything")&&(t="group"),i.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function ZCe(e){return Im(e)?.isEmpty()??!0}function QCe(e,t){Im(e)?.forEachLeafNode(t)}function JCe(e,t){Im(e)?.forEachNodeAfterFilter(t)}function e1e(e,t){Im(e)?.forEachNodeAfterFilterAndSort(t)}function t1e(e,t){return e.frameworkOverrides.wrapIncoming(()=>Im(e)?.updateRowData(t))}function i1e(e,t,i){e.frameworkOverrides.wrapIncoming(()=>Im(e)?.batchUpdateRowData(t,i))}function n1e(e){e.frameworkOverrides.wrapIncoming(()=>Im(e)?.flushAsyncTransactions())}function r1e(e){return e.selectionSvc?.getBestCostNodeSelection()}var o1e={moduleName:"ClientSideRowModel",version:Ri,rowModels:["clientSide"],beans:[$Ce,WCe],dependsOn:[uj]},s1e={moduleName:"ClientSideRowModelApi",version:Ri,apiFunctions:{onGroupExpandedOrCollapsed:XCe,refreshClientSideRowModel:KCe,isRowDataEmpty:ZCe,forEachLeafNode:QCe,forEachNodeAfterFilter:JCe,forEachNodeAfterFilterAndSort:e1e,applyTransaction:t1e,applyTransactionAsync:i1e,flushAsyncTransactions:n1e,getBestCostNodeSelection:r1e,resetRowHeights:Wj,onRowHeightChanged:Gj},dependsOn:[PCe,FCe]},a1e=class extends Kt{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:i,columnKeys:n,skipRowGroups:r,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:i,skipRowGroups:r,columnKeys:n,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,i,n){let r=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?n.leafGroup:!n.group,c=!!n.footer,d=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&Uce(this.gos,n);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.stub||n.level===-1&&!l&&!c||r(Rn(this.gos,{node:n})))return;let f=e.onNewBodyRow(n);if(i.forEach((p,v)=>{f.onColumn(p,v,n)}),t.getCustomContentBelowRow){let p=t.getCustomContentBelowRow(Rn(this.gos,{node:n}));p&&e.addCustomContent(p)}}appendContent(e){return t=>{let i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{let i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){let n=new F9,{colGroupSvc:r}=this.beans,o=r?r.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){let n=i.onNewHeaderRow();t.forEach((r,o)=>{n.onColumn(r,o,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{let n=this.rowModel,r=Bs(this.gos,n),o=GC(this.gos,n),s=!r&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(a);else if(this.colModel.isPivotMode())r?n.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||s){let c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?n.forEachNode(a):r||o?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return i}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:i}=this.beans;if(!t||!i)return;let n=t.getSortOptions(),r=(o,s)=>o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?o.parent?.id===s.parent?.id?i.compareRowNodes(n,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(o.parent,s.parent):o.level>s.level?r(o.parent,s):r(o,s.parent);e.sort(r)}processPinnedBottomRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:i=!1,exportRowNumbers:n=!1,columnKeys:r}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),c=h=>Rm(h)?!1:!Uf(h)||n;if(r?.length)return o.getColsForKeys(r).filter(c);let d=s.get("treeData"),u=[];return t&&!l?u=o.getCols():u=a.allCols,u=u.filter(h=>c(h)&&(i&&!d?!z5(h):!0)),u}recursivelyAddHeaderGroups(e,t,i){let n=[];for(let r of e){let o=r;if(o.getChildren)for(let s of o.getChildren()??[])n.push(s)}e.length>0&&$s(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){let n=e.onNewHeaderGroupingRow(),r=0;for(let o of t){let s=o,a;i?a=i(Rn(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");let c=(s.isExpandable()?s.getLeafColumns():[]).reduce((d,u,h,f)=>{let p=To(d);return u.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[h],d.push(p)):p&&p[1]==null&&(p[1]=h-1),h===f.length-1&&p&&p[1]==null&&(p[1]=h),d},[]);n.onColumn(s,a||"",r++,s.getLeafColumns().length-1,c)}}},l1e={moduleName:"SharedExport",version:Ri,beans:[a1e]},PG=`\r
`,c1e=class extends F_e{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,PG),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue({column:e,node:i,currentColumnIndex:t,accumulatedRowIndex:t,type:"csv",useRawFormula:!1});this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(oi(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=PG),this.isFirstLine=!1}},d1e=class extends P_e{constructor(){super(...arguments),this.beanName="csvCreator"}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){oi(51);return}let t=()=>{let n=this.getMergedParams(e),r=this.getData(n),o=new Blob(["\uFEFF",r],{type:"text/plain"}),s=n.fileName,a=typeof s=="function"?s(Rn(this.gos,{})):s;O_e(this.getFileName(a),o)},{overlays:i}=this.beans;i?i.showExportOverlay(t):t()}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{colModel:t,colNames:i,rowGroupColsSvc:n,valueSvc:r,gos:o}=this.beans,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new c1e({colModel:t,colNames:i,valueSvc:r,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function u1e(e,t){return e.csvCreator?.getDataAsCsv(t)}function h1e(e,t){e.csvCreator?.exportDataAsCsv(t)}var f1e={moduleName:"CsvExport",version:Ri,beans:[d1e],apiFunctions:{getDataAsCsv:u1e,exportDataAsCsv:h1e},dependsOn:[l1e]},p1e=class extends Kt{constructor(e,t,i){super(),this.id=e,this.parentCache=t,this.params=i,this.state="needsLoading",this.version=0,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){let t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:i,beans:n,rowNodes:r}=this;for(let o=0;o<e;o++){let s=i+o,a=new Dm(n);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),r.push(a)}}getBlockStateJson(){let{id:e,startRow:t,endRow:i,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:i,pageStatus:n}}}setDataAndId(e,t,i){Ai(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Ko(this.params.datasource.getRows)){oi(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:i,params:{sortModel:n,filterModel:r},gos:o}=this;return Rn(o,{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,i),failCallback:this.pageLoadFailed.bind(this,i),sortModel:n,filterModel:r})}forEachNode(e,t,i){this.rowNodes.forEach((n,r)=>{this.startRow+r<i&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let i=e-this.startRow;return this.rowNodes[i]}processServerResult(e){let{rowNodes:t,beans:i}=this;t.forEach((r,o)=>{let s=e.rowData?e.rowData[o]:void 0;!r.id&&r.alreadyRendered&&s&&(t[o]=new Dm(i),t[o].setRowIndex(r.rowIndex),t[o].setRowTop(r.rowTop),t[o].setRowHeight(r.rowHeight),r._destroy(!0)),this.setDataAndId(t[o],s,this.startRow+o)});let n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){let e=this.rowNodes;for(let t=0,i=e.length;t<i;t++)e[t]._destroy(!1);e.length=0,super.destroy()}},m1e=2,g1e=class extends Kt{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let i=Math.floor(e/this.params.blockSize),n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){let t=this.params,i=this.createBean(new p1e(e,this,t));return this.blocks[i.id]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),t.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(let t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(let e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Sm(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(s=>s!=e),i=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(i);let n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,o=m1e-1;t.forEach((s,a)=>{let l=s.state==="needsLoading"&&a>=o,c=n?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:i,endRow:n}=e;return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:i}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,i-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:i,overflowSize:n}=this.params,o=(e.id+1)*i+n;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,Ai(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};for(let i of this.getBlocksInOrder())i.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){let e=(i,n)=>i.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];for(let t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(let t of e)this.destroyBlock(t)}purgeCache(){for(let e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let i=[],n=-1,r=!1,o={value:0},s=!1;for(let l of this.getBlocksInOrder())if(!s){if(r&&n+1!==l.id){s=!0;continue}n=l.id,l.forEachNode(c=>{let d=c===e||c===t;(r||d)&&i.push(c),d&&(r=!r)},o,this.rowCount)}return s||r?[]:i}},v1e=class extends Kt{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;let e=this.beans,t=new Dm(e);this.rootNode=t,t.level=-1,this.rowHeight=c0(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=c0(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!AC(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getOverlayType(){return this.infiniteCache?.getRowCount()===0?this.beans.filterManager?.isAnyFilterPresent()?"noMatchingRows":"noRows":null}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;Zb(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:i,rowNodeBlockLoader:n,eventSvc:r,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:i?.getSortModel()??[],rowNodeBlockLoader:n,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:c0(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new g1e(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function b1e(e){lD(e)?.refreshCache()}function _1e(e){lD(e)?.purgeCache()}function y1e(e){return lD(e)?.getRowCount()}var w1e=class extends Kt{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Gce(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=qa(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Fh(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Sm(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(i=>i.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(let i of t)i.load();this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){Sm(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},C1e={moduleName:"InfiniteRowModelCore",version:Ri,rowModels:["infinite"],beans:[v1e,w1e]},x1e={moduleName:"InfiniteRowModel",version:Ri,apiFunctions:{refreshInfiniteCache:b1e,purgeInfiniteCache:_1e,getInfiniteRowCount:y1e},dependsOn:[C1e,OCe]},S1e="\u2191",M1e="\u2193",E1e={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},D1e=class extends wo{constructor(){super(E1e),this.eValue=bi,this.eDelta=bi,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let i=Math.abs(t),n=e.formatValue(i),r=Ai(n)?n:i,o=t>=0,s=this.eDelta;o?s.textContent=S1e+r:s.textContent=M1e+r,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),vl(this.eDelta)}refresh(e,t=!1){let{value:i,valueFormatted:n}=e,{eValue:r,lastValue:o,beans:s}=this;if(i===o||(Ai(n)?r.textContent=n:Ai(i)?r.textContent=i:vl(r),s.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;let a=i&&typeof i=="object"&&"toNumber"in i?i.toNumber():i,l=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){let c=a-l;this.showDelta(e,c)}return o&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},T1e=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",A1e={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},R1e=class extends wo{constructor(){super(A1e),this.eCurrent=bi,this.refreshCount=0,this.registerCSS(T1e)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious?.remove();let{beans:t,eCurrent:i}=this,n=Ya({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=n,n.textContent=i.textContent,this.getGui().insertBefore(n,i),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;if(Ko(i)&&(i=""),i===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=i;let n=this.eCurrent;return Ai(e.valueFormatted)?n.textContent=e.valueFormatted:Ai(e.value)?n.textContent=i:vl(n),!0}},k1e=class extends Kt{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,i=this.beans.gos.get("cellFlashDuration"),n=this.beans.gos.get("cellFadeDuration")){let r=this.animations[t];r.delete(e);let o=Date.now(),s=o+i,a=o+i+n,l={phase:"flash",flashEndTime:s,fadeEndTime:a};r.set(e,l);let c=`ag-cell-${t}`,d=`${c}-animation`,{comp:u,eGui:{style:h}}=e;u.toggleCss(c,!0),u.toggleCss(d,!1),h.removeProperty("transition"),h.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),i)}),this.nextAnimationTime=s)}advanceAnimations(){let e=Date.now(),t=null;for(let i of Object.keys(this.animations)){let n=this.animations[i],r=`ag-cell-${i}`,o=`${r}-animation`;for(let[s,a]of n){if(!s.isAlive()||!s.comp){n.delete(s);continue}let{phase:l,flashEndTime:c,fadeEndTime:d}=a,u=l==="flash"?c:d;if(!(e+15>=u)){t=Math.min(u,t??1/0);continue}let{comp:f,eGui:{style:p}}=s;switch(l){case"flash":f.toggleCss(r,!1),f.toggleCss(o,!0),p.transition=`background-color ${d-c}ms`,p.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":f.toggleCss(r,!1),f.toggleCss(o,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),n.delete(s);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;let i=Ife(e.cellPosition);t.cells[i]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(let e of Object.keys(this.animations))this.animations[e].clear()}};function I1e(e,t={}){let{cellFlashSvc:i}=e;i&&e.frameworkOverrides.wrapIncoming(()=>{for(let n of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))i.flashCell(n,t)})}var P1e={moduleName:"HighlightChanges",version:Ri,beans:[k1e],userComponents:{agAnimateShowChangeCellRenderer:D1e,agAnimateSlideCellRenderer:R1e},apiFunctions:{flashCells:I1e}};function F1e(e){return e.stateSvc?.getState()??{}}function O1e(e,t,i){return e.stateSvc?.setState(t,i)}function FG(e){return e=Ie({},e),e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=L1e(e)),e.version=Ri,e}function L1e(e){return e.cellSelection=N1e(e,"rangeSelection"),e}function N1e(e,t){if(e&&typeof e=="object")return e[t]}var B1e=class extends Kt{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=qa(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=qa(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=qa(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){let{gos:e,ctrlsSvc:t,colDelayRenderSvc:i}=this.beans;this.isClientSideRowModel=Bs(e);let n=FG(e.get("initialState")??{}),r=n.partialColumnState;delete n.partialColumnState,this.cachedState=n;let o=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>o(()=>this.setupStateOnGridReady(n))),(n.columnOrder||n.columnVisibility||n.columnSizing||n.columnPinning||n.columnGroup)&&i?.hideColumns("columnState");let[s,a,l]=this.addManagedEventListeners({newColumnsLoaded:({source:c})=>{c==="gridInitializing"&&(s(),o(()=>{this.setupStateOnColumnsInitialised(n,!!r),i?.revealColumns("columnState")}))},rowCountReady:()=>{a?.(),o(()=>this.setupStateOnRowCountReady(n))},firstDataRendered:()=>{l?.(),o(()=>this.setupStateOnFirstDataRendered(n))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){let i=FG(e);delete i.partialColumnState,this.cachedState=i,this.startSuppressEvents();let n="api",r=t?new Set(t):void 0;this.setGridReadyState(i,n,r),this.setColumnsInitialisedState(i,n,!!r,r),this.setRowCountState(i,n,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(i,n,r),this.stopSuppressEvents(n)})}setGridReadyState(e,t,i){t==="api"&&!i?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");let t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,i,n){this.setColumnState(e,t,i,n),this.setColumnGroupState(e,t,n),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);let i=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:i("aggregation"),columnMoved:i("columnOrder"),columnPinned:i("columnPinning"),columnResized:i("columnSizing"),columnVisible:i("columnVisibility"),columnPivotChanged:i("pivot"),columnPivotModeChanged:i("pivot"),columnRowGroupChanged:i("rowGroup"),sortChanged:i("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,i){let{filter:n,rowGroupExpansion:r,ssrmRowGroupExpansion:o,rowSelection:s,pagination:a,rowPinning:l}=e,c=(u,h)=>!i?.has(u)&&(h||t==="api");c("filter",n)&&this.setFilterState(n),c("rowGroupExpansion",r)&&this.setRowGroupExpansionState(o,r,t),c("rowSelection",s)&&this.setRowSelectionState(s,t),c("pagination",a)&&this.setPaginationState(a,t),c("rowPinning",l)&&this.setRowPinningState(l);let d=this.updateCachedState.bind(this);d("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(d("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),d("rowGroupExpansion",void 0)):(d("rowGroupExpansion",this.getRowGroupExpansionState()),d("ssrmRowGroupExpansion",void 0)),d("rowSelection",this.getRowSelectionState()),d("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");let t=this.updateCachedState.bind(this),i=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},n=()=>t("filter",this.getFilterState()),{gos:r,colFilter:o,selectableFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:n,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:i,columnRowGroupChanged:i,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(i)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:a=>{(a.newPage||a.newPageSize)&&t("pagination",this.getPaginationState())},pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())}),o&&this.addManagedListeners(o,{filterStateChanged:n}),s&&this.addManagedListeners(s,{selectedFilterChanged:n})}setFirstDataRenderedState(e,t,i){let{scroll:n,cellSelection:r,focusedCell:o,columnOrder:s}=e,a=(d,u)=>!i?.has(d)&&(u||t==="api");a("focusedCell",o)&&this.setFocusedCellState(o),a("cellSelection",r)&&this.setCellSelectionState(r),a("scroll",n)&&this.setScrollState(n),this.setColumnPivotState(!!s?.orderedColIds,t);let l=this.updateCachedState.bind(this);l("sideBar",this.getSideBarState()),l("focusedCell",this.getFocusedCellState());let c=this.getRangeSelectionState();l("rangeSelection",c),l("cellSelection",c),l("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");let t=this.updateCachedState.bind(this),i=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:i,cellFocusCleared:i,cellSelectionChanged:n=>{if(n.finished){let r=this.getRangeSelectionState();t("rangeSelection",r),t("cellSelection",r)}},bodyScrollEnd:()=>t("scroll",this.getScrollState())})}getColumnState(){let e=this.beans;return R_e(NE(e),e.colModel.isPivotMode())}setColumnState(e,t,i,n){let{sort:r,rowGroup:o,aggregation:s,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:u}=e,h=!1,f=(A,O)=>{let V=!n?.has(A)&&!!(O||t==="api");return h||(h=V),V},p={},v=A=>{let O=p[A];return O||(O={colId:A},p[A]=O,O)},m={},g=f("sort",r);g&&r?.sortModel.forEach(({colId:A,sort:O},V)=>{let U=v(A);U.sort=O,U.sortIndex=V}),(g||!i)&&(m.sort=null,m.sortIndex=null);let b=f("rowGroup",o);b&&o?.groupColIds.forEach((A,O)=>{let V=v(A);V.rowGroup=!0,V.rowGroupIndex=O}),(b||!i)&&(m.rowGroup=null,m.rowGroupIndex=null);let w=f("aggregation",s);w&&s?.aggregationModel.forEach(({colId:A,aggFunc:O})=>{v(A).aggFunc=O}),(w||!i)&&(m.aggFunc=null);let x=f("pivot",a);x&&(a?.pivotColIds.forEach((A,O)=>{let V=v(A);V.pivot=!0,V.pivotIndex=O}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(x||!i)&&(m.pivot=null,m.pivotIndex=null);let R=f("columnPinning",l);if(R){for(let A of l?.leftColIds??[])v(A).pinned="left";for(let A of l?.rightColIds??[])v(A).pinned="right"}(R||!i)&&(m.pinned=null);let _=f("columnVisibility",c);if(_)for(let A of c?.hiddenColIds??[])v(A).hide=!0;(_||!i)&&(m.hide=null);let L=f("columnSizing",d);if(L)for(let{colId:A,flex:O,width:V}of d?.columnSizingModel??[]){let U=v(A);U.flex=O??null,U.width=V}(L||!i)&&(m.flex=null);let F=u?.orderedColIds,T=!!F?.length&&!n?.has("columnOrder"),P=T?F.map(A=>v(A)):Object.values(p);(P.length||h)&&(this.columnStates=P,Iu(this.beans,{state:P,applyOrder:T,defaultState:m},t))}setColumnPivotState(e,t){let i=this.columnStates;this.columnStates=void 0;let n=this.columnGroupStates;this.columnGroupStates=void 0;let r=this.beans,{pivotResultCols:o,colGroupSvc:s}=r;if(o?.isPivotResultColsPresent()){if(i){let a=[];for(let l of i)o.getPivotResultCol(l.colId)&&a.push(l);Iu(r,{state:a,applyOrder:e},t)}n&&s?.setColumnGroupState(n,t)}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState();return k_e(t)}setColumnGroupState(e,t,i){let n=this.beans.colGroupSvc;if(!n||i?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let r=new Set(e.columnGroup?.openColumnGroupIds),s=n.getColumnGroupState().map(({groupId:a})=>{let l=r.has(a);return l&&r.delete(a),{groupId:a,open:l}});for(let a of r)s.push({groupId:a,open:!0});s.length&&(this.columnGroupStates=s),n.setColumnGroupState(s,t)}getFilterState(){let{filterManager:e,selectableFilter:t}=this.beans,i=e?.getFilterModel();i&&Object.keys(i).length===0&&(i=void 0);let n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0,o=t?.getState();return i||r||n||o?{filterModel:i,columnFilterState:n,advancedFilterModel:r,selectableFilters:o}:void 0}setFilterState(e){let{filterManager:t,selectableFilter:i}=this.beans,{filterModel:n,columnFilterState:r,advancedFilterModel:o,selectableFilters:s}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};s!==void 0&&i?.setState(s??{}),(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),o!==void 0&&t?.setAdvFilterModel(o??null,"advancedFilter")}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:i,type:n,startRow:r,endRow:o,columns:s,startColumn:a}=t;return{id:i,type:n,startRow:r,endRow:o,colIds:s.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:i,colModel:n,visibleCols:r}=this.beans;if(!jf(t)||!i)return;let o=[];for(let s of e?.cellRanges??[]){let a=[];for(let c of s.colIds){let d=n.getCol(c);d&&a.push(d)}if(!a.length)continue;let l=n.getCol(s.startColId);if(!l){let c=r.allCols,d=new Set(a);l=c.find(u=>d.has(u))}o.push(Zt(Ie({},s),{columns:a,startColumn:l}))}i.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:i}=e??{top:0,left:0},{frameworkOverrides:n,rowRenderer:r,animationFrameSvc:o,ctrlsSvc:s}=this.beans;n.wrapIncoming(()=>{s.get("center").setCenterViewportScrollLeft(i),s.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{focusSvc:t,colModel:i}=this.beans;if(!e){t.clearFocusedCell();return}let{colId:n,rowIndex:r,rowPinned:o}=e;t.setFocusedCell({column:i.getCol(n),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let i=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!i&&!n))return{page:i,pageSize:n}}setPaginationState(e,t){let{pagination:i,gos:n}=this.beans;if(!i)return;let{pageSize:r,page:o}=e??{page:0,pageSize:n.get("paginationPageSize")},s=t==="gridInitializing";r&&!n.get("paginationAutoPageSize")&&i.setPageSize(r,s?"initialState":"pageSizeSelector"),typeof o=="number"&&(s?i.setPage(o):i.goToPage(o))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){let{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){let t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,i){let n=this.beans.expansionSvc;if(!n)return;let r=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};n.setExpansionState(r,i)}updateColumnState(e){let t=this.getColumnState(),i=!1,n=this.cachedState;for(let r of Object.keys(t)){let o=t[r];AC(o,n[r])||(i=!0)}this.cachedState=Ie(Ie({},n),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let i=this.cachedState[e];this.setCachedStateValue(e,t),AC(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=Zt(Ie({},this.cachedState),{[e]:t})}refreshStaleState(){let e=this.staleStateKeys;for(let t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(let t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},V1e={moduleName:"GridState",version:Ri,beans:[B1e],apiFunctions:{getState:F1e,setState:O1e}};function z1e(e){return e.rowModel.isLastRowIndexKnown()}function H1e(e){return e.pagination?.getPageSize()??100}function U1e(e){return e.pagination?.getCurrentPage()??0}function G1e(e){return e.pagination?.getTotalPages()??1}function W1e(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function j1e(e){e.pagination?.goToNextPage()}function q1e(e){e.pagination?.goToPreviousPage()}function Y1e(e){e.pagination?.goToFirstPage()}function $1e(e){e.pagination?.goToLastPage()}function X1e(e,t){e.pagination?.goToPage(t)}var K1e=class extends Kt{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,i=()=>{let n=Math.max(c0(t),1),r=Math.floor(e/n);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?qa(this,i,50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},gC="paginationPageSizeSelector",Z1e={tag:"span",cls:"ag-paging-page-size"},Q1e=class extends wo{constructor(){super(Z1e),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(gC,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){vl(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(gC)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),i=!t||!e.includes(t);if(i){let r=this.gos.exists("paginationPageSize"),o=this.gos.get(gC)!==!0;oi(94,{pageSizeSet:r,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||oi(95,{paginationPageSizeOption:t,paginationPageSizeSelector:gC}),e.unshift("")}let n=String(i?"":t);this.selectPageSizeComp?(Am(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let i=this.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Y5).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(gC);return!Array.isArray(t)||!t?.length?e:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},J1e={selector:"AG-PAGE-SIZE-SELECTOR",component:Q1e},exe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",txe=class extends IW{constructor(){super(),this.btFirst=bi,this.btPrevious=bi,this.btNext=bi,this.btLast=bi,this.lbRecordCount=bi,this.lbFirstRowOnPage=bi,this.lbLastRowOnPage=bi,this.lbCurrent=bi,this.lbTotal=bi,this.pageSizeComp=bi,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(exe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[J1e]);let{btFirst:t,btPrevious:i,btNext:n,btLast:r}=this;this.activateTabIndex([t,i,n,r]),t.insertAdjacentElement("afterbegin",Ec(e?"last":"first",this.beans)),i.insertAdjacentElement("afterbegin",Ec(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",Ec(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Ec(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):zfe(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(let e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){let{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===St.ENTER||n.key===St.SPACE)&&(n.preventDefault(),i())}})}Vfe(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):I_e(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let n=this.isZeroPagesToDisplay(),r=e===i-1;this.nextButtonDisabled=r||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Gle(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),i=this.pagination.getMasterRowCount(),n=e?i:null,r=this.pagination.getCurrentPage(),o=this.pagination.getPageSize(),s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*r+1,a=s+o-1,e&&a>n&&(a=n));let l=s+o-1,c=!e&&i<l,d=this.formatNumber(s);this.lbFirstRowOnPage.textContent=d;let u,h=this.getLocaleTextFunc();c?u=h("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;let p=t>0?r+1:0,v=this.formatNumber(p);this.lbCurrent.textContent=v;let m,g;if(e)m=this.formatNumber(t),g=this.formatNumber(n);else{let b=h("more","more");m=b,g=b}this.lbTotal.textContent=m,this.lbRecordCount.textContent=g,this.announceAriaStatus(d,u,g,v,m)}announceAriaStatus(e,t,i,n,r){let o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${s} ${n} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}},ixe={selector:"AG-PAGINATION",component:txe},nxe=class extends Kt{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return ixe}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){let t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;let{editSvc:i}=this.beans;i?.isEditing()&&(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ai(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ai(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ai(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ai(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let i=this.pageSize,n=t-1;this.totalPages=Math.floor(n/i)+1,this.adjustCurrentPageIfInvalid();let r=this.currentPage,o=i*r,s=i*(r+1)-1;if(s>n&&(s=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:i}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*i,this.bottomDisplayedRowIndex=t*(i+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},rxe={moduleName:"Pagination",version:Ri,beans:[nxe,K1e],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:z1e,paginationGetPageSize:H1e,paginationGetCurrentPage:U1e,paginationGetTotalPages:G1e,paginationGetRowCount:W1e,paginationGoToNextPage:j1e,paginationGoToPreviousPage:q1e,paginationGoToFirstPage:Y1e,paginationGoToLastPage:$1e,paginationGoToPage:X1e},dependsOn:[cD]};function oxe(e,t={}){let i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function Yj(e,t,i,n,r){t&&(n&&t.parent&&t.parent.level!==-1&&Yj(e,t.parent,i,n,r),t.setExpanded(i,void 0,r))}function sxe(e,t){return e.rowModel.getRowNode(t)}function axe(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)}function lxe(e){return e.rowRenderer.getRenderedNodes()}function cxe(e,t,i){e.rowModel.forEachNode(t,i)}function dxe(e){return e.rowRenderer.firstRenderedRow}function uxe(e){return e.rowRenderer.lastRenderedRow}function hxe(e,t){return e.rowModel.getRow(t)}function fxe(e){return e.rowModel.getRowCount()}var pxe={moduleName:"RowApi",version:Ri,apiFunctions:{redrawRows:oxe,setRowNodeExpanded:Yj,getRowNode:sxe,addRenderedRowListener:axe,getRenderedNodes:lxe,forEachNode:cxe,getFirstDisplayedRowIndex:dxe,getLastDisplayedRowIndex:uxe,getDisplayedRowAtIndex:hxe,getDisplayedRowCount:fxe}},mxe={moduleName:"ScrollApi",version:Ri,apiFunctions:{getVerticalPixelRange:Ewe,getHorizontalPixelRange:Dwe,ensureColumnVisible:Pj,ensureIndexVisible:Fj,ensureNodeVisible:Twe}};function gxe(e,t,i){if(!t)return;let n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;i===null?n.removeAttribute(r):n.setAttribute(r,i)}function vxe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function bxe(e){e.frameworkOverrides.wrapIncoming(()=>{for(let t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function _xe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function yxe(e){e.animationFrameSvc?.flushAllFrames()}function wxe(e){return{rowHeight:c0(e),headerHeight:YC(e)}}function Cxe(e,t={}){let i=[];for(let o of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){let s=o.getCellRenderer();s!=null&&i.push(NC(s))}if(t.columns?.length)return i;let n=[],r=_5(t.rowNodes);for(let o of e.rowRenderer.getAllRowCtrls()){if(r&&!y5(o.rowNode,r)||!o.isFullWidth())continue;let s=o.getFullWidthCellRenderers();for(let a=0;a<s.length;a++){let l=s[a];l!=null&&n.push(NC(l))}}return[...n,...i]}var xxe={moduleName:"RenderApi",version:Ri,apiFunctions:{setGridAriaProperty:gxe,refreshCells:vxe,refreshHeader:bxe,isAnimationFrameQueueEmpty:_xe,flushAllAnimationFrames:yxe,getSizesForCurrentTheme:wxe,getCellRendererInstances:Cxe}},Sxe=":where(.ag-ltr) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,left .2s ease-in-out}}:where(.ag-rtl) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,right .2s ease-in-out}}";function Mxe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function $j({colAutosize:e,visibleCols:t},i,n){Array.isArray(i)?e?.autoSizeCols({colKeys:i,skipHeader:n,source:"api"}):e?.autoSizeCols(Zt(Ie({},i),{colKeys:i.colIds??t.allCols,source:"api"}))}function Exe(e,t){t&&typeof t=="object"?$j(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var Dxe=class extends Kt{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){let{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let i=!1,n=t.type;if(n==="fitGridWidth"||n==="fitProvidedWidth")i=!0;else if(n==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});let r=e.get("rowData");i=r!=null&&r.length>0&&Bs(e)}i&&this.beans.colDelayRenderSvc?.hideColumns(n)}}autoSizeCols(e){let{eventSvc:t,visibleCols:i,colModel:n}=this.beans;vC(this.beans,!0),this.innerAutoSizeCols(e).then(r=>{let o=d=>Qb(t,Array.from(d),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return vC(this.beans,!1),o(r);let s=OG(this.beans),a=d=>i.leftCols.some(u=>SC(u,d)),l=d=>i.rightCols.some(u=>SC(u,d)),c=e.colKeys.filter(d=>!n.getCol(d)?.getColDef().suppressAutoSize&&!Uf(d)&&!a(d)&&!l(d));this.sizeColumnsToFit(s,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(d=>Zt(Ie({},d),{key:d.colId})),colKeys:c,onlyScaleUp:!0,animate:!1}),vC(this.beans,!1),o(r)})}innerAutoSizeCols(e){return new Promise((t,i)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,i));let{colKeys:n,skipHeader:r,skipHeaderGroups:o,stopAtGroup:s,defaultMaxWidth:a,defaultMinWidth:l,columnLimits:c=[],source:d="api"}=e,{animationFrameSvc:u,renderStatus:h,colModel:f,autoWidthCalc:p,visibleCols:v}=this.beans;if(u?.flushAllFrames(),this.timesDelayed<5&&h&&(!h.areHeaderCellsRendered()||!h.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,i)});return}this.timesDelayed=0;let m=new Set,g=-1,b=Object.fromEntries(c.map(L=>{var F=L,{colId:R}=F,_=tm(F,["colId"]);return[R,_]})),w=r??this.gos.get("skipHeaderOnAutoSize"),x=o??w;for(;g!==0;){g=0;let R=[];for(let _ of n){if(!_||ode(_))continue;let L=f.getCol(_);if(!L||m.has(L)||L.getColDef().suppressAutoSize)continue;let F=p.getPreferredWidthForColumn(L,w);if(F>0){let T=b[L.colId]??{};T.minWidth??(T.minWidth=l),T.maxWidth??(T.maxWidth=a);let P=Txe(L,F,T);L.setActualWidth(P,d),m.add(L),g++}R.push(L)}R.length&&v.refresh(d)}x||this.autoSizeColumnGroupsByColumns(n,d,s),t(m)})}autoSizeColumn(e,t,i){this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){let{colModel:n,ctrlsSvc:r}=this.beans,o=new Set,s=n.getColsForKeys(e);for(let l of s){let c=l.getParent();for(;c&&c!=i;)c.isPadding()||o.add(c),c=c.getParent()}let a;for(let l of o){for(let c of r.getHeaderRowContainerCtrls())if(a=c.getHeaderCtrlForColumn(l),a)break;a?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols(Ie({colKeys:this.beans.visibleCols.allCols},e))}addColumnAutosizeListeners(e,t){let i=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",i)};e.addEventListener("dblclick",n);let r=new r0(e);return r.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),r.destroy()}}addColumnGroupResize(e,t,i){let n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{let o=[],s=t.getDisplayedLeafColumns();for(let a of s)a.getColDef().suppressAutoSize||o.push(a.getColId());o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),i()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let i=OG(this.beans);if(i>0){this.sizeColumnsToFit(i,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):oi(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));return}let{beans:r}=this,o=n?.animate??!0;o&&vC(r,!0);let s={};for(let m of n?.columnLimits??[]){let g=m,{key:b}=g,w=tm(g,["key"]);s[typeof b=="string"?b:b.getColId()]=w}let a=r.visibleCols.allCols;if(e<=0||!a.length)return;let l=Vf(a);if(n?.onlyScaleUp&&l>e||e===l&&a.every(w=>{if(w.colDef.suppressSizeToFit)return!0;let x=s?.[w.getId()],R=x?.minWidth??n?.defaultMinWidth,_=x?.maxWidth??n?.defaultMaxWidth,L=w.getActualWidth();return(R==null||L>=R)&&(_==null||L<=_)}))return;let d=[],u=[];for(let b of a){let w=n?.colKeys?.some(x=>SC(b,x))??!0;b.getColDef().suppressSizeToFit||!w?u.push(b):d.push(b)}let h=d.slice(0),f=!1,p=b=>{Fh(d,b),u.push(b)};for(let b of d){b.resetActualWidth(t);let w=s?.[b.getId()],x=w?.minWidth??n?.defaultMinWidth,R=w?.maxWidth??n?.defaultMaxWidth,_=b.getActualWidth();typeof x=="number"&&_<x?b.setActualWidth(x,t,!0):typeof R=="number"&&_>R&&b.setActualWidth(R,t,!0)}for(;!f;){f=!0;let b=e-Vf(u);if(b<=0)for(let w of d){let x=s?.[w.getId()]?.minWidth??n?.defaultMinWidth??w.minWidth;w.setActualWidth(x,t,!0)}else{let w=b/Vf(d),x=b;for(let R=d.length-1;R>=0;R--){let _=d[R],L=s?.[_.getId()],F=L?.minWidth??n?.defaultMinWidth,T=L?.maxWidth??n?.defaultMaxWidth,P=_.getMinWidth(),A=_.getMaxWidth(),O=typeof F=="number"&&F>P?F:P,V=typeof T=="number"&&T<A?T:A,U=Math.round(_.getActualWidth()*w);U<O?(U=O,p(_),f=!1):U>V?(U=V,p(_),f=!1):R===0&&(U=x),_.setActualWidth(U,t,!0),x-=U}}}for(let b of h)b.fireColumnWidthChangedEvent(t);let v=r.visibleCols;v.setLeftValues(t),v.updateBodyWidths(),!i&&(Qb(this.eventSvc,h,!0,t),o&&vC(r,!1))}applyAutosizeStrategy(){let{gos:e,colDelayRenderSvc:t}=this.beans,i=e.get("autoSizeStrategy");i?.type!=="fitGridWidth"&&i?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;let n=i.type;if(n==="fitGridWidth"){let{columnLimits:r,defaultMinWidth:o,defaultMaxWidth:s}=i,a=r?.map(({colId:l,minWidth:c,maxWidth:d})=>({key:l,minWidth:c,maxWidth:d}));this.sizeColumnsToFitGridBody({defaultMinWidth:o,defaultMaxWidth:s,columnLimits:a})}else n==="fitProvidedWidth"&&this.sizeColumnsToFit(i.width,"sizeColumnsToFit");t?.revealColumns(n)})}onFirstDataRendered(i){var n=i,{colIds:e}=n,t=tm(n,["colIds"]);setTimeout(()=>{if(!this.isAlive())return;let r="autosizeColumns";e?this.autoSizeCols(Zt(Ie({},t),{source:r,colKeys:e})):this.autoSizeAllColumns(Zt(Ie({},t),{source:r})),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(let e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function Txe(e,t,i={}){let n=i.minWidth??e.getMinWidth();t<n&&(t=n);let r=i.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}function OG({ctrlsSvc:e,scrollVisibleSvc:t}){let i=e.getGridBodyCtrl(),r=i.isVerticalScrollShowing()?t.getScrollbarWidth():0;return IC(i.eGridBody)-r}var LG="ag-animate-autosize";function vC({ctrlsSvc:e,gos:t},i){if(!t.get("animateColumnResizing")||t.get("enableRtl")||!e.isAlive())return;let n=e.getGridBodyCtrl().eGridBody.classList;i?n.add(LG):n.remove(LG)}var Axe={moduleName:"ColumnAutoSize",version:Ri,beans:[Dxe],apiFunctions:{sizeColumnsToFit:Mxe,autoSizeColumns:$j,autoSizeAllColumns:Exe},dependsOn:[VW],css:[Sxe]},Rxe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function kxe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function Ixe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function Pxe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function Fxe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function Oxe(e,t,i){return e.pinnedRowModel?.forEachPinnedRow(t,i)}var Lxe={moduleName:"PinnedRow",version:Ri,beans:[Dpe],css:[Rxe],apiFunctions:{getPinnedTopRowCount:kxe,getPinnedBottomRowCount:Ixe,getPinnedTopRow:Pxe,getPinnedBottomRow:Fxe,forEachPinnedRow:Oxe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},Nxe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(let i of this.spannedNodes)i!==this.lastNode&&(t+=i.rowHeight);return e-t}},Bxe=class extends Kt{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:i,pinnedRowModel:n,rowModel:r,valueSvc:o,pagination:s}}=this,{colDef:a}=t,l=this.getNodeMap(e),c=new Map,d=i.getCallback("isFullWidthRow"),u=a.equals,h=a.spanRows,f=typeof h=="function",p=null,v=null,m,g=(w,x)=>{p=w,v=null,m=x},b=w=>{let x=!w.isExpandable()&&!w.group&&!w.detail&&(d?!d({rowNode:w}):!0);if(w.rowIndex==null||!x){g(null,null);return}if(p==null||w.level!==p.level||w.footer||v&&w.rowIndex-1!==v?.getLastNode().rowIndex){g(w,o.getValue(t,w));return}let R=o.getValue(t,w);if(f){let _=Rn(i,{valueA:m,nodeA:p,valueB:R,nodeB:w,column:t,colDef:a});if(!h(_)){g(w,R);return}}else if(u?!u(m,R):m!==R){g(w,R);return}if(!v){let _=l?.get(p);_?.firstNode===p?(_.reset(),v=_):v=new Nxe(t,p),c.set(p,v)}v.addSpannedNode(w),c.set(w,v)};switch(e){case"center":r.forEachDisplayedNode?.(w=>{(!s||s.isRowInPage(w.rowIndex))&&b(w)}),this.centerValueNodeMap=c;break;case"top":n?.forEachPinnedRow("top",b),this.topValueNodeMap=c;break;case"bottom":n?.forEachPinnedRow("bottom",b),this.bottomValueNodeMap=c;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},Vxe=class extends Kt{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=qa(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=qa(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;let i=this.createManagedBean(new Bxe(e));this.spanningColumns.set(e,i),i.buildCache("top"),i.buildCache("bottom"),i.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){let i=this.spanningColumns.get(e);return i?i.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:i}=this.beans,n=e.column,r=e.rowIndex,o=this.spanningColumns.get(n);if(!o)return;let s;switch(e.rowPinned){case"top":s=t?.getPinnedTopRow(r);break;case"bottom":s=t?.getPinnedBottomRow(r);break;default:s=i.getRow(r)}if(s)return o.getCellSpan(s)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?Zt(Ie({},e),{rowIndex:t.firstNode.rowIndex}):e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?Zt(Ie({},e),{rowIndex:t.getLastNode().rowIndex}):e}getCellSpan(e,t){let i=this.spanningColumns.get(e);if(i)return i.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[i,n]of this.spanningColumns)if(n.isCellSpanning(e)){let r=n.getCellSpan(e);t(i,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},zxe=class extends Xb{constructor(e,t,i){super(e.col,e.firstNode,i,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,i,n,r,o,s){this.eWrapper=i,super.setComp(e,t,i,n,r,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){let{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||EE(e,t.rowIndex)}setAriaRowSpan(){$le(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(rD(t)){this.focusedCellPosition=void 0;return}let i=this.isCellFocused();i||(this.focusedCellPosition=void 0),e&&i&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Hxe=class extends qE{onRowIndexChanged(){super.onRowIndexChanged();for(let e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new zxe(t,this,this.beans)}isCorrectCtrlForSpan(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},Uxe=class extends Kt{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){let{rowSpanSvc:t}=this.beans,i=this.getCtrlsMap(e),n=i.size,r=this.getAllRelevantRowControls(e),o=new Map,s=!1;for(let l of r)l.isAlive()&&t?.forEachSpannedColumn(l.rowNode,(c,d)=>{if(o.has(d.firstNode))return;let u=i.get(d.firstNode);if(u){o.set(d.firstNode,u),i.delete(d.firstNode);return}s=!0;let h=new Hxe(d.firstNode,this.beans,!1,!1,!1);o.set(d.firstNode,h)});this.setCtrlsMap(e,o);let a=o.size===n;if(!(!s&&a)){for(let l of i.values())l.destroyFirstPass(!0),l.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,i=t?.getCellSpanByPosition(e);if(!i)return;let n=this.getCtrlsMap(e.rowPinned).get(i.firstNode);if(n)return n.getAllCellCtrls().find(r=>r.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(let t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Gxe={moduleName:"CellSpan",version:Ri,beans:[Vxe,Uxe]},Wxe=class extends Kt{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,i=e.colDef,n=i.cellClassRules,r=this.getCellClassParams(e,i);fO(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,r,o=>t.toggleCss(o,!0),o=>t.toggleCss(o,!1)),this.cellClassRules=n}applyUserStyles(){let e=this.column,t=e.colDef,i=t.cellStyle;if(!i)return;let n;if(typeof i=="function"){let r=this.getCellClassParams(e,t);n=i(r)}else n=i;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,i=e.colDef,n=this.getCellClassParams(e,i);for(let o of this.staticClasses)t.toggleCss(o,!1);let r=this.beans.cellStyles.getStaticCellClasses(i,n);this.staticClasses=r;for(let o of r)t.toggleCss(o,!0)}getCellClassParams(e,t){let{value:i,rowNode:n}=this.cellCtrl;return Rn(this.beans.gos,{value:i,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},jxe=class extends Kt{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,i,n){fO(this.beans.expressionSvc,void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}getStaticCellClasses(e,t){let{cellClass:i}=e;if(!i)return[];let n;return typeof i=="function"?n=i(t):n=i,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e){return new Wxe(e,this.beans)}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},qxe={moduleName:"CellStyle",version:Ri,beans:[jxe]},Yxe={moduleName:"RowStyle",version:Ri,beans:[ybe]};function $xe(e,t){return!!e.colHover?.isHovered(t)}var Xxe=class extends Kt{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=i=>{let{beans:n,gos:r,element:o,columns:s}=this,a=n.colHover;if(i??!!r.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:a.setMouseOver.bind(a,s),mouseout:a.clearMouseOver.bind(a)});else{for(let c of this.destroyManagedListeners)c();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Kxe="ag-column-hover",Zxe=class extends Kt{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,i){let n=()=>{let r=this.isHovered(i);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t)return;let i=this.isHovered(e);t.toggleCss(Kxe,i)}addHeaderFilterColumnHoverListener(e,t,i,n){this.createHoverFeature(e,[i],n);let r=()=>{let o=this.isHovered(i);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,i){e.createManagedBean(new Xxe(t,i))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Qxe={moduleName:"ColumnHover",version:Ri,beans:[Zxe],apiFunctions:{isColumnHovered:$xe}},Jxe=class extends Kt{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){let i=this.wrapSvc?.wrap(e,t)??t,n=!CE.has(e),r=n?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventSvc.addListener(e,i,n)}removeListener(e,t){let i=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(i);r||this.syncListeners.get(e)?.delete(i),this.eventSvc.removeListener(e,i,r)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,i=(o,s)=>{CE.has(o)&&t(o,s)},n=(o,s)=>{CE.has(o)||t(o,s)};this.globalListenerPairs.set(e,{syncListener:i,asyncListener:n});let r=this.eventSvc;r.addGlobalListener(i,!1),r.addGlobalListener(n,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:i,globalListenerPairs:n}=this,r=i?.unwrapGlobal(e)??e;if(n.has(r)){let{syncListener:s,asyncListener:a}=n.get(r);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),n.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(r=>this.eventSvc.removeListener(n,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){for(let i of e)this.eventSvc.removeGlobalListener(i,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:i,asyncListener:n})=>{t.removeGlobalListener(i,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function eSe(e,t,i){e.apiEventSvc?.addListener(t,i)}function tSe(e,t,i){e.apiEventSvc?.removeListener(t,i)}function iSe(e,t){e.apiEventSvc?.addGlobalListener(t)}function nSe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var rSe={moduleName:"EventApi",version:Ri,apiFunctions:{addEventListener:eSe,addGlobalListener:iSe,removeEventListener:tSe,removeGlobalListener:nSe},beans:[Jxe]},oSe={moduleName:"Locale",version:Ri,beans:[A_e]},sSe=class extends Kt{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=qa(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:i,pinnedRowModel:n}=this.beans,r=e.autoHeightCols,o=!1,s=a=>{let l=a.__autoHeights,c=Mm(this.beans,a).height;for(let d of r){let u=l?.[d.getColId()],h=i?.getCellSpan(d,a);if(h){if(h.getLastNode()!==a)continue;if(u=i?.getCellSpan(d,a)?.getLastNodeAutoHeight(),!u)return}if(u==null){if(this.colSpanSkipCell(d,a))continue;return}c=Math.max(u,c)}c!==a.rowHeight&&(a.setRowHeight(c),o=!0)};n?.forEachPinnedRow?.("top",s),n?.forEachPinnedRow?.("bottom",s),t.forEachDisplayedNode?.(s),o&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,i){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[i.getId()];return}let n=e.__autoHeights[i.getId()];e.__autoHeights[i.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:i,colViewport:n,visibleCols:r}=this.beans;if(!i.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=r.getLeftColsForRow(t);break;case"right":o=r.getRightColsForRow(t);break;case null:o=n.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,i){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let n=t.parentElement,{rowNode:r,column:o}=e,s=this.beans,a=d=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!i.isAlive())return;let{paddingTop:u,paddingBottom:h,borderBottomWidth:f,borderTopWidth:p}=b0(n),v=u+h+f+p,g=t.offsetHeight+v;if(d<5){let w=!ja(s)?.contains(t),x=g==0;if(w||x){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(r,g,o)},l=()=>a(0);l();let c=Tm(s,t,l);return i.addDestroyFunc(()=>{c(),this.setRowAutoHeight(r,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;let e=this.beans.rowRenderer.getAllRowCtrls(),t=null;for(let{rowNode:i}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(i).filter(r=>r.isAutoHeight())),t.length!==0){if(!i.__autoHeights)return!1;for(let n of t){let r=i.__autoHeights[n.getColId()];if(!r||i.rowHeight<r)return!1}}return!0}},aSe={moduleName:"RowAutoHeight",version:Ri,beans:[sSe]},Xj={moduleName:"AllCommunity",version:Ri,dependsOn:[o1e,f1e,x1e,Y_e,oCe,sCe,aCe,lCe,cCe,dCe,uCe,rCe,Zye,Qye,Jye,Kye,twe,iwe,V1e,NCe,rxe,zW,pxe,mxe,xxe,Axe,Rme,Lxe,DCe,u_e,qxe,Qxe,Yxe,rSe,p_e,P1e,Ij,oSe,aSe,Ame,s1e,Gxe]};function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}var _l=Uint8Array,hd=Uint16Array,IO=Int32Array,hD=new _l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fD=new _l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DO=new _l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jj=function(e,t){for(var i=new hd(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];for(var r=new IO(i[30]),n=1;n<30;++n)for(var o=i[n];o<i[n+1];++o)r[o]=o-i[n]<<5|n;return{b:i,r}},eq=Jj(hD,2),tq=eq.b,TO=eq.r;tq[28]=258,TO[258]=28;var iq=Jj(fD,0),lSe=iq.b,Kj=iq.r,AO=new hd(32768);for(fo=0;fo<32768;++fo)Xf=(fo&43690)>>1|(fo&21845)<<1,Xf=(Xf&52428)>>2|(Xf&13107)<<2,Xf=(Xf&61680)>>4|(Xf&3855)<<4,AO[fo]=((Xf&65280)>>8|(Xf&255)<<8)>>1;var Xf,fo,Bh=function(e,t,i){for(var n=e.length,r=0,o=new hd(t);r<n;++r)e[r]&&++o[e[r]-1];var s=new hd(t);for(r=1;r<t;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(i){a=new hd(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var c=r<<4|e[r],d=t-e[r],u=s[e[r]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)a[AO[u]>>l]=c}else for(a=new hd(n),r=0;r<n;++r)e[r]&&(a[r]=AO[s[e[r]-1]++]>>15-e[r]);return a},Fm=new _l(288);for(fo=0;fo<144;++fo)Fm[fo]=8;var fo;for(fo=144;fo<256;++fo)Fm[fo]=9;var fo;for(fo=256;fo<280;++fo)Fm[fo]=7;var fo;for(fo=280;fo<288;++fo)Fm[fo]=8;var fo,QC=new _l(32);for(fo=0;fo<32;++fo)QC[fo]=5;var fo,cSe=Bh(Fm,9,0),dSe=Bh(Fm,9,1),uSe=Bh(QC,5,0),hSe=Bh(QC,5,1),xO=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},Fu=function(e,t,i){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&i},SO=function(e,t){var i=t/8|0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>(t&7)},PO=function(e){return(e+7)/8|0},pD=function(e,t,i){return(t==null||t<0)&&(t=0),(i==null||i>e.length)&&(i=e.length),new _l(e.subarray(t,i))};var fSe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yd=function(e,t,i){var n=new Error(t||fSe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Yd),!i)throw n;return n},pSe=function(e,t,i,n){var r=e.length,o=n?n.length:0;if(!r||t.f&&!t.l)return i||new _l(0);var s=!i,a=s||t.i!=2,l=t.i;s&&(i=new _l(r*3));var c=function(He){var $e=i.length;if(He>$e){var Je=new _l(Math.max($e*2,He));Je.set(i),i=Je}},d=t.f||0,u=t.p||0,h=t.b||0,f=t.l,p=t.d,v=t.m,m=t.n,g=r*8;do{if(!f){d=Fu(e,u,1);var b=Fu(e,u+1,3);if(u+=3,b)if(b==1)f=dSe,p=hSe,v=9,m=5;else if(b==2){var _=Fu(e,u,31)+257,L=Fu(e,u+10,15)+4,F=_+Fu(e,u+5,31)+1;u+=14;for(var T=new _l(F),P=new _l(19),A=0;A<L;++A)P[DO[A]]=Fu(e,u+A*3,7);u+=L*3;for(var O=xO(P),V=(1<<O)-1,U=Bh(P,O,1),A=0;A<F;){var ae=U[Fu(e,u,V)];u+=ae&15;var w=ae>>4;if(w<16)T[A++]=w;else{var ne=0,ue=0;for(w==16?(ue=3+Fu(e,u,3),u+=2,ne=T[A-1]):w==17?(ue=3+Fu(e,u,7),u+=3):w==18&&(ue=11+Fu(e,u,127),u+=7);ue--;)T[A++]=ne}}var se=T.subarray(0,_),_e=T.subarray(_);v=xO(se),m=xO(_e),f=Bh(se,v,1),p=Bh(_e,m,1)}else Yd(1);else{var w=PO(u)+4,x=e[w-4]|e[w-3]<<8,R=w+x;if(R>r){l&&Yd(0);break}a&&c(h+x),i.set(e.subarray(w,R),h),t.b=h+=x,t.p=u=R*8,t.f=d;continue}if(u>g){l&&Yd(0);break}}a&&c(h+131072);for(var Ve=(1<<v)-1,Ge=(1<<m)-1,K=u;;K=u){var ne=f[SO(e,u)&Ve],Q=ne>>4;if(u+=ne&15,u>g){l&&Yd(0);break}if(ne||Yd(2),Q<256)i[h++]=Q;else if(Q==256){K=u,f=null;break}else{var ee=Q-254;if(Q>264){var A=Q-257,Z=hD[A];ee=Fu(e,u,(1<<Z)-1)+tq[A],u+=Z}var G=p[SO(e,u)&Ge],W=G>>4;G||Yd(3),u+=G&15;var _e=lSe[W];if(W>3){var Z=fD[W];_e+=SO(e,u)&(1<<Z)-1,u+=Z}if(u>g){l&&Yd(0);break}a&&c(h+131072);var ce=h+ee;if(h<_e){var me=o-_e,Me=Math.min(_e,ce);for(me+h<0&&Yd(3);h<Me;++h)i[h]=n[me+h]}for(;h<ce;++h)i[h]=i[h-_e]}}t.l=f,t.p=K,t.b=h,t.f=d,f&&(d=1,t.m=v,t.d=p,t.n=m)}while(!d);return h!=i.length&&s?pD(i,0,h):i.subarray(0,h)},Kf=function(e,t,i){i<<=t&7;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8},KC=function(e,t,i){i<<=t&7;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8,e[n+2]|=i>>16},MO=function(e,t){for(var i=[],n=0;n<e.length;++n)e[n]&&i.push({s:n,f:e[n]});var r=i.length,o=i.slice();if(!r)return{t:rq,l:0};if(r==1){var s=new _l(i[0].s+1);return s[i[0].s]=1,{t:s,l:1}}i.sort(function(R,_){return R.f-_.f}),i.push({s:-1,f:25001});var a=i[0],l=i[1],c=0,d=1,u=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=r-1;)a=i[i[c].f<i[u].f?c++:u++],l=i[c!=d&&i[c].f<i[u].f?c++:u++],i[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=o[0].s,n=1;n<r;++n)o[n].s>h&&(h=o[n].s);var f=new hd(h+1),p=RO(i[d-1],f,0);if(p>t){var n=0,v=0,m=p-t,g=1<<m;for(o.sort(function(_,L){return f[L.s]-f[_.s]||_.f-L.f});n<r;++n){var b=o[n].s;if(f[b]>t)v+=g-(1<<p-f[b]),f[b]=t;else break}for(v>>=m;v>0;){var w=o[n].s;f[w]<t?v-=1<<t-f[w]++-1:++n}for(;n>=0&&v;--n){var x=o[n].s;f[x]==t&&(--f[x],++v)}p=t}return{t:new _l(f),l:p}},RO=function(e,t,i){return e.s==-1?Math.max(RO(e.l,t,i+1),RO(e.r,t,i+1)):t[e.s]=i},Zj=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new hd(++t),n=0,r=e[0],o=1,s=function(l){i[n++]=l},a=1;a<=t;++a)if(e[a]==r&&a!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=e[a]}return{c:i.subarray(0,n),n:t}},ZC=function(e,t){for(var i=0,n=0;n<t.length;++n)i+=e[n]*t[n];return i},nq=function(e,t,i){var n=i.length,r=PO(t+2);e[r]=n&255,e[r+1]=n>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var o=0;o<n;++o)e[r+o+4]=i[o];return(r+4+n)*8},Qj=function(e,t,i,n,r,o,s,a,l,c,d){Kf(t,d++,i),++r[256];for(var u=MO(r,15),h=u.t,f=u.l,p=MO(o,15),v=p.t,m=p.l,g=Zj(h),b=g.c,w=g.n,x=Zj(v),R=x.c,_=x.n,L=new hd(19),F=0;F<b.length;++F)++L[b[F]&31];for(var F=0;F<R.length;++F)++L[R[F]&31];for(var T=MO(L,7),P=T.t,A=T.l,O=19;O>4&&!P[DO[O-1]];--O);var V=c+5<<3,U=ZC(r,Fm)+ZC(o,QC)+s,ae=ZC(r,h)+ZC(o,v)+s+14+3*O+ZC(L,P)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&V<=U&&V<=ae)return nq(t,d,e.subarray(l,l+c));var ne,ue,se,_e;if(Kf(t,d,1+(ae<U)),d+=2,ae<U){ne=Bh(h,f,0),ue=h,se=Bh(v,m,0),_e=v;var Ve=Bh(P,A,0);Kf(t,d,w-257),Kf(t,d+5,_-1),Kf(t,d+10,O-4),d+=14;for(var F=0;F<O;++F)Kf(t,d+3*F,P[DO[F]]);d+=3*O;for(var Ge=[b,R],K=0;K<2;++K)for(var Q=Ge[K],F=0;F<Q.length;++F){var ee=Q[F]&31;Kf(t,d,Ve[ee]),d+=P[ee],ee>15&&(Kf(t,d,Q[F]>>5&127),d+=Q[F]>>12)}}else ne=cSe,ue=Fm,se=uSe,_e=QC;for(var F=0;F<a;++F){var Z=n[F];if(Z>255){var ee=Z>>18&31;KC(t,d,ne[ee+257]),d+=ue[ee+257],ee>7&&(Kf(t,d,Z>>23&31),d+=hD[ee]);var G=Z&31;KC(t,d,se[G]),d+=_e[G],G>3&&(KC(t,d,Z>>5&8191),d+=fD[G])}else KC(t,d,ne[Z]),d+=ue[Z]}return KC(t,d,ne[256]),d+ue[256]},mSe=new IO([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rq=new _l(0),gSe=function(e,t,i,n,r,o){var s=o.z||e.length,a=new _l(n+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(n,a.length-r),c=o.l,d=(o.r||0)&7;if(t){d&&(l[0]=o.r>>3);for(var u=mSe[t-1],h=u>>13,f=u&8191,p=(1<<i)-1,v=o.p||new hd(32768),m=o.h||new hd(p+1),g=Math.ceil(i/3),b=2*g,w=function(ve){return(e[ve]^e[ve+1]<<g^e[ve+2]<<b)&p},x=new IO(25e3),R=new hd(288),_=new hd(32),L=0,F=0,T=o.i||0,P=0,A=o.w||0,O=0;T+2<s;++T){var V=w(T),U=T&32767,ae=m[V];if(v[U]=ae,m[V]=U,A<=T){var ne=s-T;if((L>7e3||P>24576)&&(ne>423||!c)){d=Qj(e,l,0,x,R,_,F,P,O,T-O,d),P=L=F=0,O=T;for(var ue=0;ue<286;++ue)R[ue]=0;for(var ue=0;ue<30;++ue)_[ue]=0}var se=2,_e=0,Ve=f,Ge=U-ae&32767;if(ne>2&&V==w(T-Ge))for(var K=Math.min(h,ne)-1,Q=Math.min(32767,T),ee=Math.min(258,ne);Ge<=Q&&--Ve&&U!=ae;){if(e[T+se]==e[T+se-Ge]){for(var Z=0;Z<ee&&e[T+Z]==e[T+Z-Ge];++Z);if(Z>se){if(se=Z,_e=Ge,Z>K)break;for(var G=Math.min(Ge,Z-2),W=0,ue=0;ue<G;++ue){var ce=T-Ge+ue&32767,me=v[ce],Me=ce-me&32767;Me>W&&(W=Me,ae=ce)}}}U=ae,ae=v[U],Ge+=U-ae&32767}if(_e){x[P++]=268435456|TO[se]<<18|Kj[_e];var He=TO[se]&31,$e=Kj[_e]&31;F+=hD[He]+fD[$e],++R[257+He],++_[$e],A=T+se,++L}else x[P++]=e[T],++R[e[T]]}}for(T=Math.max(T,A);T<s;++T)x[P++]=e[T],++R[e[T]];d=Qj(e,l,c,x,R,_,F,P,O,T-O,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=m,o.p=v,o.i=T,o.w=A)}else{for(var T=o.w||0;T<s+c;T+=65535){var Je=T+65535;Je>=s&&(l[d/8|0]=c,Je=s),d=nq(l,d+1,e.subarray(T,Je))}o.i=s}return pD(a,0,n+PO(d)+r)};var oq=function(){var e=1,t=0;return{p:function(i){for(var n=e,r=t,o=i.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)r+=n+=i[s];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}e=n,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},vSe=function(e,t,i,n,r){if(!r&&(r={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),s=new _l(o.length+e.length);s.set(o),s.set(e,o.length),e=s,r.w=o.length}return gSe(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,i,n,r)};var Nh=function(e,t){return e[t]|e[t+1]<<8},Ou=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},EO=function(e,t){return Ou(e,t)+Ou(e,t+4)*4294967296},sq=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8};var bSe=function(e,t){var i=t.level,n=i==0?0:i<6?1:i==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=oq();r.p(t.dictionary),sq(e,2,r.d())}};function _Se(e,t){return pSe(e,{i:2},t&&t.out,t&&t.dictionary)}function mD(e,t){t||(t={});var i=oq();i.p(e);var n=vSe(e,t,t.dictionary?6:2,4);return bSe(n,t),sq(n,n.length-4,i.d()),n}var kO=typeof TextDecoder<"u"&&new TextDecoder,ySe=0;try{kO.decode(rq,{stream:!0}),ySe=1}catch{}var wSe=function(e){for(var t="",i=0;;){var n=e[i++],r=(n>127)+(n>223)+(n>239);if(i+r>e.length)return{s:t,r:pD(e,i-1)};r?r==3?(n=((n&15)<<18|(e[i++]&63)<<12|(e[i++]&63)<<6|e[i++]&63)-65536,t+=String.fromCharCode(55296|n>>10,56320|n&1023)):r&1?t+=String.fromCharCode((n&31)<<6|e[i++]&63):t+=String.fromCharCode((n&15)<<12|(e[i++]&63)<<6|e[i++]&63):t+=String.fromCharCode(n)}};function CSe(e,t){if(t){for(var i="",n=0;n<e.length;n+=16384)i+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return i}else{if(kO)return kO.decode(e);var r=wSe(e),o=r.s,i=r.r;return i.length&&Yd(8),o}}var xSe=function(e,t){return t+30+Nh(e,t+26)+Nh(e,t+28)},SSe=function(e,t,i){var n=Nh(e,t+28),r=CSe(e.subarray(t+46,t+46+n),!(Nh(e,t+8)&2048)),o=t+46+n,s=Ou(e,t+20),a=i&&s==4294967295?MSe(e,o):[s,Ou(e,t+24),Ou(e,t+42)],l=a[0],c=a[1],d=a[2];return[Nh(e,t+10),l,c,r,o+Nh(e,t+30)+Nh(e,t+32),d]},MSe=function(e,t){for(;Nh(e,t)!=1;t+=4+Nh(e,t+2));return[EO(e,t+12),EO(e,t+4),EO(e,t+20)]};function FO(e,t){for(var i={},n=e.length-22;Ou(e,n)!=101010256;--n)(!n||e.length-n>65558)&&Yd(13);var r=Nh(e,n+8);if(!r)return{};var o=Ou(e,n+16),s=o==4294967295||r==65535;if(s){var a=Ou(e,n-12);s=Ou(e,a)==101075792,s&&(r=Ou(e,a+32),o=Ou(e,a+48))}for(var l=t&&t.filter,c=0;c<r;++c){var d=SSe(e,o,s),u=d[0],h=d[1],f=d[2],p=d[3],v=d[4],m=d[5],g=xSe(e,m);o=v,(!l||l({name:p,size:h,originalSize:f,compression:u}))&&(u?u==8?i[p]=_Se(e.subarray(g,g+h),{out:new _l(f)}):Yd(14,"unknown compression type "+u):i[p]=pD(e,g,g+h))}return i}function aq(e){if(Array.isArray(e))return e}function lq(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function cq(e,t){if(e){if(typeof e=="string")return OO(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?OO(e,t):void 0}}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LO(e,t){return aq(e)||lq(e,t)||cq(e,t)||dq()}function NO(e,t="utf8"){return new TextDecoder(t).decode(e)}var DSe=new TextEncoder;function uq(e){return DSe.encode(e)}var TSe=1024*8,ASe=(()=>{let e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),BO={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},JC=class e{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=TSe,i={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);let r=i.offset?i.offset>>>0:0,o=t.byteLength-r,s=r;(ArrayBuffer.isView(t)||t instanceof e)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+r),t=t.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){let n=(this.offset+t)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,i){let n=BO[i].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+n);if(this.littleEndian===ASe&&i!=="uint8"&&i!=="int8"){let a=new Uint8Array(this.buffer.slice(r,r+n));a.reverse();let l=new BO[i](a.buffer);return this.offset+=n,l.reverse(),l}let s=new BO[i](o);return this.offset+=n,s}readInt16(){let t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){let t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){let t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){let t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){let t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){let t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){let t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){let t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let i="";for(let n=0;n<t;n++)i+=this.readChar();return i}readUtf8(t=1){return NO(this.readBytes(t))}decodeText(t=1,i="utf8"){return NO(this.readBytes(t),i)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let i=0;i<t.length;i++)this._data.setUint8(this.offset++,t[i]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let i=0;i<t.length;i++)this.writeUint8(t.charCodeAt(i));return this}writeUtf8(t){return this.writeBytes(uq(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function d_(e){let t=e.length;for(;--t>=0;)e[t]=0}var RSe=0,Kq=1,kSe=2,ISe=3,PSe=258,lL=29,p1=256,s1=p1+1+lL,a_=30,cL=19,Zq=2*s1+1,C0=15,VO=16,FSe=7,dL=256,Qq=16,Jq=17,eY=18,JO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),wD=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),OSe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LSe=512,Qf=new Array((s1+2)*2);d_(Qf);var n1=new Array(a_*2);d_(n1);var a1=new Array(LSe);d_(a1);var l1=new Array(PSe-ISe+1);d_(l1);var uL=new Array(lL);d_(uL);var CD=new Array(a_);d_(CD);function zO(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}var iY,nY,rY;function HO(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}var oY=e=>e<256?a1[e]:a1[256+(e>>>7)],c1=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Tc=(e,t,i)=>{e.bi_valid>VO-i?(e.bi_buf|=t<<e.bi_valid&65535,c1(e,e.bi_buf),e.bi_buf=t>>VO-e.bi_valid,e.bi_valid+=i-VO):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},zh=(e,t,i)=>{Tc(e,i[t*2],i[t*2+1])},sY=(e,t)=>{let i=0;do i|=e&1,e>>>=1,i<<=1;while(--t>0);return i>>>1},NSe=e=>{e.bi_valid===16?(c1(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},BSe=(e,t)=>{let i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,d,u,h,f,p,v=0;for(h=0;h<=C0;h++)e.bl_count[h]=0;for(i[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Zq;c++)d=e.heap[c],h=i[i[d*2+1]*2+1]+1,h>l&&(h=l,v++),i[d*2+1]=h,!(d>n)&&(e.bl_count[h]++,f=0,d>=a&&(f=s[d-a]),p=i[d*2],e.opt_len+=p*(h+f),o&&(e.static_len+=p*(r[d*2+1]+f)));if(v!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,v-=2}while(v>0);for(h=l;h!==0;h--)for(d=e.bl_count[h];d!==0;)u=e.heap[--c],!(u>n)&&(i[u*2+1]!==h&&(e.opt_len+=(h-i[u*2+1])*i[u*2],i[u*2+1]=h),d--)}},aY=(e,t,i)=>{let n=new Array(C0+1),r=0,o,s;for(o=1;o<=C0;o++)r=r+i[o-1]<<1,n[o]=r;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=sY(n[a]++,a))}},VSe=()=>{let e,t,i,n,r,o=new Array(C0+1);for(i=0,n=0;n<lL-1;n++)for(uL[n]=i,e=0;e<1<<JO[n];e++)l1[i++]=n;for(l1[i-1]=n,r=0,n=0;n<16;n++)for(CD[n]=r,e=0;e<1<<wD[n];e++)a1[r++]=n;for(r>>=7;n<a_;n++)for(CD[n]=r<<7,e=0;e<1<<wD[n]-7;e++)a1[256+r++]=n;for(t=0;t<=C0;t++)o[t]=0;for(e=0;e<=143;)Qf[e*2+1]=8,e++,o[8]++;for(;e<=255;)Qf[e*2+1]=9,e++,o[9]++;for(;e<=279;)Qf[e*2+1]=7,e++,o[7]++;for(;e<=287;)Qf[e*2+1]=8,e++,o[8]++;for(aY(Qf,s1+1,o),e=0;e<a_;e++)n1[e*2+1]=5,n1[e*2]=sY(e,5);iY=new zO(Qf,JO,p1+1,s1,C0),nY=new zO(n1,wD,0,a_,C0),rY=new zO(new Array(0),OSe,0,cL,FSe)},lY=e=>{let t;for(t=0;t<s1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<a_;t++)e.dyn_dtree[t*2]=0;for(t=0;t<cL;t++)e.bl_tree[t*2]=0;e.dyn_ltree[dL*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},cY=e=>{e.bi_valid>8?c1(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},hq=(e,t,i,n)=>{let r=t*2,o=i*2;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]},UO=(e,t,i)=>{let n=e.heap[i],r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&hq(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!hq(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},fq=(e,t,i)=>{let n,r,o=0,s,a;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+o++]&255,n+=(e.pending_buf[e.sym_buf+o++]&255)<<8,r=e.pending_buf[e.sym_buf+o++],n===0?zh(e,r,t):(s=l1[r],zh(e,s+p1+1,t),a=JO[s],a!==0&&(r-=uL[s],Tc(e,r,a)),n--,s=oY(n),zh(e,s,i),a=wD[s],a!==0&&(n-=CD[s],Tc(e,n,a)));while(o<e.sym_next);zh(e,dL,t)},eL=(e,t)=>{let i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(e.heap_len=0,e.heap_max=Zq,s=0;s<o;s++)i[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):i[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,i[c*2]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=n[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)UO(e,i,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],UO(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,i[c*2]=i[s*2]+i[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,i[s*2+1]=i[a*2+1]=c,e.heap[1]=c++,UO(e,i,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],BSe(e,t),aY(i,l,e.bl_count)},pq=(e,t,i)=>{let n,r=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(i+1)*2+1]=65535,n=0;n<=i;n++)o=s,s=t[(n+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==r&&e.bl_tree[o*2]++,e.bl_tree[Qq*2]++):a<=10?e.bl_tree[Jq*2]++:e.bl_tree[eY*2]++,a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},mq=(e,t,i)=>{let n,r=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),n=0;n<=i;n++)if(o=s,s=t[(n+1)*2+1],!(++a<l&&o===s)){if(a<c)do zh(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==r&&(zh(e,o,e.bl_tree),a--),zh(e,Qq,e.bl_tree),Tc(e,a-3,2)):a<=10?(zh(e,Jq,e.bl_tree),Tc(e,a-3,3)):(zh(e,eY,e.bl_tree),Tc(e,a-11,7));a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},zSe=e=>{let t;for(pq(e,e.dyn_ltree,e.l_desc.max_code),pq(e,e.dyn_dtree,e.d_desc.max_code),eL(e,e.bl_desc),t=cL-1;t>=3&&e.bl_tree[tY[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},HSe=(e,t,i,n)=>{let r;for(Tc(e,t-257,5),Tc(e,i-1,5),Tc(e,n-4,4),r=0;r<n;r++)Tc(e,e.bl_tree[tY[r]*2+1],3);mq(e,e.dyn_ltree,t-1),mq(e,e.dyn_dtree,i-1)},USe=e=>{let t=4093624447,i;for(i=0;i<=31;i++,t>>>=1)if(t&1&&e.dyn_ltree[i*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(i=32;i<p1;i++)if(e.dyn_ltree[i*2]!==0)return 1;return 0},gq=!1,GSe=e=>{gq||(VSe(),gq=!0),e.l_desc=new HO(e.dyn_ltree,iY),e.d_desc=new HO(e.dyn_dtree,nY),e.bl_desc=new HO(e.bl_tree,rY),e.bi_buf=0,e.bi_valid=0,lY(e)},dY=(e,t,i,n)=>{Tc(e,(RSe<<1)+(n?1:0),3),cY(e),c1(e,i),c1(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i},WSe=e=>{Tc(e,Kq<<1,3),zh(e,dL,Qf),NSe(e)},jSe=(e,t,i,n)=>{let r,o,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=USe(e)),eL(e,e.l_desc),eL(e,e.d_desc),s=zSe(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&t!==-1?dY(e,t,i,n):e.strategy===4||o===r?(Tc(e,(Kq<<1)+(n?1:0),3),fq(e,Qf,n1)):(Tc(e,(kSe<<1)+(n?1:0),3),HSe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),fq(e,e.dyn_ltree,e.dyn_dtree)),lY(e),n&&cY(e)},qSe=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,t===0?e.dyn_ltree[i*2]++:(e.matches++,t--,e.dyn_ltree[(l1[i]+p1+1)*2]++,e.dyn_dtree[oY(t)*2]++),e.sym_next===e.sym_end),YSe=GSe,$Se=dY,XSe=jSe,KSe=qSe,ZSe=WSe,QSe={_tr_init:YSe,_tr_stored_block:$Se,_tr_flush_block:XSe,_tr_tally:KSe,_tr_align:ZSe},JSe=(e,t,i,n)=>{let r=e&65535|0,o=e>>>16&65535|0,s=0;for(;i!==0;){s=i>2e3?2e3:i,i-=s;do r=r+t[n++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0},d1=JSe,e2e=()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[i]=e}return t},t2e=new Uint32Array(e2e()),i2e=(e,t,i,n)=>{let r=t2e,o=n+i;e^=-1;for(let s=n;s<o;s++)e=e>>>8^r[(e^t[s])&255];return e^-1},$a=i2e,M0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},u_={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:n2e,_tr_stored_block:tL,_tr_flush_block:r2e,_tr_tally:Nm,_tr_align:o2e}=QSe,{Z_NO_FLUSH:Bm,Z_PARTIAL_FLUSH:s2e,Z_FULL_FLUSH:a2e,Z_FINISH:$d,Z_BLOCK:vq,Z_OK:yl,Z_STREAM_END:bq,Z_STREAM_ERROR:Hh,Z_DATA_ERROR:l2e,Z_BUF_ERROR:GO,Z_DEFAULT_COMPRESSION:c2e,Z_FILTERED:d2e,Z_HUFFMAN_ONLY:gD,Z_RLE:u2e,Z_FIXED:h2e,Z_DEFAULT_STRATEGY:f2e,Z_UNKNOWN:p2e,Z_DEFLATED:MD}=u_,m2e=9,g2e=15,v2e=8,b2e=29,_2e=256,iL=_2e+1+b2e,y2e=30,w2e=19,C2e=2*iL+1,x2e=15,$r=3,Lm=258,Uh=Lm+$r+1,S2e=32,l_=42,hL=57,nL=69,rL=73,oL=91,sL=103,x0=113,t1=666,lc=1,h_=2,E0=3,f_=4,M2e=3,S0=(e,t)=>(e.msg=M0[t],t),_q=e=>e*2-(e>4?9:0),Om=e=>{let t=e.length;for(;--t>=0;)e[t]=0},E2e=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do i=e.head[--n],e.head[n]=i>=r?i-r:0;while(--t);t=r,n=t;do i=e.prev[--n],e.prev[n]=i>=r?i-r:0;while(--t)},D2e=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask,Vm=D2e,fd=e=>{let t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),i!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,t.pending===0&&(t.pending_out=0))},pd=(e,t)=>{r2e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fd(e.strm)},po=(e,t)=>{e.pending_buf[e.pending++]=t},e1=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},aL=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),r===0?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),e.state.wrap===1?e.adler=d1(e.adler,t,r,i):e.state.wrap===2&&(e.adler=$a(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},uY=(e,t)=>{let i=e.max_chain_length,n=e.strstart,r,o,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-Uh?e.strstart-(e.w_size-Uh):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+Lm,f=c[n+s-1],p=c[n+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do if(r=t,!(c[r+s]!==p||c[r+s-1]!==f||c[r]!==c[n]||c[++r]!==c[n+1])){n+=2,r++;do;while(c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<h);if(o=Lm-(h-n),n=h-Lm,o>s){if(e.match_start=t,s=o,o>=a)break;f=c[n+s-1],p=c[n+s]}}while((t=u[t&d])>l&&--i!==0);return s<=e.lookahead?s:e.lookahead},c_=e=>{let t=e.w_size,i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Uh)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),E2e(e),n+=t),e.strm.avail_in===0)break;if(i=aL(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=$r)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=Vm(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=Vm(e,e.ins_h,e.window[r+$r-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<$r)););}while(e.lookahead<Uh&&e.strm.avail_in!==0)},hY=(e,t)=>{let i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,r,o,s=0,a=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>o&&(n=o),n<i&&(n===0&&t!==$d||t===Bm||n!==r+e.strm.avail_in)))break;s=t===$d&&n===r+e.strm.avail_in?1:0,tL(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,fd(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(aL(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?f_:t!==Bm&&t!==$d&&e.strm.avail_in===0&&e.strstart===e.block_start?h_:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(aL(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,i=o>e.w_size?e.w_size:o,r=e.strstart-e.block_start,(r>=i||(r||t===$d)&&t!==Bm&&e.strm.avail_in===0&&r<=o)&&(n=r>o?o:r,s=t===$d&&e.strm.avail_in===0&&n===r?1:0,tL(e,e.block_start,n,s),e.block_start+=n,fd(e.strm)),s?E0:lc)},WO=(e,t)=>{let i,n;for(;;){if(e.lookahead<Uh){if(c_(e),e.lookahead<Uh&&t===Bm)return lc;if(e.lookahead===0)break}if(i=0,e.lookahead>=$r&&(e.ins_h=Vm(e,e.ins_h,e.window[e.strstart+$r-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),i!==0&&e.strstart-i<=e.w_size-Uh&&(e.match_length=uY(e,i)),e.match_length>=$r)if(n=Nm(e,e.strstart-e.match_start,e.match_length-$r),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=$r){e.match_length--;do e.strstart++,e.ins_h=Vm(e,e.ins_h,e.window[e.strstart+$r-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Vm(e,e.ins_h,e.window[e.strstart+1]);else n=Nm(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(pd(e,!1),e.strm.avail_out===0))return lc}return e.insert=e.strstart<$r-1?e.strstart:$r-1,t===$d?(pd(e,!0),e.strm.avail_out===0?E0:f_):e.sym_next&&(pd(e,!1),e.strm.avail_out===0)?lc:h_},o_=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<Uh){if(c_(e),e.lookahead<Uh&&t===Bm)return lc;if(e.lookahead===0)break}if(i=0,e.lookahead>=$r&&(e.ins_h=Vm(e,e.ins_h,e.window[e.strstart+$r-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=$r-1,i!==0&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Uh&&(e.match_length=uY(e,i),e.match_length<=5&&(e.strategy===d2e||e.match_length===$r&&e.strstart-e.match_start>4096)&&(e.match_length=$r-1)),e.prev_length>=$r&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-$r,n=Nm(e,e.strstart-1-e.prev_match,e.prev_length-$r),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=Vm(e,e.ins_h,e.window[e.strstart+$r-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=$r-1,e.strstart++,n&&(pd(e,!1),e.strm.avail_out===0))return lc}else if(e.match_available){if(n=Nm(e,0,e.window[e.strstart-1]),n&&pd(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return lc}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Nm(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<$r-1?e.strstart:$r-1,t===$d?(pd(e,!0),e.strm.avail_out===0?E0:f_):e.sym_next&&(pd(e,!1),e.strm.avail_out===0)?lc:h_},T2e=(e,t)=>{let i,n,r,o,s=e.window;for(;;){if(e.lookahead<=Lm){if(c_(e),e.lookahead<=Lm&&t===Bm)return lc;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=$r&&e.strstart>0&&(r=e.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){o=e.strstart+Lm;do;while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=Lm-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=$r?(i=Nm(e,1,e.match_length-$r),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Nm(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(pd(e,!1),e.strm.avail_out===0))return lc}return e.insert=0,t===$d?(pd(e,!0),e.strm.avail_out===0?E0:f_):e.sym_next&&(pd(e,!1),e.strm.avail_out===0)?lc:h_},A2e=(e,t)=>{let i;for(;;){if(e.lookahead===0&&(c_(e),e.lookahead===0)){if(t===Bm)return lc;break}if(e.match_length=0,i=Nm(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(pd(e,!1),e.strm.avail_out===0))return lc}return e.insert=0,t===$d?(pd(e,!0),e.strm.avail_out===0?E0:f_):e.sym_next&&(pd(e,!1),e.strm.avail_out===0)?lc:h_};function Vh(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}var i1=[new Vh(0,0,0,0,hY),new Vh(4,4,8,4,WO),new Vh(4,5,16,8,WO),new Vh(4,6,32,32,WO),new Vh(4,4,16,16,o_),new Vh(8,16,32,32,o_),new Vh(8,16,128,128,o_),new Vh(8,32,128,256,o_),new Vh(32,128,258,1024,o_),new Vh(32,258,258,4096,o_)],R2e=e=>{e.window_size=2*e.w_size,Om(e.head),e.max_lazy_match=i1[e.level].max_lazy,e.good_match=i1[e.level].good_length,e.nice_match=i1[e.level].nice_length,e.max_chain_length=i1[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=$r-1,e.match_available=0,e.ins_h=0};function k2e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=MD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(C2e*2),this.dyn_dtree=new Uint16Array((2*y2e+1)*2),this.bl_tree=new Uint16Array((2*w2e+1)*2),Om(this.dyn_ltree),Om(this.dyn_dtree),Om(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(x2e+1),this.heap=new Uint16Array(2*iL+1),Om(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*iL+1),Om(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var m1=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.status!==l_&&t.status!==hL&&t.status!==nL&&t.status!==rL&&t.status!==oL&&t.status!==sL&&t.status!==x0&&t.status!==t1?1:0},fY=e=>{if(m1(e))return S0(e,Hh);e.total_in=e.total_out=0,e.data_type=p2e;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?hL:t.wrap?l_:x0,e.adler=t.wrap===2?0:1,t.last_flush=-2,n2e(t),yl},pY=e=>{let t=fY(e);return t===yl&&R2e(e.state),t},I2e=(e,t)=>m1(e)||e.state.wrap!==2?Hh:(e.state.gzhead=t,yl),mY=(e,t,i,n,r,o)=>{if(!e)return Hh;let s=1;if(t===c2e&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>m2e||i!==MD||n<8||n>15||t<0||t>9||o<0||o>h2e||n===8&&s!==1)return S0(e,Hh);n===8&&(n=9);let a=new k2e;return e.state=a,a.strm=e,a.status=l_,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+$r-1)/$r),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=o,a.method=i,pY(e)},P2e=(e,t)=>mY(e,t,MD,g2e,v2e,f2e),F2e=(e,t)=>{if(m1(e)||t>vq||t<0)return e?S0(e,Hh):Hh;let i=e.state;if(!e.output||e.avail_in!==0&&!e.input||i.status===t1&&t!==$d)return S0(e,e.avail_out===0?GO:Hh);let n=i.last_flush;if(i.last_flush=t,i.pending!==0){if(fd(e),e.avail_out===0)return i.last_flush=-1,yl}else if(e.avail_in===0&&_q(t)<=_q(n)&&t!==$d)return S0(e,GO);if(i.status===t1&&e.avail_in!==0)return S0(e,GO);if(i.status===l_&&i.wrap===0&&(i.status=x0),i.status===l_){let r=MD+(i.w_bits-8<<4)<<8,o=-1;if(i.strategy>=gD||i.level<2?o=0:i.level<6?o=1:i.level===6?o=2:o=3,r|=o<<6,i.strstart!==0&&(r|=S2e),r+=31-r%31,e1(i,r),i.strstart!==0&&(e1(i,e.adler>>>16),e1(i,e.adler&65535)),e.adler=1,i.status=x0,fd(e),i.pending!==0)return i.last_flush=-1,yl}if(i.status===hL){if(e.adler=0,po(i,31),po(i,139),po(i,8),i.gzhead)po(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),po(i,i.gzhead.time&255),po(i,i.gzhead.time>>8&255),po(i,i.gzhead.time>>16&255),po(i,i.gzhead.time>>24&255),po(i,i.level===9?2:i.strategy>=gD||i.level<2?4:0),po(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(po(i,i.gzhead.extra.length&255),po(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=$a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=nL;else if(po(i,0),po(i,0),po(i,0),po(i,0),po(i,0),po(i,i.level===9?2:i.strategy>=gD||i.level<2?4:0),po(i,M2e),i.status=x0,fd(e),i.pending!==0)return i.last_flush=-1,yl}if(i.status===nL){if(i.gzhead.extra){let r=i.pending,o=(i.gzhead.extra.length&65535)-i.gzindex;for(;i.pending+o>i.pending_buf_size;){let a=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+a),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>r&&(e.adler=$a(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex+=a,fd(e),i.pending!==0)return i.last_flush=-1,yl;r=0,o-=a}let s=new Uint8Array(i.gzhead.extra);i.pending_buf.set(s.subarray(i.gzindex,i.gzindex+o),i.pending),i.pending+=o,i.gzhead.hcrc&&i.pending>r&&(e.adler=$a(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=rL}if(i.status===rL){if(i.gzhead.name){let r=i.pending,o;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(e.adler=$a(e.adler,i.pending_buf,i.pending-r,r)),fd(e),i.pending!==0)return i.last_flush=-1,yl;r=0}i.gzindex<i.gzhead.name.length?o=i.gzhead.name.charCodeAt(i.gzindex++)&255:o=0,po(i,o)}while(o!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=$a(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=oL}if(i.status===oL){if(i.gzhead.comment){let r=i.pending,o;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(e.adler=$a(e.adler,i.pending_buf,i.pending-r,r)),fd(e),i.pending!==0)return i.last_flush=-1,yl;r=0}i.gzindex<i.gzhead.comment.length?o=i.gzhead.comment.charCodeAt(i.gzindex++)&255:o=0,po(i,o)}while(o!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=$a(e.adler,i.pending_buf,i.pending-r,r))}i.status=sL}if(i.status===sL){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(fd(e),i.pending!==0))return i.last_flush=-1,yl;po(i,e.adler&255),po(i,e.adler>>8&255),e.adler=0}if(i.status=x0,fd(e),i.pending!==0)return i.last_flush=-1,yl}if(e.avail_in!==0||i.lookahead!==0||t!==Bm&&i.status!==t1){let r=i.level===0?hY(i,t):i.strategy===gD?A2e(i,t):i.strategy===u2e?T2e(i,t):i1[i.level].func(i,t);if((r===E0||r===f_)&&(i.status=t1),r===lc||r===E0)return e.avail_out===0&&(i.last_flush=-1),yl;if(r===h_&&(t===s2e?o2e(i):t!==vq&&(tL(i,0,0,!1),t===a2e&&(Om(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),fd(e),e.avail_out===0))return i.last_flush=-1,yl}return t!==$d?yl:i.wrap<=0?bq:(i.wrap===2?(po(i,e.adler&255),po(i,e.adler>>8&255),po(i,e.adler>>16&255),po(i,e.adler>>24&255),po(i,e.total_in&255),po(i,e.total_in>>8&255),po(i,e.total_in>>16&255),po(i,e.total_in>>24&255)):(e1(i,e.adler>>>16),e1(i,e.adler&65535)),fd(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?yl:bq)},O2e=e=>{if(m1(e))return Hh;let t=e.state.status;return e.state=null,t===x0?S0(e,l2e):yl},L2e=(e,t)=>{let i=t.length;if(m1(e))return Hh;let n=e.state,r=n.wrap;if(r===2||r===1&&n.status!==l_||n.lookahead)return Hh;if(r===1&&(e.adler=d1(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){r===0&&(Om(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(i-n.w_size,i),0),t=l,i=n.w_size}let o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,c_(n);n.lookahead>=$r;){let l=n.strstart,c=n.lookahead-($r-1);do n.ins_h=Vm(n,n.ins_h,n.window[l+$r-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=$r-1,c_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=$r-1,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=r,yl},N2e=P2e,B2e=mY,V2e=pY,z2e=fY,H2e=I2e,U2e=F2e,G2e=O2e,W2e=L2e,j2e="pako deflate (from Nodeca project)",r1={deflateInit:N2e,deflateInit2:B2e,deflateReset:V2e,deflateResetKeep:z2e,deflateSetHeader:H2e,deflate:U2e,deflateEnd:G2e,deflateSetDictionary:W2e,deflateInfo:j2e},q2e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Y2e=function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let i=t.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(let n in i)q2e(i,n)&&(e[n]=i[n])}}return e},$2e=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;let i=new Uint8Array(t);for(let n=0,r=0,o=e.length;n<o;n++){let s=e[n];i.set(s,r),r+=s.length}return i},ED={assign:Y2e,flattenChunks:$2e},gY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gY=!1}var u1=new Uint8Array(256);for(let e=0;e<256;e++)u1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;u1[254]=u1[254]=1;var X2e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,i,n,r,o,s=e.length,a=0;for(r=0;r<s;r++)i=e.charCodeAt(r),(i&64512)===55296&&r+1<s&&(n=e.charCodeAt(r+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)i=e.charCodeAt(r),(i&64512)===55296&&r+1<s&&(n=e.charCodeAt(r+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|i&63):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|i&63):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|i&63);return t},K2e=(e,t)=>{if(t<65534&&e.subarray&&gY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i},Z2e=(e,t)=>{let i=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,r,o=new Array(i*2);for(r=0,n=0;n<i;){let s=e[n++];if(s<128){o[r++]=s;continue}let a=u1[s];if(a>4){o[r++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<i;)s=s<<6|e[n++]&63,a--;if(a>1){o[r++]=65533;continue}s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|s&1023)}return K2e(o,r)},Q2e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let i=t-1;for(;i>=0&&(e[i]&192)===128;)i--;return i<0||i===0?t:i+u1[e[i]]>t?i:t},h1={string2buf:X2e,buf2string:Z2e,utf8border:Q2e};function J2e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vY=J2e,bY=Object.prototype.toString,{Z_NO_FLUSH:eMe,Z_SYNC_FLUSH:tMe,Z_FULL_FLUSH:iMe,Z_FINISH:nMe,Z_OK:xD,Z_STREAM_END:rMe,Z_DEFAULT_COMPRESSION:oMe,Z_DEFAULT_STRATEGY:sMe,Z_DEFLATED:aMe}=u_;function g1(e){this.options=ED.assign({level:oMe,method:aMe,chunkSize:16384,windowBits:15,memLevel:8,strategy:sMe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vY,this.strm.avail_out=0;let i=r1.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==xD)throw new Error(M0[i]);if(t.header&&r1.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=h1.string2buf(t.dictionary):bY.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,i=r1.deflateSetDictionary(this.strm,n),i!==xD)throw new Error(M0[i]);this._dict_set=!0}}g1.prototype.push=function(e,t){let i=this.strm,n=this.options.chunkSize,r,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?nMe:eMe,typeof e=="string"?i.input=h1.string2buf(e):bY.call(e)==="[object ArrayBuffer]"?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(o===tMe||o===iMe)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(r=r1.deflate(i,o),r===rMe)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=r1.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===xD;if(i.avail_out===0){this.onData(i.output);continue}if(o>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};g1.prototype.onData=function(e){this.chunks.push(e)};g1.prototype.onEnd=function(e){e===xD&&(this.result=ED.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function fL(e,t){let i=new g1(t);if(i.push(e,!0),i.err)throw i.msg||M0[i.err];return i.result}function lMe(e,t){return t=t||{},t.raw=!0,fL(e,t)}function cMe(e,t){return t=t||{},t.gzip=!0,fL(e,t)}var dMe=g1,uMe=fL,hMe=lMe,fMe=cMe,pMe=u_,mMe={Deflate:dMe,deflate:uMe,deflateRaw:hMe,gzip:fMe,constants:pMe},vD=16209,gMe=16191,vMe=function(t,i){let n,r,o,s,a,l,c,d,u,h,f,p,v,m,g,b,w,x,R,_,L,F,T,P,A=t.state;n=t.next_in,T=t.input,r=n+(t.avail_in-5),o=t.next_out,P=t.output,s=o-(i-t.avail_out),a=o+(t.avail_out-257),l=A.dmax,c=A.wsize,d=A.whave,u=A.wnext,h=A.window,f=A.hold,p=A.bits,v=A.lencode,m=A.distcode,g=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),w=v[f&g];t:for(;;){if(x=w>>>24,f>>>=x,p-=x,x=w>>>16&255,x===0)P[o++]=w&65535;else if(x&16){R=w&65535,x&=15,x&&(p<x&&(f+=T[n++]<<p,p+=8),R+=f&(1<<x)-1,f>>>=x,p-=x),p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),w=m[f&b];i:for(;;){if(x=w>>>24,f>>>=x,p-=x,x=w>>>16&255,x&16){if(_=w&65535,x&=15,p<x&&(f+=T[n++]<<p,p+=8,p<x&&(f+=T[n++]<<p,p+=8)),_+=f&(1<<x)-1,_>l){t.msg="invalid distance too far back",A.mode=vD;break e}if(f>>>=x,p-=x,x=o-s,_>x){if(x=_-x,x>d&&A.sane){t.msg="invalid distance too far back",A.mode=vD;break e}if(L=0,F=h,u===0){if(L+=c-x,x<R){R-=x;do P[o++]=h[L++];while(--x);L=o-_,F=P}}else if(u<x){if(L+=c+u-x,x-=u,x<R){R-=x;do P[o++]=h[L++];while(--x);if(L=0,u<R){x=u,R-=x;do P[o++]=h[L++];while(--x);L=o-_,F=P}}}else if(L+=u-x,x<R){R-=x;do P[o++]=h[L++];while(--x);L=o-_,F=P}for(;R>2;)P[o++]=F[L++],P[o++]=F[L++],P[o++]=F[L++],R-=3;R&&(P[o++]=F[L++],R>1&&(P[o++]=F[L++]))}else{L=o-_;do P[o++]=P[L++],P[o++]=P[L++],P[o++]=P[L++],R-=3;while(R>2);R&&(P[o++]=P[L++],R>1&&(P[o++]=P[L++]))}}else if((x&64)===0){w=m[(w&65535)+(f&(1<<x)-1)];continue i}else{t.msg="invalid distance code",A.mode=vD;break e}break}}else if((x&64)===0){w=v[(w&65535)+(f&(1<<x)-1)];continue t}else if(x&32){A.mode=gMe;break e}else{t.msg="invalid literal/length code",A.mode=vD;break e}break}}while(n<r&&o<a);R=p>>3,n-=R,p-=R<<3,f&=(1<<p)-1,t.next_in=n,t.next_out=o,t.avail_in=n<r?5+(r-n):5-(n-r),t.avail_out=o<a?257+(a-o):257-(o-a),A.hold=f,A.bits=p},s_=15,yq=852,wq=592,Cq=0,jO=1,xq=2,bMe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_Me=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yMe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wMe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),CMe=(e,t,i,n,r,o,s,a)=>{let l=a.bits,c=0,d=0,u=0,h=0,f=0,p=0,v=0,m=0,g=0,b=0,w,x,R,_,L,F=null,T,P=new Uint16Array(s_+1),A=new Uint16Array(s_+1),O=null,V,U,ae;for(c=0;c<=s_;c++)P[c]=0;for(d=0;d<n;d++)P[t[i+d]]++;for(f=l,h=s_;h>=1&&P[h]===0;h--);if(f>h&&(f=h),h===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,a.bits=1,0;for(u=1;u<h&&P[u]===0;u++);for(f<u&&(f=u),m=1,c=1;c<=s_;c++)if(m<<=1,m-=P[c],m<0)return-1;if(m>0&&(e===Cq||h!==1))return-1;for(A[1]=0,c=1;c<s_;c++)A[c+1]=A[c]+P[c];for(d=0;d<n;d++)t[i+d]!==0&&(s[A[t[i+d]]++]=d);if(e===Cq?(F=O=s,T=20):e===jO?(F=bMe,O=_Me,T=257):(F=yMe,O=wMe,T=0),b=0,d=0,c=u,L=o,p=f,v=0,R=-1,g=1<<f,_=g-1,e===jO&&g>yq||e===xq&&g>wq)return 1;for(;;){V=c-v,s[d]+1<T?(U=0,ae=s[d]):s[d]>=T?(U=O[s[d]-T],ae=F[s[d]-T]):(U=96,ae=0),w=1<<c-v,x=1<<p,u=x;do x-=w,r[L+(b>>v)+x]=V<<24|U<<16|ae|0;while(x!==0);for(w=1<<c-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--P[c]===0){if(c===h)break;c=t[i+s[d]]}if(c>f&&(b&_)!==R){for(v===0&&(v=f),L+=u,p=c-v,m=1<<p;p+v<h&&(m-=P[p+v],!(m<=0));)p++,m<<=1;if(g+=1<<p,e===jO&&g>yq||e===xq&&g>wq)return 1;R=b&_,r[R]=f<<24|p<<16|L-o|0}}return b!==0&&(r[L+b]=c-v<<24|64<<16|0),a.bits=f,0},o1=CMe,xMe=0,_Y=1,yY=2,{Z_FINISH:Sq,Z_BLOCK:SMe,Z_TREES:bD,Z_OK:D0,Z_STREAM_END:MMe,Z_NEED_DICT:EMe,Z_STREAM_ERROR:Xd,Z_DATA_ERROR:wY,Z_MEM_ERROR:CY,Z_BUF_ERROR:DMe,Z_DEFLATED:Mq}=u_,DD=16180,Eq=16181,Dq=16182,Tq=16183,Aq=16184,Rq=16185,kq=16186,Iq=16187,Pq=16188,Fq=16189,SD=16190,Zf=16191,qO=16192,Oq=16193,YO=16194,Lq=16195,Nq=16196,Bq=16197,Vq=16198,_D=16199,yD=16200,zq=16201,Hq=16202,Uq=16203,Gq=16204,Wq=16205,$O=16206,jq=16207,qq=16208,Cs=16209,xY=16210,SY=16211,TMe=852,AMe=592,RMe=15,kMe=RMe,Yq=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function IMe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var T0=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<DD||t.mode>SY?1:0},MY=e=>{if(T0(e))return Xd;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=DD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(TMe),t.distcode=t.distdyn=new Int32Array(AMe),t.sane=1,t.back=-1,D0},EY=e=>{if(T0(e))return Xd;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,MY(e)},DY=(e,t)=>{let i;if(T0(e))return Xd;let n=e.state;return t<0?(i=0,t=-t):(i=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Xd:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,EY(e))},TY=(e,t)=>{if(!e)return Xd;let i=new IMe;e.state=i,i.strm=e,i.window=null,i.mode=DD;let n=DY(e,t);return n!==D0&&(e.state=null),n},PMe=e=>TY(e,kMe),$q=!0,XO,KO,FMe=e=>{if($q){XO=new Int32Array(512),KO=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o1(_Y,e.lens,0,288,XO,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o1(yY,e.lens,0,32,KO,0,e.work,{bits:5}),$q=!1}e.lencode=XO,e.lenbits=9,e.distcode=KO,e.distbits=5},AY=(e,t,i,n)=>{let r,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(i-o.wsize,i),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(t.subarray(i-n,i-n+r),o.wnext),n-=r,n?(o.window.set(t.subarray(i-n,i),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},OMe=(e,t)=>{let i,n,r,o,s,a,l,c,d,u,h,f,p,v,m=0,g,b,w,x,R,_,L,F,T=new Uint8Array(4),P,A,O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(T0(e)||!e.output||!e.input&&e.avail_in!==0)return Xd;i=e.state,i.mode===Zf&&(i.mode=qO),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,c=i.hold,d=i.bits,u=a,h=l,F=D0;e:for(;;)switch(i.mode){case DD:if(i.wrap===0){i.mode=qO;break}for(;d<16;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(i.wrap&2&&c===35615){i.wbits===0&&(i.wbits=15),i.check=0,T[0]=c&255,T[1]=c>>>8&255,i.check=$a(i.check,T,2,0),c=0,d=0,i.mode=Eq;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=Cs;break}if((c&15)!==Mq){e.msg="unknown compression method",i.mode=Cs;break}if(c>>>=4,d-=4,L=(c&15)+8,i.wbits===0&&(i.wbits=L),L>15||L>i.wbits){e.msg="invalid window size",i.mode=Cs;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=c&512?Fq:Zf,c=0,d=0;break;case Eq:for(;d<16;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(i.flags=c,(i.flags&255)!==Mq){e.msg="unknown compression method",i.mode=Cs;break}if(i.flags&57344){e.msg="unknown header flags set",i.mode=Cs;break}i.head&&(i.head.text=c>>8&1),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,i.check=$a(i.check,T,2,0)),c=0,d=0,i.mode=Dq;case Dq:for(;d<32;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}i.head&&(i.head.time=c),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,i.check=$a(i.check,T,4,0)),c=0,d=0,i.mode=Tq;case Tq:for(;d<16;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}i.head&&(i.head.xflags=c&255,i.head.os=c>>8),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,i.check=$a(i.check,T,2,0)),c=0,d=0,i.mode=Aq;case Aq:if(i.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}i.length=c,i.head&&(i.head.extra_len=c),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,i.check=$a(i.check,T,2,0)),c=0,d=0}else i.head&&(i.head.extra=null);i.mode=Rq;case Rq:if(i.flags&1024&&(f=i.length,f>a&&(f=a),f&&(i.head&&(L=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(o,o+f),L)),i.flags&512&&i.wrap&4&&(i.check=$a(i.check,n,f,o)),a-=f,o+=f,i.length-=f),i.length))break e;i.length=0,i.mode=kq;case kq:if(i.flags&2048){if(a===0)break e;f=0;do L=n[o+f++],i.head&&L&&i.length<65536&&(i.head.name+=String.fromCharCode(L));while(L&&f<a);if(i.flags&512&&i.wrap&4&&(i.check=$a(i.check,n,f,o)),a-=f,o+=f,L)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=Iq;case Iq:if(i.flags&4096){if(a===0)break e;f=0;do L=n[o+f++],i.head&&L&&i.length<65536&&(i.head.comment+=String.fromCharCode(L));while(L&&f<a);if(i.flags&512&&i.wrap&4&&(i.check=$a(i.check,n,f,o)),a-=f,o+=f,L)break e}else i.head&&(i.head.comment=null);i.mode=Pq;case Pq:if(i.flags&512){for(;d<16;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(i.wrap&4&&c!==(i.check&65535)){e.msg="header crc mismatch",i.mode=Cs;break}c=0,d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=Zf;break;case Fq:for(;d<32;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}e.adler=i.check=Yq(c),c=0,d=0,i.mode=SD;case SD:if(i.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=d,EMe;e.adler=i.check=1,i.mode=Zf;case Zf:if(t===SMe||t===bD)break e;case qO:if(i.last){c>>>=d&7,d-=d&7,i.mode=$O;break}for(;d<3;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}switch(i.last=c&1,c>>>=1,d-=1,c&3){case 0:i.mode=Oq;break;case 1:if(FMe(i),i.mode=_D,t===bD){c>>>=2,d-=2;break e}break;case 2:i.mode=Nq;break;case 3:e.msg="invalid block type",i.mode=Cs}c>>>=2,d-=2;break;case Oq:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Cs;break}if(i.length=c&65535,c=0,d=0,i.mode=YO,t===bD)break e;case YO:i.mode=Lq;case Lq:if(f=i.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;r.set(n.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,i.length-=f;break}i.mode=Zf;break;case Nq:for(;d<14;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(i.nlen=(c&31)+257,c>>>=5,d-=5,i.ndist=(c&31)+1,c>>>=5,d-=5,i.ncode=(c&15)+4,c>>>=4,d-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Cs;break}i.have=0,i.mode=Bq;case Bq:for(;i.have<i.ncode;){for(;d<3;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}i.lens[O[i.have++]]=c&7,c>>>=3,d-=3}for(;i.have<19;)i.lens[O[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,P={bits:i.lenbits},F=o1(xMe,i.lens,0,19,i.lencode,0,i.work,P),i.lenbits=P.bits,F){e.msg="invalid code lengths set",i.mode=Cs;break}i.have=0,i.mode=Vq;case Vq:for(;i.have<i.nlen+i.ndist;){for(;m=i.lencode[c&(1<<i.lenbits)-1],g=m>>>24,b=m>>>16&255,w=m&65535,!(g<=d);){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(w<16)c>>>=g,d-=g,i.lens[i.have++]=w;else{if(w===16){for(A=g+2;d<A;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(c>>>=g,d-=g,i.have===0){e.msg="invalid bit length repeat",i.mode=Cs;break}L=i.lens[i.have-1],f=3+(c&3),c>>>=2,d-=2}else if(w===17){for(A=g+3;d<A;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}c>>>=g,d-=g,L=0,f=3+(c&7),c>>>=3,d-=3}else{for(A=g+7;d<A;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}c>>>=g,d-=g,L=0,f=11+(c&127),c>>>=7,d-=7}if(i.have+f>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Cs;break}for(;f--;)i.lens[i.have++]=L}}if(i.mode===Cs)break;if(i.lens[256]===0){e.msg="invalid code -- missing end-of-block",i.mode=Cs;break}if(i.lenbits=9,P={bits:i.lenbits},F=o1(_Y,i.lens,0,i.nlen,i.lencode,0,i.work,P),i.lenbits=P.bits,F){e.msg="invalid literal/lengths set",i.mode=Cs;break}if(i.distbits=6,i.distcode=i.distdyn,P={bits:i.distbits},F=o1(yY,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,P),i.distbits=P.bits,F){e.msg="invalid distances set",i.mode=Cs;break}if(i.mode=_D,t===bD)break e;case _D:i.mode=yD;case yD:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=d,vMe(e,h),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,c=i.hold,d=i.bits,i.mode===Zf&&(i.back=-1);break}for(i.back=0;m=i.lencode[c&(1<<i.lenbits)-1],g=m>>>24,b=m>>>16&255,w=m&65535,!(g<=d);){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(b&&(b&240)===0){for(x=g,R=b,_=w;m=i.lencode[_+((c&(1<<x+R)-1)>>x)],g=m>>>24,b=m>>>16&255,w=m&65535,!(x+g<=d);){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}c>>>=x,d-=x,i.back+=x}if(c>>>=g,d-=g,i.back+=g,i.length=w,b===0){i.mode=Wq;break}if(b&32){i.back=-1,i.mode=Zf;break}if(b&64){e.msg="invalid literal/length code",i.mode=Cs;break}i.extra=b&15,i.mode=zq;case zq:if(i.extra){for(A=i.extra;d<A;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=Hq;case Hq:for(;m=i.distcode[c&(1<<i.distbits)-1],g=m>>>24,b=m>>>16&255,w=m&65535,!(g<=d);){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if((b&240)===0){for(x=g,R=b,_=w;m=i.distcode[_+((c&(1<<x+R)-1)>>x)],g=m>>>24,b=m>>>16&255,w=m&65535,!(x+g<=d);){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}c>>>=x,d-=x,i.back+=x}if(c>>>=g,d-=g,i.back+=g,b&64){e.msg="invalid distance code",i.mode=Cs;break}i.offset=w,i.extra=b&15,i.mode=Uq;case Uq:if(i.extra){for(A=i.extra;d<A;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Cs;break}i.mode=Gq;case Gq:if(l===0)break e;if(f=h-l,i.offset>f){if(f=i.offset-f,f>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Cs;break}f>i.wnext?(f-=i.wnext,p=i.wsize-f):p=i.wnext-f,f>i.length&&(f=i.length),v=i.window}else v=r,p=s-i.offset,f=i.length;f>l&&(f=l),l-=f,i.length-=f;do r[s++]=v[p++];while(--f);i.length===0&&(i.mode=yD);break;case Wq:if(l===0)break e;r[s++]=i.length,l--,i.mode=yD;break;case $O:if(i.wrap){for(;d<32;){if(a===0)break e;a--,c|=n[o++]<<d,d+=8}if(h-=l,e.total_out+=h,i.total+=h,i.wrap&4&&h&&(e.adler=i.check=i.flags?$a(i.check,r,h,s-h):d1(i.check,r,h,s-h)),h=l,i.wrap&4&&(i.flags?c:Yq(c))!==i.check){e.msg="incorrect data check",i.mode=Cs;break}c=0,d=0}i.mode=jq;case jq:if(i.wrap&&i.flags){for(;d<32;){if(a===0)break e;a--,c+=n[o++]<<d,d+=8}if(i.wrap&4&&c!==(i.total&4294967295)){e.msg="incorrect length check",i.mode=Cs;break}c=0,d=0}i.mode=qq;case qq:F=MMe;break e;case Cs:F=wY;break e;case xY:return CY;case SY:default:return Xd}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=d,(i.wsize||h!==e.avail_out&&i.mode<Cs&&(i.mode<$O||t!==Sq))&&AY(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,i.total+=h,i.wrap&4&&h&&(e.adler=i.check=i.flags?$a(i.check,r,h,e.next_out-h):d1(i.check,r,h,e.next_out-h)),e.data_type=i.bits+(i.last?64:0)+(i.mode===Zf?128:0)+(i.mode===_D||i.mode===YO?256:0),(u===0&&h===0||t===Sq)&&F===D0&&(F=DMe),F},LMe=e=>{if(T0(e))return Xd;let t=e.state;return t.window&&(t.window=null),e.state=null,D0},NMe=(e,t)=>{if(T0(e))return Xd;let i=e.state;return(i.wrap&2)===0?Xd:(i.head=t,t.done=!1,D0)},BMe=(e,t)=>{let i=t.length,n,r,o;return T0(e)||(n=e.state,n.wrap!==0&&n.mode!==SD)?Xd:n.mode===SD&&(r=1,r=d1(r,t,i,0),r!==n.check)?wY:(o=AY(e,t,i,i),o?(n.mode=xY,CY):(n.havedict=1,D0))},VMe=EY,zMe=DY,HMe=MY,UMe=PMe,GMe=TY,WMe=OMe,jMe=LMe,qMe=NMe,YMe=BMe,$Me="pako inflate (from Nodeca project)",Jf={inflateReset:VMe,inflateReset2:zMe,inflateResetKeep:HMe,inflateInit:UMe,inflateInit2:GMe,inflate:WMe,inflateEnd:jMe,inflateGetHeader:qMe,inflateSetDictionary:YMe,inflateInfo:$Me};function XMe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var KMe=XMe,RY=Object.prototype.toString,{Z_NO_FLUSH:ZMe,Z_FINISH:QMe,Z_OK:f1,Z_STREAM_END:ZO,Z_NEED_DICT:QO,Z_STREAM_ERROR:JMe,Z_DATA_ERROR:Xq,Z_MEM_ERROR:eEe}=u_;function v1(e){this.options=ED.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vY,this.strm.avail_out=0;let i=Jf.inflateInit2(this.strm,t.windowBits);if(i!==f1)throw new Error(M0[i]);if(this.header=new KMe,Jf.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=h1.string2buf(t.dictionary):RY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Jf.inflateSetDictionary(this.strm,t.dictionary),i!==f1)))throw new Error(M0[i])}v1.prototype.push=function(e,t){let i=this.strm,n=this.options.chunkSize,r=this.options.dictionary,o,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?QMe:ZMe,RY.call(e)==="[object ArrayBuffer]"?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),o=Jf.inflate(i,s),o===QO&&r&&(o=Jf.inflateSetDictionary(i,r),o===f1?o=Jf.inflate(i,s):o===Xq&&(o=QO));i.avail_in>0&&o===ZO&&i.state.wrap>0&&e[i.next_in]!==0;)Jf.inflateReset(i),o=Jf.inflate(i,s);switch(o){case JMe:case Xq:case QO:case eEe:return this.onEnd(o),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(i.avail_out===0||o===ZO))if(this.options.to==="string"){let l=h1.utf8border(i.output,i.next_out),c=i.next_out-l,d=h1.buf2string(i.output,l);i.next_out=c,i.avail_out=n-c,c&&i.output.set(i.output.subarray(l,l+c),0),this.onData(d)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(o===f1&&a===0)){if(o===ZO)return o=Jf.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};v1.prototype.onData=function(e){this.chunks.push(e)};v1.prototype.onEnd=function(e){e===f1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ED.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pL(e,t){let i=new v1(t);if(i.push(e),i.err)throw i.msg||M0[i.err];return i.result}function tEe(e,t){return t=t||{},t.raw=!0,pL(e,t)}var iEe=v1,nEe=pL,rEe=tEe,oEe=pL,sEe=u_,aEe={Inflate:iEe,inflate:nEe,inflateRaw:rEe,ungzip:oEe,constants:sEe},{Deflate:iet,deflate:net,deflateRaw:ret,gzip:oet}=mMe,{Inflate:lEe,inflate:cEe,inflateRaw:set,ungzip:aet}=aEe;var mL=lEe,kY=cEe;var PY=[];for(let e=0;e<256;e++){let t=e;for(let i=0;i<8;i++)t&1?t=3988292384^t>>>1:t=t>>>1;PY[e]=t}var IY=4294967295;function dEe(e,t,i){let n=e;for(let r=0;r<i;r++)n=PY[(n^t[r])&255]^n>>>8;return n}function uEe(e,t){return(dEe(IY,e,t)^IY)>>>0}function gL(e,t,i){let n=e.readUint32(),r=uEe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(r!==n)throw new Error(`CRC mismatch for chunk ${i}. Expected ${n}, found ${r}`)}function TD(e,t,i){for(let n=0;n<i;n++)t[n]=e[n]}function AD(e,t,i,n){let r=0;for(;r<n;r++)t[r]=e[r];for(;r<i;r++)t[r]=e[r]+t[r-n]&255}function RD(e,t,i,n){let r=0;if(i.length===0)for(;r<n;r++)t[r]=e[r];else for(;r<n;r++)t[r]=e[r]+i[r]&255}function kD(e,t,i,n,r){let o=0;if(i.length===0){for(;o<r;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+(t[o-r]>>1)&255}else{for(;o<r;o++)t[o]=e[o]+(i[o]>>1)&255;for(;o<n;o++)t[o]=e[o]+(t[o-r]+i[o]>>1)&255}}function ID(e,t,i,n,r){let o=0;if(i.length===0){for(;o<r;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+t[o-r]&255}else{for(;o<r;o++)t[o]=e[o]+i[o]&255;for(;o<n;o++)t[o]=e[o]+hEe(t[o-r],i[o],i[o-r])&255}}function hEe(e,t,i){let n=e+t-i,r=Math.abs(n-e),o=Math.abs(n-t),s=Math.abs(n-i);return r<=o&&r<=s?e:o<=s?t:i}function FY(e,t,i,n,r,o){switch(e){case 0:TD(t,i,r);break;case 1:AD(t,i,r,o);break;case 2:RD(t,i,n,r);break;case 3:kD(t,i,n,r,o);break;case 4:ID(t,i,n,r,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}var fEe=new Uint16Array([255]),pEe=new Uint8Array(fEe.buffer),mEe=pEe[0]===255;function OY(e){let{data:t,width:i,height:n,channels:r,depth:o}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*r,l=new Uint8Array(n*i*a),c=0;for(let d=0;d<7;d++){let u=s[d],h=Math.ceil((i-u.x)/u.xStep),f=Math.ceil((n-u.y)/u.yStep);if(h<=0||f<=0)continue;let p=h*a,v=new Uint8Array(p);for(let m=0;m<f;m++){let g=t[c++],b=t.subarray(c,c+p);c+=p;let w=new Uint8Array(p);FY(g,b,w,v,p,a),v.set(w);for(let x=0;x<h;x++){let R=u.x+x*u.xStep,_=u.y+m*u.yStep;if(!(R>=i||_>=n))for(let L=0;L<a;L++)l[(_*i+R)*a+L]=w[x*a+L]}}}if(o===16){let d=new Uint16Array(l.buffer);if(mEe)for(let u=0;u<d.length;u++)d[u]=gEe(d[u]);return d}else return l}function gEe(e){return(e&255)<<8|e>>8&255}var vEe=new Uint16Array([255]),bEe=new Uint8Array(vEe.buffer),_Ee=bEe[0]===255,yEe=new Uint8Array(0);function vL(e){let{data:t,width:i,height:n,channels:r,depth:o}=e,s=Math.ceil(o/8)*r,a=Math.ceil(o/8*r*i),l=new Uint8Array(n*a),c=yEe,d=0,u,h;for(let f=0;f<n;f++){switch(u=t.subarray(d+1,d+1+a),h=l.subarray(f*a,(f+1)*a),t[d]){case 0:TD(u,h,a);break;case 1:AD(u,h,a,s);break;case 2:RD(u,h,c,a);break;case 3:kD(u,h,c,a,s);break;case 4:ID(u,h,c,a,s);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=h,d+=a+1}if(o===16){let f=new Uint16Array(l.buffer);if(_Ee)for(let p=0;p<f.length;p++)f[p]=wEe(f[p]);return f}else return l}function wEe(e){return(e&255)<<8|e>>8&255}var PD=Uint8Array.of(137,80,78,71,13,10,26,10);function bL(e){if(!LY(e.readBytes(PD.length)))throw new Error("wrong PNG signature")}function LY(e){if(e.length<PD.length)return!1;for(let t=0;t<PD.length;t++)if(e[t]!==PD[t])return!1;return!0}var NY="tEXt",xEe=0,BY=new TextDecoder("latin1");function SEe(e){if(EEe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}var MEe=/^[\u0000-\u00FF]*$/;function EEe(e){if(!MEe.test(e))throw new Error("invalid latin1 text")}function VY(e,t,i){let n=_L(t);e[n]=DEe(t,i-n.length-1)}function _L(e){for(e.mark();e.readByte()!==xEe;);let t=e.offset;e.reset();let i=BY.decode(e.readBytes(t-e.offset-1));return e.skip(1),SEe(i),i}function DEe(e,t){return BY.decode(e.readBytes(t))}var cc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},b1={UNKNOWN:-1,DEFLATE:0},FD={UNKNOWN:-1,ADAPTIVE:0},_1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},y1={NONE:0,BACKGROUND:1,PREVIOUS:2},OD={SOURCE:0,OVER:1};var LD=class extends JC{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,i={}){super(t);let{checkCrc:n=!1}=i;this._checkCrc=n,this._inflator=new mL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=b1.UNKNOWN,this._filterMethod=FD.UNKNOWN,this._interlaceMethod=_1.UNKNOWN,this._colorType=cc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(bL(this);!this._end;){let t=this.readUint32(),i=this.readChars(4);this.decodeChunk(t,i)}return this.decodeImage(),this._png}decodeApng(){for(bL(this);!this._end;){let t=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(t,i)}return this.decodeApngImage(),this._apng}decodeChunk(t,i){let n=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case NY:VY(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?gL(this,t+4,i):this.skip(4)}decodeApngChunk(t,i){let n=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,i),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?gL(this,t+4,i):this.skip(4)}decodeIHDR(){let t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=TEe(this.readUint8());let i=this.readUint8();this._colorType=i;let n;switch(i){case cc.GREYSCALE:n=1;break;case cc.TRUECOLOUR:n=3;break;case cc.INDEXED_COLOUR:n=1;break;case cc.GREYSCALE_ALPHA:n=2;break;case cc.TRUECOLOUR_ALPHA:n=4;break;case cc.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==b1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);let i=t/3;this._hasPalette=!0;let n=[];this._palette=n;for(let r=0;r<i;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;let i=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let i=t,n=this.offset+this.byteOffset;if(n+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,n,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case cc.GREYSCALE:case cc.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let i=0;i<t/2;i++)this._transparency[i]=this.readUint16();break}case cc.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let i=0;for(;i<t;i++){let n=this.readByte();this._palette[i].push(n)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case cc.UNKNOWN:case cc.GREYSCALE_ALPHA:case cc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let i=_L(this),n=this.readUint8();if(n!==b1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);let r=this.readBytes(t-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:kY(r)}}decodepHYs(){let t=this.readUint32(),i=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:i,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){let i={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=vL({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)i.data=n.data;else{let r=this._apng.frames.at(t-1);this.disposeFrame(n,r,i),this.addFrameDataToCanvas(i,n)}this._apng.frames.push(i)}}return this._apng}disposeFrame(t,i,n){switch(t.disposeOp){case y1.NONE:break;case y1.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){let s=(r*t.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)n.data[s+a]=0}break;case y1.PREVIOUS:n.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,i){let n=1<<this._png.depth,r=(o,s)=>{let a=((o+i.yOffset)*this._png.width+i.xOffset+s)*this._png.channels,l=(o*i.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(i.blendOp){case OD.SOURCE:for(let o=0;o<i.height;o++)for(let s=0;s<i.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++)t.data[a+c]=i.data[l+c]}break;case OD.OVER:for(let o=0;o<i.height;o++)for(let s=0;s<i.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++){let d=i.data[l+this._png.channels-1]/n,u=c%(this._png.channels-1)===0?1:i.data[l+c],h=Math.floor(d*u+(1-d)*t.data[a+c]);t.data[a+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==FD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_1.NO_INTERLACE)this._png.data=vL({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_1.ADAM7)this._png.data=OY({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let t=this._inflator.result,i=this._frames.at(-1);i?i.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y1.NONE,blendOp:OD.SOURCE,data:t}),this._inflator=new mL,this._writingDataChunks=!1}};function TEe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}function zY(e,t){return new LD(e,t).decode()}var qn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yL(){qn.console&&typeof qn.console.log=="function"&&qn.console.log.apply(qn.console,arguments)}var zo={log:yL,warn:function(e){qn.console&&(typeof qn.console.warn=="function"?qn.console.warn.apply(qn.console,arguments):yL.call(null,arguments))},error:function(e){qn.console&&(typeof qn.console.error=="function"?qn.console.error.apply(qn.console,arguments):yL(e))}};function wL(e,t,i){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){A0(n.response,t,i)},n.onerror=function(){zo.error("could not download file")},n.send()}function HY(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ND(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var A0=qn.saveAs||((typeof window>"u"?"undefined":Co(window))!=="object"||window!==qn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,i){var n=qn.URL||qn.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?HY(r.href)?wL(e,t,i):ND(r,r.target="_blank"):ND(r)):(r.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){ND(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,i){if(t=t||e.name||"download",typeof e=="string")if(HY(e))wL(e,t,i);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ND(n)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:Co(o)!=="object"&&(zo.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,i),t)}:function(e,t,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return wL(e,t,i);var r=e.type==="application/octet-stream",o=/constructor/i.test(qn.HTMLElement)||qn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&(typeof FileReader>"u"?"undefined":Co(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},a.readAsDataURL(e)}else{var l=qn.URL||qn.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function u$(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<i.length;n++){var r=i[n].re,o=i[n].process,s=r.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var HD=qn.atob.bind(qn),UY=qn.btoa.bind(qn);function CL(e,t){var i=e[0],n=e[1],r=e[2],o=e[3];i=Ol(i,n,r,o,t[0],7,-680876936),o=Ol(o,i,n,r,t[1],12,-389564586),r=Ol(r,o,i,n,t[2],17,606105819),n=Ol(n,r,o,i,t[3],22,-1044525330),i=Ol(i,n,r,o,t[4],7,-176418897),o=Ol(o,i,n,r,t[5],12,1200080426),r=Ol(r,o,i,n,t[6],17,-1473231341),n=Ol(n,r,o,i,t[7],22,-45705983),i=Ol(i,n,r,o,t[8],7,1770035416),o=Ol(o,i,n,r,t[9],12,-1958414417),r=Ol(r,o,i,n,t[10],17,-42063),n=Ol(n,r,o,i,t[11],22,-1990404162),i=Ol(i,n,r,o,t[12],7,1804603682),o=Ol(o,i,n,r,t[13],12,-40341101),r=Ol(r,o,i,n,t[14],17,-1502002290),i=Ll(i,n=Ol(n,r,o,i,t[15],22,1236535329),r,o,t[1],5,-165796510),o=Ll(o,i,n,r,t[6],9,-1069501632),r=Ll(r,o,i,n,t[11],14,643717713),n=Ll(n,r,o,i,t[0],20,-373897302),i=Ll(i,n,r,o,t[5],5,-701558691),o=Ll(o,i,n,r,t[10],9,38016083),r=Ll(r,o,i,n,t[15],14,-660478335),n=Ll(n,r,o,i,t[4],20,-405537848),i=Ll(i,n,r,o,t[9],5,568446438),o=Ll(o,i,n,r,t[14],9,-1019803690),r=Ll(r,o,i,n,t[3],14,-187363961),n=Ll(n,r,o,i,t[8],20,1163531501),i=Ll(i,n,r,o,t[13],5,-1444681467),o=Ll(o,i,n,r,t[2],9,-51403784),r=Ll(r,o,i,n,t[7],14,1735328473),i=Nl(i,n=Ll(n,r,o,i,t[12],20,-1926607734),r,o,t[5],4,-378558),o=Nl(o,i,n,r,t[8],11,-2022574463),r=Nl(r,o,i,n,t[11],16,1839030562),n=Nl(n,r,o,i,t[14],23,-35309556),i=Nl(i,n,r,o,t[1],4,-1530992060),o=Nl(o,i,n,r,t[4],11,1272893353),r=Nl(r,o,i,n,t[7],16,-155497632),n=Nl(n,r,o,i,t[10],23,-1094730640),i=Nl(i,n,r,o,t[13],4,681279174),o=Nl(o,i,n,r,t[0],11,-358537222),r=Nl(r,o,i,n,t[3],16,-722521979),n=Nl(n,r,o,i,t[6],23,76029189),i=Nl(i,n,r,o,t[9],4,-640364487),o=Nl(o,i,n,r,t[12],11,-421815835),r=Nl(r,o,i,n,t[15],16,530742520),i=Bl(i,n=Nl(n,r,o,i,t[2],23,-995338651),r,o,t[0],6,-198630844),o=Bl(o,i,n,r,t[7],10,1126891415),r=Bl(r,o,i,n,t[14],15,-1416354905),n=Bl(n,r,o,i,t[5],21,-57434055),i=Bl(i,n,r,o,t[12],6,1700485571),o=Bl(o,i,n,r,t[3],10,-1894986606),r=Bl(r,o,i,n,t[10],15,-1051523),n=Bl(n,r,o,i,t[1],21,-2054922799),i=Bl(i,n,r,o,t[8],6,1873313359),o=Bl(o,i,n,r,t[15],10,-30611744),r=Bl(r,o,i,n,t[6],15,-1560198380),n=Bl(n,r,o,i,t[13],21,1309151649),i=Bl(i,n,r,o,t[4],6,-145523070),o=Bl(o,i,n,r,t[11],10,-1120210379),r=Bl(r,o,i,n,t[2],15,718787259),n=Bl(n,r,o,i,t[9],21,-343485551),e[0]=Hm(i,e[0]),e[1]=Hm(n,e[1]),e[2]=Hm(r,e[2]),e[3]=Hm(o,e[3])}function $D(e,t,i,n,r,o){return t=Hm(Hm(t,e),Hm(n,o)),Hm(t<<r|t>>>32-r,i)}function Ol(e,t,i,n,r,o,s){return $D(t&i|~t&n,e,t,r,o,s)}function Ll(e,t,i,n,r,o,s){return $D(t&n|i&~n,e,t,r,o,s)}function Nl(e,t,i,n,r,o,s){return $D(t^i^n,e,t,r,o,s)}function Bl(e,t,i,n,r,o,s){return $D(i^(t|~n),e,t,r,o,s)}function h$(e){var t,i=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)CL(n,AEe(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(CL(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*i,CL(n,r),n}function AEe(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}var GY="0123456789abcdef".split("");function REe(e){for(var t="",i=0;i<4;i++)t+=GY[e>>8*i+4&15]+GY[e>>8*i&15];return t}function kEe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function TL(e){return h$(e).map(kEe).join("")}var IEe=function(e){for(var t=0;t<e.length;t++)e[t]=REe(e[t]);return e.join("")}(h$("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hm(e,t){if(IEe){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}return e+t&4294967295}function AL(e,t){var i,n,r,o;if(e!==i){for(var s=(r=e,o=1+(256/e.length|0),new Array(o+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}i=e,n=a}else a=n;var u=t.length,h=0,f=0,p="";for(l=0;l<u;l++)f=(f+(d=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=d,s=a[(a[h]+a[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^s);return p}var WY={print:4,modify:8,copy:16,"annot-forms":32};function g_(e,t,i,n){this.v=1,this.r=2;var r=192;e.forEach(function(a){if(WY.perm!==void 0)throw new Error("Invalid permission: "+a);r+=WY[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(t+this.padding).substr(0,32),s=(i+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=TL(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=AL(this.encryptionKey,this.padding)}function v_(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",i=e.length,n=0;n<i;n++){var r=e.charCodeAt(n);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[n]}return t}function jY(e){if(Co(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(i,n,r){if(r=r||!1,typeof i!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(i)||(t[i]={});var o=Math.random().toString(35);return t[i][o]=[n,!!r],o},this.unsubscribe=function(i){for(var n in t)if(t[n][i])return delete t[n][i],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(i){if(t.hasOwnProperty(i)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var o in t[i]){var s=t[i][o];try{s[0].apply(e,n)}catch(a){qn.console&&zo.error("jsPDF PubSub Error",a.message,a)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qD(e){if(!(this instanceof qD))return new qD(e);var t="opacity,stroke-opacity".split(",");for(var i in e)e.hasOwnProperty(i)&&t.indexOf(i)>=0&&(this[i]=e[i]);this.id="",this.objectNumber=-1}function f$(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function R0(e,t,i,n,r){if(!(this instanceof R0))return new R0(e,t,i,n,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=i,f$.call(this,n,r)}function b_(e,t,i,n,r){if(!(this instanceof b_))return new b_(e,t,i,n,r);this.boundingBox=e,this.xStep=t,this.yStep=i,this.stream="",this.cloneIndex=0,f$.call(this,n,r)}function xn(e){var t,i=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;Co(e=e||{})==="object"&&(i=e.orientation,n=e.unit||n,r=e.format||r,o=e.compress||e.compressPdf||o,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(o===!0?["FlateEncode"]:s),n=n||"mm",i=(""+(i||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=jY;var p="1.3",v=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(S){p=S};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var g=f.__private__.getPageFormat=function(S){return m[S]};r=r||"a4";var b="compat",w="advanced",x=b;function R(){this.saveGraphicsState(),ge(new jt(Ye,0,0,-Ye,0,z()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),c="n",x=w}function _(){this.restoreGraphicsState(),c="S",x=b}var L=f.__private__.combineFontStyleAndFontWeight=function(S,I){if(S=="bold"&&I=="normal"||S=="bold"&&I==400||S=="normal"&&I=="italic"||S=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(S=I==400||I==="normal"?S==="italic"?"italic":"normal":I!=700&&I!=="bold"||S!=="normal"?(I==700?"bold":I)+""+S:"bold"),S};f.advancedAPI=function(S){var I=x===b;return I&&R.call(this),typeof S!="function"||(S(this),I&&_.call(this)),this},f.compatAPI=function(S){var I=x===w;return I&&_.call(this),typeof S!="function"||(S(this),I&&R.call(this)),this},f.isAdvancedAPI=function(){return x===w};var F,T=function(S){if(x!==w)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=f.roundToPrecision=f.__private__.roundToPrecision=function(S,I){var Y=t||I;if(isNaN(S)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(Y).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return P(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return P(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return P(S,16)};var A=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return P(S,2)},O=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return P(S,3)},V=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return x===b?S*Ye:x===w?S:void 0},U=function(S){return V(function(I){return x===b?z()-I:x===w?I:void 0}(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var ae,ne="00000000000000000000000000000000",ue=f.__private__.getFileId=function(){return ne},se=f.__private__.setFileId=function(S){return ne=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Kn=new g_(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};f.setFileId=function(S){return se(S),this},f.getFileId=function(){return ue()};var _e=f.__private__.convertDateToPDFDate=function(S){var I=S.getTimezoneOffset(),Y=I<0?"+":"-",te=Math.floor(Math.abs(I/60)),we=Math.abs(I%60),qe=[Y,ee(te),"'",ee(we),"'"].join("");return["D:",S.getFullYear(),ee(S.getMonth()+1),ee(S.getDate()),ee(S.getHours()),ee(S.getMinutes()),ee(S.getSeconds()),qe].join("")},Ve=f.__private__.convertPDFDateToDate=function(S){var I=parseInt(S.substr(2,4),10),Y=parseInt(S.substr(6,2),10)-1,te=parseInt(S.substr(8,2),10),we=parseInt(S.substr(10,2),10),qe=parseInt(S.substr(12,2),10),Ke=parseInt(S.substr(14,2),10);return new Date(I,Y,te,we,qe,Ke,0)},Ge=f.__private__.setCreationDate=function(S){var I;if(S===void 0&&(S=new Date),S instanceof Date)I=_e(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=S}return ae=I},K=f.__private__.getCreationDate=function(S){var I=ae;return S==="jsDate"&&(I=Ve(ae)),I};f.setCreationDate=function(S){return Ge(S),this},f.getCreationDate=function(S){return K(S)};var Q,ee=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Z=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},G=0,W=[],ce=[],me=0,Me=[],He=[],$e=!1,Je=ce;f.__private__.setCustomOutputDestination=function(S){$e=!0,Je=S};var ve=function(S){$e||(Je=S)};f.__private__.resetCustomOutputDestination=function(){$e=!1,Je=ce};var ge=f.__private__.out=function(S){return S=S.toString(),me+=S.length+1,Je.push(S),Je},pt=f.__private__.write=function(S){return ge(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},vt=f.__private__.getArrayBuffer=function(S){for(var I=S.length,Y=new ArrayBuffer(I),te=new Uint8Array(Y);I--;)te[I]=S.charCodeAt(I);return Y},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pt};var ft=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return ft=x===w?S/Ye:S,this};var kt,be=f.__private__.getFontSize=f.getFontSize=function(){return x===b?ft:ft*Ye},oe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return oe=S,this},f.__private__.getR2L=f.getR2L=function(){return oe};var re,J=f.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))kt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');kt=S}else kt=parseInt(S,10)};f.__private__.getZoomMode=function(){return kt};var pe,Ee=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');re=S};f.__private__.getPageMode=function(){return re};var ke=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');pe=S};f.__private__.getLayoutMode=function(){return pe},f.__private__.setDisplayMode=f.setDisplayMode=function(S,I,Y){return J(S),ke(I),Ee(Y),this};var Le={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Le).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Le[S]},f.__private__.getDocumentProperties=function(){return Le},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var I in Le)Le.hasOwnProperty(I)&&S[I]&&(Le[I]=S[I]);return this},f.__private__.setDocumentProperty=function(S,I){if(Object.keys(Le).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Le[S]=I};var Ne,Ye,Be,ct,gt,Tt={},Ft={},wi=[],Vt={},li={},Ue={},yt={},dt=null,ht=0,nt=[],It=new jY(f),Ei=e.hotfixes||[],Yi={},Li={},At=[],jt=function S(I,Y,te,we,qe,Ke){if(!(this instanceof S))return new S(I,Y,te,we,qe,Ke);isNaN(I)&&(I=1),isNaN(Y)&&(Y=0),isNaN(te)&&(te=0),isNaN(we)&&(we=1),isNaN(qe)&&(qe=0),isNaN(Ke)&&(Ke=0),this._matrix=[I,Y,te,we,qe,Ke]};Object.defineProperty(jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),jt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(S)},jt.prototype.multiply=function(S){var I=S.sx*this.sx+S.shy*this.shx,Y=S.sx*this.shy+S.shy*this.sy,te=S.shx*this.sx+S.sy*this.shx,we=S.shx*this.shy+S.sy*this.sy,qe=S.tx*this.sx+S.ty*this.shx+this.tx,Ke=S.tx*this.shy+S.ty*this.sy+this.ty;return new jt(I,Y,te,we,qe,Ke)},jt.prototype.decompose=function(){var S=this.sx,I=this.shy,Y=this.shx,te=this.sy,we=this.tx,qe=this.ty,Ke=Math.sqrt(S*S+I*I),tt=(S/=Ke)*Y+(I/=Ke)*te;Y-=S*tt,te-=I*tt;var wt=Math.sqrt(Y*Y+te*te);return tt/=wt,S*(te/=wt)<I*(Y/=wt)&&(S=-S,I=-I,tt=-tt,Ke=-Ke),{scale:new jt(Ke,0,0,wt,0,0),translate:new jt(1,0,0,1,we,qe),rotate:new jt(S,I,-I,S,0,0),skew:new jt(1,0,tt,1,0,0)}},jt.prototype.toString=function(S){return this.join(" ")},jt.prototype.inversed=function(){var S=this.sx,I=this.shy,Y=this.shx,te=this.sy,we=this.tx,qe=this.ty,Ke=1/(S*te-I*Y),tt=te*Ke,wt=-I*Ke,mi=-Y*Ke,Oi=S*Ke;return new jt(tt,wt,mi,Oi,-tt*we-mi*qe,-wt*we-Oi*qe)},jt.prototype.applyToPoint=function(S){var I=S.x*this.sx+S.y*this.shx+this.tx,Y=S.x*this.shy+S.y*this.sy+this.ty;return new $c(I,Y)},jt.prototype.applyToRectangle=function(S){var I=this.applyToPoint(S),Y=this.applyToPoint(new $c(S.x+S.w,S.y+S.h));return new mf(I.x,I.y,Y.x-I.x,Y.y-I.y)},jt.prototype.clone=function(){var S=this.sx,I=this.shy,Y=this.shx,te=this.sy,we=this.tx,qe=this.ty;return new jt(S,I,Y,te,we,qe)},f.Matrix=jt;var Qt=f.matrixMult=function(S,I){return I.multiply(S)},Di=new jt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Di;var Vi=function(S,I){if(!li[S]){var Y=(I instanceof R0?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);I.id=Y,li[S]=Y,Vt[Y]=I,It.publish("addPattern",I)}};f.ShadingPattern=R0,f.TilingPattern=b_,f.addShadingPattern=function(S,I){return T("addShadingPattern()"),Vi(S,I),this},f.beginTilingPattern=function(S){T("beginTilingPattern()"),bu(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,I){T("endTilingPattern()"),I.stream=He[Q].join(`
`),Vi(S,I),It.publish("endTilingPattern",I),At.pop().restore()};var Dn,Tn=f.__private__.newObject=function(){var S=rr();return _r(S,!0),S},rr=f.__private__.newObjectDeferred=function(){return G++,W[G]=function(){return me},G},_r=function(S,I){return I=typeof I=="boolean"&&I,W[S]=me,I&&ge(S+" 0 obj"),S},Lr=f.__private__.newAdditionalObject=function(){var S={objId:rr(),content:""};return Me.push(S),S},Mo=rr(),_o=rr(),Yo=f.__private__.decodeColorString=function(S){var I=S.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length!==5||I[4]!=="k"&&I[4]!=="K"||(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var Y=parseFloat(I[0]);I=[Y,Y,Y,"r"]}for(var te="#",we=0;we<3;we++)te+=("0"+Math.floor(255*parseFloat(I[we])).toString(16)).slice(-2);return te},ta=f.__private__.encodeColorString=function(S){var I;typeof S=="string"&&(S={ch1:S});var Y=S.ch1,te=S.ch2,we=S.ch3,qe=S.ch4,Ke=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var tt=new u$(Y);if(tt.ok)Y=tt.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var wt=parseInt(Y.substr(1),16);Y=wt>>16&255,te=wt>>8&255,we=255&wt}if(te===void 0||qe===void 0&&Y===te&&te===we)I=typeof Y=="string"?Y+" "+Ke[0]:S.precision===2?A(Y/255)+" "+Ke[0]:O(Y/255)+" "+Ke[0];else if(qe===void 0||Co(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Ke[1]].join(" ");I=typeof Y=="string"?[Y,te,we,Ke[1]].join(" "):S.precision===2?[A(Y/255),A(te/255),A(we/255),Ke[1]].join(" "):[O(Y/255),O(te/255),O(we/255),Ke[1]].join(" ")}else I=typeof Y=="string"?[Y,te,we,qe,Ke[2]].join(" "):S.precision===2?[A(Y),A(te),A(we),A(qe),Ke[2]].join(" "):[O(Y),O(te),O(we),O(qe),Ke[2]].join(" ");return I},us=f.__private__.getFilters=function(){return s},Zo=f.__private__.putStream=function(S){var I=(S=S||{}).data||"",Y=S.filters||us(),te=S.alreadyAppliedFilters||[],we=S.addLength1||!1,qe=I.length,Ke=S.objectId,tt=function(io){return io};if(d!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(tt=Kn.encryptor(Ke,0));var wt={};Y===!0&&(Y=["FlateEncode"]);var mi=S.additionalKeyValues||[],Oi=(wt=xn.API.processDataByFilters!==void 0?xn.API.processDataByFilters(I,Y):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(wt.data.length!==0&&(mi.push({key:"Length",value:wt.data.length}),we===!0&&mi.push({key:"Length1",value:qe})),Oi.length!=0)if(Oi.split("/").length-1==1)mi.push({key:"Filter",value:Oi});else{mi.push({key:"Filter",value:"["+Oi+"]"});for(var zi=0;zi<mi.length;zi+=1)if(mi[zi].key==="DecodeParms"){for(var cr=[],dr=0;dr<wt.reverseChain.split("/").length-1;dr+=1)cr.push("null");cr.push(mi[zi].value),mi[zi].value="["+cr.join(" ")+"]"}}ge("<<");for(var Er=0;Er<mi.length;Er++)ge("/"+mi[Er].key+" "+mi[Er].value);ge(">>"),wt.data.length!==0&&(ge("stream"),ge(tt(wt.data)),ge("endstream"))},Oa=f.__private__.putPage=function(S){var I=S.number,Y=S.data,te=S.objId,we=S.contentsObjId;_r(te,!0),ge("<</Type /Page"),ge("/Parent "+S.rootDictionaryObjId+" 0 R"),ge("/Resources "+S.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(F(S.mediaBox.bottomLeftX))+" "+parseFloat(F(S.mediaBox.bottomLeftY))+" "+F(S.mediaBox.topRightX)+" "+F(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ge("/CropBox ["+F(S.cropBox.bottomLeftX)+" "+F(S.cropBox.bottomLeftY)+" "+F(S.cropBox.topRightX)+" "+F(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ge("/BleedBox ["+F(S.bleedBox.bottomLeftX)+" "+F(S.bleedBox.bottomLeftY)+" "+F(S.bleedBox.topRightX)+" "+F(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ge("/TrimBox ["+F(S.trimBox.bottomLeftX)+" "+F(S.trimBox.bottomLeftY)+" "+F(S.trimBox.topRightX)+" "+F(S.trimBox.topRightY)+"]"),S.artBox!==null&&ge("/ArtBox ["+F(S.artBox.bottomLeftX)+" "+F(S.artBox.bottomLeftY)+" "+F(S.artBox.topRightX)+" "+F(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ge("/UserUnit "+S.userUnit),It.publish("putPage",{objId:te,pageContext:nt[I],pageNumber:I,page:Y}),ge("/Contents "+we+" 0 R"),ge(">>"),ge("endobj");var qe=Y.join(`
`);return x===w&&(qe+=`
Q`),_r(we,!0),Zo({data:qe,filters:us(),objectId:we}),ge("endobj"),te},ia=f.__private__.putPages=function(){var S,I,Y=[];for(S=1;S<=ht;S++)nt[S].objId=rr(),nt[S].contentsObjId=rr();for(S=1;S<=ht;S++)Y.push(Oa({number:S,data:He[S],objId:nt[S].objId,contentsObjId:nt[S].contentsObjId,mediaBox:nt[S].mediaBox,cropBox:nt[S].cropBox,bleedBox:nt[S].bleedBox,trimBox:nt[S].trimBox,artBox:nt[S].artBox,userUnit:nt[S].userUnit,rootDictionaryObjId:Mo,resourceDictionaryObjId:_o}));_r(Mo,!0),ge("<</Type /Pages");var te="/Kids [";for(I=0;I<ht;I++)te+=Y[I]+" 0 R ";ge(te+"]"),ge("/Count "+ht),ge(">>"),ge("endobj"),It.publish("postPutPages")},Ds=function(S){It.publish("putFont",{font:S,out:ge,newObject:Tn,putStream:Zo}),S.isAlreadyPutted!==!0&&(S.objectNumber=Tn(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+v_(S.postScriptName)),ge("/Subtype /Type1"),typeof S.encoding=="string"&&ge("/Encoding /"+S.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},ya=function(S){S.objectNumber=Tn();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[F(S.x),F(S.y),F(S.x+S.width),F(S.y+S.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var Y=S.pages[1].join(`
`);Zo({data:Y,additionalKeyValues:I,objectId:S.objectNumber}),ge("endobj")},Te=function(S,I){I||(I=21);var Y=Tn(),te=function(Ke,tt){var wt,mi=[],Oi=1/(tt-1);for(wt=0;wt<1;wt+=Oi)mi.push(wt);if(mi.push(1),Ke[0].offset!=0){var zi={offset:0,color:Ke[0].color};Ke.unshift(zi)}if(Ke[Ke.length-1].offset!=1){var cr={offset:1,color:Ke[Ke.length-1].color};Ke.push(cr)}for(var dr="",Er=0,io=0;io<mi.length;io++){for(wt=mi[io];wt>Ke[Er+1].offset;)Er++;var Cn=Ke[Er].offset,Oo=(wt-Cn)/(Ke[Er+1].offset-Cn),er=Ke[Er].color,Vr=Ke[Er+1].color;dr+=Z(Math.round((1-Oo)*er[0]+Oo*Vr[0]).toString(16))+Z(Math.round((1-Oo)*er[1]+Oo*Vr[1]).toString(16))+Z(Math.round((1-Oo)*er[2]+Oo*Vr[2]).toString(16))}return dr.trim()}(S.colors,I),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+I+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zo({data:te,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),ge("endobj"),S.objectNumber=Tn(),ge("<< /ShadingType "+S.type),ge("/ColorSpace /DeviceRGB");var qe="/Coords ["+F(parseFloat(S.coords[0]))+" "+F(parseFloat(S.coords[1]))+" ";S.type===2?qe+=F(parseFloat(S.coords[2]))+" "+F(parseFloat(S.coords[3])):qe+=F(parseFloat(S.coords[2]))+" "+F(parseFloat(S.coords[3]))+" "+F(parseFloat(S.coords[4]))+" "+F(parseFloat(S.coords[5])),ge(qe+="]"),S.matrix&&ge("/Matrix ["+S.matrix.toString()+"]"),ge("/Function "+Y+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},st=function(S,I){var Y=rr(),te=Tn();I.push({resourcesOid:Y,objectOid:te}),S.objectNumber=te;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+S.boundingBox.map(F).join(" ")+"]"}),we.push({key:"XStep",value:F(S.xStep)}),we.push({key:"YStep",value:F(S.yStep)}),we.push({key:"Resources",value:Y+" 0 R"}),S.matrix&&we.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Zo({data:S.stream,additionalKeyValues:we,objectId:S.objectNumber}),ge("endobj")},xt=function(S){for(var I in S.objectNumber=Tn(),ge("<<"),S)switch(I){case"opacity":ge("/ca "+A(S[I]));break;case"stroke-opacity":ge("/CA "+A(S[I]))}ge(">>"),ge("endobj")},Mt=function(S){_r(S.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var I in ge("/Font <<"),Tt)Tt.hasOwnProperty(I)&&(u===!1||u===!0&&h.hasOwnProperty(I))&&ge("/"+I+" "+Tt[I].objectNumber+" 0 R");ge(">>")}(),function(){if(Object.keys(Vt).length>0){for(var I in ge("/Shading <<"),Vt)Vt.hasOwnProperty(I)&&Vt[I]instanceof R0&&Vt[I].objectNumber>=0&&ge("/"+I+" "+Vt[I].objectNumber+" 0 R");It.publish("putShadingPatternDict"),ge(">>")}}(),function(I){if(Object.keys(Vt).length>0){for(var Y in ge("/Pattern <<"),Vt)Vt.hasOwnProperty(Y)&&Vt[Y]instanceof f.TilingPattern&&Vt[Y].objectNumber>=0&&Vt[Y].objectNumber<I&&ge("/"+Y+" "+Vt[Y].objectNumber+" 0 R");It.publish("putTilingPatternDict"),ge(">>")}}(S.objectOid),function(){if(Object.keys(Ue).length>0){var I;for(I in ge("/ExtGState <<"),Ue)Ue.hasOwnProperty(I)&&Ue[I].objectNumber>=0&&ge("/"+I+" "+Ue[I].objectNumber+" 0 R");It.publish("putGStateDict"),ge(">>")}}(),function(){for(var I in ge("/XObject <<"),Yi)Yi.hasOwnProperty(I)&&Yi[I].objectNumber>=0&&ge("/"+I+" "+Yi[I].objectNumber+" 0 R");It.publish("putXobjectDict"),ge(">>")}(),ge(">>"),ge("endobj")},ot=function(S){Ft[S.fontName]=Ft[S.fontName]||{},Ft[S.fontName][S.fontStyle]=S.id},ci=function(S,I,Y,te,we){var qe={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:S,fontName:I,fontStyle:Y,encoding:te,isStandardFont:we||!1,metadata:{}};return It.publish("addFont",{font:qe,instance:this}),Tt[qe.id]=qe,ot(qe),qe.id},_i=f.__private__.pdfEscape=f.pdfEscape=function(S,I){return function(Y,te){var we,qe,Ke,tt,wt,mi,Oi,zi,cr;if(Ke=(te=te||{}).sourceEncoding||"Unicode",wt=te.outputEncoding,(te.autoencode||wt)&&Tt[Ne].metadata&&Tt[Ne].metadata[Ke]&&Tt[Ne].metadata[Ke].encoding&&(tt=Tt[Ne].metadata[Ke].encoding,!wt&&Tt[Ne].encoding&&(wt=Tt[Ne].encoding),!wt&&tt.codePages&&(wt=tt.codePages[0]),typeof wt=="string"&&(wt=tt[wt]),wt)){for(Oi=!1,mi=[],we=0,qe=Y.length;we<qe;we++)(zi=wt[Y.charCodeAt(we)])?mi.push(String.fromCharCode(zi)):mi.push(Y[we]),mi[we].charCodeAt(0)>>8&&(Oi=!0);Y=mi.join("")}for(we=Y.length;Oi===void 0&&we!==0;)Y.charCodeAt(we-1)>>8&&(Oi=!0),we--;if(!Oi)return Y;for(mi=te.noBOM?[]:[254,255],we=0,qe=Y.length;we<qe;we++){if((cr=(zi=Y.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+Y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mi.push(cr),mi.push(zi-(cr<<8))}return String.fromCharCode.apply(void 0,mi)}(S,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fi=f.__private__.beginPage=function(S){He[++ht]=[],nt[ht]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},wn(ht),ve(He[Q])},Gi=function(S,I){var Y,te,we;switch(i=I||i,typeof S=="string"&&(Y=g(S.toLowerCase()),Array.isArray(Y)&&(te=Y[0],we=Y[1])),Array.isArray(S)&&(te=S[0]*Ye,we=S[1]*Ye),isNaN(te)&&(te=r[0],we=r[1]),(te>14400||we>14400)&&(zo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),we=Math.min(14400,we)),r=[te,we],i.substr(0,1)){case"l":we>te&&(r=[we,te]);break;case"p":te>we&&(r=[we,te])}Fi(r),Jt(Ni),ge(yr),Yc!==0&&ge(Yc+" J"),Zl!==0&&ge(Zl+" j"),It.publish("addPage",{pageNumber:ht})},En=function(S){S>0&&S<=ht&&(He.splice(S,1),nt.splice(S,1),ht--,Q>ht&&(Q=ht),this.setPage(Q))},wn=function(S){S>0&&S<=ht&&(Q=S)},dn=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return He.length-1},Ln=function(S,I,Y){var te,we=void 0;return Y=Y||{},S=S!==void 0?S:Tt[Ne].fontName,I=I!==void 0?I:Tt[Ne].fontStyle,te=S.toLowerCase(),Ft[te]!==void 0&&Ft[te][I]!==void 0?we=Ft[te][I]:Ft[S]!==void 0&&Ft[S][I]!==void 0?we=Ft[S][I]:Y.disableWarning===!1&&zo.warn("Unable to look up font label for font '"+S+"', '"+I+"'. Refer to getFontList() for available fonts."),we||Y.noFallback||(we=Ft.times[I])==null&&(we=Ft.times.normal),we},Vn=f.__private__.putInfo=function(){var S=Tn(),I=function(te){return te};for(var Y in d!==null&&(I=Kn.encryptor(S,0)),ge("<<"),ge("/Producer ("+_i(I("jsPDF "+xn.version))+")"),Le)Le.hasOwnProperty(Y)&&Le[Y]&&ge("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+_i(I(Le[Y]))+")");ge("/CreationDate ("+_i(I(ae))+")"),ge(">>"),ge("endobj")},Un=f.__private__.putCatalog=function(S){var I=(S=S||{}).rootDictionaryObjId||Mo;switch(Tn(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+I+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+kt;Y.substr(Y.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+A(kt)+"]")}switch(pe||(pe="continuous"),pe){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}re&&ge("/PageMode /"+re),It.publish("putCatalog"),ge(">>"),ge("endobj")},kr=f.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(G+1)),ge("/Root "+G+" 0 R"),ge("/Info "+(G-1)+" 0 R"),d!==null&&ge("/Encrypt "+Kn.oid+" 0 R"),ge("/ID [ <"+ne+"> <"+ne+"> ]"),ge(">>")},un=f.__private__.putHeader=function(){ge("%PDF-"+p),ge("%\xBA\xDF\xAC\xE0")},gn=f.__private__.putXRef=function(){var S="0000000000";ge("xref"),ge("0 "+(G+1)),ge("0000000000 65535 f ");for(var I=1;I<=G;I++)typeof W[I]=="function"?ge((S+W[I]()).slice(-10)+" 00000 n "):W[I]!==void 0?ge((S+W[I]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Zr=f.__private__.buildDocument=function(){var S;G=0,me=0,ce=[],W=[],Me=[],Mo=rr(),_o=rr(),ve(ce),It.publish("buildDocument"),un(),ia(),function(){It.publish("putAdditionalObjects");for(var Y=0;Y<Me.length;Y++){var te=Me[Y];_r(te.objId,!0),ge(te.content),ge("endobj")}It.publish("postPutAdditionalObjects")}(),S=[],function(){for(var Y in Tt)Tt.hasOwnProperty(Y)&&(u===!1||u===!0&&h.hasOwnProperty(Y))&&Ds(Tt[Y])}(),function(){var Y;for(Y in Ue)Ue.hasOwnProperty(Y)&&xt(Ue[Y])}(),function(){for(var Y in Yi)Yi.hasOwnProperty(Y)&&ya(Yi[Y])}(),function(Y){var te;for(te in Vt)Vt.hasOwnProperty(te)&&(Vt[te]instanceof R0?Te(Vt[te]):Vt[te]instanceof b_&&st(Vt[te],Y))}(S),It.publish("putResources"),S.forEach(Mt),Mt({resourcesOid:_o,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources"),d!==null&&(Kn.oid=Tn(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Kn.v),ge("/R "+Kn.r),ge("/U <"+Kn.toHexString(Kn.U)+">"),ge("/O <"+Kn.toHexString(Kn.O)+">"),ge("/P "+Kn.P),ge(">>"),ge("endobj")),Vn(),Un();var I=me;return gn(),kr(),ge("startxref"),ge(""+I),ge("%%EOF"),ve(He[Q]),ce.join(`
`)},Jn=f.__private__.getBlob=function(S){return new Blob([vt(S)],{type:"application/pdf"})},Qo=f.output=f.__private__.output=(Dn=function(S,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",S){case void 0:return Zr();case"save":f.save(I.filename);break;case"arraybuffer":return vt(Zr());case"blob":return Jn(Zr());case"bloburi":case"bloburl":if(qn.URL!==void 0&&typeof qn.URL.createObjectURL=="function")return qn.URL&&qn.URL.createObjectURL(Jn(Zr()))||void 0;zo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",te=Zr();try{Y=UY(te)}catch{Y=UY(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+I.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qn)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(we=I.pdfObjectUrl,qe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",tt=qn.open();return tt!==null&&tt.document.write(Ke),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qn)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',mi=qn.open();if(mi!==null){mi.document.write(wt);var Oi=this;mi.document.documentElement.querySelector("#pdfViewer").onload=function(){mi.document.title=I.filename,mi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Oi.output("bloburl"))}}return mi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',cr=qn.open();if(cr!==null&&(cr.document.write(zi),cr.document.title=I.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return qn.document.location.href=this.output("datauristring",I);default:return null}},Dn.foo=function(){try{return Dn.apply(this,arguments)}catch(Y){var S=Y.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var I="Error in function "+S.split(`
`)[0].split("<")[0]+": "+Y.message;if(!qn.console)throw new Error(I);qn.console.error(I,Y),qn.alert&&alert(I)}},Dn.foo.bar=Dn,Dn.foo),Xn=function(S){return Array.isArray(Ei)===!0&&Ei.indexOf(S)>-1};switch(n){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=Xn("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ye=n}var Kn=null;Ge(),se();var hs=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[S].objId,pageNumber:S,pageContext:nt[S]}},Nr=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in nt)if(nt[I].objId===S)break;return hs(I)},Br=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:nt[Q].objId,pageNumber:Q,pageContext:nt[Q]}};f.addPage=function(){return Gi.apply(this,arguments),this},f.setPage=function(){return wn.apply(this,arguments),ve.call(this,He[Q]),this},f.insertPage=function(S){return this.addPage(),this.movePage(Q,S),this},f.movePage=function(S,I){var Y,te;if(S>I){Y=He[S],te=nt[S];for(var we=S;we>I;we--)He[we]=He[we-1],nt[we]=nt[we-1];He[I]=Y,nt[I]=te,this.setPage(I)}else if(S<I){Y=He[S],te=nt[S];for(var qe=S;qe<I;qe++)He[qe]=He[qe+1],nt[qe]=nt[qe+1];He[I]=Y,nt[I]=te,this.setPage(I)}return this},f.deletePage=function(){return En.apply(this,arguments),this},f.__private__.text=f.text=function(S,I,Y,te,we){var qe,Ke,tt,wt,mi,Oi,zi,cr,dr,Er=(te=te||{}).scope||this;if(typeof S=="number"&&typeof I=="number"&&(typeof Y=="string"||Array.isArray(Y))){var io=Y;Y=I,I=S,S=io}if(arguments[3]instanceof jt==0?(tt=arguments[4],wt=arguments[5],Co(zi=arguments[3])==="object"&&zi!==null||(typeof tt=="string"&&(wt=tt,tt=null),typeof zi=="string"&&(wt=zi,zi=null),typeof zi=="number"&&(tt=zi,zi=null),te={flags:zi,angle:tt,align:wt})):(T("The transform parameter of text() with a Matrix value"),dr=we),isNaN(I)||isNaN(Y)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Er;var Cn,Oo="",er=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Ht,Vr=Er.internal.scaleFactor;function ol(en){return en=en.split("	").join(Array(te.TabLen||9).join(" ")),_i(en,zi)}function El(en){for(var xi,Wi=en.concat(),_n=[],hn=Wi.length;hn--;)typeof(xi=Wi.shift())=="string"?_n.push(xi):Array.isArray(en)&&(xi.length===1||xi[1]===void 0&&xi[2]===void 0)?_n.push(xi[0]):_n.push([xi[0],xi[1],xi[2]]);return _n}function wa(en,xi){var Wi;if(typeof en=="string")Wi=xi(en)[0];else if(Array.isArray(en)){for(var _n,hn,jr=en.concat(),ps=[],Ts=jr.length;Ts--;)typeof(_n=jr.shift())=="string"?ps.push(xi(_n)[0]):Array.isArray(_n)&&typeof _n[0]=="string"&&(hn=xi(_n[0],_n[1],_n[2]),ps.push([hn[0],hn[1],hn[2]]));Wi=ps}return Wi}var La=!1,ra=!0;if(typeof S=="string")La=!0;else if(Array.isArray(S)){var oa=S.concat();Ke=[];for(var Ca,no=oa.length;no--;)(typeof(Ca=oa.shift())!="string"||Array.isArray(Ca)&&typeof Ca[0]!="string")&&(ra=!1);La=ra}if(La===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Kc=ft/Er.internal.scaleFactor,xa=Kc*(er-1);switch(te.baseline){case"bottom":Y-=xa;break;case"top":Y+=Kc-xa;break;case"hanging":Y+=Kc-2*xa;break;case"middle":Y+=Kc/2-xa}if((Oi=te.maxWidth||0)>0&&(typeof S=="string"?S=Er.splitTextToSize(S,Oi):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(en,xi){return en.concat(Er.splitTextToSize(xi,Oi))},[]))),qe={text:S,x:I,y:Y,options:te,mutex:{pdfEscape:_i,activeFontKey:Ne,fonts:Tt,activeFontSize:ft}},It.publish("preProcessText",qe),S=qe.text,tt=(te=qe.options).angle,dr instanceof jt==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,te.rotationDirection===0&&(tt=-tt),x===w&&(tt=-tt);var Na=Math.cos(tt),gf=Math.sin(tt);dr=new jt(Na,gf,-gf,Na,0,0)}else tt&&tt instanceof jt&&(dr=tt);x!==w||dr||(dr=Di),(mi=te.charSpace||to)!==void 0&&(Oo+=F(V(mi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cr=te.horizontalScale)!==void 0&&(Oo+=F(100*cr)+` Tz
`),te.lang;var sa=-1,zr=te.renderingMode!==void 0?te.renderingMode:te.stroke,Ir=Er.internal.getCurrentPageInfo().pageContext;switch(zr){case 0:case!1:case"fill":sa=0;break;case 1:case!0:case"stroke":sa=1;break;case 2:case"fillThenStroke":sa=2;break;case 3:case"invisible":sa=3;break;case 4:case"fillAndAddForClipping":sa=4;break;case 5:case"strokeAndAddPathForClipping":sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sa=6;break;case 7:case"addToPathForClipping":sa=7}var _u=Ir.usedRenderingMode!==void 0?Ir.usedRenderingMode:-1;sa!==-1?Oo+=sa+` Tr
`:_u!==-1&&(Oo+=`0 Tr
`),sa!==-1&&(Ir.usedRenderingMode=sa),wt=te.align||"left";var Lo,Dl=ft*er,vf=Er.internal.pageSize.getWidth(),bf=Tt[Ne];mi=te.charSpace||to,Oi=te.maxWidth||0,zi=Object.assign({autoencode:!0,noBOM:!0},te.flags);var sl=[],al=function(en){return Er.getStringUnitWidth(en,{font:bf,charSpace:mi,fontSize:ft,doKerning:!1})*ft/Vr};if(Object.prototype.toString.call(S)==="[object Array]"){var Sa;Ke=El(S),wt!=="left"&&(Lo=Ke.map(al));var fs,Tl=0;if(wt==="right"){I-=Lo[0],S=[],no=Ke.length;for(var aa=0;aa<no;aa++)aa===0?(fs=Bi(I),Sa=cn(Y)):(fs=V(Tl-Lo[aa]),Sa=-Dl),S.push([Ke[aa],fs,Sa]),Tl=Lo[aa]}else if(wt==="center"){I-=Lo[0]/2,S=[],no=Ke.length;for(var ll=0;ll<no;ll++)ll===0?(fs=Bi(I),Sa=cn(Y)):(fs=V((Tl-Lo[ll])/2),Sa=-Dl),S.push([Ke[ll],fs,Sa]),Tl=Lo[ll]}else if(wt==="left"){S=[],no=Ke.length;for(var Id=0;Id<no;Id++)S.push(Ke[Id])}else if(wt==="justify"&&bf.encoding==="Identity-H"){S=[],no=Ke.length,Oi=Oi!==0?Oi:vf;for(var Zc=0,Jo=0;Jo<no;Jo++)if(Sa=Jo===0?cn(Y):-Dl,fs=Jo===0?Bi(I):Zc,Jo<no-1){var Qc=V((Oi-Lo[Jo])/(Ke[Jo].split(" ").length-1)),Ba=Ke[Jo].split(" ");S.push([Ba[0]+" ",fs,Sa]),Zc=0;for(var Va=1;Va<Ba.length;Va++){var _f=(al(Ba[Va-1]+" "+Ba[Va])-al(Ba[Va]))*Vr+Qc;Va==Ba.length-1?S.push([Ba[Va],_f,0]):S.push([Ba[Va]+" ",_f,0]),Zc-=_f}}else S.push([Ke[Jo],fs,Sa]);S.push(["",Zc,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],no=Ke.length,Oi=Oi!==0?Oi:vf,Jo=0;Jo<no;Jo++){Sa=Jo===0?cn(Y):-Dl,fs=Jo===0?Bi(I):0;var yu=Ke[Jo].split(" ").length-1,dh=yu>0?(Oi-Lo[Jo])/yu:0;Jo<no-1?sl.push(F(V(dh))):sl.push(0),S.push([Ke[Jo],fs,Sa])}}}(typeof te.R2L=="boolean"?te.R2L:oe)===!0&&(S=wa(S,function(en,xi,Wi){return[en.split("").reverse().join(""),xi,Wi]})),qe={text:S,x:I,y:Y,options:te,mutex:{pdfEscape:_i,activeFontKey:Ne,fonts:Tt,activeFontSize:ft}},It.publish("postProcessText",qe),S=qe.text,Cn=qe.mutex.isHex||!1;var ze=Tt[Ne].encoding;ze!=="WinAnsiEncoding"&&ze!=="StandardEncoding"||(S=wa(S,function(en,xi,Wi){return[ol(en),xi,Wi]})),Ke=El(S),S=[];for(var rt,bt,Et,Ut=Array.isArray(Ke[0])?1:0,vi="",Ii=function(en,xi,Wi){var _n="";return Wi instanceof jt?(Wi=typeof te.angle=="number"?Qt(Wi,new jt(1,0,0,1,en,xi)):Qt(new jt(1,0,0,1,en,xi),Wi),x===w&&(Wi=Qt(new jt(1,0,0,-1,0,0),Wi)),_n=Wi.join(" ")+` Tm
`):_n=F(en)+" "+F(xi)+` Td
`,_n},Hi=0;Hi<Ke.length;Hi++){switch(vi="",Ut){case 1:Et=(Cn?"<":"(")+Ke[Hi][0]+(Cn?">":")"),rt=parseFloat(Ke[Hi][1]),bt=parseFloat(Ke[Hi][2]);break;case 0:Et=(Cn?"<":"(")+Ke[Hi]+(Cn?">":")"),rt=Bi(I),bt=cn(Y)}sl!==void 0&&sl[Hi]!==void 0&&(vi=sl[Hi]+` Tw
`),Hi===0?S.push(vi+Ii(rt,bt,dr)+Et):Ut===0?S.push(vi+Et):Ut===1&&S.push(vi+Ii(rt,bt,dr)+Et)}S=Ut===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ti=`BT
/`;return Ti+=Ne+" "+ft+` Tf
`,Ti+=F(ft*er)+` TL
`,Ti+=Zn+`
`,Ti+=Oo,Ti+=S,ge(Ti+="ET"),h[Ne]=!0,Er};var Jr=f.__private__.clip=f.clip=function(S){return ge(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Jr("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ge("n"),this};var Mr=f.__private__.isValidStyle=function(S){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(I=!0),I};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return Mr(S)&&(c=S),this};var Eo=f.__private__.getStyle=f.getStyle=function(S){var I=c;switch(S){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=S}return I},Xl=f.close=function(){return ge("h"),this};f.stroke=function(){return ge("S"),this},f.fill=function(S){return $o("f",S),this},f.fillEvenOdd=function(S){return $o("f*",S),this},f.fillStroke=function(S){return $o("B",S),this},f.fillStrokeEvenOdd=function(S){return $o("B*",S),this};var $o=function(S,I){Co(I)==="object"?de(I,S):ge(S)},sn=function(S){S===null||x===w&&S===void 0||(S=Eo(S),ge(S))};function gc(S,I,Y,te,we){var qe=new b_(I||this.boundingBox,Y||this.xStep,te||this.yStep,this.gState,we||this.matrix);qe.stream=this.stream;var Ke=S+"$$"+this.cloneIndex+++"$$";return Vi(Ke,qe),qe}var de=function(S,I){var Y=li[S.key],te=Vt[Y];if(te instanceof R0)ge("q"),ge(le(I)),te.gState&&f.setGState(te.gState),ge(S.matrix.toString()+" cm"),ge("/"+Y+" sh"),ge("Q");else if(te instanceof b_){var we=new jt(1,0,0,-1,0,z());S.matrix&&(we=we.multiply(S.matrix||Di),Y=gc.call(te,S.key,S.boundingBox,S.xStep,S.yStep,we).id),ge("q"),ge("/Pattern cs"),ge("/"+Y+" scn"),te.gState&&f.setGState(te.gState),ge(I),ge("Q")}},le=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},De=f.moveTo=function(S,I){return ge(F(V(S))+" "+F(U(I))+" m"),this},xe=f.lineTo=function(S,I){return ge(F(V(S))+" "+F(U(I))+" l"),this},Ae=f.curveTo=function(S,I,Y,te,we,qe){return ge([F(V(S)),F(U(I)),F(V(Y)),F(U(te)),F(V(we)),F(U(qe)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,I,Y,te,we){if(isNaN(S)||isNaN(I)||isNaN(Y)||isNaN(te)||!Mr(we))throw new Error("Invalid arguments passed to jsPDF.line");return x===b?this.lines([[Y-S,te-I]],S,I,[1,1],we||"S"):this.lines([[Y-S,te-I]],S,I,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,I,Y,te,we,qe){var Ke,tt,wt,mi,Oi,zi,cr,dr,Er,io,Cn,Oo;if(typeof S=="number"&&(Oo=Y,Y=I,I=S,S=Oo),te=te||[1,1],qe=qe||!1,isNaN(I)||isNaN(Y)||!Array.isArray(S)||!Array.isArray(te)||!Mr(we)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(De(I,Y),Ke=te[0],tt=te[1],mi=S.length,io=I,Cn=Y,wt=0;wt<mi;wt++)(Oi=S[wt]).length===2?(io=Oi[0]*Ke+io,Cn=Oi[1]*tt+Cn,xe(io,Cn)):(zi=Oi[0]*Ke+io,cr=Oi[1]*tt+Cn,dr=Oi[2]*Ke+io,Er=Oi[3]*tt+Cn,io=Oi[4]*Ke+io,Cn=Oi[5]*tt+Cn,Ae(zi,cr,dr,Er,io,Cn));return qe&&Xl(),sn(we),this},f.path=function(S){for(var I=0;I<S.length;I++){var Y=S[I],te=Y.c;switch(Y.op){case"m":De(te[0],te[1]);break;case"l":xe(te[0],te[1]);break;case"c":Ae.apply(this,te);break;case"h":Xl()}}return this},f.__private__.rect=f.rect=function(S,I,Y,te,we){if(isNaN(S)||isNaN(I)||isNaN(Y)||isNaN(te)||!Mr(we))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b&&(te=-te),ge([F(V(S)),F(U(I)),F(V(Y)),F(V(te)),"re"].join(" ")),sn(we),this},f.__private__.triangle=f.triangle=function(S,I,Y,te,we,qe,Ke){if(isNaN(S)||isNaN(I)||isNaN(Y)||isNaN(te)||isNaN(we)||isNaN(qe)||!Mr(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-S,te-I],[we-Y,qe-te],[S-we,I-qe]],S,I,[1,1],Ke,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,I,Y,te,we,qe,Ke){if(isNaN(S)||isNaN(I)||isNaN(Y)||isNaN(te)||isNaN(we)||isNaN(qe)||!Mr(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*Y),qe=Math.min(qe,.5*te),this.lines([[Y-2*we,0],[we*tt,0,we,qe-qe*tt,we,qe],[0,te-2*qe],[0,qe*tt,-we*tt,qe,-we,qe],[2*we-Y,0],[-we*tt,0,-we,-qe*tt,-we,-qe],[0,2*qe-te],[0,-qe*tt,we*tt,-qe,we,-qe]],S+we,I,[1,1],Ke,!0),this},f.__private__.ellipse=f.ellipse=function(S,I,Y,te,we){if(isNaN(S)||isNaN(I)||isNaN(Y)||isNaN(te)||!Mr(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*Y,Ke=4/3*(Math.SQRT2-1)*te;return De(S+Y,I),Ae(S+Y,I-Ke,S+qe,I-te,S,I-te),Ae(S-qe,I-te,S-Y,I-Ke,S-Y,I),Ae(S-Y,I+Ke,S-qe,I+te,S,I+te),Ae(S+qe,I+te,S+Y,I+Ke,S+Y,I),sn(we),this},f.__private__.circle=f.circle=function(S,I,Y,te){if(isNaN(S)||isNaN(I)||isNaN(Y)||!Mr(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,I,Y,Y,te)},f.setFont=function(S,I,Y){return Y&&(I=L(I,Y)),Ne=Ln(S,I,{disableWarning:!1}),this};var Rt=f.__private__.getFont=f.getFont=function(){return Tt[Ln.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,I,Y={};for(S in Ft)if(Ft.hasOwnProperty(S))for(I in Y[S]=[],Ft[S])Ft[S].hasOwnProperty(I)&&Y[S].push(I);return Y},f.addFont=function(S,I,Y,te,we){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(Y=L(Y,te)),ci.call(this,S,I,Y,we=we||"Identity-H")};var Ht,Ni=e.lineWidth||.200025,Ci=f.__private__.getLineWidth=f.getLineWidth=function(){return Ni},Jt=f.__private__.setLineWidth=f.setLineWidth=function(S){return Ni=S,ge(F(V(S))+" w"),this};f.__private__.setLineDash=xn.API.setLineDash=xn.API.setLineDashPattern=function(S,I){if(S=S||[],I=I||0,isNaN(I)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(Y){return F(V(Y))}).join(" "),I=F(V(I)),ge("["+S+"] "+I+" d"),this};var on=f.__private__.getLineHeight=f.getLineHeight=function(){return ft*Ht};f.__private__.getLineHeight=f.getLineHeight=function(){return ft*Ht};var ai=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Ht=S),this},an=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ht};ai(e.lineHeight);var Bi=f.__private__.getHorizontalCoordinate=function(S){return V(S)},cn=f.__private__.getVerticalCoordinate=function(S){return x===w?S:nt[Q].mediaBox.topRightY-nt[Q].mediaBox.bottomLeftY-V(S)},pn=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return F(Bi(S))},so=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return F(cn(S))},yr=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Yo(yr)},f.__private__.setStrokeColor=f.setDrawColor=function(S,I,Y,te){return yr=ta({ch1:S,ch2:I,ch3:Y,ch4:te,pdfColorType:"draw",precision:2}),ge(yr),this};var lr=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Yo(lr)},f.__private__.setFillColor=f.setFillColor=function(S,I,Y,te){return lr=ta({ch1:S,ch2:I,ch3:Y,ch4:te,pdfColorType:"fill",precision:2}),ge(lr),this};var Zn=e.textColor||"0 g",na=f.__private__.getTextColor=f.getTextColor=function(){return Yo(Zn)};f.__private__.setTextColor=f.setTextColor=function(S,I,Y,te){return Zn=ta({ch1:S,ch2:I,ch3:Y,ch4:te,pdfColorType:"text",precision:3}),this};var to=e.charSpace,Kl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(to||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return to=S,this};var Yc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var I=f.CapJoinStyles[S];if(I===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yc=I,ge(I+" J"),this};var Zl=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var I=f.CapJoinStyles[S];if(I===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zl=I,ge(I+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(F(V(S))+" M"),this},f.GState=qD,f.setGState=function(S){(S=typeof S=="string"?Ue[yt[S]]:Kp(null,S)).equals(dt)||(ge("/"+S.id+" gs"),dt=S)};var Kp=function(S,I){if(!S||!yt[S]){var Y=!1;for(var te in Ue)if(Ue.hasOwnProperty(te)&&Ue[te].equals(I)){Y=!0;break}if(Y)I=Ue[te];else{var we="GS"+(Object.keys(Ue).length+1).toString(10);Ue[we]=I,I.id=we}return S&&(yt[S]=I.id),It.publish("addGState",I),I}};f.addGState=function(S,I){return Kp(S,I),this},f.saveGraphicsState=function(){return ge("q"),wi.push({key:Ne,size:ft,color:Zn}),this},f.restoreGraphicsState=function(){ge("Q");var S=wi.pop();return Ne=S.key,ft=S.size,Zn=S.color,dt=null,this},f.setCurrentTransformationMatrix=function(S){return ge(S.toString()+" cm"),this},f.comment=function(S){return ge("#"+S),this};var $c=function(S,I){var Y=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(qe){isNaN(qe)||(Y=parseFloat(qe))}});var te=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(qe){isNaN(qe)||(te=parseFloat(qe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(qe){we=qe.toString()}}),this},mf=function(S,I,Y,te){$c.call(this,S,I),this.type="rect";var we=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Ke){isNaN(Ke)||(we=parseFloat(Ke))}});var qe=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ke){isNaN(Ke)||(qe=parseFloat(Ke))}}),this},vc=function(){this.page=ht,this.currentPage=Q,this.pages=He.slice(0),this.pagesContext=nt.slice(0),this.x=Be,this.y=ct,this.matrix=gt,this.width=Xc(Q),this.height=Zp(Q),this.outputDestination=Je,this.id="",this.objectNumber=-1};vc.prototype.restore=function(){ht=this.page,Q=this.currentPage,nt=this.pagesContext,He=this.pages,Be=this.x,ct=this.y,gt=this.matrix,kd(Q,this.width),y(Q,this.height),Je=this.outputDestination};var bu=function(S,I,Y,te,we){At.push(new vc),ht=Q=0,He=[],Be=S,ct=I,gt=we,Fi([Y,te])};for(var Ur in f.beginFormObject=function(S,I,Y,te,we){return bu(S,I,Y,te,we),this},f.endFormObject=function(S){return function(I){if(Li[I])At.pop().restore();else{var Y=new vc,te="Xo"+(Object.keys(Yi).length+1).toString(10);Y.id=te,Li[I]=te,Yi[te]=Y,It.publish("addFormObject",Y),At.pop().restore()}}(S),this},f.doFormObject=function(S,I){var Y=Yi[Li[S]];return ge("q"),ge(I.toString()+" cm"),ge("/"+Y.id+" Do"),ge("Q"),this},f.getFormObject=function(S){var I=Yi[Li[S]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},f.save=function(S,I){return S=S||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(A0(Jn(Zr()),S),typeof A0.unload=="function"&&qn.setTimeout&&setTimeout(A0.unload,911),this):new Promise(function(Y,te){try{var we=A0(Jn(Zr()),S);typeof A0.unload=="function"&&qn.setTimeout&&setTimeout(A0.unload,911),Y(we)}catch(qe){te(qe.message)}})},xn.API)xn.API.hasOwnProperty(Ur)&&(Ur==="events"&&xn.API.events.length?function(S,I){var Y,te,we;for(we=I.length-1;we!==-1;we--)Y=I[we][0],te=I[we][1],S.subscribe.apply(S,[Y].concat(typeof te=="function"?[te]:te))}(It,xn.API.events):f[Ur]=xn.API[Ur]);function Xc(S){return nt[S].mediaBox.topRightX-nt[S].mediaBox.bottomLeftX}function kd(S,I){nt[S].mediaBox.topRightX=I+nt[S].mediaBox.bottomLeftX}function Zp(S){return nt[S].mediaBox.topRightY-nt[S].mediaBox.bottomLeftY}function y(S,I){nt[S].mediaBox.topRightY=I+nt[S].mediaBox.bottomLeftY}var D=f.getPageWidth=function(S){return Xc(S=S||Q)/Ye},N=f.setPageWidth=function(S,I){kd(S,I*Ye)},z=f.getPageHeight=function(S){return Zp(S=S||Q)/Ye},ie=f.setPageHeight=function(S,I){y(S,I*Ye)};return f.internal={pdfEscape:_i,getStyle:Eo,getFont:Rt,getFontSize:be,getCharSpace:Kl,getTextColor:na,getLineHeight:on,getLineHeightFactor:an,getLineWidth:Ci,write:pt,getHorizontalCoordinate:Bi,getVerticalCoordinate:cn,getCoordinateString:pn,getVerticalCoordinateString:so,collections:{},newObject:Tn,newAdditionalObject:Lr,newObjectDeferred:rr,newObjectDeferredBegin:_r,getFilters:us,putStream:Zo,events:It,scaleFactor:Ye,pageSize:{getWidth:function(){return D(Q)},setWidth:function(S){N(Q,S)},getHeight:function(){return z(Q)},setHeight:function(S){ie(Q,S)}},encryptionOptions:d,encryption:Kn,getEncryptor:function(S){return d!==null?Kn.encryptor(S,0):function(I){return I}},output:Qo,getNumberOfPages:dn,get pages(){return He},out:ge,f2:A,f3:O,getPageInfo:hs,getPageInfoByObjId:Nr,getCurrentPageInfo:Br,getPDFVersion:v,Point:$c,Rectangle:mf,Matrix:jt,hasHotfix:Xn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return D(Q)},set:function(S){N(Q,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return z(Q)},set:function(S){ie(Q,S)},enumerable:!0,configurable:!0}),function(S){for(var I=0,Y=Pt.length;I<Y;I++){var te=ci.call(this,S[I][0],S[I][1],S[I][2],Pt[I][3],!0);u===!1&&(h[te]=!0);var we=S[I][0].split("-");ot({id:te,fontName:we[0],fontStyle:we[1]||""})}It.publish("addFonts",{fonts:Tt,dictionary:Ft})}.call(f,Pt),Ne="F1",Gi(r,i),It.publish("initialized"),f}g_.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},g_.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},g_.prototype.hexToBytes=function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(String.fromCharCode(parseInt(e.substr(i,2),16)));return t.join("")},g_.prototype.processOwnerPassword=function(e,t){return AL(TL(t).substr(0,5),e)},g_.prototype.encryptor=function(e,t){var i=TL(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return AL(i,n)}},qD.prototype.equals=function(e){var t,i="id,objectNumber,equals";if(!e||Co(e)!==Co(this))return!1;var n=0;for(t in this)if(!(i.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&i.indexOf(t)<0&&n--;return n===0},xn.API={events:[]},xn.version="3.0.4";var Vs=xn.API,IL=1,I0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},p_=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},or=function(e){return e.toFixed(2)},zm=function(e){return e.toFixed(5)};Vs.__acroform__={};var Ac=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},qY=function(e){return e*IL},Gh=function(e){var t=new m$,i=fn.internal.getHeight(e)||0,n=fn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(or(n)),Number(or(i))],t},PEe=Vs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},FEe=Vs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},OEe=Vs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Xs=Vs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OEe(e,t-1)},Ks=Vs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return PEe(e,t-1)},Zs=Vs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FEe(e,t-1)},LEe=Vs.__acroform__.calculateCoordinates=function(e,t){var i=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=i(r)||0,l.lowerLeft_Y=n(o+a)||0,l.upperRight_X=i(r+s)||0,l.upperRight_Y=n(o)||0,[Number(or(l.lowerLeft_X)),Number(or(l.lowerLeft_Y)),Number(or(l.upperRight_X)),Number(or(l.upperRight_Y))]},NEe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],i=e._V||e.DV,n=RL(e,i),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+or(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Gh(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},RL=function(e,t){var i=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(A){return A.split(`
`)}):r.map(function(A){return[A]});var o=i,s=fn.internal.getHeight(e)||0;s=s<0?-s:s;var a=fn.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(A,O,V){if(A+1<r.length){var U=O+" "+r[A+1][0];return BD(U,e,V).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var c,d,u=BD("3",e,o).height,h=e.multiline?s-o:(s-u)/2,f=h+=2,p=0,v=0,m=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+BD(t,e,o=12).width+", FieldWidth:"+a+`
`;break}for(var g="",b=0,w=0;w<r.length;w++)if(r.hasOwnProperty(w)){var x=!1;if(r[w].length!==1&&m!==r[w].length-1){if((u+2)*(b+2)+2>s)continue e;g+=r[w][m],x=!0,v=w,w--}else{g=(g+=r[w][m]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var R=parseInt(w),_=l(R,g,o),L=w>=r.length-1;if(_&&!L){g+=" ",m=0;continue}if(_||L){if(L)v=R;else if(e.multiline&&(u+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(u+2)*(b+2)+2>s)continue e;v=R}}for(var F="",T=p;T<=v;T++){var P=r[T];if(e.multiline){if(T===v){F+=P[m]+" ",m=(m+1)%P.length;continue}if(T===p){F+=P[P.length-1]+" ";continue}}F+=P[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=BD(F,e,o).width,e.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;default:c=2}t+=or(c)+" "+or(f)+` Td
`,t+="("+I0(F)+`) Tj
`,t+=-or(c)+` 0 Td
`,f=-(o+2),d=0,p=x?v:v+1,b++,g=""}break}return n.text=t,n.fontSize=o,n},BD=function(e,t,i){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:r}},BEe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},VEe=function(e,t){var i={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===i.type&&n.object===i.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(i)},zEe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Nu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(BEe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IL=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new g$,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(i){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(i){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];o.objId=void 0,o.hasAnnotation&&VEe(o,i)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(i){if(i.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(i){(function(n,r){var o=!n;for(var s in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var a=n[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=LEe(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=fn.createDefaultAppearanceStream(a),Co(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=NEe(a);l.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var u="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var p=f[s];typeof p=="function"&&(p=p.call(r,a)),u+="/"+s+" "+p+" ",r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(r,a)),u+="/"+s+" "+p,r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p);u+=">>"}l.push({key:"AP",value:`<<
`+u+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}o&&function(v,m){for(var g in v)if(v.hasOwnProperty(g)){var b=g,w=v[g];m.internal.newObjectDeferredBegin(w.objId,!0),Co(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete v[b]}}(r.internal.acroformPlugin.xForms,r)})(i,e)}),e.internal.acroformPlugin.isInitialized=!0}},p$=Vs.__acroform__.arrayToPdfArray=function(e,t,i){var n=function(s){return s};if(Array.isArray(e)){for(var r="[",o=0;o<e.length;o++)switch(o!==0&&(r+=" "),Co(e[o])){case"boolean":case"number":case"object":r+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&i&&(n=i.internal.getEncryptor(t)),r+="("+I0(n(e[o].toString()))+")"):r+=e[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xL=function(e,t,i){var n=function(r){return r};return t!==void 0&&i&&(n=i.internal.getEncryptor(t)),(e=e||"").toString(),"("+I0(n(e))+")"},Wh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wh.prototype.toString=function(){return this.objId+" 0 R"},Wh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var i in t)if(Object.getOwnPropertyDescriptor(this,t[i]).configurable===!1){var n=t[i],r=this[n];r&&(Array.isArray(r)?e.push({key:n,value:p$(r,this.objId,this.scope)}):r instanceof Wh?(r.scope=this.scope,e.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:n,value:r}))}return e};var m$=function(){Wh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(i){e=i.trim()},get:function(){return e||null}})};Ac(m$,Wh);var g$=function(){Wh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var i=function(n){return n};return this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),"("+I0(i(e))+")"}},set:function(i){e=i}})};Ac(g$,Wh);var Nu=function e(){Wh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xs(t,3)},set:function(g){g?this.F=Ks(t,3):this.F=Zs(t,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');i=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof YD)return;o="FieldObject"+e.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+I0(g(o))+")"},set:function(g){o=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(g){o=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/IL:c},set:function(g){c=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof YD||this instanceof k0))return xL(u,this.objId,this.scope)},set:function(g){g=g.toString(),u=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Xa==0?xL(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Xa==0?g.substr(0,1)==="("?p_(g.substr(1,g.length-2)):p_(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xa==1?p_(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Xa==1?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Xa==0?xL(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof Xa==0?g.substr(0,1)==="("?p_(g.substr(1,g.length-2)):p_(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xa==1?p_(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Xa==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(g){g=!!g,v=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,1)},set:function(g){g?this.Ff=Ks(this.Ff,1):this.Ff=Zs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,2)},set:function(g){g?this.Ff=Ks(this.Ff,2):this.Ff=Zs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,3)},set:function(g){g?this.Ff=Ks(this.Ff,3):this.Ff=Zs(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Ac(Nu,Wh);var __=function(){Nu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(i){e=i}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return p$(t,this.objId,this.scope)},set:function(i){var n,r;r=[],typeof(n=i)=="string"&&(r=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(i){t=i,this.sort&&t.sort()},this.addOption=function(i){i=(i=i||"").toString(),t.push(i),this.sort&&t.sort()},this.removeOption=function(i,n){for(n=n||!1,i=(i=i||"").toString();t.indexOf(i)!==-1&&(t.splice(t.indexOf(i),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,18)},set:function(i){i?this.Ff=Ks(this.Ff,18):this.Ff=Zs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,19)},set:function(i){this.combo===!0&&(i?this.Ff=Ks(this.Ff,19):this.Ff=Zs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,20)},set:function(i){i?(this.Ff=Ks(this.Ff,20),t.sort()):this.Ff=Zs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,22)},set:function(i){i?this.Ff=Ks(this.Ff,22):this.Ff=Zs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,23)},set:function(i){i?this.Ff=Ks(this.Ff,23):this.Ff=Zs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,27)},set:function(i){i?this.Ff=Ks(this.Ff,27):this.Ff=Zs(this.Ff,27)}}),this.hasAppearanceStream=!1};Ac(__,Nu);var y_=function(){__.call(this),this.fontName="helvetica",this.combo=!1};Ac(y_,__);var w_=function(){y_.call(this),this.combo=!0};Ac(w_,y_);var UD=function(){w_.call(this),this.edit=!0};Ac(UD,w_);var Xa=function(){Nu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,15)},set:function(i){i?this.Ff=Ks(this.Ff,15):this.Ff=Zs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,16)},set:function(i){i?this.Ff=Ks(this.Ff,16):this.Ff=Zs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,17)},set:function(i){i?this.Ff=Ks(this.Ff,17):this.Ff=Zs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,26)},set:function(i){i?this.Ff=Ks(this.Ff,26):this.Ff=Zs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};if(this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+I0(i(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(i){Co(i)==="object"&&(t=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(i){typeof i=="string"&&(t.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}})};Ac(Xa,Nu);var GD=function(){Xa.call(this),this.pushButton=!0};Ac(GD,Xa);var C_=function(){Xa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ac(C_,Xa);var YD=function(){var e,t;Nu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var i,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),n)s.push("/"+o+" ("+I0(r(n[o]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Co(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(r){i="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ac(YD,Nu),C_.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var i=this.Kids[t];i.appearanceStreamContent=e.createAppearanceStream(i.optionName),i.caption=e.getCA()}},C_.prototype.createOption=function(e){var t=new YD;return t.Parent=this,t.optionName=e,this.Kids.push(t),HEe.call(this.scope,t),t};var WD=function(){Xa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fn.CheckBox.createAppearanceStream()};Ac(WD,Xa);var k0=function(){Nu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,13)},set:function(t){t?this.Ff=Ks(this.Ff,13):this.Ff=Zs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,21)},set:function(t){t?this.Ff=Ks(this.Ff,21):this.Ff=Zs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,23)},set:function(t){t?this.Ff=Ks(this.Ff,23):this.Ff=Zs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,24)},set:function(t){t?this.Ff=Ks(this.Ff,24):this.Ff=Zs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,25)},set:function(t){t?this.Ff=Ks(this.Ff,25):this.Ff=Zs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,26)},set:function(t){t?this.Ff=Ks(this.Ff,26):this.Ff=Zs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ac(k0,Nu);var jD=function(){k0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,14)},set:function(e){e?this.Ff=Ks(this.Ff,14):this.Ff=Zs(this.Ff,14)}}),this.password=!0};Ac(jD,k0);var fn={CheckBox:{createAppearanceStream:function(){return{N:{On:fn.CheckBox.YesNormal},D:{On:fn.CheckBox.YesPushDown,Off:fn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Gh(e);t.scope=e.scope;var i=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),o=RL(e,e.caption);return i.push("0.749023 g"),i.push("0 0 "+or(fn.internal.getWidth(e))+" "+or(fn.internal.getHeight(e))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+n+" "+or(o.fontSize)+" Tf "+r),i.push("BT"),i.push(o.text),i.push("ET"),i.push("Q"),i.push("EMC"),t.stream=i.join(`
`),t},YesNormal:function(e){var t=Gh(e);t.scope=e.scope;var i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),r=[],o=fn.internal.getHeight(e),s=fn.internal.getWidth(e),a=RL(e,e.caption);return r.push("1 g"),r.push("0 0 "+or(s)+" "+or(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+or(s-1)+" "+or(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+i+" "+or(a.fontSize)+" Tf "+n),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Gh(e);t.scope=e.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+or(fn.internal.getWidth(e))+" "+or(fn.internal.getHeight(e))+" re"),i.push("f"),t.stream=i.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:fn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=fn.RadioButton.Circle.YesNormal,t.D[e]=fn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Gh(e);t.scope=e.scope;var i=[],n=fn.internal.getWidth(e)<=fn.internal.getHeight(e)?fn.internal.getWidth(e)/4:fn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var r=fn.internal.Bezier_C,o=Number((n*r).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+zm(fn.internal.getWidth(e)/2)+" "+zm(fn.internal.getHeight(e)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),i.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),i.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),i.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),i.push("f"),i.push("Q"),t.stream=i.join(`
`),t},YesPushDown:function(e){var t=Gh(e);t.scope=e.scope;var i=[],n=fn.internal.getWidth(e)<=fn.internal.getHeight(e)?fn.internal.getWidth(e)/4:fn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),o=Number((r*fn.internal.Bezier_C).toFixed(5)),s=Number((n*fn.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+zm(fn.internal.getWidth(e)/2)+" "+zm(fn.internal.getHeight(e)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),i.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),i.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),i.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+zm(fn.internal.getWidth(e)/2)+" "+zm(fn.internal.getHeight(e)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),i.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),i.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),i.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),i.push("f"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Gh(e);t.scope=e.scope;var i=[],n=fn.internal.getWidth(e)<=fn.internal.getHeight(e)?fn.internal.getWidth(e)/4:fn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),o=Number((r*fn.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+zm(fn.internal.getWidth(e)/2)+" "+zm(fn.internal.getHeight(e)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),i.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),i.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),i.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),i.push("f"),i.push("Q"),t.stream=i.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:fn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=fn.RadioButton.Cross.YesNormal,t.D[e]=fn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Gh(e);t.scope=e.scope;var i=[],n=fn.internal.calculateCross(e);return i.push("q"),i.push("1 1 "+or(fn.internal.getWidth(e)-2)+" "+or(fn.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(or(n.x1.x)+" "+or(n.x1.y)+" m"),i.push(or(n.x2.x)+" "+or(n.x2.y)+" l"),i.push(or(n.x4.x)+" "+or(n.x4.y)+" m"),i.push(or(n.x3.x)+" "+or(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},YesPushDown:function(e){var t=Gh(e);t.scope=e.scope;var i=fn.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+or(fn.internal.getWidth(e))+" "+or(fn.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+or(fn.internal.getWidth(e)-2)+" "+or(fn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(or(i.x1.x)+" "+or(i.x1.y)+" m"),n.push(or(i.x2.x)+" "+or(i.x2.y)+" l"),n.push(or(i.x4.x)+" "+or(i.x4.y)+" m"),n.push(or(i.x3.x)+" "+or(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Gh(e);t.scope=e.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+or(fn.internal.getWidth(e))+" "+or(fn.internal.getHeight(e))+" re"),i.push("f"),t.stream=i.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+i}};fn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=fn.internal.getWidth(e),i=fn.internal.getHeight(e),n=Math.min(t,i);return{x1:{x:(t-n)/2,y:(i-n)/2+n},x2:{x:(t-n)/2+n,y:(i-n)/2},x3:{x:(t-n)/2,y:(i-n)/2},x4:{x:(t-n)/2+n,y:(i-n)/2+n}}}},fn.internal.getWidth=function(e){var t=0;return Co(e)==="object"&&(t=qY(e.Rect[2])),t},fn.internal.getHeight=function(e){var t=0;return Co(e)==="object"&&(t=qY(e.Rect[3])),t};var HEe=Vs.addField=function(e){if(zEe(this,e),!(e instanceof Nu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Vs.AcroFormChoiceField=__,Vs.AcroFormListBox=y_,Vs.AcroFormComboBox=w_,Vs.AcroFormEditBox=UD,Vs.AcroFormButton=Xa,Vs.AcroFormPushButton=GD,Vs.AcroFormRadioButton=C_,Vs.AcroFormCheckBox=WD,Vs.AcroFormTextField=k0,Vs.AcroFormPasswordField=jD,Vs.AcroFormAppearance=fn,Vs.AcroForm={ChoiceField:__,ListBox:y_,ComboBox:w_,EditBox:UD,Button:Xa,PushButton:GD,RadioButton:C_,CheckBox:WD,TextField:k0,PasswordField:jD,Appearance:fn},xn.AcroForm={ChoiceField:__,ListBox:y_,ComboBox:w_,EditBox:UD,Button:Xa,PushButton:GD,RadioButton:C_,CheckBox:WD,TextField:k0,PasswordField:jD,Appearance:fn};var ntt=xn.AcroForm;function v$(e){return e.reduce(function(t,i,n){return t[i]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var i="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(A,O){var V,U,ae,ne,ue,se=i;if((O=O||i)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(_(A))for(ue in n)for(ae=n[ue],V=0;V<ae.length;V+=1){for(ne=!0,U=0;U<ae[V].length;U+=1)if(ae[V][U]!==void 0&&ae[V][U]!==A[U]){ne=!1;break}if(ne===!0){se=ue;break}}else for(ue in n)for(ae=n[ue],V=0;V<ae.length;V+=1){for(ne=!0,U=0;U<ae[V].length;U+=1)if(ae[V][U]!==void 0&&ae[V][U]!==A.charCodeAt(U)){ne=!1;break}if(ne===!0){se=ue;break}}return se===i&&O!==i&&(se=O),se},o=function A(O){for(var V=this.internal.write,U=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:O.width}),ne.push({key:"Height",value:O.height}),O.colorSpace===g.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===g.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var ue="",se=0,_e=O.transparency.length;se<_e;se++)ue+=O.transparency[se]+" "+O.transparency[se]+" ";ne.push({key:"Mask",value:"["+ue+"]"})}O.sMask!==void 0&&ne.push({key:"SMask",value:O.objectId+1+" 0 R"});var Ve=O.filter!==void 0?["/"+O.filter]:void 0;if(U({data:O.data,additionalKeyValues:ne,alreadyAppliedFilters:Ve,objectId:O.objectId}),V("endobj"),"sMask"in O&&O.sMask!==void 0){var Ge,K=(Ge=O.sMaskBitsPerComponent)!==null&&Ge!==void 0?Ge:O.bitsPerComponent,Q={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:K,data:O.sMask};"filter"in O&&(Q.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(K," /Columns ").concat(O.width),Q.filter=O.filter),A.call(this,Q)}if(O.colorSpace===g.INDEXED){var ee=this.internal.newObject();U({data:F(new Uint8Array(O.palette)),objectId:ee}),V("endobj")}},s=function(){var A=this.internal.collections[t+"images"];for(var O in A)o.call(this,A[O])},a=function(){var A,O=this.internal.collections[t+"images"],V=this.internal.write;for(var U in O)V("/I"+(A=O[U]).index,A.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var A=this.internal.collections[t+"images"];return l.call(this),A},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(A){return typeof e["process"+A.toUpperCase()]=="function"},h=function(A){return Co(A)==="object"&&A.nodeType===1},f=function(A,O){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var V=""+A.getAttribute("src");if(V.indexOf("data:image/")===0)return HD(unescape(V).split("base64,").pop());var U=e.loadFile(V,!0);if(U!==void 0)return U}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var ae;switch(O){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return HD(A.toDataURL(ae,1).split("base64,").pop())}},p=function(A){var O=this.internal.collections[t+"images"];if(O){for(var V in O)if(A===O[V].alias)return O[V]}},v=function(A,O,V){return A||O||(A=-96,O=-96),A<0&&(A=-1*V.width*72/A/this.internal.scaleFactor),O<0&&(O=-1*V.height*72/O/this.internal.scaleFactor),A===0&&(A=O*V.width/V.height),O===0&&(O=A*V.height/V.width),[A,O]},m=function(A,O,V,U,ae,ne){var ue=v.call(this,V,U,ae),se=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ve=c.call(this);if(V=ue[0],U=ue[1],Ve[ae.index]=ae,ne){ne*=Math.PI/180;var Ge=Math.cos(ne),K=Math.sin(ne),Q=function(Z){return Z.toFixed(4)},ee=[Q(Ge),Q(K),Q(-1*K),Q(Ge),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,se(A),_e(O+U),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([se(V),"0","0",se(U),"0","0","cm"].join(" "))):this.internal.write([se(V),"0","0",se(U),se(A),_e(O+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(A){var O,V,U=0;if(typeof A=="string")for(V=A.length,O=0;O<V;O++)U=(U<<5)-U+A.charCodeAt(O),U|=0;else if(_(A))for(V=A.byteLength/2,O=0;O<V;O++)U=(U<<5)-U+A[O],U|=0;return U},x=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var O=!0;return A.length===0&&(O=!1),A.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(O=!1),O},R=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var O=A.indexOf(",");return O<0?null:A.substring(0,O).trim().endsWith("base64")?A.substring(O+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(A){for(var O=A.length,V=new Uint8Array(O),U=0;U<O;U++)V[U]=A.charCodeAt(U);return V},F=e.__addimage__.arrayBufferToBinaryString=function(A){for(var O="",V=_(A)?A:new Uint8Array(A),U=0;U<V.length;U+=8192)O+=String.fromCharCode.apply(null,V.subarray(U,U+8192));return O};e.addImage=function(){var A,O,V,U,ae,ne,ue,se,_e;if(typeof arguments[1]=="number"?(O=i,V=arguments[1],U=arguments[2],ae=arguments[3],ne=arguments[4],ue=arguments[5],se=arguments[6],_e=arguments[7]):(O=arguments[1],V=arguments[2],U=arguments[3],ae=arguments[4],ne=arguments[5],ue=arguments[6],se=arguments[7],_e=arguments[8]),Co(A=arguments[0])==="object"&&!h(A)&&"imageData"in A){var Ve=A;A=Ve.imageData,O=Ve.format||O||i,V=Ve.x||V||0,U=Ve.y||U||0,ae=Ve.w||Ve.width||ae,ne=Ve.h||Ve.height||ne,ue=Ve.alias||ue,se=Ve.compression||se,_e=Ve.rotation||Ve.angle||_e}var Ge=this.internal.getFilters();if(se===void 0&&Ge.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(V)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var K=T.call(this,A,O,ue,se);return m.call(this,V,U,ae,ne,K,_e),this};var T=function(A,O,V,U){var ae,ne,ue;if(typeof A=="string"&&r(A)===i){A=unescape(A);var se=P(A,!1);(se!==""||(se=e.loadFile(A,!0))!==void 0)&&(A=se)}if(h(A)&&(A=f(A,O)),O=r(A,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ue=V)==null||ue.length===0)&&(V=function(_e){return typeof _e=="string"||_(_e)?w(_e):_(_e.data)?w(_e.data):null}(A)),(ae=p.call(this,V))||(A instanceof Uint8Array||O==="RGBA"||(ne=A,A=L(A)),ae=this["process"+O.toUpperCase()](A,d.call(this),V,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in e.image_compression?_e:b.NONE}(U),ne)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},P=e.__addimage__.convertBase64ToBinaryString=function(A,O){O=typeof O!="boolean"||O;var V,U="";if(typeof A=="string"){var ae;V=(ae=R(A))!==null&&ae!==void 0?ae:A;try{U=HD(V)}catch(ne){if(O)throw x(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(A){var O,V,U="";if(h(A)&&(A=f(A)),typeof A=="string"&&r(A)===i&&((U=P(A,!1))===""&&(U=e.loadFile(A)||""),A=U),V=r(A),!u(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(A instanceof Uint8Array||(A=L(A)),!(O=this["process"+V.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=V,O}})(xn.API),function(e){var t=function(i){if(i!==void 0&&i!="")return!0};xn.API.events.push(["addPage",function(i){this.internal.getPageInfo(i.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(i){for(var n,r,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(i.objId),c=i.pageContext.annotations,d=!1,u=0;u<c.length&&!d;u++)switch((n=c[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(i.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(v.objId),b=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(g(n.contents))+")",o+=" /Popup "+m.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(g(b))+") >>",v.content=o;var w=v.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(o+=" /Open true"),o+=" >>",m.content=o,this.internal.write(v.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(p(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var _=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(i){var n=this.internal.getCurrentPageInfo();switch(i.type){case"link":this.link(i.bounds.x,i.bounds.y,i.bounds.w,i.bounds.h,i);break;case"text":case"freetext":n.pageContext.annotations.push(i)}},e.link=function(i,n,r,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(i),y:c(n),w:l(i+r),h:c(n+o)},options:s,type:"link"})},e.textWithLink=function(i,n,r,o){var s,a,l=this.getTextWidth(i),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(i,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(i,n,r,o),r+=.2*c,o.align==="center"&&(n-=l/2),o.align==="right"&&(n-=l),this.link(n,r-c,a,s,o),l},e.getTextWidth=function(i){var n=this.internal.getFontSize();return this.getStringUnitWidth(i)*n/this.internal.scaleFactor}}(xn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=e.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&o(v)&&t[v.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&r.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&o(v)&&t[v.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&o(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&o(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&o(v)&&t[v.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(v){var m=0,g=i,b="",w=0;for(m=0;m<v.length;m+=1)g[v.charCodeAt(m)]!==void 0?(w++,typeof(g=g[v.charCodeAt(m)])=="number"&&(b+=String.fromCharCode(g),g=i,w=0),m===v.length-1&&(g=i,b+=v.charAt(m-(w-1)),m-=w-1,w=0)):(g=i,b+=v.charAt(m-w),m-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(v,m,g){return s(v)?o(v)===!1?-1:!c(v)||!s(m)&&!s(g)||!s(g)&&a(m)||a(v)&&!s(m)||a(v)&&l(m)||a(v)&&a(m)?0:d(v)&&s(m)&&!a(m)&&s(g)&&c(g)?3:a(v)||!s(g)?1:2:-1},f=function(v){var m=0,g=0,b=0,w="",x="",R="",_=(v=v||"").split("\\s+"),L=[];for(m=0;m<_.length;m+=1){for(L.push(""),g=0;g<_[m].length;g+=1)w=_[m][g],x=_[m][g-1],R=_[m][g+1],s(w)?(b=h(w,x,R),L[m]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):L[m]+=w;L[m]=u(L[m])}return L.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var v,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var b=0;for(g=[],b=0;b<m.length;b+=1)Array.isArray(m[b])?g.push([f(m[b][0]),m[b][1],m[b][2]]):g.push([f(m[b])]);v=g}else v=f(m);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",p])}(xn.API),xn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var i=void 0;Object.defineProperty(this,"pdf",{get:function(){return i},set:function(a){i=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(i,n){var r;if((i=i||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(xn.API),function(e){var t={left:0,top:0,bottom:0,right:0},i=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(v){p=v}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,p=0,v=0,m=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,x){return w.concat(m.splitTextToSize(x,g))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)f<(v=this.getStringUnitWidth(l[b],{font:u})*d)&&(f=v);return f!==0&&(p=l.length),{w:f/=h,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,i===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,u,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,p,v,m,g=[],b=[],w=[],x={},R={},_=[],L=[],F=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,A=h.margins||Object.assign({width:this.getPageWidth()},t),O=typeof h.padding=="number"?h.padding:3,V=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=U,this.setFontSize(P),u==null)b=g=Object.keys(d[0]),w=g.map(function(){return"left"});else if(Array.isArray(u)&&Co(u[0])==="object")for(g=u.map(function(Ve){return Ve.name}),b=u.map(function(Ve){return Ve.prompt||Ve.name||""}),w=u.map(function(Ve){return Ve.align||"left"}),f=0;f<u.length;f+=1)R[u[f].name]=.7499990551181103*u[f].width;else Array.isArray(u)&&typeof u[0]=="string"&&(b=g=u,w=g.map(function(){return"left"}));if(F||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<g.length;f+=1){for(x[m=g[f]]=d.map(function(Ve){return Ve[m]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=x[m],this.setFont(void 0,"normal"),v=0;v<p.length;v+=1)_.push(this.getTextDimensions(p[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[m]=Math.max.apply(null,_)+O+O,_=[]}if(T){var ae={};for(f=0;f<g.length;f+=1)ae[g[f]]={},ae[g[f]].text=b[f],ae[g[f]].align=w[f];var ne=a.call(this,ae,R);L=g.map(function(Ve){return new o(l,c,R[Ve],ne,ae[Ve].text,void 0,ae[Ve].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ue=u.reduce(function(Ve,Ge){return Ve[Ge.name]=Ge.align,Ve},{});for(f=0;f<d.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:d[f]},this);var se=a.call(this,d[f],R);for(v=0;v<g.length;v+=1){var _e=d[f][g[v]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:v,data:_e},this),s.call(this,new o(l,c,R[g[v]],se,_e,f+2,ue[g[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/h+d+d},this).reduce(function(f,p){return Math.max(f,p)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(i=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),i=!1}}(xn.API);var b$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kL=v$(_$),y$=[100,200,300,400,500,600,700,800,900],UEe=v$(y$);function SL(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),i=function(o){return b$[o=o||"normal"]?o:"normal"}(e.style),n=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(e.weight),r=function(o){return typeof kL[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:i,weight:n,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,i,n].join(" ")}}}function YY(e,t,i,n){var r;for(r=i;r>=0&&r<t.length;r+=n)if(e[t[r]])return e[t[r]];for(r=i;r>=0&&r<t.length;r-=n)if(e[t[r]])return e[t[r]]}var GEe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$Y={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XY(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KY(e){return e.trimLeft()}function WEe(e,t){for(var i=0;i<e.length;){if(e.charAt(i)===t)return[e.substring(0,i),e.substring(i+1)];i+=1}return null}function jEe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var VD,ZY,QY,m_,zD,JY,e$,t$,ML=["times"];function i$(e,t,i,n,r){var o=4,s=r$;switch(r){case xn.API.image_compression.FAST:o=1,s=n$;break;case xn.API.image_compression.MEDIUM:o=6,s=o$;break;case xn.API.image_compression.SLOW:o=9,s=s$}e=function(l,c,d,u){for(var h,f=l.length/c,p=new Uint8Array(l.length+f),v=[qEe,n$,r$,o$,s$],m=0;m<f;m+=1){var g=m*c,b=l.subarray(g,g+c);if(u)p.set(u(b,d,h),g+m);else{for(var w=v.length,x=[],R=0;R<w;R+=1)x[R]=v[R](b,d,h);var _=$Ee(x.concat());p.set(x[_],g+m)}h=b}return p}(e,t,Math.ceil(i*n/8),s);var a=mD(e,{level:o});return xn.API.__addimage__.arrayBufferToBinaryString(a)}function qEe(e){var t=Array.apply([],e);return t.unshift(0),t}function n$(e,t){var i=e.length,n=[];n[0]=1;for(var r=0;r<i;r+=1){var o=e[r-t]||0;n[r+1]=e[r]-o+256&255}return n}function r$(e,t,i){var n=e.length,r=[];r[0]=2;for(var o=0;o<n;o+=1){var s=i&&i[o]||0;r[o+1]=e[o]-s+256&255}return r}function o$(e,t,i){var n=e.length,r=[];r[0]=3;for(var o=0;o<n;o+=1){var s=e[o-t]||0,a=i&&i[o]||0;r[o+1]=e[o]+256-(s+a>>>1)&255}return r}function s$(e,t,i){var n=e.length,r=[];r[0]=4;for(var o=0;o<n;o+=1){var s=YEe(e[o-t]||0,i&&i[o]||0,i&&i[o-t]||0);r[o+1]=e[o]-s+256&255}return r}function YEe(e,t,i){if(e===t&&t===i)return e;var n=Math.abs(t-i),r=Math.abs(e-i),o=Math.abs(e+t-i-i);return n<=r&&n<=o?e:r<=o?t:i}function $Ee(e){var t=e.map(function(i){return i.reduce(function(n,r){return n+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function EL(e,t,i){var n=t*i,r=Math.floor(n/8),o=16-(n-8*r+i),s=(1<<i)-1;return w$(e,r)>>o&s}function a$(e,t,i,n){var r=i*n,o=Math.floor(r/8),s=16-(r-8*o+n),a=(1<<n)-1,l=(t&a)<<s;(function(c,d,u){if(d+1<c.byteLength)c.setUint16(d,u,!1);else{var h=u>>8&255;c.setUint8(d,h)}})(e,o,w$(e,o)&~(a<<s)&65535|l)}function w$(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function XEe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,r=e[t++],o=r>>7,s=1<<1+(7&r);e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,f=0,p=null;for(this.width=i,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&v||(h=null),f=v>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++],R=x>>6&1,_=1<<1+(7&x),L=a,F=l,T=!1;x>>7&&(T=!0,L=t,F=_,t+=3*_);var P=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x:m,y:g,width:b,height:w,has_local_palette:T,palette_offset:L,palette_size:F,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!R,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,V){var U=this.frameInfo(O),ae=U.width*U.height,ne=new Uint8Array(ae);l$(e,U.data_offset,ne,ae);var ue=U.palette_offset,se=U.transparent_index;se===null&&(se=256);var _e=U.width,Ve=i-_e,Ge=_e,K=4*(U.y*i+U.x),Q=4*((U.y+U.height)*i+U.x),ee=K,Z=4*Ve;U.interlaced===!0&&(Z+=4*i*7);for(var G=8,W=0,ce=ne.length;W<ce;++W){var me=ne[W];if(Ge===0&&(Ge=_e,(ee+=Z)>=Q&&(Z=4*Ve+4*i*(G-1),ee=K+(_e+Ve)*(G<<1),G>>=1)),me===se)ee+=4;else{var Me=e[ue+3*me],He=e[ue+3*me+1],$e=e[ue+3*me+2];V[ee++]=$e,V[ee++]=He,V[ee++]=Me,V[ee++]=255}--Ge}},this.decodeAndBlitFrameRGBA=function(O,V){var U=this.frameInfo(O),ae=U.width*U.height,ne=new Uint8Array(ae);l$(e,U.data_offset,ne,ae);var ue=U.palette_offset,se=U.transparent_index;se===null&&(se=256);var _e=U.width,Ve=i-_e,Ge=_e,K=4*(U.y*i+U.x),Q=4*((U.y+U.height)*i+U.x),ee=K,Z=4*Ve;U.interlaced===!0&&(Z+=4*i*7);for(var G=8,W=0,ce=ne.length;W<ce;++W){var me=ne[W];if(Ge===0&&(Ge=_e,(ee+=Z)>=Q&&(Z=4*Ve+4*i*(G-1),ee=K+(_e+Ve)*(G<<1),G>>=1)),me===se)ee+=4;else{var Me=e[ue+3*me],He=e[ue+3*me+1],$e=e[ue+3*me+2];V[ee++]=Me,V[ee++]=He,V[ee++]=$e,V[ee++]=255}--Ge}}}function l$(e,t,i,n){for(var r=e[t++],o=1<<r,s=o+1,a=s+1,l=r+1,c=(1<<l)-1,d=0,u=0,h=0,f=e[t++],p=new Int32Array(4096),v=null;;){for(;d<16&&f!==0;)u|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<l)break;var m=u&c;if(u>>=l,d-=l,m!==o){if(m===s)break;for(var g=m<a?m:v,b=0,w=g;w>o;)w=p[w]>>8,++b;var x=w;if(h+b+(g!==m?1:0)>n)return void zo.log("Warning, gif stream longer than expected.");i[h++]=x;var R=h+=b;for(g!==m&&(i[h++]=x),w=g;b--;)w=p[w],i[--R]=255&w,w>>=8;v!==null&&a<4096&&(p[a++]=v<<8|x,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=m}else a=s+1,c=(1<<(l=r+1))-1,v=null}return h!==n&&zo.log("Warning, gif stream shorter than expected."),i}function DL(e){var t,i,n,r,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),v=[],m=0,g=7,b=new Array(64),w=new Array(64),x=new Array(64),R=new Array(256),_=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(K,Q){for(var ee=0,Z=0,G=new Array,W=1;W<=16;W++){for(var ce=1;ce<=K[W];ce++)G[Q[Z]]=[],G[Q[Z]][0]=ee,G[Q[Z]][1]=W,Z++,ee++;ee*=2}return G}function ue(K){for(var Q=K[0],ee=K[1]-1;ee>=0;)Q&1<<ee&&(m|=1<<g),ee--,--g<0&&(m==255?(se(255),se(0)):se(m),g=7,m=0)}function se(K){v.push(K)}function _e(K){se(K>>8&255),se(255&K)}function Ve(K,Q,ee,Z,G){for(var W,ce=G[0],me=G[240],Me=function(ft,kt){var be,oe,re,J,pe,Ee,ke,Le,Ne,Ye,Be=0;for(Ne=0;Ne<8;++Ne){be=ft[Be],oe=ft[Be+1],re=ft[Be+2],J=ft[Be+3],pe=ft[Be+4],Ee=ft[Be+5],ke=ft[Be+6];var ct=be+(Le=ft[Be+7]),gt=be-Le,Tt=oe+ke,Ft=oe-ke,wi=re+Ee,Vt=re-Ee,li=J+pe,Ue=J-pe,yt=ct+li,dt=ct-li,ht=Tt+wi,nt=Tt-wi;ft[Be]=yt+ht,ft[Be+4]=yt-ht;var It=.707106781*(nt+dt);ft[Be+2]=dt+It,ft[Be+6]=dt-It;var Ei=.382683433*((yt=Ue+Vt)-(nt=Ft+gt)),Yi=.5411961*yt+Ei,Li=1.306562965*nt+Ei,At=.707106781*(ht=Vt+Ft),jt=gt+At,Qt=gt-At;ft[Be+5]=Qt+Yi,ft[Be+3]=Qt-Yi,ft[Be+1]=jt+Li,ft[Be+7]=jt-Li,Be+=8}for(Be=0,Ne=0;Ne<8;++Ne){be=ft[Be],oe=ft[Be+8],re=ft[Be+16],J=ft[Be+24],pe=ft[Be+32],Ee=ft[Be+40],ke=ft[Be+48];var Di=be+(Le=ft[Be+56]),Vi=be-Le,Dn=oe+ke,Tn=oe-ke,rr=re+Ee,_r=re-Ee,Lr=J+pe,Mo=J-pe,_o=Di+Lr,Yo=Di-Lr,ta=Dn+rr,us=Dn-rr;ft[Be]=_o+ta,ft[Be+32]=_o-ta;var Zo=.707106781*(us+Yo);ft[Be+16]=Yo+Zo,ft[Be+48]=Yo-Zo;var Oa=.382683433*((_o=Mo+_r)-(us=Tn+Vi)),ia=.5411961*_o+Oa,Ds=1.306562965*us+Oa,ya=.707106781*(ta=_r+Tn),Te=Vi+ya,st=Vi-ya;ft[Be+40]=st+ia,ft[Be+24]=st-ia,ft[Be+8]=Te+Ds,ft[Be+56]=Te-Ds,Be++}for(Ne=0;Ne<64;++Ne)Ye=ft[Ne]*kt[Ne],f[Ne]=Ye>0?Ye+.5|0:Ye-.5|0;return f}(K,Q),He=0;He<64;++He)p[L[He]]=Me[He];var $e=p[0]-ee;ee=p[0],$e==0?ue(Z[0]):(ue(Z[h[W=32767+$e]]),ue(u[W]));for(var Je=63;Je>0&&p[Je]==0;)Je--;if(Je==0)return ue(ce),ee;for(var ve,ge=1;ge<=Je;){for(var pt=ge;p[ge]==0&&ge<=Je;)++ge;var vt=ge-pt;if(vt>=16){ve=vt>>4;for(var Pt=1;Pt<=ve;++Pt)ue(me);vt&=15}W=32767+p[ge],ue(G[(vt<<4)+h[W]]),ue(u[W]),ge++}return Je!=63&&ue(ce),ee}function Ge(K){K=Math.min(Math.max(K,1),100),o!=K&&(function(Q){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var G=s((ee[Z]*Q+50)/100);G=Math.min(Math.max(G,1),255),a[L[Z]]=G}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var me=s((W[ce]*Q+50)/100);me=Math.min(Math.max(me,1),255),l[L[ce]]=me}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,$e=0;$e<8;$e++)for(var Je=0;Je<8;Je++)c[He]=1/(a[L[He]]*Me[$e]*Me[Je]*8),d[He]=1/(l[L[He]]*Me[$e]*Me[Je]*8),He++}(K<50?Math.floor(5e3/K):Math.floor(200-2*K)),o=K)}this.encode=function(K,Q){Q&&Ge(Q),v=new Array,m=0,g=7,_e(65496),_e(65504),_e(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),_e(1),_e(1),se(0),se(0),function(){_e(65499),_e(132),se(0);for(var oe=0;oe<64;oe++)se(a[oe]);se(1);for(var re=0;re<64;re++)se(l[re])}(),function(oe,re){_e(65472),_e(17),se(8),_e(re),_e(oe),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(K.width,K.height),function(){_e(65476),_e(418),se(0);for(var oe=0;oe<16;oe++)se(F[oe+1]);for(var re=0;re<=11;re++)se(T[re]);se(16);for(var J=0;J<16;J++)se(P[J+1]);for(var pe=0;pe<=161;pe++)se(A[pe]);se(1);for(var Ee=0;Ee<16;Ee++)se(O[Ee+1]);for(var ke=0;ke<=11;ke++)se(V[ke]);se(17);for(var Le=0;Le<16;Le++)se(U[Le+1]);for(var Ne=0;Ne<=161;Ne++)se(ae[Ne])}(),_e(65498),_e(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var ee=0,Z=0,G=0;m=0,g=7,this.encode.displayName="_encode_";for(var W,ce,me,Me,He,$e,Je,ve,ge,pt=K.data,vt=K.width,Pt=K.height,ft=4*vt,kt=0;kt<Pt;){for(W=0;W<ft;){for(He=ft*kt+W,Je=-1,ve=0,ge=0;ge<64;ge++)$e=He+(ve=ge>>3)*ft+(Je=4*(7&ge)),kt+ve>=Pt&&($e-=ft*(kt+1+ve-Pt)),W+Je>=ft&&($e-=W+Je-ft+4),ce=pt[$e++],me=pt[$e++],Me=pt[$e++],b[ge]=(_[ce]+_[me+256|0]+_[Me+512|0]>>16)-128,w[ge]=(_[ce+768|0]+_[me+1024|0]+_[Me+1280|0]>>16)-128,x[ge]=(_[ce+1280|0]+_[me+1536|0]+_[Me+1792|0]>>16)-128;ee=Ve(b,c,ee,t,n),Z=Ve(w,d,Z,i,r),G=Ve(x,d,G,i,r),W+=32}kt+=8}if(g>=0){var be=[];be[1]=g+1,be[0]=(1<<g+1)-1,ue(be)}return _e(65497),new Uint8Array(v)},e=e||50,function(){for(var K=String.fromCharCode,Q=0;Q<256;Q++)R[Q]=K(Q)}(),t=ne(F,T),i=ne(O,V),n=ne(P,A),r=ne(U,ae),function(){for(var K=1,Q=2,ee=1;ee<=15;ee++){for(var Z=K;Z<Q;Z++)h[32767+Z]=ee,u[32767+Z]=[],u[32767+Z][1]=ee,u[32767+Z][0]=Z;for(var G=-(Q-1);G<=-K;G++)h[32767+G]=ee,u[32767+G]=[],u[32767+G][1]=ee,u[32767+G][0]=Q-1+G;K<<=1,Q<<=1}}(),function(){for(var K=0;K<256;K++)_[K]=19595*K,_[K+256|0]=38470*K,_[K+512|0]=7471*K+32768,_[K+768|0]=-11059*K,_[K+1024|0]=-21709*K,_[K+1280|0]=32768*K+8421375,_[K+1536|0]=-27439*K,_[K+1792|0]=-5329*K}(),Ge(e)}function Lu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function c$(e){function t(T){if(!T)throw Error("assert :P")}function i(T,P,A){for(var O=0;4>O;O++)if(T[P+O]!=A.charCodeAt(O))return!0;return!1}function n(T,P,A,O,V){for(var U=0;U<V;U++)T[P+U]=A[O+U]}function r(T,P,A,O){for(var V=0;V<O;V++)T[P+V]=A}function o(T){return new Int32Array(T)}function s(T,P){for(var A=[],O=0;O<T;O++)A.push(new P);return A}function a(T,P){var A=[];return function O(V,U,ae){for(var ne=ae[U],ue=0;ue<ne&&(V.push(ae.length>U+1?[]:new P),!(ae.length<U+1));ue++)O(V[ue],U+1,ae)}(A,0,T),A}var l=function(){var T=this;function P(M,E){for(var B=1<<E-1>>>0;M&B;)B>>>=1;return B?(M&B-1)+B:M}function A(M,E,B,q,he){t(!(q%B));do M[E+(q-=B)]=he;while(0<q)}function O(M,E,B,q,he){if(t(2328>=he),512>=he)var fe=o(512);else if((fe=o(he))==null)return 0;return function(Ce,Re,Oe,We,at,Ct){var je,ut,mt=Re,qt=1<<Oe,_t=o(16),$t=o(16);for(t(at!=0),t(We!=null),t(Ce!=null),t(0<Oe),ut=0;ut<at;++ut){if(15<We[ut])return 0;++_t[We[ut]]}if(_t[0]==at)return 0;for($t[1]=0,je=1;15>je;++je){if(_t[je]>1<<je)return 0;$t[je+1]=$t[je]+_t[je]}for(ut=0;ut<at;++ut)je=We[ut],0<We[ut]&&(Ct[$t[je]++]=ut);if($t[15]==1)return(We=new V).g=0,We.value=Ct[0],A(Ce,mt,1,qt,We),qt;var ei,fi=-1,si=qt-1,vn=0,rn=1,ur=1,Zi=1<<Oe;for(ut=0,je=1,at=2;je<=Oe;++je,at<<=1){if(rn+=ur<<=1,0>(ur-=_t[je]))return 0;for(;0<_t[je];--_t[je])(We=new V).g=je,We.value=Ct[ut++],A(Ce,mt+vn,at,Zi,We),vn=P(vn,je)}for(je=Oe+1,at=2;15>=je;++je,at<<=1){if(rn+=ur<<=1,0>(ur-=_t[je]))return 0;for(;0<_t[je];--_t[je]){if(We=new V,(vn&si)!=fi){for(mt+=Zi,ei=1<<(fi=je)-Oe;15>fi&&!(0>=(ei-=_t[fi]));)++fi,ei<<=1;qt+=Zi=1<<(ei=fi-Oe),Ce[Re+(fi=vn&si)].g=ei+Oe,Ce[Re+fi].value=mt-Re-fi}We.g=je-Oe,We.value=Ct[ut++],A(Ce,mt+(vn>>Oe),at,Zi,We),vn=P(vn,je)}}return rn!=2*$t[15]-1?0:qt}(M,E,B,q,he,fe)}function V(){this.value=this.g=0}function U(){this.value=this.g=0}function ae(){this.G=s(5,V),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(al,U)}function ne(M,E,B,q){t(M!=null),t(E!=null),t(2147483648>q),M.Ca=254,M.I=0,M.b=-8,M.Ka=0,M.oa=E,M.pa=B,M.Jd=E,M.Yc=B+q,M.Zc=4<=q?B+q-4+1:B,ce(M)}function ue(M,E){for(var B=0;0<E--;)B|=Me(M,128)<<E;return B}function se(M,E){var B=ue(M,E);return me(M)?-B:B}function _e(M,E,B,q){var he,fe=0;for(t(M!=null),t(E!=null),t(4294967288>q),M.Sb=q,M.Ra=0,M.u=0,M.h=0,4<q&&(q=4),he=0;he<q;++he)fe+=E[B+he]<<8*he;M.Ra=fe,M.bb=q,M.oa=E,M.pa=B}function Ve(M){for(;8<=M.u&&M.bb<M.Sb;)M.Ra>>>=8,M.Ra+=M.oa[M.pa+M.bb]<<Tl-8>>>0,++M.bb,M.u-=8;Z(M)&&(M.h=1,M.u=0)}function Ge(M,E){if(t(0<=E),!M.h&&E<=fs){var B=ee(M)&Sa[E];return M.u+=E,Ve(M),B}return M.h=1,M.u=0}function K(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(M){return M.Ra>>>(M.u&Tl-1)>>>0}function Z(M){return t(M.bb<=M.Sb),M.h||M.bb==M.Sb&&M.u>Tl}function G(M,E){M.u=E,M.h=Z(M)}function W(M){M.u>=aa&&(t(M.u>=aa),Ve(M))}function ce(M){t(M!=null&&M.oa!=null),M.pa<M.Zc?(M.I=(M.oa[M.pa++]|M.I<<8)>>>0,M.b+=8):(t(M!=null&&M.oa!=null),M.pa<M.Yc?(M.b+=8,M.I=M.oa[M.pa++]|M.I<<8):M.Ka?M.b=0:(M.I<<=8,M.b+=8,M.Ka=1))}function me(M){return ue(M,1)}function Me(M,E){var B=M.Ca;0>M.b&&ce(M);var q=M.b,he=B*E>>>8,fe=(M.I>>>q>he)+0;for(fe?(B-=he,M.I-=he+1<<q>>>0):B=he+1,q=B,he=0;256<=q;)he+=8,q>>=8;return q=7^he+ll[q],M.b-=q,M.Ca=(B<<q)-1,fe}function He(M,E,B){M[E+0]=B>>24&255,M[E+1]=B>>16&255,M[E+2]=B>>8&255,M[E+3]=255&B}function $e(M,E){return M[E+0]|M[E+1]<<8}function Je(M,E){return $e(M,E)|M[E+2]<<16}function ve(M,E){return $e(M,E)|$e(M,E+2)<<16}function ge(M,E){var B=1<<E;return t(M!=null),t(0<E),M.X=o(B),M.X==null?0:(M.Mb=32-E,M.Xa=E,1)}function pt(M,E){t(M!=null),t(E!=null),t(M.Xa==E.Xa),n(E.X,0,M.X,0,1<<E.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function Pt(M,E,B,q){t(B!=null),t(q!=null);var he=B[0],fe=q[0];return he==0&&(he=(M*fe+E/2)/E),fe==0&&(fe=(E*he+M/2)/M),0>=he||0>=fe?0:(B[0]=he,q[0]=fe,1)}function ft(M,E){return M+(1<<E)-1>>>E}function kt(M,E){return((4278255360&M)+(4278255360&E)>>>0&4278255360)+((16711935&M)+(16711935&E)>>>0&16711935)>>>0}function be(M,E){T[E]=function(B,q,he,fe,Ce,Re,Oe){var We;for(We=0;We<Ce;++We){var at=T[M](Re[Oe+We-1],he,fe+We);Re[Oe+We]=kt(B[q+We],at)}}}function oe(){this.ud=this.hd=this.jd=0}function re(M,E){return((4278124286&(M^E))>>>1)+(M&E)>>>0}function J(M){return 0<=M&&256>M?M:0>M?0:255<M?255:void 0}function pe(M,E){return J(M+(M-E+.5>>1))}function Ee(M,E,B){return Math.abs(E-B)-Math.abs(M-B)}function ke(M,E,B,q,he,fe,Ce){for(q=fe[Ce-1],B=0;B<he;++B)fe[Ce+B]=q=kt(M[E+B],q)}function Le(M,E,B,q,he){var fe;for(fe=0;fe<B;++fe){var Ce=M[E+fe],Re=Ce>>8&255,Oe=16711935&(Oe=(Oe=16711935&Ce)+((Re<<16)+Re));q[he+fe]=(4278255360&Ce)+Oe>>>0}}function Ne(M,E){E.jd=255&M,E.hd=M>>8&255,E.ud=M>>16&255}function Ye(M,E,B,q,he,fe){var Ce;for(Ce=0;Ce<q;++Ce){var Re=E[B+Ce],Oe=Re>>>8,We=Re,at=255&(at=(at=Re>>>16)+((M.jd<<24>>24)*(Oe<<24>>24)>>>5));We=255&(We=(We+=(M.hd<<24>>24)*(Oe<<24>>24)>>>5)+((M.ud<<24>>24)*(at<<24>>24)>>>5)),he[fe+Ce]=(4278255360&Re)+(at<<16)+We}}function Be(M,E,B,q,he){T[E]=function(fe,Ce,Re,Oe,We,at,Ct,je,ut){for(Oe=Ct;Oe<je;++Oe)for(Ct=0;Ct<ut;++Ct)We[at++]=he(Re[q(fe[Ce++])])},T[M]=function(fe,Ce,Re,Oe,We,at,Ct){var je=8>>fe.b,ut=fe.Ea,mt=fe.K[0],qt=fe.w;if(8>je)for(fe=(1<<fe.b)-1,qt=(1<<je)-1;Ce<Re;++Ce){var _t,$t=0;for(_t=0;_t<ut;++_t)_t&fe||($t=q(Oe[We++])),at[Ct++]=he(mt[$t&qt]),$t>>=je}else T["VP8LMapColor"+B](Oe,We,mt,qt,at,Ct,Ce,Re,ut)}}function ct(M,E,B,q,he){for(B=E+B;E<B;){var fe=M[E++];q[he++]=fe>>16&255,q[he++]=fe>>8&255,q[he++]=255&fe}}function gt(M,E,B,q,he){for(B=E+B;E<B;){var fe=M[E++];q[he++]=fe>>16&255,q[he++]=fe>>8&255,q[he++]=255&fe,q[he++]=fe>>24&255}}function Tt(M,E,B,q,he){for(B=E+B;E<B;){var fe=(Ce=M[E++])>>16&240|Ce>>12&15,Ce=240&Ce|Ce>>28&15;q[he++]=fe,q[he++]=Ce}}function Ft(M,E,B,q,he){for(B=E+B;E<B;){var fe=(Ce=M[E++])>>16&248|Ce>>13&7,Ce=Ce>>5&224|Ce>>3&31;q[he++]=fe,q[he++]=Ce}}function wi(M,E,B,q,he){for(B=E+B;E<B;){var fe=M[E++];q[he++]=255&fe,q[he++]=fe>>8&255,q[he++]=fe>>16&255}}function Vt(M,E,B,q,he,fe){if(fe==0)for(B=E+B;E<B;)He(q,((fe=M[E++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),he+=32;else n(q,he,M,E,B)}function li(M,E){T[E][0]=T[M+"0"],T[E][1]=T[M+"1"],T[E][2]=T[M+"2"],T[E][3]=T[M+"3"],T[E][4]=T[M+"4"],T[E][5]=T[M+"5"],T[E][6]=T[M+"6"],T[E][7]=T[M+"7"],T[E][8]=T[M+"8"],T[E][9]=T[M+"9"],T[E][10]=T[M+"10"],T[E][11]=T[M+"11"],T[E][12]=T[M+"12"],T[E][13]=T[M+"13"],T[E][14]=T[M+"0"],T[E][15]=T[M+"0"]}function Ue(M){return M==Qv||M==Jv||M==wf||M==uh}function yt(){this.eb=[],this.size=this.A=this.fb=0}function dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yt,this.f.kb=new dt,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ei(M){return alert("todo:WebPSamplerProcessPlane"),M.T}function Yi(M,E){var B=M.T,q=E.ba.f.RGBA,he=q.eb,fe=q.fb+M.ka*q.A,Ce=_c[E.ba.S],Re=M.y,Oe=M.O,We=M.f,at=M.N,Ct=M.ea,je=M.W,ut=E.cc,mt=E.dc,qt=E.Mc,_t=E.Nc,$t=M.ka,ei=M.ka+M.T,fi=M.U,si=fi+1>>1;for($t==0?Ce(Re,Oe,null,null,We,at,Ct,je,We,at,Ct,je,he,fe,null,null,fi):(Ce(E.ec,E.fc,Re,Oe,ut,mt,qt,_t,We,at,Ct,je,he,fe-q.A,he,fe,fi),++B);$t+2<ei;$t+=2)ut=We,mt=at,qt=Ct,_t=je,at+=M.Rc,je+=M.Rc,fe+=2*q.A,Ce(Re,(Oe+=2*M.fa)-M.fa,Re,Oe,ut,mt,qt,_t,We,at,Ct,je,he,fe-q.A,he,fe,fi);return Oe+=M.fa,M.j+ei<M.o?(n(E.ec,E.fc,Re,Oe,fi),n(E.cc,E.dc,We,at,si),n(E.Mc,E.Nc,Ct,je,si),B--):1&ei||Ce(Re,Oe,null,null,We,at,Ct,je,We,at,Ct,je,he,fe+q.A,null,null,fi),B}function Li(M,E,B){var q=M.F,he=[M.J];if(q!=null){var fe=M.U,Ce=E.ba.S,Re=Ce==Zv||Ce==wf;E=E.ba.f.RGBA;var Oe=[0],We=M.ka;Oe[0]=M.T,M.Kb&&(We==0?--Oe[0]:(--We,he[0]-=M.width),M.j+M.ka+M.T==M.o&&(Oe[0]=M.o-M.j-We));var at=E.eb;We=E.fb+We*E.A,M=o2(q,he[0],M.width,fe,Oe,at,We+(Re?0:3),E.A),t(B==Oe),M&&Ue(Ce)&&Vg(at,We,Re,fe,Oe,E.A)}return 0}function At(M){var E=M.ma,B=E.ba.S,q=11>B,he=B==Xv||B==Kv||B==Zv||B==dw||B==12||Ue(B);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!vf(E.Oa,M,he?11:12))return 0;if(he&&Ue(B)&&El(),M.da)alert("todo:use_scaling");else{if(q){if(E.Ib=Ei,M.Kb){if(B=M.U+1>>1,E.memory=o(M.U+2*B),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+M.U,E.Mc=E.cc,E.Nc=E.dc+B,E.Ib=Yi,El()}}else alert("todo:EmitYUV");he&&(E.Jb=Li,q&&Vr())}if(q&&!C2){for(M=0;256>M;++M)x2[M]=89858*(M-128)+ib>>xf,S2[M]=-22014*(M-128)+ib,k3[M]=-45773*(M-128),R3[M]=113618*(M-128)+ib>>xf;for(M=Hg;M<mw;++M)E=76283*(M-16)+ib>>xf,I3[M-Hg]=Vn(E,255),P3[M-Hg]=Vn(E+8>>4,15);C2=1}return 1}function jt(M){var E=M.ma,B=M.U,q=M.T;return t(!(1&M.ka)),0>=B||0>=q?0:(B=E.Ib(M,E),E.Jb!=null&&E.Jb(M,E,B),E.Dc+=B,1)}function Qt(M){M.ma.memory=null}function Di(M,E,B,q){return Ge(M,8)!=47?0:(E[0]=Ge(M,14)+1,B[0]=Ge(M,14)+1,q[0]=Ge(M,1),Ge(M,3)!=0?0:!M.h)}function Vi(M,E){if(4>M)return M+1;var B=M-2>>1;return(2+(1&M)<<B)+Ge(E,B)+1}function Dn(M,E){return 120<E?E-120:1<=(B=((B=v3[E-1])>>4)*M+(8-(15&B)))?B:1;var B}function Tn(M,E,B){var q=ee(B),he=M[E+=255&q].g-8;return 0<he&&(G(B,B.u+8),q=ee(B),E+=M[E].value,E+=q&(1<<he)-1),G(B,B.u+M[E].g),M[E].value}function rr(M,E,B){return B.g+=M.g,B.value+=M.value<<E>>>0,t(8>=B.g),M.g}function _r(M,E,B){var q=M.xc;return t((E=q==0?0:M.vc[M.md*(B>>q)+(E>>q)])<M.Wb),M.Ya[E]}function Lr(M,E,B,q){var he=M.ab,fe=M.c*E,Ce=M.C;E=Ce+E;var Re=B,Oe=q;for(q=M.Ta,B=M.Ua;0<he--;){var We=M.gc[he],at=Ce,Ct=E,je=Re,ut=Oe,mt=(Oe=q,Re=B,We.Ea);switch(t(at<Ct),t(Ct<=We.nc),We.hc){case 2:Jo(je,ut,(Ct-at)*mt,Oe,Re);break;case 0:var qt=at,_t=Ct,$t=Oe,ei=Re,fi=(Zi=We).Ea;qt==0&&(Id(je,ut,null,null,1,$t,ei),ke(je,ut+1,0,0,fi-1,$t,ei+1),ut+=fi,ei+=fi,++qt);for(var si=1<<Zi.b,vn=si-1,rn=ft(fi,Zi.b),ur=Zi.K,Zi=Zi.w+(qt>>Zi.b)*rn;qt<_t;){var Pr=ur,Hs=Zi,hr=1;for(Zc(je,ut,$t,ei-fi,1,$t,ei);hr<fi;){var mn=(hr&~vn)+si;mn>fi&&(mn=fi),(0,yu[Pr[Hs++]>>8&15])(je,ut+ +hr,$t,ei+hr-fi,mn-hr,$t,ei+hr),hr=mn}ut+=fi,ei+=fi,++qt&vn||(Zi+=rn)}Ct!=We.nc&&n(Oe,Re-mt,Oe,Re+(Ct-at-1)*mt,mt);break;case 1:for(mt=je,_t=ut,fi=(je=We.Ea)-(ei=je&~($t=(ut=1<<We.b)-1)),qt=ft(je,We.b),si=We.K,We=We.w+(at>>We.b)*qt;at<Ct;){for(vn=si,rn=We,ur=new oe,Zi=_t+ei,Pr=_t+je;_t<Zi;)Ne(vn[rn++],ur),dh(ur,mt,_t,ut,Oe,Re),_t+=ut,Re+=ut;_t<Pr&&(Ne(vn[rn++],ur),dh(ur,mt,_t,fi,Oe,Re),_t+=fi,Re+=fi),++at&$t||(We+=qt)}break;case 3:if(je==Oe&&ut==Re&&0<We.b){for(_t=Oe,je=mt=Re+(Ct-at)*mt-(ei=(Ct-at)*ft(We.Ea,We.b)),ut=Oe,$t=Re,qt=[],ei=(fi=ei)-1;0<=ei;--ei)qt[ei]=ut[$t+ei];for(ei=fi-1;0<=ei;--ei)_t[je+ei]=qt[ei];Qc(We,at,Ct,Oe,mt,Oe,Re)}else Qc(We,at,Ct,je,ut,Oe,Re)}Re=q,Oe=B}Oe!=B&&n(q,B,Re,Oe,fe)}function Mo(M,E){var B=M.V,q=M.Ba+M.c*M.C,he=E-M.C;if(t(E<=M.l.o),t(16>=he),0<he){var fe=M.l,Ce=M.Ta,Re=M.Ua,Oe=fe.width;if(Lr(M,he,B,q),he=Re=[Re],t((B=M.C)<(q=E)),t(fe.v<fe.va),q>fe.o&&(q=fe.o),B<fe.j){var We=fe.j-B;B=fe.j,he[0]+=We*Oe}if(B>=q?B=0:(he[0]+=4*fe.v,fe.ka=B-fe.j,fe.U=fe.va-fe.v,fe.T=q-B,B=1),B){if(Re=Re[0],11>(B=M.ca).S){var at=B.f.RGBA,Ct=(q=B.S,he=fe.U,fe=fe.T,We=at.eb,at.A),je=fe;for(at=at.fb+M.Ma*at.A;0<je--;){var ut=Ce,mt=Re,qt=he,_t=We,$t=at;switch(q){case $v:ze(ut,mt,qt,_t,$t);break;case Xv:rt(ut,mt,qt,_t,$t);break;case Qv:rt(ut,mt,qt,_t,$t),Vg(_t,$t,0,qt,1,0);break;case h2:Ut(ut,mt,qt,_t,$t);break;case Kv:Vt(ut,mt,qt,_t,$t,1);break;case Jv:Vt(ut,mt,qt,_t,$t,1),Vg(_t,$t,0,qt,1,0);break;case Zv:Vt(ut,mt,qt,_t,$t,0);break;case wf:Vt(ut,mt,qt,_t,$t,0),Vg(_t,$t,1,qt,1,0);break;case dw:bt(ut,mt,qt,_t,$t);break;case uh:bt(ut,mt,qt,_t,$t),r2(_t,$t,qt,1,0);break;case uw:Et(ut,mt,qt,_t,$t);break;default:t(0)}Re+=Oe,at+=Ct}M.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");t(M.Ma<=B.height)}}M.C=E,t(M.C<=M.i)}function _o(M){var E;if(0<M.ua)return 0;for(E=0;E<M.Wb;++E){var B=M.Ya[E].G,q=M.Ya[E].H;if(0<B[1][q[1]+0].g||0<B[2][q[2]+0].g||0<B[3][q[3]+0].g)return 0}return 1}function Yo(M,E,B,q,he,fe){if(M.Z!=0){var Ce=M.qd,Re=M.rd;for(t(fh[M.Z]!=null);E<B;++E)fh[M.Z](Ce,Re,q,he,q,he,fe),Ce=q,Re=he,he+=fe;M.qd=Ce,M.rd=Re}}function ta(M,E){var B=M.l.ma,q=B.Z==0||B.Z==1?M.l.j:M.C;if(q=M.C<q?q:M.C,t(E<=M.l.o),E>q){var he=M.l.width,fe=B.ca,Ce=B.tb+he*q,Re=M.V,Oe=M.Ba+M.c*q,We=M.gc;t(M.ab==1),t(We[0].hc==3),Va(We[0],q,E,Re,Oe,fe,Ce),Yo(B,q,E,fe,Ce,he)}M.C=M.Ma=E}function us(M,E,B,q,he,fe,Ce){var Re=M.$/q,Oe=M.$%q,We=M.m,at=M.s,Ct=B+M.$,je=Ct;he=B+q*he;var ut=B+q*fe,mt=280+at.ua,qt=M.Pb?Re:16777216,_t=0<at.ua?at.Wa:null,$t=at.wc,ei=Ct<ut?_r(at,Oe,Re):null;t(M.C<fe),t(ut<=he);var fi=!1;e:for(;;){for(;fi||Ct<ut;){var si=0;if(Re>=qt){var vn=Ct-B;t((qt=M).Pb),qt.wd=qt.m,qt.xd=vn,0<qt.s.ua&&pt(qt.s.Wa,qt.s.vb),qt=Re+_3}if(Oe&$t||(ei=_r(at,Oe,Re)),t(ei!=null),ei.Qb&&(E[Ct]=ei.qb,fi=!0),!fi)if(W(We),ei.jc){si=We,vn=E;var rn=Ct,ur=ei.pd[ee(si)&al-1];t(ei.jc),256>ur.g?(G(si,si.u+ur.g),vn[rn]=ur.value,si=0):(G(si,si.u+ur.g-256),t(256<=ur.value),si=ur.value),si==0&&(fi=!0)}else si=Tn(ei.G[0],ei.H[0],We);if(We.h)break;if(fi||256>si){if(!fi)if(ei.nd)E[Ct]=(ei.qb|si<<8)>>>0;else{if(W(We),fi=Tn(ei.G[1],ei.H[1],We),W(We),vn=Tn(ei.G[2],ei.H[2],We),rn=Tn(ei.G[3],ei.H[3],We),We.h)break;E[Ct]=(rn<<24|fi<<16|si<<8|vn)>>>0}if(fi=!1,++Ct,++Oe>=q&&(Oe=0,++Re,Ce!=null&&Re<=fe&&!(Re%16)&&Ce(M,Re),_t!=null))for(;je<Ct;)si=E[je++],_t.X[(506832829*si&4294967295)>>>_t.Mb]=si}else if(280>si){if(si=Vi(si-256,We),vn=Tn(ei.G[4],ei.H[4],We),W(We),vn=Dn(q,vn=Vi(vn,We)),We.h)break;if(Ct-B<vn||he-Ct<si)break e;for(rn=0;rn<si;++rn)E[Ct+rn]=E[Ct+rn-vn];for(Ct+=si,Oe+=si;Oe>=q;)Oe-=q,++Re,Ce!=null&&Re<=fe&&!(Re%16)&&Ce(M,Re);if(t(Ct<=he),Oe&$t&&(ei=_r(at,Oe,Re)),_t!=null)for(;je<Ct;)si=E[je++],_t.X[(506832829*si&4294967295)>>>_t.Mb]=si}else{if(!(si<mt))break e;for(fi=si-280,t(_t!=null);je<Ct;)si=E[je++],_t.X[(506832829*si&4294967295)>>>_t.Mb]=si;si=Ct,t(!(fi>>>(vn=_t).Xa)),E[si]=vn.X[fi],fi=!0}fi||t(We.h==Z(We))}if(M.Pb&&We.h&&Ct<he)t(M.m.h),M.a=5,M.m=M.wd,M.$=M.xd,0<M.s.ua&&pt(M.s.vb,M.s.Wa);else{if(We.h)break e;Ce?.(M,Re>fe?fe:Re),M.a=0,M.$=Ct-B}return 1}return M.a=3,0}function Zo(M){t(M!=null),M.vc=null,M.yc=null,M.Ya=null;var E=M.Wa;E!=null&&(E.X=null),M.vb=null,t(M!=null)}function Oa(){var M=new mi;return M==null?null:(M.a=0,M.xb=v2,li("Predictor","VP8LPredictors"),li("Predictor","VP8LPredictors_C"),li("PredictorAdd","VP8LPredictorsAdd"),li("PredictorAdd","VP8LPredictorsAdd_C"),Jo=Le,dh=Ye,ze=ct,rt=gt,bt=Tt,Et=Ft,Ut=wi,T.VP8LMapColor32b=Ba,T.VP8LMapColor8b=_f,M)}function ia(M,E,B,q,he){var fe=1,Ce=[M],Re=[E],Oe=q.m,We=q.s,at=null,Ct=0;e:for(;;){if(B)for(;fe&&Ge(Oe,1);){var je=Ce,ut=Re,mt=q,qt=1,_t=mt.m,$t=mt.gc[mt.ab],ei=Ge(_t,2);if(mt.Oc&1<<ei)fe=0;else{switch(mt.Oc|=1<<ei,$t.hc=ei,$t.Ea=je[0],$t.nc=ut[0],$t.K=[null],++mt.ab,t(4>=mt.ab),ei){case 0:case 1:$t.b=Ge(_t,3)+2,qt=ia(ft($t.Ea,$t.b),ft($t.nc,$t.b),0,mt,$t.K),$t.K=$t.K[0];break;case 3:var fi,si=Ge(_t,8)+1,vn=16<si?0:4<si?1:2<si?2:3;if(je[0]=ft($t.Ea,vn),$t.b=vn,fi=qt=ia(si,1,0,mt,$t.K)){var rn,ur=si,Zi=$t,Pr=1<<(8>>Zi.b),Hs=o(Pr);if(Hs==null)fi=0;else{var hr=Zi.K[0],mn=Zi.w;for(Hs[0]=Zi.K[0][0],rn=1;rn<1*ur;++rn)Hs[rn]=kt(hr[mn+rn],Hs[rn-1]);for(;rn<4*Pr;++rn)Hs[rn]=0;Zi.K[0]=null,Zi.K[0]=Hs,fi=1}}qt=fi;break;case 2:break;default:t(0)}fe=qt}}if(Ce=Ce[0],Re=Re[0],fe&&Ge(Oe,1)&&!(fe=1<=(Ct=Ge(Oe,4))&&11>=Ct)){q.a=3;break e}var Pi;if(Pi=fe)t:{var As,tr,Gr,No=q,Ma=Ce,dl=Re,ms=Ct,gs=B,ul=No.m,Us=No.s,qr=[null],ao=1,vs=0,lo=b3[ms];i:for(;;){if(gs&&Ge(ul,1)){var Ea=Ge(ul,3)+2,td=ft(Ma,Ea),co=ft(dl,Ea),Gs=td*co;if(!ia(td,co,0,No,qr))break i;for(qr=qr[0],Us.xc=Ea,As=0;As<Gs;++As){var xo=qr[As]>>8&65535;qr[As]=xo,xo>=ao&&(ao=xo+1)}}if(ul.h)break i;for(tr=0;5>tr;++tr){var Ws=Cf[tr];!tr&&0<ms&&(Ws+=1<<ms),vs<Ws&&(vs=Ws)}var Jl=s(ao*lo,V),hl=ao,ec=s(hl,ae);if(ec==null)var fl=null;else t(65536>=hl),fl=ec;var js=o(vs);if(fl==null||js==null||Jl==null){No.a=1;break i}var za=Jl;for(As=Gr=0;As<ao;++As){var bn=fl[As],C=bn.G,k=bn.H,H=0,X=1,ye=0;for(tr=0;5>tr;++tr){Ws=Cf[tr],C[tr]=za,k[tr]=Gr,!tr&&0<ms&&(Ws+=1<<ms);r:{var it,Bt=Ws,$i=No,Pn=js,Hr=za,pl=Gr,id=0,ml=$i.m,Foe=Ge(ml,1);if(r(Pn,0,0,Bt),Foe){var Ooe=Ge(ml,1)+1,Loe=Ge(ml,1),p7=Ge(ml,Loe==0?1:8);Pn[p7]=1,Ooe==2&&(Pn[p7=Ge(ml,8)]=1);var T2=1}else{var m7=o(19),g7=Ge(ml,4)+4;if(19<g7){$i.a=3;var A2=0;break r}for(it=0;it<g7;++it)m7[m2[it]]=Ge(ml,3);var O3=void 0,gw=void 0,v7=$i,Noe=m7,R2=Bt,b7=Pn,L3=0,Qp=v7.m,_7=8,y7=s(128,V);n:for(;O(y7,0,7,Noe,19);){if(Ge(Qp,1)){var Boe=2+2*Ge(Qp,3);if((O3=2+Ge(Qp,Boe))>R2)break n}else O3=R2;for(gw=0;gw<R2&&O3--;){W(Qp);var w7=y7[0+(127&ee(Qp))];G(Qp,Qp.u+w7.g);var nb=w7.value;if(16>nb)b7[gw++]=nb,nb!=0&&(_7=nb);else{var Voe=nb==16,C7=nb-16,zoe=f2[C7],x7=Ge(Qp,eb[C7])+zoe;if(gw+x7>R2)break n;for(var Hoe=Voe?_7:0;0<x7--;)b7[gw++]=Hoe}}L3=1;break n}L3||(v7.a=3),T2=L3}(T2=T2&&!ml.h)&&(id=O(Hr,pl,8,Pn,Bt)),T2&&id!=0?A2=id:($i.a=3,A2=0)}if(A2==0)break i;if(X&&p2[tr]==1&&(X=za[Gr].g==0),H+=za[Gr].g,Gr+=A2,3>=tr){var vw,N3=js[0];for(vw=1;vw<Ws;++vw)js[vw]>N3&&(N3=js[vw]);ye+=N3}}if(bn.nd=X,bn.Qb=0,X&&(bn.qb=(C[3][k[3]+0].value<<24|C[1][k[1]+0].value<<16|C[2][k[2]+0].value)>>>0,H==0&&256>C[0][k[0]+0].value&&(bn.Qb=1,bn.qb+=C[0][k[0]+0].value<<8)),bn.jc=!bn.Qb&&6>ye,bn.jc){var k2,Sf=bn;for(k2=0;k2<al;++k2){var Jp=k2,em=Sf.pd[Jp],I2=Sf.G[0][Sf.H[0]+Jp];256<=I2.value?(em.g=I2.g+256,em.value=I2.value):(em.g=0,em.value=0,Jp>>=rr(I2,8,em),Jp>>=rr(Sf.G[1][Sf.H[1]+Jp],16,em),Jp>>=rr(Sf.G[2][Sf.H[2]+Jp],0,em),rr(Sf.G[3][Sf.H[3]+Jp],24,em))}}}Us.vc=qr,Us.Wb=ao,Us.Ya=fl,Us.yc=Jl,Pi=1;break t}Pi=0}if(!(fe=Pi)){q.a=3;break e}if(0<Ct){if(We.ua=1<<Ct,!ge(We.Wa,Ct)){q.a=1,fe=0;break e}}else We.ua=0;var B3=q,S7=Ce,Uoe=Re,V3=B3.s,z3=V3.xc;if(B3.c=S7,B3.i=Uoe,V3.md=ft(S7,z3),V3.wc=z3==0?-1:(1<<z3)-1,B){q.xb=E3;break e}if((at=o(Ce*Re))==null){q.a=1,fe=0;break e}fe=(fe=us(q,at,0,Ce,Re,Re,null))&&!Oe.h;break e}return fe?(he!=null?he[0]=at:(t(at==null),t(B)),q.$=0,B||Zo(We)):Zo(We),fe}function Ds(M,E){var B=M.c*M.i,q=B+E+16*E;return t(M.c<=E),M.V=o(q),M.V==null?(M.Ta=null,M.Ua=0,M.a=1,0):(M.Ta=M.V,M.Ua=M.Ba+B+E,1)}function ya(M,E){var B=M.C,q=E-B,he=M.V,fe=M.Ba+M.c*B;for(t(E<=M.l.o);0<q;){var Ce=16<q?16:q,Re=M.l.ma,Oe=M.l.width,We=Oe*Ce,at=Re.ca,Ct=Re.tb+Oe*B,je=M.Ta,ut=M.Ua;Lr(M,Ce,he,fe),s2(je,ut,at,Ct,We),Yo(Re,B,B+Ce,at,Ct,Oe),q-=Ce,he+=Ce*M.c,B+=Ce}t(B==E),M.C=M.Ma=E}function Te(){this.ub=this.yd=this.td=this.Rb=0}function st(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Mt(){this.Yb=function(){var M=[];return function E(B,q,he){for(var fe=he[q],Ce=0;Ce<fe&&(B.push(he.length>q+1?[]:0),!(he.length<q+1));Ce++)E(B[Ce],q+1,he)}(M,0,[3,11]),M}()}function ot(){this.jb=o(3),this.Wc=a([4,8],Mt),this.Xc=a([4,17],Mt)}function ci(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function _i(){this.ld=this.La=this.dd=this.tc=0}function Fi(){this.Na=this.la=0}function Gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function En(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wn(){this.uc=this.M=this.Nb=0,this.wa=Array(new _i),this.Y=0,this.ya=Array(new En),this.aa=0,this.l=new Un}function dn(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ln(){this.cb=this.a=0,this.sc="",this.m=new K,this.Od=new Te,this.Kc=new st,this.ed=new ci,this.Qa=new xt,this.Ic=this.$c=this.Aa=0,this.D=new wn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,K),this.ia=0,this.pb=s(4,Gi),this.Pa=new ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dn),this.Hd=0,this.rb=Array(new Fi),this.sb=0,this.wa=Array(new _i),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new En),this.L=this.aa=0,this.gd=a([4,2],_i),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vn(M,E){return 0>M?0:M>E?E:M}function Un(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kr(){var M=new Ln;return M!=null&&(M.a=0,M.sc="OK",M.cb=0,M.Xb=0,zg||(zg=Jn)),M}function un(M,E,B){return M.a==0&&(M.a=E,M.sc=B,M.cb=0),0}function gn(M,E,B){return 3<=B&&M[E+0]==157&&M[E+1]==1&&M[E+2]==42}function Zr(M,E){if(M==null)return 0;if(M.a=0,M.sc="OK",E==null)return un(M,2,"null VP8Io passed to VP8GetHeaders()");var B=E.data,q=E.w,he=E.ha;if(4>he)return un(M,7,"Truncated header.");var fe=B[q+0]|B[q+1]<<8|B[q+2]<<16,Ce=M.Od;if(Ce.Rb=!(1&fe),Ce.td=fe>>1&7,Ce.yd=fe>>4&1,Ce.ub=fe>>5,3<Ce.td)return un(M,3,"Incorrect keyframe parameters.");if(!Ce.yd)return un(M,4,"Frame not displayable.");q+=3,he-=3;var Re=M.Kc;if(Ce.Rb){if(7>he)return un(M,7,"cannot parse picture header");if(!gn(B,q,he))return un(M,3,"Bad code word");Re.c=16383&(B[q+4]<<8|B[q+3]),Re.Td=B[q+4]>>6,Re.i=16383&(B[q+6]<<8|B[q+5]),Re.Ud=B[q+6]>>6,q+=7,he-=7,M.za=Re.c+15>>4,M.Ub=Re.i+15>>4,E.width=Re.c,E.height=Re.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,r((fe=M.Pa).jb,0,255,fe.jb.length),t((fe=M.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,r(fe.Zb,0,0,fe.Zb.length),r(fe.Lb,0,0,fe.Lb)}if(Ce.ub>he)return un(M,7,"bad partition length");ne(fe=M.m,B,q,Ce.ub),q+=Ce.ub,he-=Ce.ub,Ce.Rb&&(Re.Ld=me(fe),Re.Kd=me(fe)),Re=M.Qa;var Oe,We=M.Pa;if(t(fe!=null),t(Re!=null),Re.Cb=me(fe),Re.Cb){if(Re.Bb=me(fe),me(fe)){for(Re.Fb=me(fe),Oe=0;4>Oe;++Oe)Re.Zb[Oe]=me(fe)?se(fe,7):0;for(Oe=0;4>Oe;++Oe)Re.Lb[Oe]=me(fe)?se(fe,6):0}if(Re.Bb)for(Oe=0;3>Oe;++Oe)We.jb[Oe]=me(fe)?ue(fe,8):255}else Re.Bb=0;if(fe.Ka)return un(M,3,"cannot parse segment header");if((Re=M.ed).zd=me(fe),Re.Tb=ue(fe,6),Re.wb=ue(fe,3),Re.Pc=me(fe),Re.Pc&&me(fe)){for(We=0;4>We;++We)me(fe)&&(Re.vd[We]=se(fe,6));for(We=0;4>We;++We)me(fe)&&(Re.od[We]=se(fe,6))}if(M.L=Re.Tb==0?0:Re.zd?1:2,fe.Ka)return un(M,3,"cannot parse filter header");var at=he;if(he=Oe=q,q=Oe+at,Re=at,M.Xb=(1<<ue(M.m,2))-1,at<3*(We=M.Xb))B=7;else{for(Oe+=3*We,Re-=3*We,at=0;at<We;++at){var Ct=B[he+0]|B[he+1]<<8|B[he+2]<<16;Ct>Re&&(Ct=Re),ne(M.Jc[+at],B,Oe,Ct),Oe+=Ct,Re-=Ct,he+=3}ne(M.Jc[+We],B,Oe,Re),B=Oe<q?0:5}if(B!=0)return un(M,B,"cannot parse partitions");for(B=ue(Oe=M.m,7),he=me(Oe)?se(Oe,4):0,q=me(Oe)?se(Oe,4):0,Re=me(Oe)?se(Oe,4):0,We=me(Oe)?se(Oe,4):0,Oe=me(Oe)?se(Oe,4):0,at=M.Qa,Ct=0;4>Ct;++Ct){if(at.Cb){var je=at.Zb[Ct];at.Fb||(je+=B)}else{if(0<Ct){M.pb[Ct]=M.pb[0];continue}je=B}var ut=M.pb[Ct];ut.Sc[0]=hw[Vn(je+he,127)],ut.Sc[1]=fw[Vn(je+0,127)],ut.Eb[0]=2*hw[Vn(je+q,127)],ut.Eb[1]=101581*fw[Vn(je+Re,127)]>>16,8>ut.Eb[1]&&(ut.Eb[1]=8),ut.Qc[0]=hw[Vn(je+We,117)],ut.Qc[1]=fw[Vn(je+Oe,127)],ut.lc=je+Oe}if(!Ce.Rb)return un(M,4,"Not a key frame.");for(me(fe),Ce=M.Pa,B=0;4>B;++B){for(he=0;8>he;++he)for(q=0;3>q;++q)for(Re=0;11>Re;++Re)We=Me(fe,S3[B][he][q][Re])?ue(fe,8):C3[B][he][q][Re],Ce.Wc[B][he].Yb[q][Re]=We;for(he=0;17>he;++he)Ce.Xc[B][he]=Ce.Wc[B][M3[he]]}return M.kc=me(fe),M.kc&&(M.Bd=ue(fe,8)),M.cb=1}function Jn(M,E,B,q,he,fe,Ce){var Re=E[he].Yb[B];for(B=0;16>he;++he){if(!Me(M,Re[B+0]))return he;for(;!Me(M,Re[B+1]);)if(Re=E[++he].Yb[0],B=0,he==16)return 16;var Oe=E[he+1].Yb;if(Me(M,Re[B+2])){var We=M,at=0;if(Me(We,(je=Re)[(Ct=B)+3]))if(Me(We,je[Ct+6])){for(Re=0,Ct=2*(at=Me(We,je[Ct+8]))+(je=Me(We,je[Ct+9+at])),at=0,je=y3[Ct];je[Re];++Re)at+=at+Me(We,je[Re]);at+=3+(8<<Ct)}else Me(We,je[Ct+7])?(at=7+2*Me(We,165),at+=Me(We,145)):at=5+Me(We,159);else at=Me(We,je[Ct+4])?3+Me(We,je[Ct+5]):2;Re=Oe[2]}else at=1,Re=Oe[1];Oe=Ce+w3[he],0>(We=M).b&&ce(We);var Ct,je=We.b,ut=(Ct=We.Ca>>1)-(We.I>>je)>>31;--We.b,We.Ca+=ut,We.Ca|=1,We.I-=(Ct+1&ut)<<je,fe[Oe]=((at^ut)-ut)*q[(0<he)+0]}return 16}function Qo(M){var E=M.rb[M.sb-1];E.la=0,E.Na=0,r(M.zc,0,0,M.zc.length),M.ja=0}function Xn(M,E,B,q,he){he=M[E+B+32*q]+(he>>3),M[E+B+32*q]=-256&he?0>he?0:255:he}function Kn(M,E,B,q,he,fe){Xn(M,E,0,B,q+he),Xn(M,E,1,B,q+fe),Xn(M,E,2,B,q-fe),Xn(M,E,3,B,q-he)}function hs(M){return(20091*M>>16)+M}function Nr(M,E,B,q){var he,fe=0,Ce=o(16);for(he=0;4>he;++he){var Re=M[E+0]+M[E+8],Oe=M[E+0]-M[E+8],We=(35468*M[E+4]>>16)-hs(M[E+12]),at=hs(M[E+4])+(35468*M[E+12]>>16);Ce[fe+0]=Re+at,Ce[fe+1]=Oe+We,Ce[fe+2]=Oe-We,Ce[fe+3]=Re-at,fe+=4,E++}for(he=fe=0;4>he;++he)Re=(M=Ce[fe+0]+4)+Ce[fe+8],Oe=M-Ce[fe+8],We=(35468*Ce[fe+4]>>16)-hs(Ce[fe+12]),Xn(B,q,0,0,Re+(at=hs(Ce[fe+4])+(35468*Ce[fe+12]>>16))),Xn(B,q,1,0,Oe+We),Xn(B,q,2,0,Oe-We),Xn(B,q,3,0,Re-at),fe++,q+=32}function Br(M,E,B,q){var he=M[E+0]+4,fe=35468*M[E+4]>>16,Ce=hs(M[E+4]),Re=35468*M[E+1]>>16;Kn(B,q,0,he+Ce,M=hs(M[E+1]),Re),Kn(B,q,1,he+fe,M,Re),Kn(B,q,2,he-fe,M,Re),Kn(B,q,3,he-Ce,M,Re)}function Jr(M,E,B,q,he){Nr(M,E,B,q),he&&Nr(M,E+16,B,q+4)}function Mr(M,E,B,q){Ii(M,E+0,B,q,1),Ii(M,E+32,B,q+128,1)}function Eo(M,E,B,q){var he;for(M=M[E+0]+4,he=0;4>he;++he)for(E=0;4>E;++E)Xn(B,q,E,he,M)}function Xl(M,E,B,q){M[E+0]&&en(M,E+0,B,q),M[E+16]&&en(M,E+16,B,q+4),M[E+32]&&en(M,E+32,B,q+128),M[E+48]&&en(M,E+48,B,q+128+4)}function $o(M,E,B,q){var he,fe=o(16);for(he=0;4>he;++he){var Ce=M[E+0+he]+M[E+12+he],Re=M[E+4+he]+M[E+8+he],Oe=M[E+4+he]-M[E+8+he],We=M[E+0+he]-M[E+12+he];fe[0+he]=Ce+Re,fe[8+he]=Ce-Re,fe[4+he]=We+Oe,fe[12+he]=We-Oe}for(he=0;4>he;++he)Ce=(M=fe[0+4*he]+3)+fe[3+4*he],Re=fe[1+4*he]+fe[2+4*he],Oe=fe[1+4*he]-fe[2+4*he],We=M-fe[3+4*he],B[q+0]=Ce+Re>>3,B[q+16]=We+Oe>>3,B[q+32]=Ce-Re>>3,B[q+48]=We-Oe>>3,q+=64}function sn(M,E,B){var q,he=E-32,fe=Ql,Ce=255-M[he-1];for(q=0;q<B;++q){var Re,Oe=fe,We=Ce+M[E-1];for(Re=0;Re<B;++Re)M[E+Re]=Oe[We+M[he+Re]];E+=32}}function gc(M,E){sn(M,E,4)}function de(M,E){sn(M,E,8)}function le(M,E){sn(M,E,16)}function De(M,E){var B;for(B=0;16>B;++B)n(M,E+32*B,M,E-32,16)}function xe(M,E){var B;for(B=16;0<B;--B)r(M,E,M[E-1],16),E+=32}function Ae(M,E,B){var q;for(q=0;16>q;++q)r(E,B+32*q,M,16)}function Rt(M,E){var B,q=16;for(B=0;16>B;++B)q+=M[E-1+32*B]+M[E+B-32];Ae(q>>5,M,E)}function Ht(M,E){var B,q=8;for(B=0;16>B;++B)q+=M[E-1+32*B];Ae(q>>4,M,E)}function Ni(M,E){var B,q=8;for(B=0;16>B;++B)q+=M[E+B-32];Ae(q>>4,M,E)}function Ci(M,E){Ae(128,M,E)}function Jt(M,E,B){return M+2*E+B+2>>2}function on(M,E){var B,q=E-32;for(q=new Uint8Array([Jt(M[q-1],M[q+0],M[q+1]),Jt(M[q+0],M[q+1],M[q+2]),Jt(M[q+1],M[q+2],M[q+3]),Jt(M[q+2],M[q+3],M[q+4])]),B=0;4>B;++B)n(M,E+32*B,q,0,q.length)}function ai(M,E){var B=M[E-1],q=M[E-1+32],he=M[E-1+64],fe=M[E-1+96];He(M,E+0,16843009*Jt(M[E-1-32],B,q)),He(M,E+32,16843009*Jt(B,q,he)),He(M,E+64,16843009*Jt(q,he,fe)),He(M,E+96,16843009*Jt(he,fe,fe))}function an(M,E){var B,q=4;for(B=0;4>B;++B)q+=M[E+B-32]+M[E-1+32*B];for(q>>=3,B=0;4>B;++B)r(M,E+32*B,q,4)}function Bi(M,E){var B=M[E-1+0],q=M[E-1+32],he=M[E-1+64],fe=M[E-1-32],Ce=M[E+0-32],Re=M[E+1-32],Oe=M[E+2-32],We=M[E+3-32];M[E+0+96]=Jt(q,he,M[E-1+96]),M[E+1+96]=M[E+0+64]=Jt(B,q,he),M[E+2+96]=M[E+1+64]=M[E+0+32]=Jt(fe,B,q),M[E+3+96]=M[E+2+64]=M[E+1+32]=M[E+0+0]=Jt(Ce,fe,B),M[E+3+64]=M[E+2+32]=M[E+1+0]=Jt(Re,Ce,fe),M[E+3+32]=M[E+2+0]=Jt(Oe,Re,Ce),M[E+3+0]=Jt(We,Oe,Re)}function cn(M,E){var B=M[E+1-32],q=M[E+2-32],he=M[E+3-32],fe=M[E+4-32],Ce=M[E+5-32],Re=M[E+6-32],Oe=M[E+7-32];M[E+0+0]=Jt(M[E+0-32],B,q),M[E+1+0]=M[E+0+32]=Jt(B,q,he),M[E+2+0]=M[E+1+32]=M[E+0+64]=Jt(q,he,fe),M[E+3+0]=M[E+2+32]=M[E+1+64]=M[E+0+96]=Jt(he,fe,Ce),M[E+3+32]=M[E+2+64]=M[E+1+96]=Jt(fe,Ce,Re),M[E+3+64]=M[E+2+96]=Jt(Ce,Re,Oe),M[E+3+96]=Jt(Re,Oe,Oe)}function pn(M,E){var B=M[E-1+0],q=M[E-1+32],he=M[E-1+64],fe=M[E-1-32],Ce=M[E+0-32],Re=M[E+1-32],Oe=M[E+2-32],We=M[E+3-32];M[E+0+0]=M[E+1+64]=fe+Ce+1>>1,M[E+1+0]=M[E+2+64]=Ce+Re+1>>1,M[E+2+0]=M[E+3+64]=Re+Oe+1>>1,M[E+3+0]=Oe+We+1>>1,M[E+0+96]=Jt(he,q,B),M[E+0+64]=Jt(q,B,fe),M[E+0+32]=M[E+1+96]=Jt(B,fe,Ce),M[E+1+32]=M[E+2+96]=Jt(fe,Ce,Re),M[E+2+32]=M[E+3+96]=Jt(Ce,Re,Oe),M[E+3+32]=Jt(Re,Oe,We)}function so(M,E){var B=M[E+0-32],q=M[E+1-32],he=M[E+2-32],fe=M[E+3-32],Ce=M[E+4-32],Re=M[E+5-32],Oe=M[E+6-32],We=M[E+7-32];M[E+0+0]=B+q+1>>1,M[E+1+0]=M[E+0+64]=q+he+1>>1,M[E+2+0]=M[E+1+64]=he+fe+1>>1,M[E+3+0]=M[E+2+64]=fe+Ce+1>>1,M[E+0+32]=Jt(B,q,he),M[E+1+32]=M[E+0+96]=Jt(q,he,fe),M[E+2+32]=M[E+1+96]=Jt(he,fe,Ce),M[E+3+32]=M[E+2+96]=Jt(fe,Ce,Re),M[E+3+64]=Jt(Ce,Re,Oe),M[E+3+96]=Jt(Re,Oe,We)}function yr(M,E){var B=M[E-1+0],q=M[E-1+32],he=M[E-1+64],fe=M[E-1+96];M[E+0+0]=B+q+1>>1,M[E+2+0]=M[E+0+32]=q+he+1>>1,M[E+2+32]=M[E+0+64]=he+fe+1>>1,M[E+1+0]=Jt(B,q,he),M[E+3+0]=M[E+1+32]=Jt(q,he,fe),M[E+3+32]=M[E+1+64]=Jt(he,fe,fe),M[E+3+64]=M[E+2+64]=M[E+0+96]=M[E+1+96]=M[E+2+96]=M[E+3+96]=fe}function lr(M,E){var B=M[E-1+0],q=M[E-1+32],he=M[E-1+64],fe=M[E-1+96],Ce=M[E-1-32],Re=M[E+0-32],Oe=M[E+1-32],We=M[E+2-32];M[E+0+0]=M[E+2+32]=B+Ce+1>>1,M[E+0+32]=M[E+2+64]=q+B+1>>1,M[E+0+64]=M[E+2+96]=he+q+1>>1,M[E+0+96]=fe+he+1>>1,M[E+3+0]=Jt(Re,Oe,We),M[E+2+0]=Jt(Ce,Re,Oe),M[E+1+0]=M[E+3+32]=Jt(B,Ce,Re),M[E+1+32]=M[E+3+64]=Jt(q,B,Ce),M[E+1+64]=M[E+3+96]=Jt(he,q,B),M[E+1+96]=Jt(fe,he,q)}function Zn(M,E){var B;for(B=0;8>B;++B)n(M,E+32*B,M,E-32,8)}function na(M,E){var B;for(B=0;8>B;++B)r(M,E,M[E-1],8),E+=32}function to(M,E,B){var q;for(q=0;8>q;++q)r(E,B+32*q,M,8)}function Kl(M,E){var B,q=8;for(B=0;8>B;++B)q+=M[E+B-32]+M[E-1+32*B];to(q>>4,M,E)}function Yc(M,E){var B,q=4;for(B=0;8>B;++B)q+=M[E+B-32];to(q>>3,M,E)}function Zl(M,E){var B,q=4;for(B=0;8>B;++B)q+=M[E-1+32*B];to(q>>3,M,E)}function Kp(M,E){to(128,M,E)}function $c(M,E,B){var q=M[E-B],he=M[E+0],fe=3*(he-q)+cw[1020+M[E-2*B]-M[E+B]],Ce=yf[112+(fe+4>>3)];M[E-B]=Ql[255+q+yf[112+(fe+3>>3)]],M[E+0]=Ql[255+he-Ce]}function mf(M,E,B,q){var he=M[E+0],fe=M[E+B];return bc[255+M[E-2*B]-M[E-B]]>q||bc[255+fe-he]>q}function vc(M,E,B,q){return 4*bc[255+M[E-B]-M[E+0]]+bc[255+M[E-2*B]-M[E+B]]<=q}function bu(M,E,B,q,he){var fe=M[E-3*B],Ce=M[E-2*B],Re=M[E-B],Oe=M[E+0],We=M[E+B],at=M[E+2*B],Ct=M[E+3*B];return 4*bc[255+Re-Oe]+bc[255+Ce-We]>q?0:bc[255+M[E-4*B]-fe]<=he&&bc[255+fe-Ce]<=he&&bc[255+Ce-Re]<=he&&bc[255+Ct-at]<=he&&bc[255+at-We]<=he&&bc[255+We-Oe]<=he}function Ur(M,E,B,q){var he=2*q+1;for(q=0;16>q;++q)vc(M,E+q,B,he)&&$c(M,E+q,B)}function Xc(M,E,B,q){var he=2*q+1;for(q=0;16>q;++q)vc(M,E+q*B,1,he)&&$c(M,E+q*B,1)}function kd(M,E,B,q){var he;for(he=3;0<he;--he)Ur(M,E+=4*B,B,q)}function Zp(M,E,B,q){var he;for(he=3;0<he;--he)Xc(M,E+=4,B,q)}function y(M,E,B,q,he,fe,Ce,Re){for(fe=2*fe+1;0<he--;){if(bu(M,E,B,fe,Ce))if(mf(M,E,B,Re))$c(M,E,B);else{var Oe=M,We=E,at=B,Ct=Oe[We-2*at],je=Oe[We-at],ut=Oe[We+0],mt=Oe[We+at],qt=Oe[We+2*at],_t=27*(ei=cw[1020+3*(ut-je)+cw[1020+Ct-mt]])+63>>7,$t=18*ei+63>>7,ei=9*ei+63>>7;Oe[We-3*at]=Ql[255+Oe[We-3*at]+ei],Oe[We-2*at]=Ql[255+Ct+$t],Oe[We-at]=Ql[255+je+_t],Oe[We+0]=Ql[255+ut-_t],Oe[We+at]=Ql[255+mt-$t],Oe[We+2*at]=Ql[255+qt-ei]}E+=q}}function D(M,E,B,q,he,fe,Ce,Re){for(fe=2*fe+1;0<he--;){if(bu(M,E,B,fe,Ce))if(mf(M,E,B,Re))$c(M,E,B);else{var Oe=M,We=E,at=B,Ct=Oe[We-at],je=Oe[We+0],ut=Oe[We+at],mt=yf[112+(4+(qt=3*(je-Ct))>>3)],qt=yf[112+(qt+3>>3)],_t=mt+1>>1;Oe[We-2*at]=Ql[255+Oe[We-2*at]+_t],Oe[We-at]=Ql[255+Ct+qt],Oe[We+0]=Ql[255+je-mt],Oe[We+at]=Ql[255+ut-_t]}E+=q}}function N(M,E,B,q,he,fe){y(M,E,B,1,16,q,he,fe)}function z(M,E,B,q,he,fe){y(M,E,1,B,16,q,he,fe)}function ie(M,E,B,q,he,fe){var Ce;for(Ce=3;0<Ce;--Ce)D(M,E+=4*B,B,1,16,q,he,fe)}function S(M,E,B,q,he,fe){var Ce;for(Ce=3;0<Ce;--Ce)D(M,E+=4,1,B,16,q,he,fe)}function I(M,E,B,q,he,fe,Ce,Re){y(M,E,he,1,8,fe,Ce,Re),y(B,q,he,1,8,fe,Ce,Re)}function Y(M,E,B,q,he,fe,Ce,Re){y(M,E,1,he,8,fe,Ce,Re),y(B,q,1,he,8,fe,Ce,Re)}function te(M,E,B,q,he,fe,Ce,Re){D(M,E+4*he,he,1,8,fe,Ce,Re),D(B,q+4*he,he,1,8,fe,Ce,Re)}function we(M,E,B,q,he,fe,Ce,Re){D(M,E+4,1,he,8,fe,Ce,Re),D(B,q+4,1,he,8,fe,Ce,Re)}function qe(){this.ba=new ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new V}function mi(){this.xb=this.a=0,this.l=new Un,this.ca=new ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=s(4,tt),this.Oc=0}function Oi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Un,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zi(M,E,B,q,he,fe,Ce){for(M=M==null?0:M[E+0],E=0;E<Ce;++E)he[fe+E]=M+B[q+E]&255,M=he[fe+E]}function cr(M,E,B,q,he,fe,Ce){var Re;if(M==null)zi(null,null,B,q,he,fe,Ce);else for(Re=0;Re<Ce;++Re)he[fe+Re]=M[E+Re]+B[q+Re]&255}function dr(M,E,B,q,he,fe,Ce){if(M==null)zi(null,null,B,q,he,fe,Ce);else{var Re,Oe=M[E+0],We=Oe,at=Oe;for(Re=0;Re<Ce;++Re)We=at+(Oe=M[E+Re])-We,at=B[q+Re]+(-256&We?0>We?0:255:We)&255,We=Oe,he[fe+Re]=at}}function Er(M,E,B,q){var he=E.width,fe=E.o;if(t(M!=null&&E!=null),0>B||0>=q||B+q>fe)return null;if(!M.Cc){if(M.ga==null){var Ce;if(M.ga=new Oi,(Ce=M.ga==null)||(Ce=E.width*E.o,t(M.Gb.length==0),M.Gb=o(Ce),M.Uc=0,M.Gb==null?Ce=0:(M.mb=M.Gb,M.nb=M.Uc,M.rc=null,Ce=1),Ce=!Ce),!Ce){Ce=M.ga;var Re=M.Fa,Oe=M.P,We=M.qc,at=M.mb,Ct=M.nb,je=Oe+1,ut=We-1,mt=Ce.l;if(t(Re!=null&&at!=null&&E!=null),fh[0]=null,fh[1]=zi,fh[2]=cr,fh[3]=dr,Ce.ca=at,Ce.tb=Ct,Ce.c=E.width,Ce.i=E.height,t(0<Ce.c&&0<Ce.i),1>=We)E=0;else if(Ce.$a=3&Re[Oe+0],Ce.Z=Re[Oe+0]>>2&3,Ce.Lc=Re[Oe+0]>>4&3,Oe=Re[Oe+0]>>6&3,0>Ce.$a||1<Ce.$a||4<=Ce.Z||1<Ce.Lc||Oe)E=0;else if(mt.put=jt,mt.ac=At,mt.bc=Qt,mt.ma=Ce,mt.width=E.width,mt.height=E.height,mt.Da=E.Da,mt.v=E.v,mt.va=E.va,mt.j=E.j,mt.o=E.o,Ce.$a)e:{t(Ce.$a==1),E=Oa();t:for(;;){if(E==null){E=0;break e}if(t(Ce!=null),Ce.mc=E,E.c=Ce.c,E.i=Ce.i,E.l=Ce.l,E.l.ma=Ce,E.l.width=Ce.c,E.l.height=Ce.i,E.a=0,_e(E.m,Re,je,ut),!ia(Ce.c,Ce.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&_o(E.s)?(Ce.ic=1,Re=E.c*E.i,E.Ta=null,E.Ua=0,E.V=o(Re),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(Ce.ic=0,E=Ds(E,Ce.c)),!E))break t;E=1;break e}Ce.mc=null,E=0}else E=ut>=Ce.c*Ce.i;Ce=!E}if(Ce)return null;M.ga.Lc!=1?M.Ga=0:q=fe-B}t(M.ga!=null),t(B+q<=fe);e:{if(E=(Re=M.ga).c,fe=Re.l.o,Re.$a==0){if(je=M.rc,ut=M.Vc,mt=M.Fa,Oe=M.P+1+B*E,We=M.mb,at=M.nb+B*E,t(Oe<=M.P+M.qc),Re.Z!=0)for(t(fh[Re.Z]!=null),Ce=0;Ce<q;++Ce)fh[Re.Z](je,ut,mt,Oe,We,at,E),je=We,ut=at,at+=E,Oe+=E;else for(Ce=0;Ce<q;++Ce)n(We,at,mt,Oe,E),je=We,ut=at,at+=E,Oe+=E;M.rc=je,M.Vc=ut}else{if(t(Re.mc!=null),E=B+q,t((Ce=Re.mc)!=null),t(E<=Ce.i),Ce.C>=E)E=1;else if(Re.ic||Vr(),Re.ic){Re=Ce.V,je=Ce.Ba,ut=Ce.c;var qt=Ce.i,_t=(mt=1,Oe=Ce.$/ut,We=Ce.$%ut,at=Ce.m,Ct=Ce.s,Ce.$),$t=ut*qt,ei=ut*E,fi=Ct.wc,si=_t<ei?_r(Ct,We,Oe):null;t(_t<=$t),t(E<=qt),t(_o(Ct));t:for(;;){for(;!at.h&&_t<ei;){if(We&fi||(si=_r(Ct,We,Oe)),t(si!=null),W(at),256>(qt=Tn(si.G[0],si.H[0],at)))Re[je+_t]=qt,++_t,++We>=ut&&(We=0,++Oe<=E&&!(Oe%16)&&ta(Ce,Oe));else{if(!(280>qt)){mt=0;break t}qt=Vi(qt-256,at);var vn,rn=Tn(si.G[4],si.H[4],at);if(W(at),!(_t>=(rn=Dn(ut,rn=Vi(rn,at)))&&$t-_t>=qt)){mt=0;break t}for(vn=0;vn<qt;++vn)Re[je+_t+vn]=Re[je+_t+vn-rn];for(_t+=qt,We+=qt;We>=ut;)We-=ut,++Oe<=E&&!(Oe%16)&&ta(Ce,Oe);_t<ei&&We&fi&&(si=_r(Ct,We,Oe))}t(at.h==Z(at))}ta(Ce,Oe>E?E:Oe);break t}!mt||at.h&&_t<$t?(mt=0,Ce.a=at.h?5:3):Ce.$=_t,E=mt}else E=us(Ce,Ce.V,Ce.Ba,Ce.c,Ce.i,E,ya);if(!E){q=0;break e}}B+q>=fe&&(M.Cc=1),q=1}if(!q)return null;if(M.Cc&&((q=M.ga)!=null&&(q.mc=null),M.ga=null,0<M.Ga))return alert("todo:WebPDequantizeLevels"),null}return M.nb+B*he}function io(M,E,B,q,he,fe){for(;0<he--;){var Ce,Re=M,Oe=E+(B?1:0),We=M,at=E+(B?0:3);for(Ce=0;Ce<q;++Ce){var Ct=We[at+4*Ce];Ct!=255&&(Ct*=32897,Re[Oe+4*Ce+0]=Re[Oe+4*Ce+0]*Ct>>23,Re[Oe+4*Ce+1]=Re[Oe+4*Ce+1]*Ct>>23,Re[Oe+4*Ce+2]=Re[Oe+4*Ce+2]*Ct>>23)}E+=fe}}function Cn(M,E,B,q,he){for(;0<q--;){var fe;for(fe=0;fe<B;++fe){var Ce=M[E+2*fe+0],Re=15&(We=M[E+2*fe+1]),Oe=4369*Re,We=(240&We|We>>4)*Oe>>16;M[E+2*fe+0]=(240&Ce|Ce>>4)*Oe>>16&240|(15&Ce|Ce<<4)*Oe>>16>>4&15,M[E+2*fe+1]=240&We|Re}E+=he}}function Oo(M,E,B,q,he,fe,Ce,Re){var Oe,We,at=255;for(We=0;We<he;++We){for(Oe=0;Oe<q;++Oe){var Ct=M[E+Oe];fe[Ce+4*Oe]=Ct,at&=Ct}E+=B,Ce+=Re}return at!=255}function er(M,E,B,q,he){var fe;for(fe=0;fe<he;++fe)B[q+fe]=M[E+fe]>>8}function Vr(){Vg=io,r2=Cn,o2=Oo,s2=er}function ol(M,E,B){T[M]=function(q,he,fe,Ce,Re,Oe,We,at,Ct,je,ut,mt,qt,_t,$t,ei,fi){var si,vn=fi-1>>1,rn=Re[Oe+0]|We[at+0]<<16,ur=Ct[je+0]|ut[mt+0]<<16;t(q!=null);var Zi=3*rn+ur+131074>>2;for(E(q[he+0],255&Zi,Zi>>16,qt,_t),fe!=null&&(Zi=3*ur+rn+131074>>2,E(fe[Ce+0],255&Zi,Zi>>16,$t,ei)),si=1;si<=vn;++si){var Pr=Re[Oe+si]|We[at+si]<<16,Hs=Ct[je+si]|ut[mt+si]<<16,hr=rn+Pr+ur+Hs+524296,mn=hr+2*(Pr+ur)>>3;Zi=mn+rn>>1,rn=(hr=hr+2*(rn+Hs)>>3)+Pr>>1,E(q[he+2*si-1],255&Zi,Zi>>16,qt,_t+(2*si-1)*B),E(q[he+2*si-0],255&rn,rn>>16,qt,_t+(2*si-0)*B),fe!=null&&(Zi=hr+ur>>1,rn=mn+Hs>>1,E(fe[Ce+2*si-1],255&Zi,Zi>>16,$t,ei+(2*si-1)*B),E(fe[Ce+2*si+0],255&rn,rn>>16,$t,ei+(2*si+0)*B)),rn=Pr,ur=Hs}1&fi||(Zi=3*rn+ur+131074>>2,E(q[he+fi-1],255&Zi,Zi>>16,qt,_t+(fi-1)*B),fe!=null&&(Zi=3*ur+rn+131074>>2,E(fe[Ce+fi-1],255&Zi,Zi>>16,$t,ei+(fi-1)*B)))}}function El(){_c[$v]=D3,_c[Xv]=tb,_c[h2]=T3,_c[Kv]=b2,_c[Zv]=_2,_c[dw]=y2,_c[uw]=pw,_c[Qv]=tb,_c[Jv]=b2,_c[wf]=_2,_c[uh]=y2}function wa(M){return M&~A3?0>M?0:255:M>>w2}function La(M,E){return wa((19077*M>>8)+(26149*E>>8)-14234)}function ra(M,E,B){return wa((19077*M>>8)-(6419*E>>8)-(13320*B>>8)+8708)}function oa(M,E){return wa((19077*M>>8)+(33050*E>>8)-17685)}function Ca(M,E,B,q,he){q[he+0]=La(M,B),q[he+1]=ra(M,E,B),q[he+2]=oa(M,E)}function no(M,E,B,q,he){q[he+0]=oa(M,E),q[he+1]=ra(M,E,B),q[he+2]=La(M,B)}function Kc(M,E,B,q,he){var fe=ra(M,E,B);E=fe<<3&224|oa(M,E)>>3,q[he+0]=248&La(M,B)|fe>>5,q[he+1]=E}function xa(M,E,B,q,he){var fe=240&oa(M,E)|15;q[he+0]=240&La(M,B)|ra(M,E,B)>>4,q[he+1]=fe}function Na(M,E,B,q,he){q[he+0]=255,Ca(M,E,B,q,he+1)}function gf(M,E,B,q,he){no(M,E,B,q,he),q[he+3]=255}function sa(M,E,B,q,he){Ca(M,E,B,q,he),q[he+3]=255}function zr(M,E,B){T[M]=function(q,he,fe,Ce,Re,Oe,We,at,Ct){for(var je=at+(-2&Ct)*B;at!=je;)E(q[he+0],fe[Ce+0],Re[Oe+0],We,at),E(q[he+1],fe[Ce+0],Re[Oe+0],We,at+B),he+=2,++Ce,++Oe,at+=2*B;1&Ct&&E(q[he+0],fe[Ce+0],Re[Oe+0],We,at)}}function Ir(M,E,B){return B==0?M==0?E==0?6:5:E==0?4:0:B}function _u(M,E,B,q,he){switch(M>>>30){case 3:Ii(E,B,q,he,0);break;case 2:Hi(E,B,q,he);break;case 1:en(E,B,q,he)}}function Lo(M,E){var B,q,he=E.M,fe=E.Nb,Ce=M.oc,Re=M.pc+40,Oe=M.oc,We=M.pc+584,at=M.oc,Ct=M.pc+600;for(B=0;16>B;++B)Ce[Re+32*B-1]=129;for(B=0;8>B;++B)Oe[We+32*B-1]=129,at[Ct+32*B-1]=129;for(0<he?Ce[Re-1-32]=Oe[We-1-32]=at[Ct-1-32]=129:(r(Ce,Re-32-1,127,21),r(Oe,We-32-1,127,9),r(at,Ct-32-1,127,9)),q=0;q<M.za;++q){var je=E.ya[E.aa+q];if(0<q){for(B=-1;16>B;++B)n(Ce,Re+32*B-4,Ce,Re+32*B+12,4);for(B=-1;8>B;++B)n(Oe,We+32*B-4,Oe,We+32*B+4,4),n(at,Ct+32*B-4,at,Ct+32*B+4,4)}var ut=M.Gd,mt=M.Hd+q,qt=je.ad,_t=je.Hc;if(0<he&&(n(Ce,Re-32,ut[mt].y,0,16),n(Oe,We-32,ut[mt].f,0,8),n(at,Ct-32,ut[mt].ea,0,8)),je.Za){var $t=Ce,ei=Re-32+16;for(0<he&&(q>=M.za-1?r($t,ei,ut[mt].y[15],4):n($t,ei,ut[mt+1].y,0,4)),B=0;4>B;B++)$t[ei+128+B]=$t[ei+256+B]=$t[ei+384+B]=$t[ei+0+B];for(B=0;16>B;++B,_t<<=2)$t=Ce,ei=Re+M2[B],Jc[je.Ob[B]]($t,ei),_u(_t,qt,16*+B,$t,ei)}else if($t=Ir(q,he,je.Ob[0]),hh[$t](Ce,Re),_t!=0)for(B=0;16>B;++B,_t<<=2)_u(_t,qt,16*+B,Ce,Re+M2[B]);for(B=je.Gc,$t=Ir(q,he,je.Dd),Cu[$t](Oe,We),Cu[$t](at,Ct),_t=qt,$t=Oe,ei=We,255&(je=0|B)&&(170&je?Ti(_t,256,$t,ei):xi(_t,256,$t,ei)),je=at,_t=Ct,255&(B>>=8)&&(170&B?Ti(qt,320,je,_t):xi(qt,320,je,_t)),he<M.Ub-1&&(n(ut[mt].y,0,Ce,Re+480,16),n(ut[mt].f,0,Oe,We+224,8),n(ut[mt].ea,0,at,Ct+224,8)),B=8*fe*M.B,ut=M.sa,mt=M.ta+16*q+16*fe*M.R,qt=M.qa,je=M.ra+8*q+B,_t=M.Ha,$t=M.Ia+8*q+B,B=0;16>B;++B)n(ut,mt+B*M.R,Ce,Re+32*B,16);for(B=0;8>B;++B)n(qt,je+B*M.B,Oe,We+32*B,8),n(_t,$t+B*M.B,at,Ct+32*B,8)}}function Dl(M,E,B,q,he,fe,Ce,Re,Oe){var We=[0],at=[0],Ct=0,je=Oe!=null?Oe.kd:0,ut=Oe??new Ke;if(M==null||12>B)return 7;ut.data=M,ut.w=E,ut.ha=B,E=[E],B=[B],ut.gb=[ut.gb];e:{var mt=E,qt=B,_t=ut.gb;if(t(M!=null),t(qt!=null),t(_t!=null),_t[0]=0,12<=qt[0]&&!i(M,mt[0],"RIFF")){if(i(M,mt[0]+8,"WEBP")){_t=3;break e}var $t=ve(M,mt[0]+4);if(12>$t||4294967286<$t){_t=3;break e}if(je&&$t>qt[0]-8){_t=7;break e}_t[0]=$t,mt[0]+=12,qt[0]-=12}_t=0}if(_t!=0)return _t;for($t=0<ut.gb[0],B=B[0];;){e:{var ei=M;qt=E,_t=B;var fi=We,si=at,vn=mt=[0];if((Zi=Ct=[Ct])[0]=0,8>_t[0])_t=7;else{if(!i(ei,qt[0],"VP8X")){if(ve(ei,qt[0]+4)!=10){_t=3;break e}if(18>_t[0]){_t=7;break e}var rn=ve(ei,qt[0]+8),ur=1+Je(ei,qt[0]+12);if(2147483648<=ur*(ei=1+Je(ei,qt[0]+15))){_t=3;break e}vn!=null&&(vn[0]=rn),fi!=null&&(fi[0]=ur),si!=null&&(si[0]=ei),qt[0]+=18,_t[0]-=18,Zi[0]=1}_t=0}}if(Ct=Ct[0],mt=mt[0],_t!=0)return _t;if(qt=!!(2&mt),!$t&&Ct)return 3;if(fe!=null&&(fe[0]=!!(16&mt)),Ce!=null&&(Ce[0]=qt),Re!=null&&(Re[0]=0),Ce=We[0],mt=at[0],Ct&&qt&&Oe==null){_t=0;break}if(4>B){_t=7;break}if($t&&Ct||!$t&&!Ct&&!i(M,E[0],"ALPH")){B=[B],ut.na=[ut.na],ut.P=[ut.P],ut.Sa=[ut.Sa];e:{rn=M,_t=E,$t=B;var Zi=ut.gb;fi=ut.na,si=ut.P,vn=ut.Sa,ur=22,t(rn!=null),t($t!=null),ei=_t[0];var Pr=$t[0];for(t(fi!=null),t(vn!=null),fi[0]=null,si[0]=null,vn[0]=0;;){if(_t[0]=ei,$t[0]=Pr,8>Pr){_t=7;break e}var Hs=ve(rn,ei+4);if(4294967286<Hs){_t=3;break e}var hr=8+Hs+1&-2;if(ur+=hr,0<Zi&&ur>Zi){_t=3;break e}if(!i(rn,ei,"VP8 ")||!i(rn,ei,"VP8L")){_t=0;break e}if(Pr[0]<hr){_t=7;break e}i(rn,ei,"ALPH")||(fi[0]=rn,si[0]=ei+8,vn[0]=Hs),ei+=hr,Pr-=hr}}if(B=B[0],ut.na=ut.na[0],ut.P=ut.P[0],ut.Sa=ut.Sa[0],_t!=0)break}B=[B],ut.Ja=[ut.Ja],ut.xa=[ut.xa];e:if(Zi=M,_t=E,$t=B,fi=ut.gb[0],si=ut.Ja,vn=ut.xa,rn=_t[0],ei=!i(Zi,rn,"VP8 "),ur=!i(Zi,rn,"VP8L"),t(Zi!=null),t($t!=null),t(si!=null),t(vn!=null),8>$t[0])_t=7;else{if(ei||ur){if(Zi=ve(Zi,rn+4),12<=fi&&Zi>fi-12){_t=3;break e}if(je&&Zi>$t[0]-8){_t=7;break e}si[0]=Zi,_t[0]+=8,$t[0]-=8,vn[0]=ur}else vn[0]=5<=$t[0]&&Zi[rn+0]==47&&!(Zi[rn+4]>>5),si[0]=$t[0];_t=0}if(B=B[0],ut.Ja=ut.Ja[0],ut.xa=ut.xa[0],E=E[0],_t!=0)break;if(4294967286<ut.Ja)return 3;if(Re==null||qt||(Re[0]=ut.xa?2:1),Ce=[Ce],mt=[mt],ut.xa){if(5>B){_t=7;break}Re=Ce,je=mt,qt=fe,M==null||5>B?M=0:5<=B&&M[E+0]==47&&!(M[E+4]>>5)?($t=[0],Zi=[0],fi=[0],_e(si=new Q,M,E,B),Di(si,$t,Zi,fi)?(Re!=null&&(Re[0]=$t[0]),je!=null&&(je[0]=Zi[0]),qt!=null&&(qt[0]=fi[0]),M=1):M=0):M=0}else{if(10>B){_t=7;break}Re=mt,M==null||10>B||!gn(M,E+3,B-3)?M=0:(je=M[E+0]|M[E+1]<<8|M[E+2]<<16,qt=16383&(M[E+7]<<8|M[E+6]),M=16383&(M[E+9]<<8|M[E+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=ut.Ja||!qt||!M?M=0:(Ce&&(Ce[0]=qt),Re&&(Re[0]=M),M=1))}if(!M||(Ce=Ce[0],mt=mt[0],Ct&&(We[0]!=Ce||at[0]!=mt)))return 3;Oe!=null&&(Oe[0]=ut,Oe.offset=E-Oe.w,t(4294967286>E-Oe.w),t(Oe.offset==Oe.ha-B));break}return _t==0||_t==7&&Ct&&Oe==null?(fe!=null&&(fe[0]|=ut.na!=null&&0<ut.na.length),q!=null&&(q[0]=Ce),he!=null&&(he[0]=mt),0):_t}function vf(M,E,B){var q=E.width,he=E.height,fe=0,Ce=0,Re=q,Oe=he;if(E.Da=M!=null&&0<M.Da,E.Da&&(Re=M.cd,Oe=M.bd,fe=M.v,Ce=M.j,11>B||(fe&=-2,Ce&=-2),0>fe||0>Ce||0>=Re||0>=Oe||fe+Re>q||Ce+Oe>he))return 0;if(E.v=fe,E.j=Ce,E.va=fe+Re,E.o=Ce+Oe,E.U=Re,E.T=Oe,E.da=M!=null&&0<M.da,E.da){if(!Pt(Re,Oe,B=[M.ib],fe=[M.hb]))return 0;E.ib=B[0],E.hb=fe[0]}return E.ob=M!=null&&M.ob,E.Kb=M==null||!M.Sd,E.da&&(E.ob=E.ib<3*q/4&&E.hb<3*he/4,E.Kb=0),1}function bf(M){if(M==null)return 2;if(11>M.S){var E=M.f.RGBA;E.fb+=(M.height-1)*E.A,E.A=-E.A}else E=M.f.kb,M=M.height,E.O+=(M-1)*E.fa,E.fa=-E.fa,E.N+=(M-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(M-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(M-1)*E.lb,E.lb=-E.lb);return 0}function sl(M,E,B,q){if(q==null||0>=M||0>=E)return 2;if(B!=null){if(B.Da){var he=B.cd,fe=B.bd,Ce=-2&B.v,Re=-2&B.j;if(0>Ce||0>Re||0>=he||0>=fe||Ce+he>M||Re+fe>E)return 2;M=he,E=fe}if(B.da){if(!Pt(M,E,he=[B.ib],fe=[B.hb]))return 2;M=he[0],E=fe[0]}}q.width=M,q.height=E;e:{var Oe=q.width,We=q.height;if(M=q.S,0>=Oe||0>=We||!(M>=$v&&13>M))M=2;else{if(0>=q.Rd&&q.sd==null){Ce=fe=he=E=0;var at=(Re=Oe*D2[M])*We;if(11>M||(fe=(We+1)/2*(E=(Oe+1)/2),M==12&&(Ce=(he=Oe)*We)),(We=o(at+2*fe+Ce))==null){M=1;break e}q.sd=We,11>M?((Oe=q.f.RGBA).eb=We,Oe.fb=0,Oe.A=Re,Oe.size=at):((Oe=q.f.kb).y=We,Oe.O=0,Oe.fa=Re,Oe.Fd=at,Oe.f=We,Oe.N=0+at,Oe.Ab=E,Oe.Cd=fe,Oe.ea=We,Oe.W=0+at+fe,Oe.Db=E,Oe.Ed=fe,M==12&&(Oe.F=We,Oe.J=0+at+2*fe),Oe.Tc=Ce,Oe.lb=he)}if(E=1,he=q.S,fe=q.width,Ce=q.height,he>=$v&&13>he)if(11>he)M=q.f.RGBA,E&=(Re=Math.abs(M.A))*(Ce-1)+fe<=M.size,E&=Re>=fe*D2[he],E&=M.eb!=null;else{M=q.f.kb,Re=(fe+1)/2,at=(Ce+1)/2,Oe=Math.abs(M.fa),We=Math.abs(M.Ab);var Ct=Math.abs(M.Db),je=Math.abs(M.lb),ut=je*(Ce-1)+fe;E&=Oe*(Ce-1)+fe<=M.Fd,E&=We*(at-1)+Re<=M.Cd,E=(E&=Ct*(at-1)+Re<=M.Ed)&Oe>=fe&We>=Re&Ct>=Re,E&=M.y!=null,E&=M.f!=null,E&=M.ea!=null,he==12&&(E&=je>=fe,E&=ut<=M.Tc,E&=M.F!=null)}else E=0;M=E?0:2}}return M!=0||B!=null&&B.fd&&(M=bf(q)),M}var al=64,Sa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fs=24,Tl=32,aa=8,ll=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];be("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(M){return M},T.Predictor2=function(M,E,B){return E[B+0]},T.Predictor3=function(M,E,B){return E[B+1]},T.Predictor4=function(M,E,B){return E[B-1]},T.Predictor5=function(M,E,B){return re(re(M,E[B+1]),E[B+0])},T.Predictor6=function(M,E,B){return re(M,E[B-1])},T.Predictor7=function(M,E,B){return re(M,E[B+0])},T.Predictor8=function(M,E,B){return re(E[B-1],E[B+0])},T.Predictor9=function(M,E,B){return re(E[B+0],E[B+1])},T.Predictor10=function(M,E,B){return re(re(M,E[B-1]),re(E[B+0],E[B+1]))},T.Predictor11=function(M,E,B){var q=E[B+0];return 0>=Ee(q>>24&255,M>>24&255,(E=E[B-1])>>24&255)+Ee(q>>16&255,M>>16&255,E>>16&255)+Ee(q>>8&255,M>>8&255,E>>8&255)+Ee(255&q,255&M,255&E)?q:M},T.Predictor12=function(M,E,B){var q=E[B+0];return(J((M>>24&255)+(q>>24&255)-((E=E[B-1])>>24&255))<<24|J((M>>16&255)+(q>>16&255)-(E>>16&255))<<16|J((M>>8&255)+(q>>8&255)-(E>>8&255))<<8|J((255&M)+(255&q)-(255&E)))>>>0},T.Predictor13=function(M,E,B){var q=E[B-1];return(pe((M=re(M,E[B+0]))>>24&255,q>>24&255)<<24|pe(M>>16&255,q>>16&255)<<16|pe(M>>8&255,q>>8&255)<<8|pe(255&M,255&q))>>>0};var Id=T.PredictorAdd0;T.PredictorAdd1=ke,be("Predictor2","PredictorAdd2"),be("Predictor3","PredictorAdd3"),be("Predictor4","PredictorAdd4"),be("Predictor5","PredictorAdd5"),be("Predictor6","PredictorAdd6"),be("Predictor7","PredictorAdd7"),be("Predictor8","PredictorAdd8"),be("Predictor9","PredictorAdd9"),be("Predictor10","PredictorAdd10"),be("Predictor11","PredictorAdd11"),be("Predictor12","PredictorAdd12"),be("Predictor13","PredictorAdd13");var Zc=T.PredictorAdd2;Be("ColorIndexInverseTransform","MapARGB","32b",function(M){return M>>8&255},function(M){return M}),Be("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(M){return M},function(M){return M>>8&255});var Jo,Qc=T.ColorIndexInverseTransform,Ba=T.MapARGB,Va=T.VP8LColorIndexInverseTransformAlpha,_f=T.MapAlpha,yu=T.VP8LPredictorsAdd=[];yu.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var dh,ze,rt,bt,Et,Ut,vi,Ii,Hi,Ti,en,xi,Wi,_n,hn,jr,ps,Ts,cl,Al,wu,la,i2,n2,Vg,r2,o2,s2,a2=o(511),l2=o(2041),c2=o(225),d2=o(767),u2=0,cw=l2,yf=c2,Ql=d2,bc=a2,$v=0,Xv=1,h2=2,Kv=3,Zv=4,dw=5,uw=6,Qv=7,Jv=8,wf=9,uh=10,eb=[2,3,7],f2=[3,3,11],Cf=[280,256,256,256,40],p2=[0,1,1,1,0],m2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],v3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],b3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_3=8,hw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zg=null,y3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],w3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],g2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],C3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],x3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],S3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],M3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hh=[],Jc=[],Cu=[],E3=1,v2=2,fh=[],_c=[];ol("UpsampleRgbLinePair",Ca,3),ol("UpsampleBgrLinePair",no,3),ol("UpsampleRgbaLinePair",sa,4),ol("UpsampleBgraLinePair",gf,4),ol("UpsampleArgbLinePair",Na,4),ol("UpsampleRgba4444LinePair",xa,2),ol("UpsampleRgb565LinePair",Kc,2);var D3=T.UpsampleRgbLinePair,T3=T.UpsampleBgrLinePair,tb=T.UpsampleRgbaLinePair,b2=T.UpsampleBgraLinePair,_2=T.UpsampleArgbLinePair,y2=T.UpsampleRgba4444LinePair,pw=T.UpsampleRgb565LinePair,xf=16,ib=1<<xf-1,Hg=-227,mw=482,w2=6,A3=(256<<w2)-1,C2=0,x2=o(256),R3=o(256),k3=o(256),S2=o(256),I3=o(mw-Hg),P3=o(mw-Hg);zr("YuvToRgbRow",Ca,3),zr("YuvToBgrRow",no,3),zr("YuvToRgbaRow",sa,4),zr("YuvToBgraRow",gf,4),zr("YuvToArgbRow",Na,4),zr("YuvToRgba4444Row",xa,2),zr("YuvToRgb565Row",Kc,2);var M2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ed=[0,2,8],E2=[8,7,6,4,4,2,2,2,1,1,1,1],F3=1;this.WebPDecodeRGBA=function(M,E,B,q,he){var fe=Xv,Ce=new qe,Re=new ht;Ce.ba=Re,Re.S=fe,Re.width=[Re.width],Re.height=[Re.height];var Oe=Re.width,We=Re.height,at=new nt;if(at==null||M==null)var Ct=2;else t(at!=null),Ct=Dl(M,E,B,at.width,at.height,at.Pd,at.Qd,at.format,null);if(Ct!=0?Oe=0:(Oe!=null&&(Oe[0]=at.width[0]),We!=null&&(We[0]=at.height[0]),Oe=1),Oe){Re.width=Re.width[0],Re.height=Re.height[0],q!=null&&(q[0]=Re.width),he!=null&&(he[0]=Re.height);e:{if(q=new Un,(he=new Ke).data=M,he.w=E,he.ha=B,he.kd=1,E=[0],t(he!=null),((M=Dl(he.data,he.w,he.ha,null,null,null,E,null,he))==0||M==7)&&E[0]&&(M=4),(E=M)==0){if(t(Ce!=null),q.data=he.data,q.w=he.w+he.offset,q.ha=he.ha-he.offset,q.put=jt,q.ac=At,q.bc=Qt,q.ma=Ce,he.xa){if((M=Oa())==null){Ce=1;break e}if(function(je,ut){var mt=[0],qt=[0],_t=[0];t:for(;;){if(je==null)return 0;if(ut==null)return je.a=2,0;if(je.l=ut,je.a=0,_e(je.m,ut.data,ut.w,ut.ha),!Di(je.m,mt,qt,_t)){je.a=3;break t}if(je.xb=v2,ut.width=mt[0],ut.height=qt[0],!ia(mt[0],qt[0],1,je,null))break t;return 1}return t(je.a!=0),0}(M,q)){if(q=(E=sl(q.width,q.height,Ce.Oa,Ce.ba))==0){t:{q=M;i:for(;;){if(q==null){q=0;break t}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((B=q.l)!=null),t((he=B.ma)!=null),q.xb!=0){if(q.ca=he.ba,q.tb=he.tb,t(q.ca!=null),!vf(he.Oa,B,Kv)){q.a=2;break i}if(!Ds(q,B.width)||B.da)break i;if((B.da||Ue(q.ca.S))&&Vr(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&Vr()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!ge(q.s.vb,q.s.Wa.Xa)){q.a=1;break i}q.xb=0}if(!us(q,q.V,q.Ba,q.c,q.i,B.o,Mo))break i;he.Dc=q.Ma,q=1;break t}t(q.a!=0),q=0}q=!q}q&&(E=M.a)}else E=M.a}else{if((M=new kr)==null){Ce=1;break e}if(M.Fa=he.na,M.P=he.P,M.qc=he.Sa,Zr(M,q)){if((E=sl(q.width,q.height,Ce.Oa,Ce.ba))==0){if(M.Aa=0,B=Ce.Oa,t((he=M)!=null),B!=null){if(0<(Oe=0>(Oe=B.Md)?0:100<Oe?255:255*Oe/100)){for(We=at=0;4>We;++We)12>(Ct=he.pb[We]).lc&&(Ct.ia=Oe*E2[0>Ct.lc?0:Ct.lc]>>3),at|=Ct.ia;at&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=B.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}(function(je,ut){if(je==null)return 0;if(ut==null)return un(je,2,"NULL VP8Io parameter in VP8Decode().");if(!je.cb&&!Zr(je,ut))return 0;if(t(je.cb),ut.ac==null||ut.ac(ut)){ut.ob&&(je.L=0);var mt=ed[je.L];if(je.L==2?(je.yb=0,je.zb=0):(je.yb=ut.v-mt>>4,je.zb=ut.j-mt>>4,0>je.yb&&(je.yb=0),0>je.zb&&(je.zb=0)),je.Va=ut.o+15+mt>>4,je.Hb=ut.va+15+mt>>4,je.Hb>je.za&&(je.Hb=je.za),je.Va>je.Ub&&(je.Va=je.Ub),0<je.L){var qt=je.ed;for(mt=0;4>mt;++mt){var _t;if(je.Qa.Cb){var $t=je.Qa.Lb[mt];je.Qa.Fb||($t+=qt.Tb)}else $t=qt.Tb;for(_t=0;1>=_t;++_t){var ei=je.gd[mt][_t],fi=$t;if(qt.Pc&&(fi+=qt.vd[0],_t&&(fi+=qt.od[0])),0<(fi=0>fi?0:63<fi?63:fi)){var si=fi;0<qt.wb&&(si=4<qt.wb?si>>2:si>>1)>9-qt.wb&&(si=9-qt.wb),1>si&&(si=1),ei.dd=si,ei.tc=2*fi+si,ei.ld=40<=fi?2:15<=fi?1:0}else ei.tc=0;ei.La=_t}}}mt=0}else un(je,6,"Frame setup failed"),mt=je.a;if(mt=mt==0){if(mt){je.$c=0,0<je.Aa||(je.Ic=F3);t:{mt=je.Ic,qt=4*(si=je.za);var vn=32*si,rn=si+1,ur=0<je.L?si*(0<je.Aa?2:1):0,Zi=(je.Aa==2?2:1)*si;if((ei=qt+832+(_t=3*(16*mt+ed[je.L])/2*vn)+($t=je.Fa!=null&&0<je.Fa.length?je.Kc.c*je.Kc.i:0))!=ei)mt=0;else{if(ei>je.Vb){if(je.Vb=0,je.Ec=o(ei),je.Fc=0,je.Ec==null){mt=un(je,1,"no memory during frame initialization.");break t}je.Vb=ei}ei=je.Ec,fi=je.Fc,je.Ac=ei,je.Bc=fi,fi+=qt,je.Gd=s(vn,dn),je.Hd=0,je.rb=s(rn+1,Fi),je.sb=1,je.wa=ur?s(ur,_i):null,je.Y=0,je.D.Nb=0,je.D.wa=je.wa,je.D.Y=je.Y,0<je.Aa&&(je.D.Y+=si),t(!0),je.oc=ei,je.pc=fi,fi+=832,je.ya=s(Zi,En),je.aa=0,je.D.ya=je.ya,je.D.aa=je.aa,je.Aa==2&&(je.D.aa+=si),je.R=16*si,je.B=8*si,si=(vn=ed[je.L])*je.R,vn=vn/2*je.B,je.sa=ei,je.ta=fi+si,je.qa=je.sa,je.ra=je.ta+16*mt*je.R+vn,je.Ha=je.qa,je.Ia=je.ra+8*mt*je.B+vn,je.$c=0,fi+=_t,je.mb=$t?ei:null,je.nb=$t?fi:null,t(fi+$t<=je.Fc+je.Vb),Qo(je),r(je.Ac,je.Bc,0,qt),mt=1}}if(mt){if(ut.ka=0,ut.y=je.sa,ut.O=je.ta,ut.f=je.qa,ut.N=je.ra,ut.ea=je.Ha,ut.Vd=je.Ia,ut.fa=je.R,ut.Rc=je.B,ut.F=null,ut.J=0,!u2){for(mt=-255;255>=mt;++mt)a2[255+mt]=0>mt?-mt:mt;for(mt=-1020;1020>=mt;++mt)l2[1020+mt]=-128>mt?-128:127<mt?127:mt;for(mt=-112;112>=mt;++mt)c2[112+mt]=-16>mt?-16:15<mt?15:mt;for(mt=-255;510>=mt;++mt)d2[255+mt]=0>mt?0:255<mt?255:mt;u2=1}vi=$o,Ii=Jr,Ti=Mr,en=Eo,xi=Xl,Hi=Br,Wi=N,_n=z,hn=I,jr=Y,ps=ie,Ts=S,cl=te,Al=we,wu=Ur,la=Xc,i2=kd,n2=Zp,Jc[0]=an,Jc[1]=gc,Jc[2]=on,Jc[3]=ai,Jc[4]=Bi,Jc[5]=pn,Jc[6]=cn,Jc[7]=so,Jc[8]=lr,Jc[9]=yr,hh[0]=Rt,hh[1]=le,hh[2]=De,hh[3]=xe,hh[4]=Ht,hh[5]=Ni,hh[6]=Ci,Cu[0]=Kl,Cu[1]=de,Cu[2]=Zn,Cu[3]=na,Cu[4]=Zl,Cu[5]=Yc,Cu[6]=Kp,mt=1}else mt=0}mt&&(mt=function(Pr,Hs){for(Pr.M=0;Pr.M<Pr.Va;++Pr.M){var hr,mn=Pr.Jc[Pr.M&Pr.Xb],Pi=Pr.m,As=Pr;for(hr=0;hr<As.za;++hr){var tr=Pi,Gr=As,No=Gr.Ac,Ma=Gr.Bc+4*hr,dl=Gr.zc,ms=Gr.ya[Gr.aa+hr];if(Gr.Qa.Bb?ms.$b=Me(tr,Gr.Pa.jb[0])?2+Me(tr,Gr.Pa.jb[2]):Me(tr,Gr.Pa.jb[1]):ms.$b=0,Gr.kc&&(ms.Ad=Me(tr,Gr.Bd)),ms.Za=!Me(tr,145)+0,ms.Za){var gs=ms.Ob,ul=0;for(Gr=0;4>Gr;++Gr){var Us,qr=dl[0+Gr];for(Us=0;4>Us;++Us){qr=x3[No[Ma+Us]][qr];for(var ao=g2[Me(tr,qr[0])];0<ao;)ao=g2[2*ao+Me(tr,qr[ao])];qr=-ao,No[Ma+Us]=qr}n(gs,ul,No,Ma,4),ul+=4,dl[0+Gr]=qr}}else qr=Me(tr,156)?Me(tr,128)?1:3:Me(tr,163)?2:0,ms.Ob[0]=qr,r(No,Ma,qr,4),r(dl,0,qr,4);ms.Dd=Me(tr,142)?Me(tr,114)?Me(tr,183)?1:3:2:0}if(As.m.Ka)return un(Pr,7,"Premature end-of-partition0 encountered.");for(;Pr.ja<Pr.za;++Pr.ja){if(As=mn,tr=(Pi=Pr).rb[Pi.sb-1],No=Pi.rb[Pi.sb+Pi.ja],hr=Pi.ya[Pi.aa+Pi.ja],Ma=Pi.kc?hr.Ad:0)tr.la=No.la=0,hr.Za||(tr.Na=No.Na=0),hr.Hc=0,hr.Gc=0,hr.ia=0;else{var vs,lo;if(tr=No,No=As,Ma=Pi.Pa.Xc,dl=Pi.ya[Pi.aa+Pi.ja],ms=Pi.pb[dl.$b],Gr=dl.ad,gs=0,ul=Pi.rb[Pi.sb-1],qr=Us=0,r(Gr,gs,0,384),dl.Za)var Ea=0,td=Ma[3];else{ao=o(16);var co=tr.Na+ul.Na;if(co=zg(No,Ma[1],co,ms.Eb,0,ao,0),tr.Na=ul.Na=(0<co)+0,1<co)vi(ao,0,Gr,gs);else{var Gs=ao[0]+3>>3;for(ao=0;256>ao;ao+=16)Gr[gs+ao]=Gs}Ea=1,td=Ma[0]}var xo=15&tr.la,Ws=15&ul.la;for(ao=0;4>ao;++ao){var Jl=1&Ws;for(Gs=lo=0;4>Gs;++Gs)xo=xo>>1|(Jl=(co=zg(No,td,co=Jl+(1&xo),ms.Sc,Ea,Gr,gs))>Ea)<<7,lo=lo<<2|(3<co?3:1<co?2:Gr[gs+0]!=0),gs+=16;xo>>=4,Ws=Ws>>1|Jl<<7,Us=(Us<<8|lo)>>>0}for(td=xo,Ea=Ws>>4,vs=0;4>vs;vs+=2){for(lo=0,xo=tr.la>>4+vs,Ws=ul.la>>4+vs,ao=0;2>ao;++ao){for(Jl=1&Ws,Gs=0;2>Gs;++Gs)co=Jl+(1&xo),xo=xo>>1|(Jl=0<(co=zg(No,Ma[2],co,ms.Qc,0,Gr,gs)))<<3,lo=lo<<2|(3<co?3:1<co?2:Gr[gs+0]!=0),gs+=16;xo>>=2,Ws=Ws>>1|Jl<<5}qr|=lo<<4*vs,td|=xo<<4<<vs,Ea|=(240&Ws)<<vs}tr.la=td,ul.la=Ea,dl.Hc=Us,dl.Gc=qr,dl.ia=43690&qr?0:ms.ia,Ma=!(Us|qr)}if(0<Pi.L&&(Pi.wa[Pi.Y+Pi.ja]=Pi.gd[hr.$b][hr.Za],Pi.wa[Pi.Y+Pi.ja].La|=!Ma),As.Ka)return un(Pr,7,"Premature end-of-file encountered.")}if(Qo(Pr),Pi=Hs,As=1,hr=(mn=Pr).D,tr=0<mn.L&&mn.M>=mn.zb&&mn.M<=mn.Va,mn.Aa==0)t:{if(hr.M=mn.M,hr.uc=tr,Lo(mn,hr),As=1,hr=(lo=mn.D).Nb,tr=(qr=ed[mn.L])*mn.R,No=qr/2*mn.B,ao=16*hr*mn.R,Gs=8*hr*mn.B,Ma=mn.sa,dl=mn.ta-tr+ao,ms=mn.qa,Gr=mn.ra-No+Gs,gs=mn.Ha,ul=mn.Ia-No+Gs,Ws=(xo=lo.M)==0,Us=xo>=mn.Va-1,mn.Aa==2&&Lo(mn,lo),lo.uc)for(Jl=(co=mn).D.M,t(co.D.uc),lo=co.yb;lo<co.Hb;++lo){Ea=lo,td=Jl;var hl=(ec=(ye=co).D).Nb;vs=ye.R;var ec=ec.wa[ec.Y+Ea],fl=ye.sa,js=ye.ta+16*hl*vs+16*Ea,za=ec.dd,bn=ec.tc;if(bn!=0)if(t(3<=bn),ye.L==1)0<Ea&&la(fl,js,vs,bn+4),ec.La&&n2(fl,js,vs,bn),0<td&&wu(fl,js,vs,bn+4),ec.La&&i2(fl,js,vs,bn);else{var C=ye.B,k=ye.qa,H=ye.ra+8*hl*C+8*Ea,X=ye.Ha,ye=ye.Ia+8*hl*C+8*Ea;hl=ec.ld,0<Ea&&(_n(fl,js,vs,bn+4,za,hl),jr(k,H,X,ye,C,bn+4,za,hl)),ec.La&&(Ts(fl,js,vs,bn,za,hl),Al(k,H,X,ye,C,bn,za,hl)),0<td&&(Wi(fl,js,vs,bn+4,za,hl),hn(k,H,X,ye,C,bn+4,za,hl)),ec.La&&(ps(fl,js,vs,bn,za,hl),cl(k,H,X,ye,C,bn,za,hl))}}if(mn.ia&&alert("todo:DitherRow"),Pi.put!=null){if(lo=16*xo,xo=16*(xo+1),Ws?(Pi.y=mn.sa,Pi.O=mn.ta+ao,Pi.f=mn.qa,Pi.N=mn.ra+Gs,Pi.ea=mn.Ha,Pi.W=mn.Ia+Gs):(lo-=qr,Pi.y=Ma,Pi.O=dl,Pi.f=ms,Pi.N=Gr,Pi.ea=gs,Pi.W=ul),Us||(xo-=qr),xo>Pi.o&&(xo=Pi.o),Pi.F=null,Pi.J=null,mn.Fa!=null&&0<mn.Fa.length&&lo<xo&&(Pi.J=Er(mn,Pi,lo,xo-lo),Pi.F=mn.mb,Pi.F==null&&Pi.F.length==0)){As=un(mn,3,"Could not decode alpha data.");break t}lo<Pi.j&&(qr=Pi.j-lo,lo=Pi.j,t(!(1&qr)),Pi.O+=mn.R*qr,Pi.N+=mn.B*(qr>>1),Pi.W+=mn.B*(qr>>1),Pi.F!=null&&(Pi.J+=Pi.width*qr)),lo<xo&&(Pi.O+=Pi.v,Pi.N+=Pi.v>>1,Pi.W+=Pi.v>>1,Pi.F!=null&&(Pi.J+=Pi.v),Pi.ka=lo-Pi.j,Pi.U=Pi.va-Pi.v,Pi.T=xo-lo,As=Pi.put(Pi))}hr+1!=mn.Ic||Us||(n(mn.sa,mn.ta-tr,Ma,dl+16*mn.R,tr),n(mn.qa,mn.ra-No,ms,Gr+8*mn.B,No),n(mn.Ha,mn.Ia-No,gs,ul+8*mn.B,No))}if(!As)return un(Pr,6,"Output aborted.")}return 1}(je,ut)),ut.bc!=null&&ut.bc(ut),mt&=1}return mt?(je.cb=0,mt):0})(M,q)||(E=M.a)}}else E=M.a}E==0&&Ce.Oa!=null&&Ce.Oa.fd&&(E=bf(Ce.ba))}Ce=E}fe=Ce!=0?null:11>fe?Re.f.RGBA.eb:Re.f.kb.y}else fe=null;return fe};var D2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(T,P){for(var A="",O=0;O<4;O++)A+=String.fromCharCode(T[P++]);return A}function d(T,P){return T[P+0]|T[P+1]<<8}function u(T,P){return(T[P+0]|T[P+1]<<8|T[P+2]<<16)>>>0}function h(T,P){return(T[P+0]|T[P+1]<<8|T[P+2]<<16|T[P+3]<<24)>>>0}new l;var f=[0],p=[0],v=[],m=new l,g=e,b=function(T,P){var A={},O=0,V=!1,U=0,ae=0;if(A.frames=[],!function(K,Q){for(var ee=0;ee<4;ee++)if(K[Q+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(T,P)){for(h(T,P+=4),P+=8;P<T.length;){var ne=c(T,P),ue=h(T,P+=4);P+=4;var se=ue+(1&ue);switch(ne){case"VP8 ":case"VP8L":A.frames[O]===void 0&&(A.frames[O]={}),(Ge=A.frames[O]).src_off=V?ae:P-8,Ge.src_size=U+ue+8,O++,V&&(V=!1,U=0,ae=0);break;case"VP8X":(Ge=A.header={}).feature_flags=T[P];var _e=P+4;Ge.canvas_width=1+u(T,_e),_e+=3,Ge.canvas_height=1+u(T,_e),_e+=3;break;case"ALPH":V=!0,U=se+8,ae=P-8;break;case"ANIM":(Ge=A.header).bgcolor=h(T,P),_e=P+4,Ge.loop_count=d(T,_e),_e+=2;break;case"ANMF":var Ve,Ge;(Ge=A.frames[O]={}).offset_x=2*u(T,P),P+=3,Ge.offset_y=2*u(T,P),P+=3,Ge.width=1+u(T,P),P+=3,Ge.height=1+u(T,P),P+=3,Ge.duration=u(T,P),P+=3,Ve=T[P++],Ge.dispose=1&Ve,Ge.blend=Ve>>1&1}ne!="ANMF"&&(P+=se)}return A}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,x=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],p=[w.canvas_width];for(var R=0;R<x.length&&x[R].blend!=0;R++);}var _=x[0],L=m.WebPDecodeRGBA(g,_.src_off,_.src_size,p,f);_.rgba=L,_.imgwidth=p[0],_.imgheight=f[0];for(var F=0;F<p[0]*f[0]*4;F++)v[F]=L[F];return this.width=p,this.height=f,this.data=v,this}(function(e){var t,i,n,r,o,s,a,l,c,d=function(K){return K=K||{},this.isStrokeTransparent=K.isStrokeTransparent||!1,this.strokeOpacity=K.strokeOpacity||1,this.strokeStyle=K.strokeStyle||"#000000",this.fillStyle=K.fillStyle||"#000000",this.isFillTransparent=K.isFillTransparent||!1,this.fillOpacity=K.fillOpacity||1,this.font=K.font||"10px sans-serif",this.textBaseline=K.textBaseline||"alphabetic",this.textAlign=K.textAlign||"left",this.lineWidth=K.lineWidth||1,this.lineJoin=K.lineJoin||"miter",this.lineCap=K.lineCap||"butt",this.path=K.path||[],this.transform=K.transform!==void 0?K.transform.clone():new l,this.globalCompositeOperation=K.globalCompositeOperation||"normal",this.globalAlpha=K.globalAlpha||1,this.clip_path=K.clip_path||[],this.currentPoint=K.currentPoint||new s,this.miterLimit=K.miterLimit||10,this.lastPoint=K.lastPoint||new s,this.lineDashOffset=K.lineDashOffset||0,this.lineDash=K.lineDash||[],this.margin=K.margin||[0,0,0,0],this.prevPageLastElemOffset=K.prevPageLastElemOffset||0,this.ignoreClearRect=typeof K.ignoreClearRect!="boolean"||K.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,i=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(K){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=K;Object.defineProperty(this,"pdf",{get:function(){return Q}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(ge){ee=!!ge}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ge){Z=!!ge}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(ge){isNaN(ge)||(G=ge)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(ge){isNaN(ge)||(W=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var pt;typeof ge=="number"?pt=[ge,ge,ge,ge]:((pt=new Array(4))[0]=ge[0],pt[1]=ge.length>=2?ge[1]:pt[0],pt[2]=ge.length>=3?ge[2]:pt[0],pt[3]=ge.length>=4?ge[3]:pt[1]),c.margin=pt}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(ge){ce=ge}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(ge){me=ge}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(ge){Me=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof d&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(ge){He=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var pt;pt=h(ge),this.ctx.fillStyle=pt.style,this.ctx.isFillTransparent=pt.a===0,this.ctx.fillOpacity=pt.a,this.pdf.setFillColor(pt.r,pt.g,pt.b,{a:pt.a}),this.pdf.setTextColor(pt.r,pt.g,pt.b,{a:pt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var pt=h(ge);this.ctx.strokeStyle=pt.style,this.ctx.isStrokeTransparent=pt.a===0,this.ctx.strokeOpacity=pt.a,pt.a===0?this.pdf.setDrawColor(255,255,255):(pt.a,this.pdf.setDrawColor(pt.r,pt.g,pt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var $e=null,Je=null,ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(ge){$e=null,Je=null,ve=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var pt;if(this.ctx.font=ge,(pt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ge))!==null){var vt=pt[1];pt[2];var Pt=pt[3],ft=pt[4];pt[5];var kt=pt[6],be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ft)[2];ft=Math.floor(be==="px"?parseFloat(ft)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(ft)*this.pdf.getFontSize():parseFloat(ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ft);var oe=function(Be){var ct,gt,Tt=[],Ft=Be.trim();if(Ft==="")return ML;if(Ft in $Y)return[$Y[Ft]];for(;Ft!=="";){switch(gt=null,ct=(Ft=KY(Ft)).charAt(0)){case'"':case"'":gt=WEe(Ft.substring(1),ct);break;default:gt=jEe(Ft)}if(gt===null||(Tt.push(gt[0]),(Ft=KY(gt[1]))!==""&&Ft.charAt(0)!==","))return ML;Ft=Ft.replace(/^,/,"")}return Tt}(kt);if(this.fontFaces){var re=function(Be,ct){var gt=Be.getFontList(),Tt=JSON.stringify(gt);if($e===null||Je!==Tt){var Ft=function(wi){var Vt=[];return Object.keys(wi).forEach(function(li){wi[li].forEach(function(Ue){var yt=null;switch(Ue){case"bold":yt={family:li,weight:"bold"};break;case"italic":yt={family:li,style:"italic"};break;case"bolditalic":yt={family:li,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:li}}yt!==null&&(yt.ref={name:li,style:Ue},Vt.push(yt))})}),Vt}(gt);$e=function(wi){for(var Vt={},li=0;li<wi.length;++li){var Ue=SL(wi[li]),yt=Ue.family,dt=Ue.stretch,ht=Ue.style,nt=Ue.weight;Vt[yt]=Vt[yt]||{},Vt[yt][dt]=Vt[yt][dt]||{},Vt[yt][dt][ht]=Vt[yt][dt][ht]||{},Vt[yt][dt][ht][nt]=Ue}return Vt}(Ft.concat(ct)),Je=Tt}return $e}(this.pdf,this.fontFaces),J=oe.map(function(Be){return{family:Be,stretch:"normal",weight:Pt,style:vt}}),pe=function(Be,ct,gt){for(var Tt=(gt=gt||{}).defaultFontFamily||"times",Ft=Object.assign({},GEe,gt.genericFontFamilies||{}),wi=null,Vt=null,li=0;li<ct.length;++li)if(Ft[(wi=SL(ct[li])).family]&&(wi.family=Ft[wi.family]),Be.hasOwnProperty(wi.family)){Vt=Be[wi.family];break}if(!(Vt=Vt||Be[Tt]))throw new Error("Could not find a font-family for the rule '"+XY(wi)+"' and default family '"+Tt+"'.");if(Vt=function(Ue,yt){if(yt[Ue])return yt[Ue];var dt=kL[Ue],ht=dt<=kL.normal?-1:1,nt=YY(yt,_$,dt,ht);if(!nt)throw new Error("Could not find a matching font-stretch value for "+Ue);return nt}(wi.stretch,Vt),Vt=function(Ue,yt){if(yt[Ue])return yt[Ue];for(var dt=b$[Ue],ht=0;ht<dt.length;++ht)if(yt[dt[ht]])return yt[dt[ht]];throw new Error("Could not find a matching font-style for "+Ue)}(wi.style,Vt),!(Vt=function(Ue,yt){if(yt[Ue])return yt[Ue];if(Ue===400&&yt[500])return yt[500];if(Ue===500&&yt[400])return yt[400];var dt=UEe[Ue],ht=YY(yt,y$,dt,Ue<400?-1:1);if(!ht)throw new Error("Could not find a matching font-weight for value "+Ue);return ht}(wi.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+XY(wi)+"'.");return Vt}(re,J);this.pdf.setFont(pe.ref.name,pe.ref.style)}else{var Ee="";(Pt==="bold"||parseInt(Pt,10)>=700||vt==="bold")&&(Ee="bold"),vt==="italic"&&(Ee+="italic"),Ee.length===0&&(Ee="normal");for(var ke="",Le={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ne=0;Ne<oe.length;Ne++){if(this.pdf.internal.getFont(oe[Ne],Ee,{noFallback:!0,disableWarning:!0})!==void 0){ke=oe[Ne];break}if(Ee==="bolditalic"&&this.pdf.internal.getFont(oe[Ne],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=oe[Ne],Ee="bold";else if(this.pdf.internal.getFont(oe[Ne],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=oe[Ne],Ee="normal";break}}if(ke===""){for(var Ye=0;Ye<oe.length;Ye++)if(Le[oe[Ye]]){ke=Le[oe[Ye]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,Ee)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,Ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,Ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};u.prototype.setLineDash=function(K){this.lineDash=K},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){x.call(this,"fill",!1)},u.prototype.stroke=function(){x.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(K,Q){if(isNaN(K)||isNaN(Q))throw zo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(K,Q));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(K,Q)},u.prototype.closePath=function(){var K=new s(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Co(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){K=new s(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(K.x,K.y)},u.prototype.lineTo=function(K,Q){if(isNaN(K)||isNaN(Q))throw zo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(K,Q));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},u.prototype.quadraticCurveTo=function(K,Q,ee,Z){if(isNaN(ee)||isNaN(Z)||isNaN(K)||isNaN(Q))throw zo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new s(ee,Z)),W=this.ctx.transform.applyToPoint(new s(K,Q));this.path.push({type:"qct",x1:W.x,y1:W.y,x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},u.prototype.bezierCurveTo=function(K,Q,ee,Z,G,W){if(isNaN(G)||isNaN(W)||isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z))throw zo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new s(G,W)),me=this.ctx.transform.applyToPoint(new s(K,Q)),Me=this.ctx.transform.applyToPoint(new s(ee,Z));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Me.x,y2:Me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},u.prototype.arc=function(K,Q,ee,Z,G,W){if(isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z)||isNaN(G))throw zo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new s(K,Q));K=ce.x,Q=ce.y;var me=this.ctx.transform.applyToPoint(new s(0,ee)),Me=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(me.x-Me.x,2)+Math.pow(me.y-Me.y,2))}Math.abs(G-Z)>=2*Math.PI&&(Z=0,G=2*Math.PI),this.path.push({type:"arc",x:K,y:Q,radius:ee,startAngle:Z,endAngle:G,counterclockwise:W})},u.prototype.arcTo=function(K,Q,ee,Z,G){throw new Error("arcTo not implemented.")},u.prototype.rect=function(K,Q,ee,Z){if(isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z))throw zo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(K,Q),this.lineTo(K+ee,Q),this.lineTo(K+ee,Q+Z),this.lineTo(K,Q+Z),this.lineTo(K,Q),this.lineTo(K+ee,Q),this.lineTo(K,Q)},u.prototype.fillRect=function(K,Q,ee,Z){if(isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z))throw zo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(K,Q,ee,Z),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},u.prototype.strokeRect=function(K,Q,ee,Z){if(isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z))throw zo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(K,Q,ee,Z),this.stroke())},u.prototype.clearRect=function(K,Q,ee,Z){if(isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z))throw zo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(K,Q,ee,Z))},u.prototype.save=function(K){K=typeof K!="boolean"||K;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),K){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},u.prototype.restore=function(K){K=typeof K!="boolean"||K;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),K&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(K){var Q,ee,Z,G;if(K.isCanvasGradient===!0&&(K=K.getColor()),!K)return{r:0,g:0,b:0,a:0,style:K};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(K))Q=0,ee=0,Z=0,G=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(K);if(W!==null)Q=parseInt(W[1]),ee=parseInt(W[2]),Z=parseInt(W[3]),G=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(K))!==null)Q=parseInt(W[1]),ee=parseInt(W[2]),Z=parseInt(W[3]),G=parseFloat(W[4]);else{if(G=1,typeof K=="string"&&K.charAt(0)!=="#"){var ce=new u$(K);K=ce.ok?ce.toHex():"#000000"}K.length===4?(Q=K.substring(1,2),Q+=Q,ee=K.substring(2,3),ee+=ee,Z=K.substring(3,4),Z+=Z):(Q=K.substring(1,3),ee=K.substring(3,5),Z=K.substring(5,7)),Q=parseInt(Q,16),ee=parseInt(ee,16),Z=parseInt(Z,16)}}return{r:Q,g:ee,b:Z,a:G,style:K}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(K,Q,ee,Z){if(isNaN(Q)||isNaN(ee)||typeof K!="string")throw zo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var G=se(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;O.call(this,{text:K,x:Q,y:ee,scale:W,angle:G,align:this.textAlign,maxWidth:Z})}},u.prototype.strokeText=function(K,Q,ee,Z){if(isNaN(Q)||isNaN(ee)||typeof K!="string")throw zo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){Z=isNaN(Z)?void 0:Z;var G=se(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;O.call(this,{text:K,x:Q,y:ee,scale:W,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:Z})}},u.prototype.measureText=function(K){if(typeof K!="string")throw zo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ee=this.pdf.internal.scaleFactor,Z=Q.internal.getFontSize(),G=Q.getStringUnitWidth(K)*Z/Q.internal.scaleFactor;return new function(W){var ce=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:G*=Math.round(96*ee/72*1e4)/1e4})},u.prototype.scale=function(K,Q){if(isNaN(K)||isNaN(Q))throw zo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(K,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},u.prototype.rotate=function(K){if(isNaN(K))throw zo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},u.prototype.translate=function(K,Q){if(isNaN(K)||isNaN(Q))throw zo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,K,Q);this.ctx.transform=this.ctx.transform.multiply(ee)},u.prototype.transform=function(K,Q,ee,Z,G,W){if(isNaN(K)||isNaN(Q)||isNaN(ee)||isNaN(Z)||isNaN(G)||isNaN(W))throw zo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(K,Q,ee,Z,G,W);this.ctx.transform=this.ctx.transform.multiply(ce)},u.prototype.setTransform=function(K,Q,ee,Z,G,W){K=isNaN(K)?1:K,Q=isNaN(Q)?0:Q,ee=isNaN(ee)?0:ee,Z=isNaN(Z)?1:Z,G=isNaN(G)?0:G,W=isNaN(W)?0:W,this.ctx.transform=new l(K,Q,ee,Z,G,W)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(K,Q,ee,Z,G,W,ce,me,Me){var He=this.pdf.getImageProperties(K),$e=1,Je=1,ve=1,ge=1;Z!==void 0&&me!==void 0&&(ve=me/Z,ge=Me/G,$e=He.width/Z*me/Z,Je=He.height/G*Me/G),W===void 0&&(W=Q,ce=ee,Q=0,ee=0),Z!==void 0&&me===void 0&&(me=Z,Me=G),Z===void 0&&me===void 0&&(me=He.width,Me=He.height);var pt=this.ctx.transform.decompose(),vt=se(pt.rotate.shx),Pt=new l,ft=(Pt=(Pt=(Pt=Pt.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new a(W-Q*ve,ce-ee*ge,Z*$e,G*Je));if(this.autoPaging){for(var kt,be=m.call(this,ft),oe=[],re=0;re<be.length;re+=1)oe.indexOf(be[re])===-1&&oe.push(be[re]);w(oe);for(var J=oe[0],pe=oe[oe.length-1],Ee=J;Ee<pe+1;Ee++){this.pdf.setPage(Ee);var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=Ee===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=Ee===1?0:Ne+(Ee-2)*Ye;if(this.ctx.clip_path.length!==0){var ct=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(kt,this.posX+this.margin[3],-Be+Le+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=ct}var gt=JSON.parse(JSON.stringify(ft));gt=b([gt],this.posX+this.margin[3],-Be+Le+this.ctx.prevPageLastElemOffset)[0];var Tt=(Ee>J||Ee<pe)&&v.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ye,null).clip().discardPath()),this.pdf.addImage(K,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,vt),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(K,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,vt)};var m=function(K,Q,ee){var Z=[];Q=Q||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(K.type){default:case"mt":case"lt":Z.push(Math.floor((K.y+G)/ee)+1);break;case"arc":Z.push(Math.floor((K.y+G-K.radius)/ee)+1),Z.push(Math.floor((K.y+G+K.radius)/ee)+1);break;case"qct":var W=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x,K.y);Z.push(Math.floor((W.y+G)/ee)+1),Z.push(Math.floor((W.y+W.h+G)/ee)+1);break;case"bct":var ce=Ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x2,K.y2,K.x,K.y);Z.push(Math.floor((ce.y+G)/ee)+1),Z.push(Math.floor((ce.y+ce.h+G)/ee)+1);break;case"rect":Z.push(Math.floor((K.y+G)/ee)+1),Z.push(Math.floor((K.y+K.h+G)/ee)+1)}for(var me=0;me<Z.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Z[me];)g.call(this);return Z},g=function(){var K=this.fillStyle,Q=this.strokeStyle,ee=this.font,Z=this.lineCap,G=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=K,this.strokeStyle=Q,this.font=ee,this.lineCap=Z,this.lineWidth=G,this.lineJoin=W},b=function(K,Q,ee){for(var Z=0;Z<K.length;Z++)switch(K[Z].type){case"bct":K[Z].x2+=Q,K[Z].y2+=ee;case"qct":K[Z].x1+=Q,K[Z].y1+=ee;default:K[Z].x+=Q,K[Z].y+=ee}return K},w=function(K){return K.sort(function(Q,ee){return Q-ee})},x=function(K,Q){var ee=this.fillStyle,Z=this.strokeStyle,G=this.lineCap,W=this.lineWidth,ce=Math.abs(W*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var Me,He,$e=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ve=[],ge=0;ge<Je.length;ge++)if(Je[ge].x!==void 0)for(var pt=m.call(this,Je[ge]),vt=0;vt<pt.length;vt+=1)ve.indexOf(pt[vt])===-1&&ve.push(pt[vt]);for(var Pt=0;Pt<ve.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<ve[Pt];)g.call(this);w(ve);for(var ft=ve[0],kt=ve[ve.length-1],be=ft;be<kt+1;be++){this.pdf.setPage(be),this.fillStyle=ee,this.strokeStyle=Z,this.lineCap=G,this.lineWidth=ce,this.lineJoin=me;var oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],re=be===1?this.posY+this.margin[0]:this.margin[0],J=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ee=be===1?0:J+(be-2)*pe;if(this.ctx.clip_path.length!==0){var ke=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Me,this.posX+this.margin[3],-Ee+re+this.ctx.prevPageLastElemOffset),R.call(this,K,!0),this.path=ke}if(He=JSON.parse(JSON.stringify($e)),this.path=b(He,this.posX+this.margin[3],-Ee+re+this.ctx.prevPageLastElemOffset),Q===!1||be===0){var Le=(be>ft||be<kt)&&v.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,pe,null).clip().discardPath()),R.call(this,K,Q),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=W}this.path=$e}else this.lineWidth=ce,R.call(this,K,Q),this.lineWidth=W},R=function(K,Q){if((K!=="stroke"||Q||!p.call(this))&&(K==="stroke"||Q||!f.call(this))){for(var ee,Z,G=[],W=this.path,ce=0;ce<W.length;ce++){var me=W[ce];switch(me.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:me,deltas:[],abs:[]});break;case"lt":var Me=G.length;if(W[ce-1]&&!isNaN(W[ce-1].x)&&(ee=[me.x-W[ce-1].x,me.y-W[ce-1].y],Me>0)){for(;Me>=0;Me--)if(G[Me-1].close!==!0&&G[Me-1].begin!==!0){G[Me-1].deltas.push(ee),G[Me-1].abs.push(me);break}}break;case"bct":ee=[me.x1-W[ce-1].x,me.y1-W[ce-1].y,me.x2-W[ce-1].x,me.y2-W[ce-1].y,me.x-W[ce-1].x,me.y-W[ce-1].y],G[G.length-1].deltas.push(ee);break;case"qct":var He=W[ce-1].x+2/3*(me.x1-W[ce-1].x),$e=W[ce-1].y+2/3*(me.y1-W[ce-1].y),Je=me.x+2/3*(me.x1-me.x),ve=me.y+2/3*(me.y1-me.y),ge=me.x,pt=me.y;ee=[He-W[ce-1].x,$e-W[ce-1].y,Je-W[ce-1].x,ve-W[ce-1].y,ge-W[ce-1].x,pt-W[ce-1].y],G[G.length-1].deltas.push(ee);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(me)}}Z=Q?null:K==="stroke"?"stroke":"fill";for(var vt=!1,Pt=0;Pt<G.length;Pt++)if(G[Pt].arc)for(var ft=G[Pt].abs,kt=0;kt<ft.length;kt++){var be=ft[kt];be.type==="arc"?F.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,Q,!vt):V.call(this,be.x,be.y),vt=!0}else if(G[Pt].close===!0)this.pdf.internal.out("h"),vt=!1;else if(G[Pt].begin!==!0){var oe=G[Pt].start.x,re=G[Pt].start.y;U.call(this,G[Pt].deltas,oe,re),vt=!0}Z&&T.call(this,Z),Q&&P.call(this)}},_=function(K){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return K-ee;case"top":return K+Q-ee;case"hanging":return K+Q-2*ee;case"middle":return K+Q/2-ee;default:return K}},L=function(K){return K+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var K=function(){};return K.colorStops=[],K.addColorStop=function(Q,ee){this.colorStops.push([Q,ee])},K.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},K.isCanvasGradient=!0,K},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(K,Q,ee,Z,G,W,ce,me,Me){for(var He=ne.call(this,ee,Z,G,W),$e=0;$e<He.length;$e++){var Je=He[$e];$e===0&&(Me?A.call(this,Je.x1+K,Je.y1+Q):V.call(this,Je.x1+K,Je.y1+Q)),ae.call(this,K,Q,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}me?P.call(this):T.call(this,ce)},T=function(K){switch(K){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(K,Q){this.pdf.internal.out(i(K)+" "+n(Q)+" m")},O=function(K){var Q;switch(K.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var ee,Z,G,W=this.pdf.getTextDimensions(K.text),ce=_.call(this,K.y),me=L.call(this,ce)-W.h,Me=this.ctx.transform.applyToPoint(new s(K.x,ce));if(this.autoPaging){var He=this.ctx.transform.decompose(),$e=new l;$e=($e=($e=$e.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var Je=this.ctx.transform.applyToRectangle(new a(K.x,ce,W.w,W.h)),ve=$e.applyToRectangle(new a(K.x,me,W.w,W.h)),ge=m.call(this,ve),pt=[],vt=0;vt<ge.length;vt+=1)pt.indexOf(ge[vt])===-1&&pt.push(ge[vt]);w(pt);for(var Pt=pt[0],ft=pt[pt.length-1],kt=Pt;kt<ft+1;kt++){this.pdf.setPage(kt);var be=kt===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],re=this.pdf.internal.pageSize.height-this.margin[2],J=re-this.margin[0],pe=this.pdf.internal.pageSize.width-this.margin[1],Ee=pe-this.margin[3],ke=kt===1?0:oe+(kt-2)*J;if(this.ctx.clip_path.length!==0){var Le=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ee,this.posX+this.margin[3],-1*ke+be),R.call(this,"fill",!0),this.path=Le}var Ne=b([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-ke+be+this.ctx.prevPageLastElemOffset)[0];K.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*K.scale),G=this.lineWidth,this.lineWidth=G*K.scale);var Ye=this.autoPaging!=="text";if(Ye||Ne.y+Ne.h<=re){if(Ye||Ne.y>=be&&Ne.x<=pe){var Be=Ye?K.text:this.pdf.splitTextToSize(K.text,K.maxWidth||pe-Ne.x)[0],ct=b([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-ke+be+this.ctx.prevPageLastElemOffset)[0],gt=Ye&&(kt>Pt||kt<ft)&&v.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,J,null).clip().discardPath()),this.pdf.text(Be,ct.x,ct.y,{angle:K.angle,align:Q,renderingMode:K.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else Ne.y<re&&(this.ctx.prevPageLastElemOffset+=re-Ne.y);K.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=G)}}else K.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*K.scale),G=this.lineWidth,this.lineWidth=G*K.scale),this.pdf.text(K.text,Me.x+this.posX,Me.y+this.posY,{angle:K.angle,align:Q,renderingMode:K.renderingMode,maxWidth:K.maxWidth}),K.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=G)},V=function(K,Q,ee,Z){ee=ee||0,Z=Z||0,this.pdf.internal.out(i(K+ee)+" "+n(Q+Z)+" l")},U=function(K,Q,ee){return this.pdf.lines(K,Q,ee,null,null)},ae=function(K,Q,ee,Z,G,W,ce,me){this.pdf.internal.out([t(r(ee+K)),t(o(Z+Q)),t(r(G+K)),t(o(W+Q)),t(r(ce+K)),t(o(me+Q)),"c"].join(" "))},ne=function(K,Q,ee,Z){for(var G=2*Math.PI,W=Math.PI/2;Q>ee;)Q-=G;var ce=Math.abs(ee-Q);ce<G&&Z&&(ce=G-ce);for(var me=[],Me=Z?-1:1,He=Q;ce>1e-5;){var $e=He+Me*Math.min(ce,W);me.push(ue.call(this,K,He,$e)),ce-=Math.abs($e-He),He=$e}return me},ue=function(K,Q,ee){var Z=(ee-Q)/2,G=K*Math.cos(Z),W=K*Math.sin(Z),ce=G,me=-W,Me=ce*ce+me*me,He=Me+ce*G+me*W,$e=4/3*(Math.sqrt(2*Me*He)-He)/(ce*W-me*G),Je=ce-$e*me,ve=me+$e*ce,ge=Je,pt=-ve,vt=Z+Q,Pt=Math.cos(vt),ft=Math.sin(vt);return{x1:K*Math.cos(Q),y1:K*Math.sin(Q),x2:Je*Pt-ve*ft,y2:Je*ft+ve*Pt,x3:ge*Pt-pt*ft,y3:ge*ft+pt*Pt,x4:K*Math.cos(ee),y4:K*Math.sin(ee)}},se=function(K){return 180*K/Math.PI},_e=function(K,Q,ee,Z,G,W){var ce=K+.5*(ee-K),me=Q+.5*(Z-Q),Me=G+.5*(ee-G),He=W+.5*(Z-W),$e=Math.min(K,G,ce,Me),Je=Math.max(K,G,ce,Me),ve=Math.min(Q,W,me,He),ge=Math.max(Q,W,me,He);return new a($e,ve,Je-$e,ge-ve)},Ve=function(K,Q,ee,Z,G,W,ce,me){var Me,He,$e,Je,ve,ge,pt,vt,Pt,ft,kt,be,oe,re,J=ee-K,pe=Z-Q,Ee=G-ee,ke=W-Z,Le=ce-G,Ne=me-W;for(He=0;He<41;He++)Pt=(pt=($e=K+(Me=He/40)*J)+Me*((ve=ee+Me*Ee)-$e))+Me*(ve+Me*(G+Me*Le-ve)-pt),ft=(vt=(Je=Q+Me*pe)+Me*((ge=Z+Me*ke)-Je))+Me*(ge+Me*(W+Me*Ne-ge)-vt),He==0?(kt=Pt,be=ft,oe=Pt,re=ft):(kt=Math.min(kt,Pt),be=Math.min(be,ft),oe=Math.max(oe,Pt),re=Math.max(re,ft));return new a(Math.round(kt),Math.round(be),Math.round(oe-kt),Math.round(re-be))},Ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K,Q,ee=(K=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:K,lineDashOffset:Q}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(xn.API),function(e){var t=function(s){var a,l,c,d,u,h,f,p,v,m;for(/[^\x00-\xFF]/.test(s),l=[],c=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(u=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(m=u%85))/85)-(v=u%85))/85)-(p=u%85))/85)-(f=u%85))/85)%85,l.push(h+33,f+33,p+33,v+33,m+33)):l.push(122);return function(g,b){for(var w=b;w>0;w--)g.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},i=function(s){var a,l,c,d,u,h=String,f="length",p=255,v="charCodeAt",m="slice",g="replace";for(s[m](-2),s=s[m](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],d=0,u=(s+=a="uuuuu"[m](s[f]%5||5))[f];u>d;d+=5)l=52200625*(s[v](d)-33)+614125*(s[v](d+1)-33)+7225*(s[v](d+2)-33)+85*(s[v](d+3)-33)+(s[v](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(b,w){for(var x=w;x>0;x--)b.pop()}(c,a[f]),h.fromCharCode.apply(h,c)},n=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=mD(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,a){var l=0,c=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=i(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(xn.API),function(e){e.loadFile=function(t,i,n){return function(r,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var u=new XMLHttpRequest,h=0,f=function(p){var v=p.length,m=[],g=String.fromCharCode;for(h=0;h<v;h+=1)m.push(g(255&p.charCodeAt(h)));return m.join("")};if(u.open("GET",l,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(u.onload=function(){u.status===200?d(f(this.responseText)):d(void 0)}),u.send(null),c&&u.status===200)return f(u.responseText)}(r,o,s)}catch{}return a}(t,i,n)},e.loadImageFile=e.loadFile}(xn.API),function(e){function t(){return(qn.html2canvas?Promise.resolve(qn.html2canvas):import("./chunk-MJWWVW6P.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function i(){return(qn.DOMPurify?Promise.resolve(qn.DOMPurify):import("./chunk-VH54VPDW.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Co(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},o=function a(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),u=l.firstChild;u;u=u.nextSibling)c!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||d.appendChild(a(u,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return(d=d.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(i).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var p=d[f],v=p.src.find(function(m){return m.format==="truetype"});v&&c.addFont(v.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||xn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),h=c.call(u,a,l);return s.convert(h,d.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,xn.getPageSize=function(a,l,c){if(Co(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,v=0,m=0;if(f.hasOwnProperty(h))v=f[h][1]/u,m=f[h][0]/u;else try{v=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",m>v&&(p=m,m=v,v=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",v>m&&(p=m,m=v,v=p)}return{width:m,height:v,unit:l,k:u,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(SL):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(xn.API),xn.API.addJS=function(e){return QY=e,this.internal.events.subscribe("postPutResources",function(){VD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(VD+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){VD!==void 0&&ZY!==void 0&&this.internal.out("/Names <</JavaScript "+VD+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var i=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=i.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],a=n.exec(s);if(a!=null){var l=a[1];i.internal.newObjectDeferredBegin(l,!1)}i.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var u=i.internal.newObject();d.push(u);var h=i.internal.getPageInfo(o+1);i.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=i.internal.newObject();for(i.internal.write("<< /Names [ "),o=0;o<d.length;o++)i.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");i.internal.write(" ] >>","endobj"),t=i.internal.newObject(),i.internal.write("<< /Dests "+f+" 0 R"),i.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var i=this;i.outline.root.children.length>0&&(i.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&i.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var i=this;i.outline={createNamedDestinations:!1,root:{children:[]}},i.outline.add=function(n,r,o){var s={title:r,options:o,children:[]};return n==null&&(n=this.root),n.children.push(s),s},i.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=i,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},i.outline.genIds_r=function(n){n.id=i.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},i.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},i.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var s=n.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=i.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},i.outline.line=function(n){this.ctx.val+=n+`\r
`},i.outline.makeRef=function(n){return n.id+" 0 R"},i.outline.makeString=function(n){return"("+i.internal.pdfEscape(n)+")"},i.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},i.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},i.outline.count_r=function(n,r){for(var o=0;o<r.children.length;o++)n.count++,this.count_r(n,r.children[o]);return n.count}}])}(xn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(i,n,r,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof i=="string"||this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i)){switch(i=s||i,i=this.__addimage__.isArrayBuffer(i)?new Uint8Array(i):i,l=function(u){for(var h,f=256*u.charCodeAt(4)+u.charCodeAt(5),p=u.length,v={width:0,height:0,numcomponents:1},m=4;m<p;m+=2){if(m+=f,t.indexOf(u.charCodeAt(m+1))!==-1){h=256*u.charCodeAt(m+5)+u.charCodeAt(m+6),v={width:256*u.charCodeAt(m+7)+u.charCodeAt(m+8),height:h,numcomponents:u.charCodeAt(m+9)};break}f=256*u.charCodeAt(m+2)+u.charCodeAt(m+3)}return v}(i=this.__addimage__.isArrayBufferView(i)?this.__addimage__.arrayBufferToBinaryString(i):i),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:i,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:r}}return d}}(xn.API),xn.API.processPNG=function(e,t,i,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,o=zY(e,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,d=o.depth;r=c&&l===1?function(F){for(var T=F.width,P=F.height,A=F.data,O=F.palette,V=F.depth,U=!1,ae=[],ne=[],ue=void 0,se=!1,_e=0,Ve=0;Ve<O.length;Ve++){var Ge=LO(O[Ve],4),K=Ge[0],Q=Ge[1],ee=Ge[2],Z=Ge[3];ae.push(K,Q,ee),Z!=null&&(Z===0?(_e++,ne.length<1&&ne.push(Ve)):Z<255&&(se=!0))}if(se||_e>1){U=!0,ne=void 0;var G=T*P;ue=new Uint8Array(G);for(var W=new DataView(A.buffer),ce=0;ce<G;ce++){var me=EL(W,ce,V),Me=LO(O[me],4)[3];ue[ce]=Me}}else _e===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:A,alphaBytes:ue,needSMask:U,palette:ae,mask:ne}}(o):l===2||l===4?function(F){for(var T=F.data,P=F.width,A=F.height,O=F.channels,V=F.depth,U=O===2?"DeviceGray":"DeviceRGB",ae=O-1,ne=P*A,ue=ae,se=ne*ue,_e=1*ne,Ve=Math.ceil(se*V/8),Ge=Math.ceil(_e*V/8),K=new Uint8Array(Ve),Q=new Uint8Array(Ge),ee=new DataView(T.buffer),Z=new DataView(K.buffer),G=new DataView(Q.buffer),W=!1,ce=0;ce<ne;ce++){for(var me=ce*O,Me=0;Me<ue;Me++)a$(Z,EL(ee,me+Me,V),ce*ue+Me,V);var He=EL(ee,me+ue,V);He<(1<<V)-1&&(W=!0),a$(G,He,1*ce,V)}return{colorSpace:U,colorsPerPixel:ae,sMaskBitsPerComponent:W?V:void 0,colorBytes:K,alphaBytes:Q,needSMask:W}}(o):function(F){var T=F.data,P=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(A){for(var O=A.length,V=new Uint8Array(2*O),U=new DataView(V.buffer,V.byteOffset,V.byteLength),ae=0;ae<O;ae++)U.setUint16(2*ae,A[ae],!1);return V}(T):T,needSMask:!1}}(o);var u,h,f,p=r,v=p.colorSpace,m=p.colorsPerPixel,g=p.sMaskBitsPerComponent,b=p.colorBytes,w=p.alphaBytes,x=p.needSMask,R=p.palette,_=p.mask,L=null;return n!==xn.API.image_compression.NONE&&typeof mD=="function"?(L=function(F){var T;switch(F){case xn.API.image_compression.FAST:T=11;break;case xn.API.image_compression.MEDIUM:T=13;break;case xn.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(L," /Colors ").concat(m," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=i$(b,Math.ceil(s*m*d/8),m,d,n),x&&(f=i$(w,Math.ceil(s*g/8),1,g,n))):(u=void 0,h=void 0,e=b,x&&(f=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:i,data:e,index:t,filter:u,decodeParameters:h,transparency:_,palette:R,sMask:f,predictor:L,width:s,height:a,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:v}}},function(e){e.processGIF89A=function(t,i,n,r){var o=new XEe(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new DL(100).encode(c,100);return e.processJPEG.call(this,d,i,n,r)},e.processGIF87A=e.processGIF89A}(xn.API),Lu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:i,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(i){zo.log("bit decode error:"+i)}},Lu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),i=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}i!==0&&(this.pos+=4-i)}},Lu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<e;r++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*r*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Lu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+4*n;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Lu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,d=n*this.width*4+4*r;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Lu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),i=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&i)/i*255|0,c=(s>>11)/t*255|0,d=r*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},Lu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Lu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*i;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=s}},Lu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,i,n,r){var o=new Lu(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new DL(100).encode(l,100);return e.processJPEG.call(this,c,i,n,r)}}(xn.API),c$.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,i,n,r){var o=new c$(t),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new DL(100).encode(l,100);return e.processJPEG.call(this,c,i,n,r)}}(xn.API),xn.API.processRGBA=function(e,t,i){for(var n=e.data,r=n.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var d=n[c],u=n[c+1],h=n[c+2],f=n[c+3];o[a++]=d,o[a++]=u,o[a++]=h,s[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:t,alias:i,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},xn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},m_=xn.API,zD=m_.getCharWidthsArray=function(e,t){var i,n,r=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=t.doKerning!==!1,h=0,f=e.length,p=0,v=a[0]||l,m=[];for(i=0;i<f;i++)n=e.charCodeAt(i),typeof r.metadata.widthOfString=="function"?m.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+s*(1e3/o)||0)/1e3):(h=u&&Co(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/d:0,m.push((a[n]||v)/l+h)),p=n;return m},JY=m_.getStringUnitWidth=function(e,t){var i=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return m_.processArabic&&(e=m_.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,i,r)/i:zD.apply(this,arguments).reduce(function(o,s){return o+s},0)},e$=function(e,t,i,n){for(var r=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<i;)a+=t[o],o++;r.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>n&&(r.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&r.push(e.slice(l,o)),r},t$=function(e,t,i){i||(i={});var n,r,o,s,a,l,c,d=[],u=[d],h=i.textIndent||0,f=0,p=0,v=e.split(" "),m=zD.apply(this,[" ",i])[0];if(l=i.lineIndent===-1?v[0].length+2:i.lineIndent||0){var g=Array(l).join(" "),b=[];v.map(function(x){(x=x.split(/\s*\n/)).length>1?b=b.concat(x.map(function(R,_){return(_&&R.length?`
`:"")+R})):b.push(x[0])}),v=b,l=JY.apply(this,[g,i])}for(o=0,s=v.length;o<s;o++){var w=0;if(n=v[o],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+f+(p=(r=zD.apply(this,[n,i])).reduce(function(x,R){return x+R},0))>t||w){if(p>t){for(a=e$.apply(this,[n,r,t-(h+f),t]),d.push(a.shift()),d=[a.pop()];a.length;)u.push([a.shift()]);p=r.slice(n.length-(d[0]?d[0].length:0)).reduce(function(x,R){return x+R},0)}else d=[n];u.push(d),h=p+l,f=m}else d.push(n),h+=f+p,f=m}return c=l?function(x,R){return(R?g:"")+x.join(" ")}:function(x){return x.join(" ")},u.map(c)},m_.splitTextToSize=function(e,t,i){var n,r=(i=i||{}).fontSize||this.internal.getFontSize(),o=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var u=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return u.metadata[h]?{widths:u.metadata[h].widths||{0:1},kerning:u.metadata[h].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,i);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/r;o.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=i.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(t$.apply(this,[n[a],s,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",i="klmnopqrstuvwxyz",n={},r={},o=0;o<16;o++)n[i[o]]=t[o],r[t[o]]=i[o];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var f,p,v,m,g=["{"];for(var b in h){if(f=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=s(b).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof f=="number")f<0?(v=s(f).slice(3),m="-"):(v=s(f).slice(2),m=""),v=m+v.slice(0,-1)+r[v.slice(-1)];else{if(Co(f)!=="object")throw new Error("Don't know what to do with value type "+Co(f)+".");v=a(f)}g.push(p+v)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,v,m,g={},b=1,w=g,x=[],R="",_="",L=h.length-1,F=1;F<L;F+=1)(m=h[F])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(m):m=="{"?(x.push([w,v]),w={},v=void 0):m=="}"?((p=x.pop())[0][p[1]]=w,v=void 0,w=p[0]):m=="-"?b=-1:v===void 0?n.hasOwnProperty(m)?(R+=n[m],v=parseInt(R,16)*b,b=1,R=""):R+=m:n.hasOwnProperty(m)?(_+=n[m],w[v]=parseInt(_,16)*b,b=1,v=void 0,_=""):_+=m;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var v=d.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])}(xn.API),function(e){var t=function(i){for(var n=i.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=i.charCodeAt(o);return r};e.API.events.push(["addFont",function(i){var n=void 0,r=i.font,o=i.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(HD(a)),s.metadata=e.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,n)}}])}(xn),xn.API.addSvgAsImage=function(e,t,i,n,r,o,s,a){if(isNaN(t)||isNaN(i))throw zo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw zo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(qn.canvg?Promise.resolve(qn.canvg):import("./chunk-7NFYVGPC.js")).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),t,i,n,r,s,a)})},xn.API.putTotalPages=function(e){var t,i=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),i=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),i=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,i);return this},xn.API.viewerPreferences=function(e,t){var i;e=e||{},t=t||!1;var n,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,u=0;function h(p,v){var m,g=!1;for(m=0;m<p.length;m+=1)p[m]===v&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(u=0;u<f;u+=1)i[a[u]].value=i[a[u]].defaultValue,i[a[u]].explicitSet=!1}if(Co(e)==="object"){for(r in e)if(o=e[r],h(a,r)&&o!==void 0){if(i[r].type==="boolean"&&typeof o=="boolean")i[r].value=o;else if(i[r].type==="name"&&h(i[r].valueSet,o))i[r].value=o;else if(i[r].type==="integer"&&Number.isInteger(o))i[r].value=o;else if(i[r].type==="array"){for(c=0;c<o.length;c+=1)if(n=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(n=!1);n===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}i[r].value="["+l.join(" ")+"]"}else i[r].value=i[r].defaultValue;i[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,v=[];for(p in i)i[p].explicitSet===!0&&(i[p].type==="name"?v.push("/"+p+" /"+i[p].value):v.push("/"+p+" "+i[p].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},i=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",i),this.internal.events.subscribe("postPutResources",t)),this}}(xn.API),function(e){var t=e.API,i=t.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],u=0,h=o.length;u<h;++u){if(a=s.metadata.characterToGlyph(o.charCodeAt(u)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(u),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},n=function(o){var s,a,l,c,d,u,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],u=0,h=(a=Object.keys(o).sort(function(f,p){return f-p})).length;u<h;u++)s=a[u],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var u=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var v=c();d({data:f,addLength1:!0,objectId:v}),l("endobj");var m=c();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+v_(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+v_(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+e.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+v_(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var u=a.metadata.rawData,h="",f=0;f<u.length;f++)h+=String.fromCharCode(u[f]);var p=c();d({data:h,addLength1:!0,objectId:p}),l("endobj");var v=c();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+v_(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+v_(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var r=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},u=o.mutex||{},h=u.pdfEscape,f=u.activeFontKey,p=u.fonts,v=f,m="",g=0,b="",w=p[v].encoding;if(p[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:u};for(b=a,v=f,Array.isArray(a)&&(b=a[0]),g=0;g<b.length;g+=1)p[v].metadata.hasOwnProperty("cmap")&&(s=p[v].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),s||b[g].charCodeAt(0)<256&&p[v].metadata.hasOwnProperty("Unicode")?m+=b[g]:m+="";var x="";return parseInt(v.slice(1))<14||w==="WinAnsiEncoding"?x=h(m,v).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(x=i(m,p[v])),u.isHex=!0,{text:x,x:l,y:c,options:d,mutex:u}};t.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([r(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(r(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=r(Object.assign({},l,{text:s})).text}])}(xn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(i){return t.call(this),this.internal.vFS[i]!==void 0},e.addFileToVFS=function(i,n){return t.call(this),this.internal.vFS[i]=n,this},e.getFileFromVFS=function(i){return t.call(this),this.internal.vFS[i]!==void 0?this.internal.vFS[i]:null}}(xn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var r,o,s,a,l,c,d,u=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var x=function(A){var O=A.charCodeAt(),V=O>>8,U=v[V];return U!==void 0?u[256*U+(255&O)]:V===252||V===253?"AL":g.test(V)?"L":V===8?"R":"N"},R=function(A){for(var O,V=0;V<A.length;V++){if((O=x(A.charAt(V)))==="L")return!1;if(O==="R")return!0}return!1},_=function(A,O,V,U){var ae,ne,ue,se,_e=O[U];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(_e="AN");break;case"AL":b=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":U<1||U+1>=O.length||(ae=V[U-1])!=="EN"&&ae!=="AN"||(ne=O[U+1])!=="EN"&&ne!=="AN"?_e="N":b&&(ne="AN"),_e=ne===ae?ne:"N";break;case"ES":_e=(ae=U>0?V[U-1]:"B")==="EN"&&U+1<O.length&&O[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&V[U-1]==="EN"){_e="EN";break}if(b){_e="N";break}for(ue=U+1,se=O.length;ue<se&&O[ue]==="ET";)ue++;_e=ue<se&&O[ue]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(se=O.length,ue=U+1;ue<se&&O[ue]==="NSM";)ue++;if(ue<se){var Ve=A[U],Ge=Ve>=1425&&Ve<=2303||Ve===64286;if(ae=O[ue],Ge&&(ae==="R"||ae==="AL")){_e="R";break}}}_e=U<1||(ae=O[U-1])==="B"?"N":V[U-1];break;case"B":b=!1,r=!0,_e=w;break;case"S":o=!0,_e="N"}return _e},L=function(A,O,V){var U=A.split("");return V&&F(U,V,{hiLevel:w}),U.reverse(),O&&O.reverse(),U.join("")},F=function(A,O,V){var U,ae,ne,ue,se,_e=-1,Ve=A.length,Ge=0,K=[],Q=w?f:h,ee=[];for(b=!1,r=!1,o=!1,ae=0;ae<Ve;ae++)ee[ae]=x(A[ae]);for(ne=0;ne<Ve;ne++){if(se=Ge,K[ne]=_(A,ee,K,ne),U=240&(Ge=Q[se][p[K[ne]]]),Ge&=15,O[ne]=ue=Q[Ge][5],U>0)if(U===16){for(ae=_e;ae<ne;ae++)O[ae]=1;_e=-1}else _e=-1;if(Q[Ge][6])_e===-1&&(_e=ne);else if(_e>-1){for(ae=_e;ae<ne;ae++)O[ae]=ue;_e=-1}ee[ne]==="B"&&(O[ne]=0),V.hiLevel|=ue}o&&function(Z,G,W){for(var ce=0;ce<W;ce++)if(Z[ce]==="S"){G[ce]=w;for(var me=ce-1;me>=0&&Z[me]==="WS";me--)G[me]=w}}(ee,O,Ve)},T=function(A,O,V,U,ae){if(!(ae.hiLevel<A)){if(A===1&&w===1&&!r)return O.reverse(),void(V&&V.reverse());for(var ne,ue,se,_e,Ve=O.length,Ge=0;Ge<Ve;){if(U[Ge]>=A){for(se=Ge+1;se<Ve&&U[se]>=A;)se++;for(_e=Ge,ue=se-1;_e<ue;_e++,ue--)ne=O[_e],O[_e]=O[ue],O[ue]=ne,V&&(ne=V[_e],V[_e]=V[ue],V[ue]=ne);Ge=se}Ge++}}},P=function(A,O,V){var U=A.split(""),ae={hiLevel:w};return V||(V=[]),F(U,V,ae),function(ne,ue,se){if(se.hiLevel!==0&&d)for(var _e,Ve=0;Ve<ne.length;Ve++)ue[Ve]===1&&(_e=m.indexOf(ne[Ve]))>=0&&(ne[Ve]=m[_e+1])}(U,V,ae),T(2,U,O,V,ae),T(1,U,O,V,ae),U.join("")};return this.__bidiEngine__.doBidiReorder=function(A,O,V){if(function(ae,ne){if(ne)for(var ue=0;ue<ae.length;ue++)ne[ue]=ue;a===void 0&&(a=R(ae)),c===void 0&&(c=R(ae))}(A,O),s||!l||c)if(s&&l&&a^c)w=a?1:0,A=L(A,O,V);else if(!s&&l&&c)w=a?1:0,A=P(A,O,V),A=L(A,O);else if(!s||a||l||c){if(s&&!l&&a^c)A=L(A,O),a?(w=0,A=P(A,O,V)):(w=1,A=P(A,O,V),A=L(A,O));else if(s&&a&&!l&&c)w=1,A=P(A,O,V),A=L(A,O);else if(!s&&!l&&a^c){var U=d;a?(w=1,A=P(A,O,V),w=0,d=!1,A=P(A,O,V),d=U):(w=0,A=P(A,O,V),A=L(A,O),w=1,d=!1,A=P(A,O,V),d=U,A=L(A,O))}}else w=0,A=P(A,O,V);else w=a?1:0,A=P(A,O,V);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,a=A.isInputRtl,c=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,i.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(s=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?s.push([i.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):s.push([i.doBidiReorder(r[a])]);n.text=s}else n.text=i.doBidiReorder(r);i.setOptions({isInputVisual:!0})}])}(xn),xn.API.TTFFont=function(){function e(t){var i;if(this.rawData=t,i=this.contents=new Um(t),this.contents.pos=4,i.readString(4)==="ttcf")throw new Error("TTCF not supported.");i.pos=0,this.parse(),this.subset=new dDe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new KEe(this.contents),this.head=new QEe(this),this.name=new nDe(this),this.cmap=new C$(this),this.toUnicode={},this.hhea=new JEe(this),this.maxp=new rDe(this),this.hmtx=new oDe(this),this.post=new tDe(this),this.os2=new eDe(this),this.loca=new cDe(this),this.glyf=new sDe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,i,n,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(i=r>>16)&&(i=-(1+(65535^i))),this.italicAngle=+(i+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var i;return((i=this.cmap.unicode)!=null?i.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var i;return i=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*i},e.prototype.widthOfString=function(t,i,n){var r,o,s,a;for(s=0,o=0,a=(t=""+t).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/i)||0;return s*(i/1e3)},e.prototype.lineHeight=function(t,i){var n;return i==null&&(i=!1),n=i?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Bu,Um=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var i,n;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n[i]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var i,n,r;for(r=[],i=0,n=t.length;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push(this.writeByte(t.charCodeAt(i)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,i,n,r,o,s,a,l;return t=this.readByte(),i=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^i)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*i+1099511627776*n+4294967296*r+16777216*o+65536*s+256*a+l},e.prototype.writeLongLong=function(t){var i,n;return i=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var i,n;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i.push(this.readByte());return i},e.prototype.write=function(t){var i,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)i=t[n],o.push(this.writeByte(i));return o},e}(),KEe=function(){var e;function t(i){var n,r,o;for(this.scalarType=i.readInt(),this.tableCount=i.readShort(),this.searchRange=i.readShort(),this.entrySelector=i.readShort(),this.rangeShift=i.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)n={tag:i.readString(4),checksum:i.readInt(),offset:i.readInt(),length:i.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(i){var n,r,o,s,a,l,c,d,u,h,f,p,v;for(v in f=Object.keys(i).length,l=Math.log(2),u=16*Math.floor(Math.log(f)/l),s=Math.floor(u/l),d=16*f-u,(r=new Um).writeInt(this.scalarType),r.writeShort(f),r.writeShort(u),r.writeShort(s),r.writeShort(d),o=16*f,c=r.pos+o,a=null,p=[],i)for(h=i[v],r.writeString(v),r.writeInt(e(h)),r.writeInt(c),r.writeInt(h.length),p=p.concat(h),v==="head"&&(a=c),c+=h.length;c%4;)p.push(0),c++;return r.write(p),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(i){var n,r,o,s;for(i=x$.call(i);i.length%4;)i.push(0);for(o=new Um(i),r=0,n=0,s=i.length;n<s;n=n+=4)r+=o.readUInt32();return 4294967295&r},t}(),ZEe={}.hasOwnProperty,jh=function(e,t){for(var i in t)ZEe.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Bu=function(){function e(t){var i;this.file=t,i=this.file.directory.tables[this.tag],this.exists=!!i,i&&(this.offset=i.offset,this.length=i.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var QEe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Um).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),d$=function(){function e(t,i){var n,r,o,s,a,l,c,d,u,h,f,p,v,m,g,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=i+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,o=function(){var x,R;for(R=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)R.push(t.readUInt16());return R}(),t.pos+=2,v=function(){var x,R;for(R=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)R.push(t.readUInt16());return R}(),c=function(){var x,R;for(R=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)R.push(t.readUInt16());return R}(),d=function(){var x,R;for(R=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)R.push(t.readUInt16());return R}(),r=(this.length-t.pos+this.offset)/2,a=function(){var x,R;for(R=[],l=x=0;0<=r?x<r:x>r;l=0<=r?++x:--x)R.push(t.readUInt16());return R}(),l=g=0,w=o.length;g<w;l=++g)for(m=o[l],n=b=p=v[l];p<=m?b<=m:b>=m;n=p<=m?++b:--b)d[l]===0?s=n+c[l]:(s=a[d[l]/2+(n-p)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=u}return e.encode=function(t,i){var n,r,o,s,a,l,c,d,u,h,f,p,v,m,g,b,w,x,R,_,L,F,T,P,A,O,V,U,ae,ne,ue,se,_e,Ve,Ge,K,Q,ee,Z,G,W,ce,me,Me,He,$e;switch(U=new Um,s=Object.keys(t).sort(function(Je,ve){return Je-ve}),i){case"macroman":for(v=0,m=function(){var Je=[];for(p=0;p<256;++p)Je.push(0);return Je}(),b={0:0},o={},ae=0,_e=s.length;ae<_e;ae++)b[me=t[r=s[ae]]]==null&&(b[me]=++v),o[r]={old:t[r],new:b[t[r]]},m[r]=b[t[r]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(m),{charMap:o,subtable:U.data,maxGlyphID:v+1};case"unicode":for(O=[],u=[],w=0,b={},n={},g=c=null,ne=0,Ve=s.length;ne<Ve;ne++)b[R=t[r=s[ne]]]==null&&(b[R]=++w),n[r]={old:R,new:b[R]},a=b[R]-r,g!=null&&a===c||(g&&u.push(g),O.push(r),c=a),g=r;for(g&&u.push(g),u.push(65535),O.push(65535),P=2*(T=O.length),F=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(F/2)/Math.LN2,L=2*T-F,l=[],_=[],f=[],p=ue=0,Ge=O.length;ue<Ge;p=++ue){if(A=O[p],d=u[p],A===65535){l.push(0),_.push(0);break}if(A-(V=n[A].new)>=32768)for(l.push(0),_.push(2*(f.length+T-p)),r=se=A;A<=d?se<=d:se>=d;r=A<=d?++se:--se)f.push(n[r].new);else l.push(V-A),_.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*T+2*f.length),U.writeUInt16(0),U.writeUInt16(P),U.writeUInt16(F),U.writeUInt16(h),U.writeUInt16(L),W=0,K=u.length;W<K;W++)r=u[W],U.writeUInt16(r);for(U.writeUInt16(0),ce=0,Q=O.length;ce<Q;ce++)r=O[ce],U.writeUInt16(r);for(Me=0,ee=l.length;Me<ee;Me++)a=l[Me],U.writeUInt16(a);for(He=0,Z=_.length;He<Z;He++)x=_[He],U.writeUInt16(x);for($e=0,G=f.length;$e<G;$e++)v=f[$e],U.writeUInt16(v);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),C$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)i=new d$(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var n,r;return i==null&&(i="macroman"),n=d$.encode(t,i),(r=new Um).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),JEe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),eDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(t.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),tDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="post",e.prototype.parse=function(t){var i,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)i=t.readByte(),r.push(this.names.push(t.readString(i)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(t.readUInt32());return l}.call(this)}},e}(),iDe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},nDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="name",e.prototype.parse=function(t){var i,n,r,o,s,a,l,c,d,u,h;for(t.pos=this.offset,t.readShort(),i=t.readShort(),a=t.readShort(),n=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},o=d=0,u=n.length;d<u;o=++d)r=n[o],t.pos=r.offset,c=t.readString(r.length),s=new iDe(c,r),l[h=r.nameID]==null&&(l[h]=[]),l[r.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),rDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),oDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,n,r,o,s,a,l;for(t.pos=this.offset,this.metrics=[],i=0,a=this.file.hhea.numberOfMetrics;0<=a?i<a:i>a;i=0<=a?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],i=c=0;0<=r?c<r:c>r;i=0<=r?++c:--c)d.push(t.readInt16());return d}(),this.widths=function(){var c,d,u,h;for(h=[],c=0,d=(u=this.metrics).length;c<d;c++)o=u[c],h.push(o.advance);return h}.call(this),n=this.widths[this.widths.length-1],l=[],i=s=0;0<=r?s<r:s>r;i=0<=r?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),x$=[].slice,sDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,n,r,o,s,a,l,c,d,u;return t in this.cache?this.cache[t]:(o=this.file.loca,i=this.file.contents,n=o.indexOf(t),(r=o.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+n,s=(a=new Um(i.read(r))).readShort(),c=a.readShort(),u=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[t]=s===-1?new lDe(a,c,u,l,d):new aDe(a,s,c,u,l,d),this.cache[t]))},e.prototype.encode=function(t,i,n){var r,o,s,a,l;for(s=[],o=[],a=0,l=i.length;a<l;a++)r=t[i[a]],o.push(s.length),r&&(s=s.concat(r.encode(n)));return o.push(s.length),{table:s,offsets:o}},e}(),aDe=function(){function e(t,i,n,r,o,s){this.raw=t,this.numberOfContours=i,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),lDe=function(){function e(t,i,n,r,o){var s,a;for(this.raw=t,this.xMin=i,this.yMin=n,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var t,i,n;for(i=new Um(x$.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)i.pos=this.glyphOffsets[t];return i.data},e}(),cDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jh(e,Bu),e.prototype.tag="loca",e.prototype.parse=function(t){var i,n;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var r,o;for(o=[],n=0,r=this.length;n<r;n+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var r,o;for(o=[],n=0,r=this.length;n<r;n+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var n=new Uint32Array(this.offsets.length),r=0,o=0,s=0;s<n.length;++s)if(n[s]=r,o<i.length&&i[o]==s){++o,n[s]=r;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(r+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},e}(),dDe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,i,n,r,o;for(i in r=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[i],t[i]=r[n];return t},e.prototype.glyphsFor=function(t){var i,n,r,o,s,a,l;for(r={},s=0,a=t.length;s<a;s++)r[o=t[s]]=this.font.glyf.glyphFor(o);for(o in i=[],r)(n=r[o])!=null&&n.compound&&i.push.apply(i,n.glyphIDs);if(i.length>0)for(o in l=this.glyphsFor(i))n=l[o],r[o]=n;return r},e.prototype.encode=function(t,i){var n,r,o,s,a,l,c,d,u,h,f,p,v,m,g;for(r in n=C$.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),f={0:0},g=n.charMap)f[(l=g[r]).old]=l.new;for(p in h=n.maxGlyphID,s)p in f||(f[p]=h++);return d=function(b){var w,x;for(w in x={},b)x[b[w]]=w;return x}(f),u=Object.keys(d).sort(function(b,w){return b-w}),v=function(){var b,w,x;for(x=[],b=0,w=u.length;b<w;b++)a=u[b],x.push(d[a]);return x}(),o=this.font.glyf.encode(s,v,f),c=this.font.loca.encode(o.offsets,v),m={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(i)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();xn.API.PDFObject=function(){var e;function t(){}return e=function(i,n){return(Array(n+1).join("0")+i).slice(-n)},t.convert=function(i){var n,r,o,s;if(Array.isArray(i))return"["+function(){var a,l,c;for(c=[],a=0,l=i.length;a<l;a++)n=i[a],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof i=="string")return"/"+i;if(i?.isString)return"("+i+")";if(i instanceof Date)return"(D:"+e(i.getUTCFullYear(),4)+e(i.getUTCMonth(),2)+e(i.getUTCDate(),2)+e(i.getUTCHours(),2)+e(i.getUTCMinutes(),2)+e(i.getUTCSeconds(),2)+"Z)";if({}.toString.call(i)==="[object Object]"){for(r in o=["<<"],i)s=i[r],o.push("/"+r+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+i},t}();function A$(e,t,i,n,r){n=n||{};var o=1.15,s=r.internal.scaleFactor,a=r.internal.getFontSize()/s,l=r.getLineHeightFactor?r.getLineHeightFactor():o,c=a*l,d=/\r\n|\r|\n/g,u="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(u=typeof e=="string"?e.split(d):e,h=u.length||1),i+=a*(2-o),n.valign==="middle"?i-=h/2*c:n.valign==="bottom"&&(i-=h*c),n.halign==="center"||n.halign==="right"){var f=a;if(n.halign==="center"&&(f*=.5),u&&h>=1){for(var p=0;p<u.length;p++)r.text(u[p],t-r.getStringUnitWidth(u[p])*f,i),i+=c;return r}t-=r.getStringUnitWidth(e)*f}return n.halign==="justify"?r.text(e,t,i,{maxWidth:n.maxWidth||100,align:"justify"}):r.text(e,t,i),r}var S$={},x_=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,i){i===void 0&&(i=null),i?i.__autoTableDocumentDefaults=t:S$=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,i){var n,r,o;i===void 0&&(i=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!i){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(r=this.jsPDFDocument).setTextColor.apply(r,d),d=e.unifyColor(t.lineColor),d&&(o=this.jsPDFDocument).setDrawColor.apply(o,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,i,n){return this.jsPDFDocument.splitTextToSize(t,i,n)},e.prototype.rect=function(t,i,n,r,o){return this.jsPDFDocument.rect(t,i,n,r,o)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return S$||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),VL=function(e,t){return VL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},VL(e,t)};function R$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VL(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var k$=function(e){R$(t,e);function t(i){var n=e.call(this)||this;return n._element=i,n}return t}(Array);function uDe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hDe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function XD(e,t,i){i.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],r=n.map(function(o){return i.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return r}function I$(e,t,i,n){var r=t.settings.tableLineWidth,o=t.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:o});var s=P$(r,!1);s&&e.rect(i.x,i.y,t.getWidth(e.pageSize().width),n.y-i.y,s)}function P$(e,t){var i=e>0,n=t||t===0;return i&&n?"DF":i?"S":n?"F":null}function ZD(e,t){var i,n,r,o;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(i=e.left)!==null&&i!==void 0?i:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(r=e.right)!==null&&r!==void 0?r:t,bottom:(o=e.bottom)!==null&&o!==void 0?o:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function F$(e,t){var i=ZD(t.settings.margin,0);return e.pageSize().width-(i.left+i.right)}function fDe(e,t,i,n,r){var o={},s=1.3333333333333333,a=PL(t,function(w){return r.getComputedStyle(w).backgroundColor});a!=null&&(o.fillColor=a);var l=PL(t,function(w){return r.getComputedStyle(w).color});l!=null&&(o.textColor=l);var c=mDe(n,i);c&&(o.cellPadding=c);var d="borderTopColor",u=s*i,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/u;f&&(o.lineWidth=f)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/u,right:(parseFloat(n.borderRightWidth)||0)/u,bottom:(parseFloat(n.borderBottomWidth)||0)/u,left:(parseFloat(n.borderLeftWidth)||0)/u},o.lineWidth.top||(o.lineWidth.right?d="borderRightColor":o.lineWidth.bottom?d="borderBottomColor":o.lineWidth.left&&(d="borderLeftColor"));var p=PL(t,function(w){return r.getComputedStyle(w)[d]});p!=null&&(o.lineColor=p);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var m=parseInt(n.fontSize||"");isNaN(m)||(o.fontSize=m/s);var g=pDe(n);g&&(o.fontStyle=g);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(o.font=b),o}function pDe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function PL(e,t){var i=O$(e,t);if(!i)return null;var n=i.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function O$(e,t){var i=t(e);return i==="rgba(0, 0, 0, 0)"||i==="transparent"||i==="initial"||i==="inherit"?e.parentElement==null?null:O$(e.parentElement,t):i}function mDe(e,t){var i=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,o=i.map(function(a){return parseInt(a||"0")/n}),s=ZD(o,0);return r>s.top&&(s.top=r),r>s.bottom&&(s.bottom=r),s}function L$(e,t,i,n,r){var o,s;n===void 0&&(n=!1),r===void 0&&(r=!1);var a;typeof t=="string"?a=i.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],h=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:d,body:u,foot:h};for(var f=0;f<a.rows.length;f++){var p=a.rows[f],v=(s=(o=p?.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),m=gDe(l,c,i,p,n,r);m&&(v==="thead"?d.push(m):v==="tfoot"?h.push(m):u.push(m))}return{head:d,body:u,foot:h}}function gDe(e,t,i,n,r,o){for(var s=new k$(n),a=0;a<n.cells.length;a++){var l=n.cells[a],c=i.getComputedStyle(l);if(r||c.display!=="none"){var d=void 0;o&&(d=fDe(e,l,t,c,i)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:vDe(l)})}}var u=i.getComputedStyle(n);if(s.length>0&&(r||u.display!=="none"))return s}function vDe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(i){return i.trim()}).join(`
`),t.innerText||t.textContent||""}function bDe(e,t,i){for(var n=0,r=[e,t,i];n<r.length;n++){var o=r[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function ep(e,t,i,n,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function N$(e,t){var i=new x_(e),n=i.getDocumentOptions(),r=i.getGlobalOptions();bDe(r,n,t);var o=ep({},r,n,t),s;typeof window<"u"&&(s=window);var a=_De(r,n,t),l=yDe(r,n,t),c=wDe(i,o),d=xDe(i,o,s);return{id:t.tableId,content:d,hooks:l,styles:a,settings:c}}function _De(e,t,i){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var c=e[l],d=t[l],u=i[l];n.columnStyles=ep({},c,d,u)}else{var h=[e,t,i],f=h.map(function(p){return p[l]||{}});n[l]=ep({},f[0],f[1],f[2])}},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];r(a)}return n}function yDe(e,t,i){for(var n=[e,t,i],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=n;o<s.length;o++){var a=s[o];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}function wDe(e,t){var i,n,r,o,s,a,l,c,d,u,h,f,p=ZD(t.margin,40/e.scaleFactor()),v=(i=CDe(e,t.startY))!==null&&i!==void 0?i:p.top,m;t.showFoot===!0?m="everyPage":t.showFoot===!1?m="never":m=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var g;t.showHead===!0?g="everyPage":t.showHead===!1?g="never":g=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var b=(o=t.useCss)!==null&&o!==void 0?o:!1,w=t.theme||(b?"plain":"striped"),x=!!t.horizontalPageBreak,R=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:b,theme:w,startY:v,margin:p,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:g,showFoot:m,tableLineWidth:(u=t.tableLineWidth)!==null&&u!==void 0?u:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:x,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function CDe(e,t){var i=e.getLastAutoTable(),n=e.scaleFactor(),r=e.pageNumber(),o=!1;if(i&&i.startPageNumber){var s=i.startPageNumber+i.pageNumber-1;o=s===r}return typeof t=="number"?t:(t==null||t===!1)&&o&&i?.finalY!=null?i.finalY+20/n:null}function xDe(e,t,i){var n=t.head||[],r=t.body||[],o=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(i){var a=L$(e,t.html,i,s,t.useCss)||{};n=a.head||n,r=a.body||n,o=a.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||SDe(n,r,o);return{columns:l,head:n,body:r,foot:o}}function SDe(e,t,i){var n=e[0]||t[0]||i[0]||[],r=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(n)?a=n[parseInt(o)]:a=n[o],typeof a=="object"&&!Array.isArray(a)&&(s=a?.colSpan||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=r.length:c=o+(l>0?"_".concat(l):"");var d={dataKey:c};r.push(d)}}),r}var zL=function(){function e(t,i,n){this.table=i,this.pageNumber=i.pageNumber,this.settings=i.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),MDe=function(e){R$(t,e);function t(i,n,r,o,s,a){var l=e.call(this,i,n,a)||this;return l.cell=r,l.row=o,l.column=s,l.section=o.section,l}return t}(zL),EDe=function(){function e(t,i){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=i.columns,this.head=i.head,this.body=i.body,this.foot=i.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(i,n){return i+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(i,n){return i+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,i,n,r,o,s){for(var a=0,l=i;a<l.length;a++){var c=l[a],d=new MDe(t,this,n,r,o,s),u=c(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],u)return!1}return!0},e.prototype.callEndPageHooks=function(t,i){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var o=r[n];o(new zL(t,this,i))}},e.prototype.callWillDrawPageHooks=function(t,i){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var o=r[n];o(new zL(t,this,i))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var i=this.columns.reduce(function(r,o){return r+o.wrappedWidth},0);return i}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),B$=function(){function e(t,i,n,r,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof k$&&(this.raw=t._element,this.element=t._element),this.index=i,this.section=n,this.cells=r,this.spansMultiplePages=o}return e.prototype.getMaxCellHeight=function(t){var i=this;return t.reduce(function(n,r){var o;return Math.max(n,((o=i.cells[r.index])===null||o===void 0?void 0:o.height)||0)},0)},e.prototype.hasRowSpan=function(t){var i=this;return t.filter(function(n){var r=i.cells[n.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,i){return this.getMaxCellHeight(i)<=t},e.prototype.getMinimumRowHeight=function(t,i){var n=this;return t.reduce(function(r,o){var s=n.cells[o.index];if(!s)return 0;var a=i.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+a;return c>r?c:r},0)},e}(),V$=function(){function e(t,i,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=i,this.section=n,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var i=this.height-this.padding("vertical");t=this.y+i/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");n=this.x+r/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,i){i===void 0&&(i=1.15);var n=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*i,o=n*r+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},e.prototype.padding=function(t){var i=ZD(this.styles.cellPadding,0);return t==="vertical"?i.top+i.bottom:t==="horizontal"?i.left+i.right:i[t]},e}(),DDe=function(){function e(t,i,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=i,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var i=0,n=0,r=t.allRows();n<r.length;n++){var o=r[n],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(i=Math.max(i,s.styles.cellWidth))}return i},e}();function TDe(e,t){ADe(e,t);var i=[],n=0;t.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(t);s?o.width=s:(o.width=o.wrappedWidth,i.push(o)),n+=o.width});var r=t.getWidth(e.pageSize().width)-n;r&&(r=HL(i,r,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),r&&(r=HL(i,r,function(o){return o.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),kDe(t),IDe(t,e),RDe(t)}function ADe(e,t){var i=e.scaleFactor(),n=t.settings.horizontalPageBreak,r=F$(e,t);t.allRows().forEach(function(o){for(var s=0,a=t.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,o,l,null);var u=c.padding("horizontal");c.contentWidth=XD(c.text,c.styles,e)+u;var h=XD(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>r?(c.minWidth=r,c.wrappedWidth=r):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/i;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(o){for(var s=0,a=t.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},u=d.cellWidth||d.minCellWidth;u&&typeof u=="number"&&(l.minWidth=u,l.wrappedWidth=u)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function HL(e,t,i){for(var n=t,r=e.reduce(function(f,p){return f+p.wrappedWidth},0),o=0;o<e.length;o++){var s=e[o],a=s.wrappedWidth/r,l=n*a,c=s.width+l,d=i(s),u=c<d?d:c;t-=u-s.width,s.width=u}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(f){return t<0?f.width>i(f):!0});h.length&&(t=HL(h,t,i))}return t}function RDe(e){for(var t={},i=1,n=e.allRows(),r=0;r<n.length;r++)for(var o=n[r],s=0,a=e.columns;s<a.length;s++){var l=a[s],c=t[l.index];if(i>1)i--,delete o.cells[l.index];else if(c)c.cell.height+=o.height,i=c.cell.colSpan,delete o.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=o.cells[l.index];if(!d)continue;if(d.height=o.height,d.rowSpan>1){var u=n.length-r,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:o}}}}}function kDe(e){for(var t=e.allRows(),i=0;i<t.length;i++)for(var n=t[i],r=null,o=0,s=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(s-=1,s>1&&e.columns[a+1])o+=l.width,delete n.cells[l.index];else if(r){var c=r;delete n.cells[l.index],r=null,c.width=l.width+o}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,o=0,c.colSpan>1){r=c,o+=l.width;continue}c.width=l.width+o}}}function IDe(e,t){for(var i={count:0,height:0},n=0,r=e.allRows();n<r.length;n++){for(var o=r[n],s=0,a=e.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=M$(c.text,d,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=M$(c.text,d,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var u=c.styles.overflow(c.text,d);typeof u=="string"?c.text=[u]:c.text=u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&i.count*i.height<h*c.rowSpan?i={height:h,count:c.rowSpan}:i&&i.count>0&&i.height>h&&(h=i.height),h>o.height&&(o.height=h)}}i.count--}}function M$(e,t,i,n,r){return e.map(function(o){return PDe(o,t,i,n,r)})}function PDe(e,t,i,n,r){var o=1e4*n.scaleFactor();if(t=Math.ceil(t*o)/o,t>=XD(e,i,n))return e;for(;t<XD(e+r,i,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function z$(e,t){var i=new x_(e),n=FDe(t,i.scaleFactor()),r=new EDe(t,n);return TDe(i,r),i.applyStyles(i.userStyles),r}function FDe(e,t){var i=e.content,n=LDe(i.columns);if(i.head.length===0){var r=E$(n,"head");r&&i.head.push(r)}if(i.foot.length===0){var r=E$(n,"foot");r&&i.foot.push(r)}var o=e.settings.theme,s=e.styles;return{columns:n,head:FL("head",i.head,n,s,o,t),body:FL("body",i.body,n,s,o,t),foot:FL("foot",i.foot,n,s,o,t)}}function FL(e,t,i,n,r,o){var s={},a=t.map(function(l,c){for(var d=0,u={},h=0,f=0,p=0,v=i;p<v.length;p++){var m=v[p];if(s[m.index]==null||s[m.index].left===0)if(f===0){var g=void 0;Array.isArray(l)?g=l[m.index-h-d]:g=l[m.dataKey];var b={};typeof g=="object"&&!Array.isArray(g)&&(b=g?.styles||{});var w=NDe(e,m,c,r,n,o,b),x=new V$(g,w,e);u[m.dataKey]=x,u[m.index]=x,f=x.colSpan-1,s[m.index]={left:x.rowSpan-1,times:f}}else f--,h++;else s[m.index].left--,f=s[m.index].times,d++}return new B$(l,c,e,u)});return a}function E$(e,t){var i={};return e.forEach(function(n){if(n.raw!=null){var r=ODe(t,n.raw);r!=null&&(i[n.dataKey]=r)}}),Object.keys(i).length>0?i:null}function ODe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function LDe(e){return e.map(function(t,i){var n,r;return typeof t=="object"?r=(n=t.dataKey)!==null&&n!==void 0?n:i:r=i,new DDe(r,t,i)})}function NDe(e,t,i,n,r,o,s){var a=hDe(n),l;e==="head"?l=r.headStyles:e==="body"?l=r.bodyStyles:e==="foot"&&(l=r.footStyles);var c=ep({},a.table,a[e],r.styles,l),d=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},u=e==="body"?d:{},h=e==="body"&&i%2===0?ep({},a.alternateRow,r.alternateRowStyles):{},f=uDe(o),p=ep({},f,c,h,u);return ep(p,s)}function BDe(e,t,i){var n;i===void 0&&(i={});var r=F$(e,t),o=new Map,s=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var f=t.columns.find(function(p){return p.dataKey===h||p.index===h});f&&!o.has(f.index)&&(o.set(f.index,!0),s.push(f.index),a.push(t.columns[f.index]),r-=f.wrappedWidth)});for(var c=!0,d=(n=i?.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(o.has(d)){d++;continue}var u=t.columns[d].wrappedWidth;if(c||r>=u)c=!1,s.push(d),a.push(t.columns[d]),r-=u;else break;d++}return{colIndexes:s,columns:a,lastIndex:d-1}}function VDe(e,t){for(var i=[],n=0;n<t.columns.length;n++){var r=BDe(e,t,{start:n});r.columns.length&&(i.push(r),n=r.lastIndex)}return i}function H$(e,t){var i=t.settings,n=i.startY,r=i.margin,o={x:r.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=n+r.bottom+s;if(i.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,f){return h+f.height},0);a+=c}var d=new x_(e);(i.pageBreak==="always"||i.startY!=null&&a>d.pageSize().height)&&(G$(d),o.y=r.top),t.callWillDrawPageHooks(d,o);var u=ep({},o);t.startPageNumber=d.pageNumber(),i.horizontalPageBreak?zDe(d,t,u,o):(d.applyStyles(d.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(h){return tp(d,t,h,o,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,f){var p=f===t.body.length-1;KD(d,t,h,p,u,o,t.columns)}),d.applyStyles(d.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(h){return tp(d,t,h,o,t.columns)})),I$(d,t,u,o),t.callEndPageHooks(d,o),t.finalY=o.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function zDe(e,t,i,n){var r=VDe(e,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(c,d){e.applyStyles(e.userStyles),d>0?w1(e,t,i,n,c.columns,!0):D$(e,t,n,c.columns),HDe(e,t,i,n,c.columns),OL(e,t,n,c.columns)});else for(var s=-1,a=r[0],l=function(){var c=s;if(a){e.applyStyles(e.userStyles);var d=a.columns;s>=0?w1(e,t,i,n,d,!0):D$(e,t,n,d),c=T$(e,t,s+1,n,d),OL(e,t,n,d)}var u=c-s;r.slice(1).forEach(function(h){e.applyStyles(e.userStyles),w1(e,t,i,n,h.columns,!0),T$(e,t,s+1,n,h.columns,u),OL(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function D$(e,t,i,n){var r=t.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(o){return tp(e,t,o,i,n)})}function HDe(e,t,i,n,r){e.applyStyles(e.userStyles),t.body.forEach(function(o,s){var a=s===t.body.length-1;KD(e,t,o,a,i,n,r)})}function T$(e,t,i,n,r,o){e.applyStyles(e.userStyles),o=o??t.body.length;var s=Math.min(i+o,t.body.length),a=-1;return t.body.slice(i,s).forEach(function(l,c){var d=i+c===t.body.length-1,u=U$(e,t,d,n);l.canEntireRowFit(u,r)&&(tp(e,t,l,n,r),a=i+c)}),a}function OL(e,t,i,n){var r=t.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(o){return tp(e,t,o,i,n)})}function UDe(e,t,i){var n=i.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),o=Math.floor((t-r)/n);return Math.max(0,o)}function GDe(e,t,i,n){var r={};e.spansMultiplePages=!0,e.height=0;for(var o=0,s=0,a=i.columns;s<a.length;s++){var l=a[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new V$(c.raw,c.styles,c.section);d=ep(d,c),d.text=[];var u=UDe(c,t,n);c.text.length>u&&(d.text=c.text.splice(u,c.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,f),c.contentHeight>=t&&(c.contentHeight=t,d.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),d.contentHeight=d.getContentHeight(h,f),d.contentHeight>o&&(o=d.contentHeight),r[l.index]=d}}var p=new B$(e.raw,-1,e.section,r,!0);p.height=o;for(var v=0,m=i.columns;v<m.length;v++){var l=m[v],d=p.cells[l.index];d&&(d.height=p.height);var c=e.cells[l.index];c&&(c.height=e.height)}return p}function WDe(e,t,i,n){var r=e.pageSize().height,o=n.settings.margin,s=o.top+o.bottom,a=r-s;t.section==="body"&&(a-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<i;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=t.hasRowSpan(n.columns),u=t.getMaxCellHeight(n.columns)>a;return u?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function KD(e,t,i,n,r,o,s){var a=U$(e,t,n,o);if(i.canEntireRowFit(a,s))tp(e,t,i,o,s);else if(WDe(e,i,a,t)){var l=GDe(i,a,t,e);tp(e,t,i,o,s),w1(e,t,r,o,s),KD(e,t,l,n,r,o,s)}else w1(e,t,r,o,s),KD(e,t,i,n,r,o,s)}function tp(e,t,i,n,r){n.x=t.settings.margin.left;for(var o=0,s=r;o<s.length;o++){var a=s[o],l=i.cells[a.index];if(!l){n.x+=a.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,i,a,n);if(c===!1){n.x+=a.width;continue}jDe(e,l,n);var d=l.getTextPos();A$(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,i,a,n),n.x+=a.width}n.y+=i.height}function jDe(e,t,i){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var r=P$(n.lineWidth,n.fillColor);r&&e.rect(t.x,i.y,t.width,t.height,r)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,i.y,t.width,t.height,"F"),qDe(e,t,i,n.lineWidth))}function qDe(e,t,i,n){var r,o,s,a;n.top&&(r=i.x,o=i.y,s=i.x+t.width,a=i.y,n.right&&(s+=.5*n.right),n.left&&(r-=.5*n.left),l(n.top,r,o,s,a)),n.bottom&&(r=i.x,o=i.y+t.height,s=i.x+t.width,a=i.y+t.height,n.right&&(s+=.5*n.right),n.left&&(r-=.5*n.left),l(n.bottom,r,o,s,a)),n.left&&(r=i.x,o=i.y,s=i.x,a=i.y+t.height,n.top&&(o-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.left,r,o,s,a)),n.right&&(r=i.x+t.width,o=i.y,s=i.x+t.width,a=i.y+t.height,n.top&&(o-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.right,r,o,s,a));function l(c,d,u,h,f){e.getDocument().setLineWidth(c),e.getDocument().line(d,u,h,f,"S")}}function U$(e,t,i,n){var r=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&i)&&(r+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-r}function w1(e,t,i,n,r,o){r===void 0&&(r=[]),o===void 0&&(o=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(a){return tp(e,t,a,n,r)}),t.callEndPageHooks(e,n);var s=t.settings.margin;I$(e,t,i,n),G$(e),t.pageNumber++,n.x=s.left,n.y=s.top,i.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return tp(e,t,a,n,r)}),e.applyStyles(e.userStyles))}function G$(e){var t=e.pageNumber();e.setPage(t+1);var i=e.pageNumber();return i===t?(e.addPage(),!0):!1}function YDe(e){e.API.autoTable=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t[0],r=N$(this,n),o=z$(this,r);return H$(this,o),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,i,n,r){A$(t,i,n,r,this)},e.API.autoTableSetDefaults=function(t){return x_.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,i){x_.setDefaults(t,i)},e.API.autoTableHtmlToJson=function(t,i){var n;if(i===void 0&&(i=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new x_(this),o=L$(r,t,window,i,!1),s=o.head,a=o.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var LL;function W$(e,t){var i=N$(e,t),n=z$(e,i);H$(e,n)}try{typeof window<"u"&&window&&(NL=window,BL=NL.jsPDF||((LL=NL.jspdf)===null||LL===void 0?void 0:LL.jsPDF),BL&&YDe(BL))}catch(e){console.error("Could not apply autoTable plugin",e)}var NL,BL;var j$=["toast-component",""];function $De(e,t){if(e&1){let i=tn();Se(0,"button",5),Ot("click",function(){Gt(i);let r=lt();return Wt(r.remove())}),Se(1,"span",6),Lt(2,"\xD7"),Pe()()}}function XDe(e,t){if(e&1&&(is(0),Lt(1),ns()),e&2){let i=lt(2);Fe(),wr("[",i.duplicatesCount+1,"]")}}function KDe(e,t){if(e&1&&(Se(0,"div"),Lt(1),Xt(2,XDe,2,1,"ng-container",4),Pe()),e&2){let i=lt();pr(i.options.titleClass),Mi("aria-label",i.title),Fe(),wr(" ",i.title," "),Fe(),Ze("ngIf",i.duplicatesCount)}}function ZDe(e,t){if(e&1&&Dt(0,"div",7),e&2){let i=lt();pr(i.options.messageClass),Ze("innerHTML",i.message,iP)}}function QDe(e,t){if(e&1&&(Se(0,"div",8),Lt(1),Pe()),e&2){let i=lt();pr(i.options.messageClass),Mi("aria-label",i.message),Fe(),wr(" ",i.message," ")}}function JDe(e,t){if(e&1&&(Se(0,"div"),Dt(1,"div",9),Pe()),e&2){let i=lt();Fe(),Vo("width",i.width()+"%")}}function eTe(e,t){if(e&1){let i=tn();Se(0,"button",5),Ot("click",function(){Gt(i);let r=lt();return Wt(r.remove())}),Se(1,"span",6),Lt(2,"\xD7"),Pe()()}}function tTe(e,t){if(e&1&&(is(0),Lt(1),ns()),e&2){let i=lt(2);Fe(),wr("[",i.duplicatesCount+1,"]")}}function iTe(e,t){if(e&1&&(Se(0,"div"),Lt(1),Xt(2,tTe,2,1,"ng-container",4),Pe()),e&2){let i=lt();pr(i.options.titleClass),Mi("aria-label",i.title),Fe(),wr(" ",i.title," "),Fe(),Ze("ngIf",i.duplicatesCount)}}function nTe(e,t){if(e&1&&Dt(0,"div",7),e&2){let i=lt();pr(i.options.messageClass),Ze("innerHTML",i.message,iP)}}function rTe(e,t){if(e&1&&(Se(0,"div",8),Lt(1),Pe()),e&2){let i=lt();pr(i.options.messageClass),Mi("aria-label",i.message),Fe(),wr(" ",i.message," ")}}function oTe(e,t){if(e&1&&(Se(0,"div"),Dt(1,"div",9),Pe()),e&2){let i=lt();Fe(),Vo("width",i.width()+"%")}}var UL=class{_attachedHost;component;viewContainerRef;injector;constructor(t,i){this.component=t,this.injector=i}attach(t,i){return this._attachedHost=t,t.attach(this,i)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},GL=class{_attachedPortal;_disposeFn;attach(t,i){return this._attachedPortal=t,this.attachComponentPortal(t,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},WL=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Yt;_activate=new Yt;_manualClose=new Yt;_resetTimeout=new Yt;_countDuplicate=new Yt;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,i){t&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}},S_=class{toastId;config;message;title;toastType;toastRef;_onTap=new Yt;_onAction=new Yt;constructor(t,i,n,r,o,s){this.toastId=t,this.config=i,this.message=n,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},q$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Y$=new Nt("ToastConfig"),jL=class extends GL{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,i,n){super(),this._hostDomElement=t,this._componentFactoryResolver=i,this._appRef=n}attachComponentPortal(t,i){let n=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},sTe=(()=>{class e{_document=j(Qi);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i=this._document.createElement("div");i.classList.add("overlay-container"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),this._containerElement=i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qL=class{_portalHost;constructor(t){this._portalHost=t}attach(t,i=!0){return this._portalHost.attach(t,i)}detach(){return this._portalHost.detach()}},aTe=(()=>{class e{_overlayContainer=j(sTe);_componentFactoryResolver=j(Z7);_appRef=j(Ld);_document=j(Qi);_paneElements=new Map;create(i,n){return this._createOverlayRef(this.getPaneElement(i,n))}getPaneElement(i="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[i]||(this._paneElements.get(n)[i]=this._createPaneElement(i,n)),this._paneElements.get(n)[i]}_createPaneElement(i,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(i),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(i){return new jL(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new qL(this._createPortalHost(i))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),QD=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(i,n,r,o,s){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=Ie(Ie({},i.default),i.config),i.config.iconClasses&&(this.toastrConfig.iconClasses=Ie(Ie({},i.default.iconClasses),i.config.iconClasses))}show(i,n,r={},o=""){return this._preBuildNotification(o,i,n,this.applyConfig(r))}success(i,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}error(i,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}info(i,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}warning(i,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}clear(i){for(let n of this.toasts)if(i!==void 0){if(n.toastId===i){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(i){let n=this._findToast(i);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(i="",n="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===i;if((!s||l)&&a.message===n)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(i={}){return Ie(Ie({},this.toastrConfig),i)}_findToast(i){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===i)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(i,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,n,r,o)):this._buildNotification(i,n,r,o)}_buildNotification(i,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=n;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=n;n&&o.enableHtml&&(c=this.sanitizer.sanitize(ic.HTML,n));let d=new WL(l),u=new S_(this.index,o,c,r,i,d),h=[{provide:S_,useValue:u}],f=Bn.create({providers:h,parent:this._injector}),p=new UL(o.toastComponent,f),v=l.attach(p,o.newestOnTop);d.componentInstance=v.instance;let m={toastId:this.index,title:r||"",message:n||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:v};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(n){return new(n||e)(ji(Y$),ji(aTe),ji(Bn),ji(Ww),ji(Si))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YL=(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=ca(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=ca({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(i=>Zt(Ie({},i),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let i=new Date().getTime(),n=this.hideTime-i;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(i=>Zt(Ie({},i),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(i=>Zt(Ie({},i),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),n)):this.timeout=setTimeout(()=>i(),n)}outsideInterval(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),n)):this.intervalId=setInterval(()=>i(),n)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}static \u0275fac=function(n){return new(n||e)(ri(QD),ri(S_),ri(Si))};static \u0275cmp=ti({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&Ot("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(rz("@flyInOut",r._state),pr(r.toastClasses),Vo("display",r.displayStyle))},attrs:j$,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&Xt(0,$De,3,0,"button",0)(1,KDe,3,5,"div",1)(2,ZDe,1,3,"div",2)(3,QDe,2,4,"div",3)(4,JDe,2,2,"div",4),n&2&&(Ze("ngIf",r.options.closeButton),Fe(),Ze("ngIf",r.title),Fe(),Ze("ngIf",r.message&&r.options.enableHtml),Fe(),Ze("ngIf",r.message&&!r.options.enableHtml),Fe(),Ze("ngIf",r.options.progressBar))},dependencies:[kl],encapsulation:2,data:{animation:[cP("flyInOut",[Sw("inactive",xw({opacity:0})),Sw("active",xw({opacity:1})),Sw("removed",xw({opacity:0})),$2("inactive => active",Y2("{{ easeTime }}ms {{ easing }}")),$2("active => removed",Y2("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})(),lTe=Zt(Ie({},q$),{toastComponent:YL}),cTe=(e={})=>rm([{provide:Y$,useValue:{default:lTe,config:e}}]),$$=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[cTe(i)]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();var dTe=(()=>{class e{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=ca(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=ca("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let i=new Date().getTime(),n=this.hideTime-i;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||e)(ri(QD),ri(S_),ri(Ld))};static \u0275cmp=ti({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&Ot("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(pr(r.toastClasses),Vo("display",r.displayStyle))},attrs:j$,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&Xt(0,eTe,3,0,"button",0)(1,iTe,3,5,"div",1)(2,nTe,1,3,"div",2)(3,rTe,2,4,"div",3)(4,oTe,2,2,"div",4),n&2&&(Ze("ngIf",r.options.closeButton),Fe(),Ze("ngIf",r.title),Fe(),Ze("ngIf",r.message&&r.options.enableHtml),Fe(),Ze("ngIf",r.message&&!r.options.enableHtml),Fe(),Ze("ngIf",r.options.progressBar))},dependencies:[kl],encapsulation:2,changeDetection:0})}return e})(),Itt=Zt(Ie({},q$),{toastComponent:dTe});var hTe=(e,t)=>({success_colorxt:e,error_colorxt:t});function fTe(e,t){e&1&&(Se(0,"i"),Fr(),Se(1,"svg",16),Dt(2,"g",17)(3,"g",18),Se(4,"g",19),Dt(5,"title")(6,"desc")(7,"defs"),Se(8,"g",20)(9,"g",21),Dt(10,"path",22)(11,"path",23),Pe()()()()())}function pTe(e,t){e&1&&(Se(0,"i"),Fr(),Se(1,"svg",24),Dt(2,"path",25)(3,"path",26),Pe()())}function mTe(e,t){e&1&&Dt(0,"i",27)}function gTe(e,t){e&1&&Dt(0,"i",28)}var P0=class e extends YL{toast;action(t){return t.stopPropagation(),!1}static \u0275fac=(()=>{let t;return function(n){return(t||(t=Tr(e)))(n||e)}})();static \u0275cmp=ti({type:e,selectors:[["toast"]],inputs:{toast:"toast"},standalone:!1,features:[Wn],decls:23,vars:15,consts:[[1,"row","custom_toastD",3,"ngClass"],[1,"col-12"],[1,"custom-title"],["role","alert","aria-live","polite",1,"custom-message"],[2,"float","right","z-index","99999999"],[1,"btn-sm","toast-close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 16.8 16.8",2,"margin-bottom","2px","margin-top","10px"],["id","close_Black","data-name","close Black","d","M24.3,9.192,22.608,7.5,15.9,14.208,9.192,7.5,7.5,9.192,14.208,15.9,7.5,22.608,9.192,24.3,15.9,17.592,22.608,24.3,24.3,22.608,17.592,15.9Z","transform","translate(-7.5 -7.5)","fill","#000"],[2,"border","none !important"],[1,"icon_fn"],[4,"ngIf"],["class","fa fa-info-circle fontsize_icon","style","color:#fff","aria-hidden","true",4,"ngIf"],["class","fa fa-snowflake-o fontsize_icon","style","color:#fff","aria-hidden","true",4,"ngIf"],[1,"tdwidth",2,"padding-left","15px","border","none !important"],[1,"toasttxt_color"],[1,"mess_cap"],["width","50","height","50","viewBox","0 0 117 117","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill","none","fill-rule","evenodd","id","Page-1","stroke","none","stroke-width","1"],["fill-rule","nonzero","id","correct"],["d","M34.5,55.1 C32.9,53.5 30.3,53.5 28.7,55.1 C27.1,56.7 27.1,59.3 28.7,60.9 L47.6,79.8 C48.4,80.6 49.4,81 50.5,81 C50.6,81 50.6,81 50.7,81 C51.8,80.9 52.9,80.4 53.7,79.5 L101,22.8 C102.4,21.1 102.2,18.5 100.5,17 C98.8,15.6 96.2,15.8 94.7,17.5 L50.2,70.8 L34.5,55.1 Z","fill","#17AB13","id","Shape"],["d","M89.1,9.3 C66.1,-5.1 36.6,-1.7 17.4,17.5 C-5.2,40.1 -5.2,77 17.4,99.6 C28.7,110.9 43.6,116.6 58.4,116.6 C73.2,116.6 88.1,110.9 99.4,99.6 C118.7,80.3 122,50.7 107.5,27.7 C106.3,25.8 103.8,25.2 101.9,26.4 C100,27.6 99.4,30.1 100.6,32 C113.1,51.8 110.2,77.2 93.6,93.8 C74.2,113.2 42.5,113.2 23.1,93.8 C3.7,74.4 3.7,42.7 23.1,23.3 C39.7,6.8 65,3.9 84.8,16.2 C86.7,17.4 89.2,16.8 90.4,14.9 C91.6,13 91,10.5 89.1,9.3 Z","fill","#4A4A4A","id","Shape"],["xmlns","http://www.w3.org/2000/svg","width","45","height","41","viewBox","0 0 45 41","fill","red"],["d","M35.2742 38.9931H9.71462C8.40382 39.0496 7.10153 38.7562 5.94147 38.1433C4.78139 37.5305 3.80526 36.6201 3.1131 35.5056C2.42094 34.391 2.03767 33.1122 2.00263 31.8007C1.96762 30.489 2.28212 29.192 2.91382 28.042L15.6935 5.83148C16.402 4.66197 17.4002 3.69496 18.5915 3.0238C19.7828 2.35264 21.1269 2 22.4943 2C23.8616 2 25.206 2.35264 26.3972 3.0238C27.5885 3.69496 28.5869 4.66197 29.2953 5.83148L42.0751 28.042C42.7066 29.192 43.0212 30.489 42.9861 31.8007C42.9511 33.1122 42.568 34.391 41.8758 35.5056C41.1836 36.6201 40.2072 37.5305 39.0472 38.1433C37.8871 38.7562 36.5849 39.0496 35.2742 38.9931Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],["d","M20.1938 30.5692C20.1938 30.2653 20.254 29.9643 20.3709 29.6839C20.4878 29.4032 20.6592 29.1486 20.8751 28.9348C21.0908 28.7209 21.347 28.5518 21.6285 28.4373C21.9102 28.3229 22.2114 28.2654 22.5155 28.268C22.9638 28.2763 23.3998 28.4162 23.769 28.6707C24.138 28.9253 24.4241 29.2832 24.5911 29.6993C24.7579 30.1156 24.7984 30.5717 24.7076 31.0108C24.6166 31.4498 24.3982 31.8523 24.0797 32.1681C23.7612 32.4837 23.3567 32.6984 22.9168 32.7855C22.4769 32.8727 22.0212 32.8281 21.6065 32.6573C21.1917 32.4868 20.8367 32.1977 20.5854 31.8262C20.3341 31.455 20.1979 31.0177 20.1938 30.5692ZM20.9335 24.9601L20.6458 14.235C20.6185 13.9772 20.6456 13.7165 20.7257 13.4699C20.8057 13.2233 20.9365 12.9962 21.1099 12.8035C21.2834 12.6107 21.4954 12.4567 21.7321 12.3511C21.969 12.2457 22.2254 12.1911 22.4847 12.1911C22.744 12.1911 23.0004 12.2457 23.2371 12.3511C23.474 12.4567 23.6858 12.6107 23.8592 12.8035C24.0326 12.9962 24.1637 13.2233 24.2437 13.4699C24.3236 13.7165 24.3509 13.9772 24.3236 14.235L24.0565 24.9601C24.0565 25.3741 23.8919 25.7715 23.5991 26.0642C23.3061 26.357 22.909 26.5216 22.495 26.5216C22.0808 26.5216 21.6836 26.357 21.3908 26.0642C21.098 25.7715 20.9335 25.3741 20.9335 24.9601Z","fill","white"],["aria-hidden","true",1,"fa","fa-info-circle","fontsize_icon",2,"color","#fff"],["aria-hidden","true",1,"fa","fa-snowflake-o","fontsize_icon",2,"color","#fff"]],template:function(i,n){i&1&&(Se(0,"div",0)(1,"div",1),Dt(2,"div",2),Se(3,"div",3)(4,"div")(5,"span",4)(6,"a",5),Ot("click",function(){return n.remove()}),Fr(),Se(7,"svg",6),Dt(8,"path",7),Pe()()()(),Ta(),Se(9,"table",8)(10,"tr")(11,"td",8)(12,"span",9),Xt(13,fTe,12,0,"i",10)(14,pTe,4,0,"i",10)(15,mTe,1,0,"i",11)(16,gTe,1,0,"i",12),Pe()(),Se(17,"td",13)(18,"div",14),Lt(19,"Demo"),Pe(),Se(20,"span",15),Lt(21),Pe()(),Dt(22,"td",8),Pe()()()()()),i&2&&(Ze("ngClass",Pf(12,hTe,n.title=="0",n.title=="1")),Fe(2),pr(n.options.titleClass),Mi("aria-label",n.title),Fe(),pr(n.options.messageClass),Mi("aria-label",n.message),Fe(10),Ze("ngIf",n.title=="0"),Fe(),Ze("ngIf",n.title=="1"),Fe(),Ze("ngIf",n.title=="2"),Fe(),Ze("ngIf",n.title=="3"),Fe(5),jn(n.message))},dependencies:[nc,kl],styles:["host[_ngcontent-%COMP%]{background-color:green;position:relative;overflow:hidden;margin:0 0 6px;padding:10px;width:300px;border:1px solid black;border-radius:3px;color:#000;pointer-events:all;cursor:pointer;text-align:center;z-index:9999999}.border-blue[_nghost-%COMP%]{border-top:4px solid #04c4f3}.border-green[_nghost-%COMP%]{border-top:4px solid #51d21a}.border-red[_nghost-%COMP%]{border-top:4px solid red}.toast-close-button[_ngcontent-%COMP%]{color:#fff;opacity:1;background-color:transparent;border-radius:23px;padding:2px 4px;line-height:.3;position:relative;top:-13px;left:10px;z-index:9999999}.toast-close-button[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:15px;color:#fff;font-weight:lighter;z-index:9999999}.toast-close-button[_ngcontent-%COMP%]:hover{color:#02ceff}.custom-title[_ngcontent-%COMP%], .custom-message[_ngcontent-%COMP%]{color:#000}.toast-top-right[_ngcontent-%COMP%]{top:unset!important;right:52px!important;bottom:18px!important}.toast-error[_ngcontent-%COMP%]{background-image:none!important;background-color:transparent!important;box-shadow:none!important}.toast-top-right[_ngcontent-%COMP%]{top:unset!important;right:52px!important;bottom:18px!important;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}.toast-success[_ngcontent-%COMP%]{background-image:none!important;background-color:transparent!important;box-shadow:none!important}.custom_toastD[_ngcontent-%COMP%]{padding:5px 0;max-width:403px;min-width:300px;z-index:9999999;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}.custom_toastD[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:none!important;margin-top:5px}.custom_toastD[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .icon_fn[_ngcontent-%COMP%]   .fontsize_icon[_ngcontent-%COMP%]{font-size:30px}.custom_toastD[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:400;color:#000}.custom_toastD[_ngcontent-%COMP%]   .custom-message[_ngcontent-%COMP%]{color:#333;font-size:15px;padding:3px 0}@media (max-width: 450px){.tdwidth[_ngcontent-%COMP%]{width:260px}.custom_toastD[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000029;padding:5px 0;position:relative;top:6px;right:45%}.custom_toastD[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:400;color:#000}.custom_toastD[_ngcontent-%COMP%]   .custom-message[_ngcontent-%COMP%]{color:#000;font-size:15px;padding:3px 0}}@media (min-width: 451px) and (max-width: 1400px){.custom_toastD[_ngcontent-%COMP%]{padding:5px 0;border-radius:5px}.custom_toastD[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .icon_fn[_ngcontent-%COMP%]   .fontsize_icon[_ngcontent-%COMP%]{font-size:24px!important}.custom_toastD[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Roboto;font-size:13px!important;font-weight:400;color:#000}}.toasttxt_color[_ngcontent-%COMP%]{color:#000;font-size:12px}.mess_cap[_ngcontent-%COMP%]{text-transform:capitalize!important}"]})};var Gm=class e{constructor(t){this.toastr=t}title="";showSuccess(t){this.toastr.clear(),this.title="0",this.toastr.success(t,this.title,{toastComponent:P0,timeOut:2500})}showError(t){this.toastr.clear(),this.title="1",this.toastr.error(t,this.title,{toastComponent:P0,timeOut:2500})}showInfo(t){this.toastr.clear(),this.title="2",this.toastr.info(t,this.title,{toastComponent:P0,timeOut:2500})}showWarning(t){this.toastr.clear(),this.toastr.warning(t,this.title,{toastComponent:P0,timeOut:2e3})}static \u0275fac=function(i){return new(i||e)(ji(QD))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})};var M_=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Vu=class extends M_{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,i,n,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.projectableNodes=o}},Rc=class extends M_{templateRef;viewContainerRef;context;injector;constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},JD=class extends M_{element;constructor(t){super(),this.element=t instanceof pi?t.nativeElement:t}},F0=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Vu)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Rc)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof JD)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var E_=class extends F0{outletElement;_appRef;_defaultInjector;_document;constructor(t,i,n,r,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let i;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(B2,null,{optional:!0})||void 0;i=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>i.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||Bn.NULL,o=r.get(tc,n.injector);i=q2(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),n.attachView(i.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(i.hostView),i.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let i=t.element;i.parentNode;let n=this._document.createComment("dom-portal");i.parentNode.insertBefore(n,i),this.outletElement.appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(i,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Kd=(()=>{class e extends F0{_moduleRef=j(B2,{optional:!0});_document=j(Qi);_viewContainerRef=j(Bo);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}attached=new et;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let n=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,r=n.createComponent(i.component,{index:n.length,injector:i.injector||n.injector,projectableNodes:i.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(i){i.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=i=>{let n=i.element;n.parentNode;let r=this._document.createComment("dom-portal");i.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=i,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Wn]})}return e})();var Vl=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();function ip(e){return e.buttons===0||e.detail===0}function np(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var $L;function K$(){if($L==null){let e=typeof document<"u"?document.head:null;$L=!!(e&&(e.createShadowRoot||e.attachShadow))}return $L}function O0(e){if(K$()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Zd(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function ga(e){return e.composedPath?e.composedPath()[0]:e.target}function ro(e,t,i,n,r){let o=parseInt(aP.major),s=parseInt(aP.minor);return o>19||o===19&&s>0||o===0&&s===0?e.listen(t,i,n,r):(t.addEventListener(i,n,r),()=>{t.removeEventListener(i,n,r)})}var XL;try{XL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{XL=!1}var ir=(()=>{class e{_platformId=j(sm);isBrowser=this._platformId?vP(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||XL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var C1;function Z$(){if(C1==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>C1=!0}))}finally{C1=C1||!1}return C1}function Wm(e){return Z$()?e:!!e.capture}function Ka(e,t=0){return Q$(e)?Number(e):arguments.length===2?t:0}function Q$(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Rs(e){return e instanceof pi?e.nativeElement:e}var J$=new Nt("cdk-input-modality-detector-options"),eX={ignoreKeys:[18,17,224,91,16]},tX=650,KL={passive:!0,capture:!0},iX=(()=>{class e{_platform=j(ir);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ha(null);_options;_lastTouchMs=0;_onKeydown=i=>{this._options?.ignoreKeys?.some(n=>n===i.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ga(i))};_onMousedown=i=>{Date.now()-this._lastTouchMs<tX||(this._modality.next(ip(i)?"keyboard":"mouse"),this._mostRecentTarget=ga(i))};_onTouchstart=i=>{if(np(i)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ga(i)};constructor(){let i=j(Si),n=j(Qi),r=j(J$,{optional:!0});if(this._options=Ie(Ie({},eX),r),this.modalityDetected=this._modality.pipe(O2(1)),this.modalityChanged=this.modalityDetected.pipe(X3()),this._platform.isBrowser){let o=j(Ns).createRenderer(null,null);this._listenerCleanups=i.runOutsideAngular(()=>[ro(o,n,"keydown",this._onKeydown,KL),ro(o,n,"mousedown",this._onMousedown,KL),ro(o,n,"touchstart",this._onTouchstart,KL)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(i=>i())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),x1=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(x1||{}),nX=new Nt("cdk-focus-monitor-default-options"),eT=Wm({passive:!0,capture:!0}),ka=(()=>{class e{_ngZone=j(Si);_platform=j(ir);_inputModalityDetector=j(iX);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=j(Qi,{optional:!0});_stopInputModalityDetector=new Yt;constructor(){let i=j(nX,{optional:!0});this._detectionMode=i?.detectionMode||x1.IMMEDIATE}_rootNodeFocusAndBlurListener=i=>{let n=ga(i);for(let r=n;r;r=r.parentElement)i.type==="focus"?this._onFocus(i,r):this._onBlur(i,r)};monitor(i,n=!1){let r=Rs(i);if(!this._platform.isBrowser||r.nodeType!==1)return Xi();let o=O0(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let a={checkChildren:n,subject:new Yt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(i){let n=Rs(i),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(i,n,r){let o=Rs(i),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===x1.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused",n==="touch"),i.classList.toggle("cdk-keyboard-focused",n==="keyboard"),i.classList.toggle("cdk-mouse-focused",n==="mouse"),i.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&n,this._detectionMode===x1.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?tX:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(i,n){let r=this._elementInfo.get(n),o=ga(i);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(i,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let n=i.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,eT),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,eT)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eT),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eT),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,r){this._setClasses(i,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){let n=[];return this._elementInfo.forEach((r,o)=>{(o===i||r.checkChildren&&o.contains(i))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ZL=(()=>{class e{_elementRef=j(pi);_focusMonitor=j(ka);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new et;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return e})();var tT=new WeakMap,Xr=(()=>{class e{_appRef;_injector=j(Bn);_environmentInjector=j(tc);load(i){let n=this._appRef=this._appRef||this._injector.get(Ld),r=tT.get(n);r||(r={loaders:new Set,refs:[]},tT.set(n,r),n.onDestroy(()=>{tT.get(n)?.refs.forEach(o=>o.destroy()),tT.delete(n)})),r.loaders.has(i)||(r.loaders.add(i),r.refs.push(q2(i,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qd=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return e})();function D_(e){return Array.isArray(e)?e:[e]}var rX=new Set,L0,vTe=(()=>{class e{_platform=j(ir);_nonce=j(yw,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_Te}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&bTe(i,this._nonce),this._matchMedia(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bTe(e,t){if(!rX.has(e))try{L0||(L0=document.createElement("style"),t&&L0.setAttribute("nonce",t),L0.setAttribute("type","text/css"),document.head.appendChild(L0)),L0.sheet&&(L0.sheet.insertRule(`@media ${e} {body{ }}`,0),rX.add(e))}catch(i){console.error(i)}}function _Te(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var sX=(()=>{class e{_mediaMatcher=j(vTe);_zone=j(Si);_queries=new Map;_destroySubject=new Yt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return oX(D_(i)).some(r=>this._registerQuery(r).mql.matches)}observe(i){let r=oX(D_(i)).map(s=>this._registerQuery(s).observable),o=rb(r);return o=P2(o.pipe(ts(1)),o.pipe(O2(1),im(0))),o.pipe(yn(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let n=this._mediaMatcher.matchMedia(i),o={observable:new nd(s=>{let a=l=>this._zone.run(()=>s.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(Qr(n),yn(({matches:s})=>({query:i,matches:s})),kn(this._destroySubject)),mql:n};return this._queries.set(i,o),o}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oX(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}function yTe(e){if(e.type==="characterData"&&e.target instanceof Comment)return!0;if(e.type==="childList"){for(let t=0;t<e.addedNodes.length;t++)if(!(e.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<e.removedNodes.length;t++)if(!(e.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var aX=(()=>{class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lX=(()=>{class e{_mutationObserverFactory=j(aX);_observedElements=new Map;_ngZone=j(Si);constructor(){}ngOnDestroy(){this._observedElements.forEach((i,n)=>this._cleanupObserver(n))}observe(i){let n=Rs(i);return new nd(r=>{let s=this._observeElement(n).pipe(yn(a=>a.filter(l=>!yTe(l))),Dr(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(i){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(i))this._observedElements.get(i).count++;else{let n=new Yt,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:r,stream:n,count:1})}return this._observedElements.get(i).stream})}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){let{observer:n,stream:r}=this._observedElements.get(i);n&&n.disconnect(),r.complete(),this._observedElements.delete(i)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cX=(()=>{class e{_contentObserver=j(lX);_elementRef=j(pi);event=new et;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(i){this._debounce=Ka(i),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let i=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?i.pipe(im(this.debounce)):i).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Xe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return e})(),T_=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[aX]})}return e})();var A_=(()=>{class e{_platform=j(ir);constructor(){}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return CTe(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let n=wTe(RTe(i));if(n&&(dX(n)===-1||!this.isVisible(n)))return!1;let r=i.nodeName.toLowerCase(),o=dX(i);return i.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!TTe(i)?!1:r==="audio"?i.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,n){return ATe(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wTe(e){try{return e.frameElement}catch{return null}}function CTe(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function xTe(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function STe(e){return ETe(e)&&e.type=="hidden"}function MTe(e){return DTe(e)&&e.hasAttribute("href")}function ETe(e){return e.nodeName.toLowerCase()=="input"}function DTe(e){return e.nodeName.toLowerCase()=="a"}function fX(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function dX(e){if(!fX(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function TTe(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function ATe(e){return STe(e)?!1:xTe(e)||MTe(e)||e.hasAttribute("contenteditable")||fX(e)}function RTe(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var iT=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,i,n,r,o=!1,s){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?ys(t,{injector:this._injector}):setTimeout(t)}},R_=(()=>{class e{_checker=j(A_);_ngZone=j(Si);_document=j(Qi);_injector=j(Bn);constructor(){j(Xr).load(Qd)}create(i,n=!1){return new iT(i,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JL=(()=>{class e{_elementRef=j(pi);_focusTrapFactory=j(R_);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(i){this.focusTrap&&(this.focusTrap.enabled=i)}autoCapture;constructor(){j(ir).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(i){let n=i.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Zd(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Xe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Xe]},exportAs:["cdkTrapFocus"],features:[Gn]})}return e})(),pX=new Nt("liveAnnouncerElement",{providedIn:"root",factory:mX});function mX(){return null}var gX=new Nt("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),kTe=0,e4=(()=>{class e{_ngZone=j(Si);_defaultOptions=j(gX,{optional:!0});_liveElement;_document=j(Qi);_previousTimeout;_currentPromise;_currentResolve;constructor(){let i=j(pX,{optional:!0});this._liveElement=i||this._createLiveElement()}announce(i,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(i),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${kTe++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(i){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(i)===-1&&o.setAttribute("aria-owns",s+" "+i):o.setAttribute("aria-owns",i)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var jm=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(jm||{}),uX="cdk-high-contrast-black-on-white",hX="cdk-high-contrast-white-on-black",QL="cdk-high-contrast-active",nT=(()=>{class e{_platform=j(ir);_hasCheckedHighContrastMode;_document=j(Qi);_breakpointSubscription;constructor(){this._breakpointSubscription=j(sX).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return jm.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(i):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return jm.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return jm.BLACK_ON_WHITE}return jm.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(QL,uX,hX),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===jm.BLACK_ON_WHITE?i.add(QL,uX):n===jm.WHITE_ON_BLACK&&i.add(QL,hX)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rp=(()=>{class e{constructor(){j(nT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[T_]})}return e})();function t4(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Qs(e){return e==null?"":typeof e=="string"?e:`${e}px`}var ITe=new Nt("cdk-dir-doc",{providedIn:"root",factory:PTe});function PTe(){return j(Qi)}var FTe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function vX(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?FTe.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ho=(()=>{class e{value="ltr";change=new et;constructor(){let i=j(ITe,{optional:!0});if(i){let n=i.body?i.body.dir:null,r=i.documentElement?i.documentElement.dir:null;this.value=vX(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zu=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(zu||{}),rT,N0;function oT(){if(N0==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return N0=!1,N0;if("scrollBehavior"in document.documentElement.style)N0=!0;else{let e=Element.prototype.scrollTo;e?N0=!/\{\s*\[native code\]\s*\}/.test(e.toString()):N0=!1}}return N0}function k_(){if(typeof document!="object"||!document)return zu.NORMAL;if(rT==null){let e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",e.appendChild(i),document.body.appendChild(e),rT=zu.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,rT=e.scrollLeft===0?zu.NEGATED:zu.INVERTED),e.remove()}return rT}var qh=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();var OTe=20,op=(()=>{class e{_ngZone=j(Si);_platform=j(ir);_renderer=j(Ns).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Yt;_scrolledCount=0;scrollContainers=new Map;register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=OTe){return this._platform.isBrowser?new nd(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=i>0?this._scrolled.pipe(q3(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Xi()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){let r=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(Dr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(i){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,i)&&n.push(o)}),n}_scrollableContainsElement(i,n){let r=Rs(n),o=i.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sp=(()=>{class e{elementRef=j(pi);scrollDispatcher=j(op);ngZone=j(Si);dir=j(Ho,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Yt;_renderer=j(Ar);_cleanupScroll;_elementScrolled=new Yt;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",i=>this._elementScrolled.next(i))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=r?i.end:i.start),i.right==null&&(i.right=r?i.start:i.end),i.bottom!=null&&(i.top=n.scrollHeight-n.clientHeight-i.bottom),r&&k_()!=zu.NORMAL?(i.left!=null&&(i.right=n.scrollWidth-n.clientWidth-i.left),k_()==zu.INVERTED?i.left=i.right:k_()==zu.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=n.scrollWidth-n.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let n=this.elementRef.nativeElement;oT()?n.scrollTo(i):(i.top!=null&&(n.scrollTop=i.top),i.left!=null&&(n.scrollLeft=i.left))}measureScrollOffset(i){let n="left",r="right",o=this.elementRef.nativeElement;if(i=="top")return o.scrollTop;if(i=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return i=="start"?i=s?r:n:i=="end"&&(i=s?n:r),s&&k_()==zu.INVERTED?i==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&k_()==zu.NEGATED?i==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:i==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return e})(),LTe=20,Jd=(()=>{class e{_platform=j(ir);_listeners;_viewportSize;_change=new Yt;_document=j(Qi,{optional:!0});constructor(){let i=j(Si),n=j(Ns).createRenderer(null,null);i.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+r,right:i.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,n=this._getWindow(),r=i.documentElement,o=r.getBoundingClientRect(),s=-o.top||i.body.scrollTop||n.scrollY||r.scrollTop||0,a=-o.left||i.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(i=LTe){return i>0?this._change.pipe(q3(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Za=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})(),S1=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[qh,Za,qh,Za]})}return e})();var i4={},oo=(()=>{class e{_appId=j(Gg);getId(i){return this._appId!=="ng"&&(i+=this._appId),i4.hasOwnProperty(i)||(i4[i]=0),`${i}${i4[i]++}`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xs(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var bX=oT(),sT=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,i){this._viewportRuler=t,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Qs(-this._previousScrollPosition.left),t.style.top=Qs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),bX&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bX&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.documentElement,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var aT=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Dr(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},M1=class{enable(){}disable(){}attach(){}};function n4(e,t){return t.some(i=>{let n=e.bottom<i.top,r=e.top>i.bottom,o=e.right<i.left,s=e.left>i.right;return n||r||o||s})}function _X(e,t){return t.some(i=>{let n=e.top<i.top,r=e.bottom>i.bottom,o=e.left<i.left,s=e.right>i.right;return n||r||o||s})}var lT=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();n4(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},MX=(()=>{class e{_scrollDispatcher=j(op);_viewportRuler=j(Jd);_ngZone=j(Si);_document=j(Qi);constructor(){}noop=()=>new M1;close=i=>new aT(this._scrollDispatcher,this._ngZone,this._viewportRuler,i);block=()=>new sT(this._viewportRuler,this._document);reposition=i=>new lT(this._scrollDispatcher,this._viewportRuler,this._ngZone,i);static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hu=class{positionStrategy;scrollStrategy=new M1;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var cT=class{connectionPair;scrollableViewProperties;constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var EX=(()=>{class e{_attachedOverlays=[];_document=j(Qi);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DX=(()=>{class e extends EX{_ngZone=j(Si);_renderer=j(Ns).createRenderer(null,null);_cleanupKeydown;add(i){super.add(i),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=i=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(i));break}};static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TX=(()=>{class e extends EX{_platform=j(ir);_ngZone=j(Si);_renderer=j(Ns).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(i){if(super.add(i),!this._isAttached){let n=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[ro(this._renderer,n,"pointerdown",this._pointerDownListener,r),ro(this._renderer,n,"click",this._clickListener,r),ro(this._renderer,n,"auxclick",this._clickListener,r),ro(this._renderer,n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(i=>i()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=i=>{this._pointerDownEventTarget=ga(i)};_clickListener=i=>{let n=ga(i),r=i.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(yX(a.overlayElement,n)||yX(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i)}};static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yX(e,t){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===e)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var AX=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return e})(),uT=(()=>{class e{_platform=j(ir);_containerElement;_document=j(Qi);_styleLoader=j(Xr);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||t4()){let r=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(i),t4()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(AX)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),r4=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,i,n,r){this._renderer=i,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=i.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},V0=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Yt;_attachments=new Yt;_detachments=new Yt;_positionStrategy;_scrollStrategy;_locationChanges=Yr.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new Yt;_outsidePointerEvents=new Yt;_renders=new Yt;_afterRenderRef;_afterNextRenderRef;constructor(t,i,n,r,o,s,a,l,c,d=!1,u,h){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=zd(()=>L2(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ys(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Ie(Ie({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Zt(Ie({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Qs(this._config.width),t.height=Qs(this._config.height),t.minWidth=Qs(this._config.minWidth),t.minHeight=Qs(this._config.minHeight),t.maxWidth=Qs(this._config.maxWidth),t.maxHeight=Qs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new r4(this._document,this._renderer,this._ngZone,i=>{this._backdropClick.next(i)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,i,n){let r=D_(i||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(kn(es(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},wX="cdk-overlay-connected-position-bounding-box",BTe=/([A-Za-z%]+)$/,E1=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Yt;_resizeSubscription=Yr.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(wX),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&B0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,n,r){let o=xX(i),{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-n.width,h=0-a,f=a+o.height-n.height,p=this._subtractOverflows(o.width,d,u),v=this._subtractOverflows(o.height,h,f),m=p*v;return{visibleArea:m,isCompletelyWithinViewport:o.width*o.height===m,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=CX(this._overlayRef.getConfig().minHeight),a=CX(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=xX(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),d=0,u=0;return r.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?u=l||-a:u=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!VTe(this._lastScrollVisibility,n)){let r=new cT(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let f=Math.min(n.bottom-t.y+n.top,t.y),p=this._lastBoundingBoxSize.height;o=f*2,s=t.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-p/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,c=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,d,u,h;if(c)h=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=n.right-t.x;else{let f=Math.min(n.right-t.x+n.left,t.x),p=this._lastBoundingBoxSize.width;d=f*2,u=t.x-f,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Qs(n.height),r.top=Qs(n.top),r.bottom=Qs(n.bottom),r.width=Qs(n.width),r.left=Qs(n.left),r.right=Qs(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Qs(o)),s&&(r.maxWidth=Qs(s))}this._lastBoundingBoxSize=n,B0(this._boundingBox.style,r)}_resetBoundingBoxStyles(){B0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){B0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();B0(n,this._getExactOverlayY(i,t,d)),B0(n,this._getExactOverlayX(i,t,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Qs(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Qs(s.maxWidth):o&&(n.maxWidth="")),B0(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Qs(o.y);return r}_getExactOverlayX(t,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Qs(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_X(t,n),isOriginOutsideView:n4(t,n),isOverlayClipped:_X(i,n),isOverlayOutsideView:n4(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&D_(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof pi)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function B0(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function CX(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(BTe);return!i||i==="px"?parseFloat(t):null}return e||null}function xX(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function VTe(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var SX="cdk-global-overlay-wrapper",dT=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(SX),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",v="";l?v="flex-start":d==="center"?(v="center",h?p=u:f=u):h?d==="left"||d==="end"?(v="flex-end",f=u):(d==="right"||d==="start")&&(v="flex-start",p=u):d==="left"||d==="start"?(v="flex-start",f=u):(d==="right"||d==="end")&&(v="flex-end",p=u),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":p,i.justifyContent=v,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(SX),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},RX=(()=>{class e{_viewportRuler=j(Jd);_document=j(Qi);_platform=j(ir);_overlayContainer=j(uT);constructor(){}global(){return new dT}flexibleConnectedTo(i){return new E1(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ao=(()=>{class e{scrollStrategies=j(MX);_overlayContainer=j(uT);_positionBuilder=j(RX);_keyboardDispatcher=j(DX);_injector=j(Bn);_ngZone=j(Si);_document=j(Qi);_directionality=j(Ho);_location=j(mh);_outsideClickDispatcher=j(TX);_animationsModuleType=j(br,{optional:!0});_idGenerator=j(oo);_renderer=j(Ns).createRenderer(null,null);_appRef;_styleLoader=j(Xr);constructor(){}create(i){this._styleLoader.load(AX);let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new Hu(i);return s.direction=s.direction||this._directionality.value,new V0(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(tc),this._renderer)}position(){return this._positionBuilder}_createPaneElement(i){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Ld)),new E_(i,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zTe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],kX=new Nt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.reposition()}}),I_=(()=>{class e{elementRef=j(pi);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return e})(),hT=(()=>{class e{_overlay=j(Ao);_dir=j(Ho,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=Yr.EMPTY;_attachSubscription=Yr.EMPTY;_detachSubscription=Yr.EMPTY;_positionSubscription=Yr.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=j(kX);_disposeOnNavigation=!1;_ngZone=j(Si);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}backdropClick=new et;positionChange=new et;attach=new et;detach=new et;overlayKeydown=new et;overlayOutsideClick=new et;constructor(){let i=j(da),n=j(Bo);this._templatePortal=new Rc(i,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=zTe);let i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!xs(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),o=ga(n);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let i=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Hu({direction:this._dir||"ltr",positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(i){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof I_?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof I_?this.origin.elementRef.nativeElement:this.origin instanceof pi?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(O7(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Xe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Xe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Xe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Xe],push:[2,"cdkConnectedOverlayPush","push",Xe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Xe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Gn]})}return e})();function HTe(e){return()=>e.scrollStrategies.reposition()}var UTe={provide:kX,deps:[Ao],useFactory:HTe},wl=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[Ao,UTe],imports:[qh,Vl,S1,S1]})}return e})();function GTe(e,t){}var qm=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var s4=(()=>{class e extends F0{_elementRef=j(pi);_focusTrapFactory=j(R_);_config;_interactivityChecker=j(A_);_ngZone=j(Si);_overlayRef=j(V0);_focusMonitor=j(ka);_renderer=j(Ar);_changeDetectorRef=j(An);_injector=j(Bn);_platform=j(ir);_document=j(Qi,{optional:!0});_portalOutlet;_focusTrapped=new Yt;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=j(qm,{optional:!0})||new qm,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let n=this._ariaLabelledByQueue.indexOf(i);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}attachDomPortal=i=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(i);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),i.removeAttribute("tabindex")},o=this._renderer.listen(i,"blur",r),s=this._renderer.listen(i,"mousedown",r)})),i.focus(n)}_focusByCssSelector(i,n){let r=this._elementRef.nativeElement.querySelector(i);r&&this._forceFocus(r,n)}_trapFocus(i){this._isDestroyed||ys(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(i);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(i)||this._focusDialogContainer(i);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',i);break;default:this._focusByCssSelector(this._config.autoFocus,i);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,n=null;if(typeof i=="string"?n=this._document.querySelector(i):typeof i=="boolean"?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&typeof n.focus=="function"){let r=Zd(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(i){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(i)}_containsFocus(){let i=this._elementRef.nativeElement,n=Zd();return i===n||i.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Zd()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(n&1&&ln(Kd,7),n&2){let o;ui(o=hi())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){n&2&&Mi("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Wn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){n&1&&Xt(0,GTe,0,0,"ng-template",0)},dependencies:[Kd],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return e})(),D1=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Yt;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,i){this.overlayRef=t,this.config=i,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!xs(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},WTe=new Nt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.block()}}),jTe=new Nt("DialogData"),qTe=new Nt("DefaultDialogConfig");var a4=(()=>{class e{_overlay=j(Ao);_injector=j(Bn);_defaultOptions=j(qTe,{optional:!0});_parentDialog=j(e,{optional:!0,skipSelf:!0});_overlayContainer=j(uT);_idGenerator=j(oo);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Yt;_afterOpenedAtThisLevel=new Yt;_ariaHiddenElements=new Map;_scrollStrategy=j(WTe);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Df(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qr(void 0)));constructor(){}open(i,n){let r=this._defaultOptions||new qm;n=Ie(Ie({},r),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=this._overlay.create(o),a=new D1(s,n),l=this._attachContainer(s,a,n);if(a.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(ts(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(i,a,l,n),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){o4(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){o4(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),o4(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let n=new Hu({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:qm,useValue:r},{provide:D1,useValue:n},{provide:V0,useValue:i}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=s4;let l=new Vu(a,r.viewContainerRef,Bn.create({parent:o||this._injector,providers:s}));return i.attach(l).instance}_attachDialogContent(i,n,r,o){if(i instanceof da){let s=this._createInjector(o,n,r,void 0),a={$implicit:o.data,dialogRef:n};o.templateContext&&(a=Ie(Ie({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Rc(i,null,a,s))}else{let s=this._createInjector(o,n,r,this._injector),a=r.attachComponentPortal(new Vu(i,o.viewContainerRef,s));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(i,n,r,o){let s=i.injector||i.viewContainerRef?.injector,a=[{provide:jTe,useValue:i.data},{provide:D1,useValue:n}];return i.providers&&(typeof i.providers=="function"?a.push(...i.providers(n,i,r)):a.push(...i.providers)),i.direction&&(!s||!s.get(Ho,null,{optional:!0}))&&a.push({provide:Ho,useValue:{value:i.direction,change:Xi()}}),Bn.create({parent:s||o,providers:a})}_removeOpenDialog(i,n){let r=this.openDialogs.indexOf(i);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(i){if(i.parentElement){let n=i.parentElement.children;for(let r=n.length-1;r>-1;r--){let o=n[r];o!==i&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function o4(e,t){let i=e.length;for(;i--;)t(e[i])}var IX=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[a4],imports:[wl,Vl,rp,Vl]})}return e})();function ks(e){return e!=null&&`${e}`!="false"}var YTe=200,fT=class{_letterKeyStream=new Yt;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Yt;selectedItem=this._selectedItem;constructor(t,i){let n=typeof i?.debounceInterval=="number"?i.debounceInterval:YTe;i?.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let i=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(_s(i=>this._pressedLetters.push(i)),im(t),Dr(()=>this._pressedLetters.length>0),yn(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(i=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(i)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var P_=class{_items;_activeItemIndex=-1;_activeItem=ca(null);_wrap=!1;_typeaheadSubscription=Yr.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,i){this._items=t,t instanceof Od?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):Ug(t)&&(this._effectRef=j2(()=>this._itemsChanged(t()),{injector:i}))}tabOut=new Yt;change=new Yt;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let i=this._getItemsArray();return this._typeahead=new fT(i,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,i=10){return this._pageUpAndDown={enabled:t,delta:i},this}setActiveItem(t){let i=this._activeItem();this.updateActiveItem(t),this._activeItem()!==i&&this.change.next(this._activeItemIndex)}onKeydown(t){let i=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||xs(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let i=this._getItemsArray(),n=typeof t=="number"?t:i.indexOf(t),r=i[n];this._activeItem.set(r??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let r=(this._activeItemIndex+t*n+i.length)%i.length,o=i[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,i){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=i,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return Ug(this._items)?this._items():this._items instanceof Od?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let i=this._activeItem();if(i){let n=t.indexOf(i);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}};var T1=class extends P_{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var z0=class extends P_{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var OX=" ";function d4(e,t,i){let n=_T(e,t);i=i.trim(),!n.some(r=>r.trim()===i)&&(n.push(i),e.setAttribute(t,n.join(OX)))}function yT(e,t,i){let n=_T(e,t);i=i.trim();let r=n.filter(o=>o!==i);r.length?e.setAttribute(t,r.join(OX)):e.removeAttribute(t)}function _T(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var LX="cdk-describedby-message",bT="cdk-describedby-host",c4=0,NX=(()=>{class e{_platform=j(ir);_document=j(Qi);_messageRegistry=new Map;_messagesContainer=null;_id=`${c4++}`;constructor(){j(Xr).load(Qd),this._id=j(Gg)+"-"+c4++}describe(i,n,r){if(!this._canBeDescribed(i,n))return;let o=l4(n,r);typeof n!="string"?(FX(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(i,o)||this._addMessageReference(i,o)}removeDescription(i,n,r){if(!n||!this._isElementNode(i))return;let o=l4(n,r);if(this._isElementDescribedByMessage(i,o)&&this._removeMessageReference(i,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let i=this._document.querySelectorAll(`[${bT}="${this._id}"]`);for(let n=0;n<i.length;n++)this._removeCdkDescribedByReferenceIds(i[n]),i[n].removeAttribute(bT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,n){let r=this._document.createElement("div");FX(r,this._id),r.textContent=i,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(l4(i,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;let i="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(i),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(i){let n=_T(i,"aria-describedby").filter(r=>r.indexOf(LX)!=0);i.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(i,n){let r=this._messageRegistry.get(n);d4(i,"aria-describedby",r.messageElement.id),i.setAttribute(bT,this._id),r.referenceCount++}_removeMessageReference(i,n){let r=this._messageRegistry.get(n);r.referenceCount--,yT(i,"aria-describedby",r.messageElement.id),i.removeAttribute(bT)}_isElementDescribedByMessage(i,n){let r=_T(i,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(i,n){if(!this._isElementNode(i))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=i.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function l4(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function FX(e,t){e.id||(e.id=`${LX}-${t}-${c4++}`)}var ki=(()=>{class e{constructor(){j(nT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[qh,qh]})}return e})();function $Te(e,t){}var R1=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},u4="mdc-dialog--open",BX="mdc-dialog--opening",VX="mdc-dialog--closing",XTe=150,KTe=75,UX=(()=>{class e extends s4{_animationMode=j(br,{optional:!0});_animationStateChanged=new et;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?HX(this._config.enterAnimationDuration)??XTe:0;_exitAnimationDuration=this._animationsEnabled?HX(this._config.exitAnimationDuration)??KTe:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(zX,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(BX,u4)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(u4),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(u4),this._animationsEnabled?(this._hostElement.style.setProperty(zX,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(VX)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(BX,VX)}_waitForAnimationToComplete(i,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let n=super.attachComponentPortal(i);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){n&2&&(gl("id",r._config.id),Mi("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),yi("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Wn],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(Se(0,"div",0)(1,"div",1),Xt(2,$Te,0,0,"ng-template",2),Pe()())},dependencies:[Kd],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return e})(),zX="--mat-dialog-transition-duration";function HX(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Ka(e.substring(0,e.length-2)):e.endsWith("s")?Ka(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var A1=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(A1||{}),H0=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Yt;_beforeClosed=new Yt;_result;_closeFallbackTimeout;_state=A1.OPEN;_closeInteractionType;constructor(t,i,n){this._ref=t,this._containerInstance=n,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Dr(r=>r.state==="opened"),ts(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Dr(r=>r.state==="closed"),ts(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),es(this.backdropClick(),this.keydownEvents().pipe(Dr(r=>r.keyCode===27&&!this.disableClose&&!xs(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),h4(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Dr(i=>i.state==="closing"),ts(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=A1.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=A1.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function h4(e,t,i){return e._closeInteractionType=t,e.close(i)}var wT=new Nt("MatMdcDialogData"),GX=new Nt("mat-mdc-dialog-default-options"),WX=new Nt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.block()}});var kc=(()=>{class e{_overlay=j(Ao);_defaultOptions=j(GX,{optional:!0});_scrollStrategy=j(WX);_parentDialog=j(e,{optional:!0,skipSelf:!0});_idGenerator=j(oo);_dialog=j(a4);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Yt;_afterOpenedAtThisLevel=new Yt;dialogConfigClass=R1;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Df(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qr(void 0)));constructor(){this._dialogRefConstructor=H0,this._dialogContainerType=UX,this._dialogDataToken=wT}open(i,n){let r;n=Ie(Ie({},this._defaultOptions||new R1),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(i,Zt(Ie({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:qm,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),U0=(()=>{class e{dialogRef=j(H0,{optional:!0});_elementRef=j(pi);_dialog=j(kc);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=ZTe(this._elementRef,this._dialog.openDialogs))}ngOnChanges(i){let n=i._matDialogClose||i._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(i){h4(this.dialogRef,i.screenX===0&&i.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){n&1&&Ot("click",function(s){return r._onButtonClick(s)}),n&2&&Mi("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Gn]})}return e})();var f4=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[tz([sp])]})}return e})();function ZTe(e,t){let i=e.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?t.find(n=>n.id===i.id):null}var p4=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[kc],imports:[IX,wl,Vl,ki,ki]})}return e})();var CT=class e{constructor(t){this.http=t}baseUrl="https://arun560.bsite.net/api/info";headerObj=new Ud({Accept:"application/json"});option={headers:this.headerObj};get_data(){return this.http.get(this.baseUrl,this.option).pipe(rd(this.errorHandler))}post_data(t){return this.http.post(this.baseUrl,t,this.option).pipe(rd(this.errorHandler))}delete_data(t){return console.log(t),this.http.delete(this.baseUrl+"/delete/"+t,this.option).pipe(rd(this.errorHandler))}update_data(t,i){return this.http.put(`${this.baseUrl}/update/${t}`,i)}errorHandler(t){return console.log(t),Ef(t)}static \u0275fac=function(i){return new(i||e)(ji(cm))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})};function rK(e){let t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<i.length;r++)i[r].removeAttribute("id");return n==="canvas"?YX(e,t):(n==="input"||n==="select"||n==="textarea")&&qX(e,t),jX("canvas",e,t,YX),jX("input, textarea, select",e,t,qX),t}function jX(e,t,i,n){let r=t.querySelectorAll(e);if(r.length){let o=i.querySelectorAll(e);for(let s=0;s<r.length;s++)n(r[s],o[s])}}var JTe=0;function qX(e,t){t.type!=="file"&&(t.value=e.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${JTe++}`)}function YX(e,t){let i=t.getContext("2d");if(i)try{i.drawImage(e,0,0)}catch{}}function x4(e){let t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function v4(e,t,i){let{top:n,bottom:r,left:o,right:s}=e;return i>=n&&i<=r&&t>=o&&t<=s}function F1(e,t,i){e.top+=t,e.bottom=e.top+e.height,e.left+=i,e.right=e.left+e.width}function $X(e,t,i,n){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=e,d=l*t,u=c*t;return n>r-u&&n<s+u&&i>a-d&&i<o+d}var xT=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:x4(i)})})}handleScroll(t){let i=ga(t),n=this.positions.get(i);if(!n)return null;let r=n.scrollPosition,o,s;if(i===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=i.scrollTop,s=i.scrollLeft;let a=r.top-o,l=r.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&i!==d&&i.contains(d)&&F1(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function oK(e,t){let i=e.rootNodes;if(i.length===1&&i[0].nodeType===t.ELEMENT_NODE)return i[0];let n=t.createElement("div");return i.forEach(r=>n.appendChild(r)),n}function S4(e,t,i){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];r?e.setProperty(n,r,i?.has(n)?"important":""):e.removeProperty(n)}return e}function F_(e,t){let i=t?"":"none";S4(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function XX(e,t,i){S4(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},i)}function ST(e,t){return t&&t!="none"?e+" "+t:e}function KX(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=MT(t.left,t.top)}function MT(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function ZX(e){let t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function eAe(e){let t=getComputedStyle(e),i=m4(t,"transition-property"),n=i.find(a=>a==="transform"||a==="all");if(!n)return 0;let r=i.indexOf(n),o=m4(t,"transition-duration"),s=m4(t,"transition-delay");return ZX(o[r])+ZX(s[r])}function m4(e,t){return e.getPropertyValue(t).split(",").map(n=>n.trim())}var tAe=new Set(["position"]),b4=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,i,n,r,o,s,a,l,c,d){this._document=t,this._rootElement=i,this._direction=n,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),QX(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return eAe(this._preview)}addEventListener(t,i){return this._renderer.listen(this._preview,t,i)}_createPreview(){let t=this._previewTemplate,i=this._previewClass,n=t?t.template:null,r;if(n&&t){let o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(n,t.context);s.detectChanges(),r=oK(s,this._document),this._previewEmbeddedView=s,t.matchSize?KX(r,o):r.style.transform=MT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=rK(this._rootElement),KX(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return S4(r.style,{"pointer-events":"none",margin:QX(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},tAe),F_(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(o=>r.classList.add(o)):r.classList.add(i)),r}};function QX(e){return"showPopover"in e}var iAe={passive:!0},JX={passive:!1},nAe={passive:!1,capture:!0},rAe=800,eK=new Set(["position"]),_4=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=ca(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Yt;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Yr.EMPTY;_pointerUpSubscription=Yr.EMPTY;_scrollSubscription=Yr.EMPTY;_resizeSubscription=Yr.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>F_(i,t)))}_disabled=!1;beforeStarted=new Yt;started=new Yt;released=new Yt;ended=new Yt;entered=new Yt;exited=new Yt;dropped=new Yt;moved=this._moveEvents;data;constrainPosition;constructor(t,i,n,r,o,s,a){this._config=i,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(i.parentDragRef||null),this._parentPositions=new xT(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>Rs(n)),this._handles.forEach(n=>F_(n,this.disabled)),this._toggleNativeDragInteractions();let i=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&i.add(n)}),this._disabledHandles=i,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let i=Rs(t);return i!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[ro(this._renderer,i,"mousedown",this._pointerDown,JX),ro(this._renderer,i,"touchstart",this._pointerDown,iAe),ro(this._renderer,i,"dragstart",this._nativeDragStart,JX)]),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Rs(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),F_(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),F_(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let i=this._getTargetHandle(t);i&&!this._disabledHandles.has(i)&&!this.disabled&&this._initializeDragSequence(i,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let i=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(i.x-this._pickupPositionOnPage.x),o=Math.abs(i.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!a){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let n=this._getConstrainedPointerPosition(i);if(this._hasMoved=!0,this._lastKnownPointerPosition=i,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,i);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=n.x-r.x+this._passiveTransform.x,o.y=n.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let i=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){I1(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let i=this._getShadowRoot(),n=this._dropContainer;if(i&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=ro(this._renderer,i,"selectstart",oAe,nAe)}),n){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new b4(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,i)),XX(r,!1,eK),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,i){this._parentDragRef&&i.stopPropagation();let n=this.isDragging(),r=I1(i),o=!r&&i.button!==0,s=this._rootElement,a=ga(i),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+rAe>Date.now(),c=r?np(i):ip(i);if(a&&a.draggable&&i.type==="mousedown"&&i.preventDefault(),n||o||l||c)return;if(this._handles.length){let h=s.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=x4(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,i);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(t){XX(this._rootElement,!0,eK),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let i=this._dropContainer,n=i.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=i._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),i.drop(this,n,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:i},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,i);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,i)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,i,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,i):this._applyPreviewTransform(t-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let i=this._preview.getTransitionDuration();return i===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let r=a=>{(!a||this._preview&&ga(a)===this._preview.element&&a.propertyName==="transform")&&(s(),n(),clearTimeout(o))},o=setTimeout(r,i*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,i=t?t.template:null,n;return i?(this._placeholderRef=t.viewContainer.createEmbeddedView(i,t.context),this._placeholderRef.detectChanges(),n=oK(this._placeholderRef,this._document)):n=rK(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,i,n){let r=i===this._rootElement?null:i,o=r?r.getBoundingClientRect():t,s=I1(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,c=s.pageY-o.top-a.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let i=this._getViewportScrollPosition(),n=I1(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-i.left,o=n.pageY-i.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let i=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||i==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||i==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,u=a.bottom-(c-s),h=a.left+o,f=a.right-(l-o);n=tK(n,h,f),r=tK(r,d,u)}return{x:n,y:r}}_updatePointerDirectionDelta(t){let{x:i,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(i-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=i>o.x?1:-1,o.x=i),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,F_(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,i){let n=1/this.scale,r=MT(t*n,i*n),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=ST(r,this._initialTransform)}_applyPreviewTransform(t,i){let n=this._previewTemplate?.template?void 0:this._initialTransform,r=MT(t,i);this._preview.setTransform(ST(r,n))}_getDragDistance(t){let i=this._pickupPositionOnPage;return i?{x:t.x-i.x,y:t.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:i}=this._passiveTransform;if(t===0&&i===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||n.width===0&&n.height===0)return;let o=r.left-n.left,s=n.right-r.right,a=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>n.height?(a>0&&(i+=a),l>0&&(i-=l)):i=0,(t!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:t})}_getDragStartDelay(t){let i=this.dragStartDelay;return typeof i=="number"?i:I1(t)?i.touch:i?i.mouse:0}_updateOnScroll(t){let i=this._parentPositions.handleScroll(t);if(i){let n=ga(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&F1(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=O0(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,i){let n=this._previewContainer||"global";if(n==="parent")return t;if(n==="global"){let r=this._document;return i||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Rs(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let i=this._getTargetHandle(t);i&&!this._disabledHandles.has(i)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(i=>t.target&&(t.target===i||i.contains(t.target)))}};function tK(e,t,i){return Math.max(t,Math.min(i,e))}function I1(e){return e.type[0]==="t"}function oAe(e){e.preventDefault()}function sK(e,t,i){let n=iK(t,e.length-1),r=iK(i,e.length-1);if(n===r)return;let o=e[n],s=r<n?-1:1;for(let a=n;a!==r;a+=s)e[a]=e[a+s];e[r]=o}function iK(e,t){return Math.max(0,Math.min(t,e))}var ET=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,i,n,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,i,n,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(m=>m.drag===t),c=o[s],d=o[l].clientRect,u=c.clientRect,h=l>s?1:-1,f=this._getItemOffsetPx(d,u,h),p=this._getSiblingOffsetPx(l,o,h),v=o.slice();return sK(o,l,s),o.forEach((m,g)=>{if(v[g]===m)return;let b=m.drag===t,w=b?f:p,x=b?t.getPlaceholderElement():m.drag.getRootElement();m.offset+=w;let R=Math.round(m.offset*(1/m.drag.scale));a?(x.style.transform=ST(`translate3d(${R}px, 0, 0)`,m.initialTransform),F1(m.clientRect,0,w)):(x.style.transform=ST(`translate3d(0, ${R}px, 0)`,m.initialTransform),F1(m.clientRect,w,0))}),this._previousSwap.overlaps=v4(u,i,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,i,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,i,n):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement(),c=s[o];if(c===t&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(i,n)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(o,0,t)}else this._element.appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let i=t.getRootElement();if(i){let n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;i.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,i){this._itemPositions.forEach(({clientRect:n})=>{F1(n,t,i)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(i=>{let n=i.getVisibleElement();return{drag:i,offset:0,initialTransform:n.style.transform||"",clientRect:x4(n)}}).sort((i,n)=>t?i.clientRect.left-n.clientRect.left:i.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,i,n){let r=this.orientation==="horizontal",o=r?i.left-t.left:i.top-t.top;return n===-1&&(o+=r?i.width-t.width:i.height-t.height),o}_getSiblingOffsetPx(t,i,n){let r=this.orientation==="horizontal",o=i[t].clientRect,s=i[t+n*-1],a=o[r?"width":"height"]*n;if(s){let l=r?"left":"top",c=r?"right":"bottom";n===-1?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,i){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,r=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return r?t>=s.right:i>=s.bottom}else{let s=n[0].clientRect;return r?t<=s.left:i<=s.top}}_getItemIndexFromPointerPosition(t,i,n,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(r){let c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?i>=Math.floor(l.left)&&i<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},y4=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,i){this._document=t,this._dragDropRegistry=i}start(t){let i=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<i.length;n++){let r=i[n];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,i,n,r){let o=this._getItemIndexFromPointerPosition(t,i,n),s=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=a.getRootElement();o>l?d.after(c):d.before(c),sK(this._activeItems,l,o);let u=this._getRootNode().elementFromPoint(i,n);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=d===u||d.contains(u),{previousIndex:l,currentIndex:o}}enter(t,i,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,i,n):r;o===-1&&(o=this._getClosestItemIndexToPointer(t,i,n));let s=this._activeItems[o],a=this._activeItems.indexOf(t);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,i=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[r,o]=this._relatedNodes[n];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],i.drag=null,i.deltaX=i.deltaY=0,i.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,i,n){let r=this._getRootNode().elementFromPoint(Math.floor(i),Math.floor(n)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=O0(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,i,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==t){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(i-l,n-c);d<r&&(r=d,o=s)}}return o}},nK=.05,aK=.05,eu=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(eu||{}),dc=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(dc||{}),w4=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Yt;entered=new Yt;exited=new Yt;dropped=new Yt;sorted=new Yt;receivingStarted=new Yt;receivingStopped=new Yt;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Yr.EMPTY;_verticalScrollDirection=eu.NONE;_horizontalScrollDirection=dc.NONE;_scrollNode;_stopScrollTimers=new Yt;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,i,n,r,o){this._dragDropRegistry=i,this._ngZone=r,this._viewportRuler=o;let s=this.element=Rs(t);this._document=n,this.withOrientation("vertical").withElementContainer(s),i.registerDropContainer(this),this._parentPositions=new xT(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,i,n,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,i,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,i,n,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:i,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){let i=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(i.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof ET&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new y4(this._document,this._dragDropRegistry);else{let i=new ET(this._dragDropRegistry);i.direction=this._direction,i.orientation=t,this._sortStrategy=i}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((i,n)=>this.sortPredicate(i,n,this)),this}withScrollableParents(t){let i=this._container;return this._scrollableElements=t.indexOf(i)===-1?[i,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let i=Rs(this.element),n=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return n>-1&&this._scrollableElements.splice(n,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,i,n,r){if(this.sortingDisabled||!this._domRect||!$X(this._domRect,nK,i,n))return;let o=this._sortStrategy.sort(t,i,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,i){if(this.autoScrollDisabled)return;let n,r=eu.NONE,o=dc.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||$X(s.clientRect,nK,t,i)&&([r,o]=sAe(a,s.clientRect,this._direction,t,i),(r||o)&&(n=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=lK(l,i),o=cK(l,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),k7(0,W3).pipe(kn(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,i=this.autoScrollStep;this._verticalScrollDirection===eu.UP?t.scrollBy(0,-i):this._verticalScrollDirection===eu.DOWN&&t.scrollBy(0,i),this._horizontalScrollDirection===dc.LEFT?t.scrollBy(-i,0):this._horizontalScrollDirection===dc.RIGHT&&t.scrollBy(i,0)})};_isOverContainer(t,i){return this._domRect!=null&&v4(this._domRect,t,i)}_getSiblingContainerFromPosition(t,i,n){return this._siblings.find(r=>r._canReceive(t,i,n))}_canReceive(t,i,n){if(!this._domRect||!v4(this._domRect,i,n)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(i,n);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,i){let n=this._activeSiblings;!n.has(t)&&i.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:i}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let i=this._parentPositions.handleScroll(t);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=O0(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,t))}};function lK(e,t){let{top:i,bottom:n,height:r}=e,o=r*aK;return t>=i-o&&t<=i+o?eu.UP:t>=n-o&&t<=n+o?eu.DOWN:eu.NONE}function cK(e,t){let{left:i,right:n,width:r}=e,o=r*aK;return t>=i-o&&t<=i+o?dc.LEFT:t>=n-o&&t<=n+o?dc.RIGHT:dc.NONE}function sAe(e,t,i,n,r){let o=lK(t,r),s=cK(t,n),a=eu.NONE,l=dc.NONE;if(o){let c=e.scrollTop;o===eu.UP?c>0&&(a=eu.UP):e.scrollHeight-c>e.clientHeight&&(a=eu.DOWN)}if(s){let c=e.scrollLeft;i==="rtl"?s===dc.RIGHT?c<0&&(l=dc.RIGHT):e.scrollWidth+c>e.clientWidth&&(l=dc.LEFT):s===dc.LEFT?c>0&&(l=dc.LEFT):e.scrollWidth-c>e.clientWidth&&(l=dc.RIGHT)}return[a,l]}var P1={capture:!0},g4={passive:!1,capture:!0},aAe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return e})(),M4=(()=>{class e{_ngZone=j(Si);_document=j(Qi);_styleLoader=j(Xr);_renderer=j(Ns).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=ca([]);_globalListeners;_draggingPredicate=i=>i.isDragging();_domNodesToDirectives=null;pointerMove=new Yt;pointerUp=new Yt;scroll=new Yt;constructor(){}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=ro(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,g4)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(i,n){if(!(this._activeDragInstances().indexOf(i)>-1)&&(this._styleLoader.load(aAe),this._activeDragInstances.update(r=>[...r,i]),this._activeDragInstances().length===1)){let r=n.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this.scroll.next(a),P1],["selectstart",this._preventDefaultWhileDragging,g4]];r?s.push(["touchend",o,P1],["touchcancel",o,P1]):s.push(["mouseup",o,P1]),r||s.push(["mousemove",a=>this.pointerMove.next(a),g4]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,c])=>ro(this._renderer,this._document,a,l,c))})}}stopDragging(i){this._activeDragInstances.update(n=>{let r=n.indexOf(i);return r>-1?(n.splice(r,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(i){return this._activeDragInstances().indexOf(i)>-1}scrolled(i){let n=[this.scroll];return i&&i!==this._document&&n.push(new nd(r=>this._ngZone.runOutsideAngular(()=>{let o=ro(this._renderer,i,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},P1);return()=>{o()}}))),es(...n)}registerDirectiveNode(i,n){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(i,n)}removeDirectiveNode(i){this._domNodesToDirectives?.delete(i)}getDragDirectiveForNode(i){return this._domNodesToDirectives?.get(i)||null}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=i=>{this._activeDragInstances().length>0&&i.preventDefault()};_persistentTouchmoveListener=i=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))};_clearGlobalListeners(){this._globalListeners?.forEach(i=>i()),this._globalListeners=void 0}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lAe={dragStartThreshold:5,pointerDirectionChangeThreshold:5},dK=(()=>{class e{_document=j(Qi);_ngZone=j(Si);_viewportRuler=j(Jd);_dragDropRegistry=j(M4);_renderer=j(Ns).createRenderer(null,null);constructor(){}createDrag(i,n=lAe){return new _4(i,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(i){return new w4(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),C4=new Nt("CDK_DRAG_PARENT");var uK=new Nt("CdkDragHandle"),O_=(()=>{class e{element=j(pi);_parentDrag=j(C4,{optional:!0,skipSelf:!0});_dragDropRegistry=j(M4);_stateChanges=new Yt;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let i=this.element.nativeElement.parentElement;for(;i;){let n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){this._parentDrag=n,n._addHandle(this);break}i=i.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Xe]},features:[Mn([{provide:uK,useExisting:e}])]})}return e})(),cAe=new Nt("CDK_DRAG_CONFIG"),dAe=new Nt("CdkDropList"),L_=(()=>{class e{element=j(pi);dropContainer=j(dAe,{optional:!0,skipSelf:!0});_ngZone=j(Si);_viewContainerRef=j(Bo);_dir=j(Ho,{optional:!0});_changeDetectorRef=j(An);_selfHandle=j(uK,{optional:!0,self:!0});_parentDrag=j(C4,{optional:!0,skipSelf:!0});_dragDropRegistry=j(M4);_destroyed=new Yt;_handles=new Ha([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(i){this._disabled=i,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new et;released=new et;ended=new et;entered=new et;exited=new et;dropped=new et;moved=new nd(i=>{let n=this._dragRef.moved.pipe(yn(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(i);return()=>{n.unsubscribe()}});_injector=j(Bn);constructor(){let i=this.dropContainer,n=j(cAe,{optional:!0}),r=j(dK);this._dragRef=r.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe(kn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(i){this._dragRef.setFreeDragPosition(i)}ngAfterViewInit(){ys(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(i){let n=i.rootElementSelector,r=i.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(i){let n=this._handles.getValue();n.push(i),this._handles.next(n)}_removeHandle(i){let n=this._handles.getValue(),r=n.indexOf(i);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(i){this._previewTemplate=i}_resetPreviewTemplate(i){i===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(i){this._placeholderTemplate=i}_resetPlaceholderTemplate(i){i===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let i=this.element.nativeElement,n=i;this.rootElementSelector&&(n=i.closest!==void 0?i.closest(this.rootElementSelector):i.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||i)}_getBoundaryElement(){let i=this.boundaryElement;return i?typeof i=="string"?this.element.nativeElement.closest(i):Rs(i):null}_syncInputs(i){i.beforeStarted.subscribe(()=>{if(!i.isDragging()){let n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.scale=this.scale,i.dragStartDelay=typeof r=="object"&&r?r:Ka(r),i.constrainPosition=this.constrainPosition,i.previewClass=this.previewClass,i.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),n&&i.withDirection(n.value)}}),i.beforeStarted.pipe(ts(1)).subscribe(()=>{if(this._parentDrag){i.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){i.withParent(r._dragRef);break}n=n.parentElement}})}_handleEvents(i){i.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),i.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),i.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),i.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),i.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(i){let{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=i;this.disabled=l??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(_s(i=>{let n=i.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),bs(i=>es(...i.map(n=>n._stateChanges.pipe(Qr(n))))),kn(this._destroyed)).subscribe(i=>{let n=this._dragRef,r=i.element.nativeElement;i.disabled?n.disableHandle(r):n.enableHandle(r)})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){n&2&&yi("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Xe],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ys]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Mn([{provide:C4,useExisting:e}]),Gn]})}return e})();var hK=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[dK],imports:[Za]})}return e})();var uAe=e=>({active:e});function hAe(e,t){if(e&1&&Lt(0),e&2){let i=lt();jn(i.ZoomInLabelInFullView_img)}}function fAe(e,t){if(e&1&&Lt(0),e&2){let i=lt();jn(i.ZoomOutLabelInFullView_img)}}function pAe(e,t){if(e&1){let i=tn();Se(0,"i",36),Ot("click",function(){Gt(i);let r=lt();return Wt(r.movePrevious())}),Pe()}}function mAe(e,t){if(e&1){let i=tn();Se(0,"i",37),Ot("click",function(){Gt(i);let r=lt();return Wt(r.moveNext())}),Pe()}}function gAe(e,t){if(e&1){let i=tn();Se(0,"div",40),Ot("click",function(){let r=Gt(i).$implicit,o=lt(2);return Wt(o.thumbClick(r))}),is(1),Dt(2,"img",41),ns(),Pe()}if(e&2){let i=t.$implicit,n=lt(2);Ze("ngClass",If(2,uAe,n.Imagelist[n.currentIndex].id==i.id)),Fe(2),Ze("src",i.name,ab)}}function vAe(e,t){if(e&1&&(Se(0,"div",38),Xt(1,gAe,3,4,"div",39),Pe()),e&2){let i=lt();Fe(),Ze("ngForOf",i.Imagelist)}}var DT=class e{constructor(t,i,n,r,o){this.data=t;this.dialogRef=i;this._router=n;this.dialog_full=r;this.dialog=o;if(t!=null){this.Imagelist=t.data,this.ticket_number=t.ticket_id;let s=this.Imagelist.findIndex(a=>a.name==t.img);s!=null&&(this.currentIndex=s),this.image_index=t.img}}disableZoomInFullView=!1;disableZoomOutFullView=!0;matSliderStep=10;fullViewZoom=100;ZoomInLabelInFullView="";ZoomOutLabelInFullView="";title;url;currentIndex=0;baseUrl="";slideIndex=0;Imagelist;fullimagePath;selectedItem;dragPosition={x:0,y:0};height=400;cartcount=1;Image_data=[];image_index;ticket_number;ngOnInit(){}zoom=100;percentage_zoom=100;matSliderStep_img=10;ZoomInLabelInFullView_img="";ZoomOutLabelInFullView_img="";zoomin(){this.percentage_zoom+=this.matSliderStep_img,this.SetZoomLabelInFullview_img(),this.zoom<=220&&(this.zoom+=10,this.height=this.height+40)}zoomout(){this.percentage_zoom-=this.matSliderStep_img,this.SetZoomLabelInFullview_img(),this.zoom>=40&&(this.zoom-=10,this.height=this.height-40)}rotateRight(){let t=document.getElementById("rotated");this.rotation=(this.rotation+this.angle)%360,t.style.transform=`rotate(${this.rotation}deg)`,(t.style.transform=="rotate(90deg)"||t.style.transform=="rotate(270deg)"||t.style.transform=="rotate(-90deg)"||t.style.transform=="rotate(-270deg)")&&(t.style.translate="calc(0vw) calc(10vh) calc(0vw)"),(t.style.transform=="rotate(0deg)"||t.style.transform=="rotate(180deg)")&&(t.style.translate="calc(0vw) calc(0vh) calc(0vw)")}SetZoomLabelInFullview_img(){this.ZoomInLabelInFullView_img=this.percentage_zoom.toString()+"%",this.ZoomOutLabelInFullView_img=this.percentage_zoom.toString()+"%"}zoomreset(){this.angle=0,this.rotation=0,this.rotateLeft(),this.zoom=100,this.height=400,window.innerWidth<1400&&(this.height=325),this.angle=90,this.SetZoomLabelInFullview_img()}rotation=0;angle=90;rotateLeft(){let t=document.getElementById("rotated");this.rotation=(this.rotation-this.angle)%360,t.style.transform=`rotate(${this.rotation}deg)`,(t.style.transform=="rotate(-90deg)"||t.style.transform=="rotate(-270deg)"||t.style.transform=="rotate(90deg)"||t.style.transform=="rotate(270deg)")&&(t.style.translate="calc(0vw) calc(10vh) calc(0vw)"),(t.style.transform=="rotate(0deg)"||t.style.transform=="rotate(-180deg)")&&(t.style.translate="calc(0vw) calc(0vh) calc(0vw)")}keyEvent(t){t.keyCode==37&&this.movePrevious(),(t.keyCode==13||t.keyCode==39)&&this.moveNext(),console.log(t.keyCode)}moveFirst(){this.currentIndex=0}moveNext(){this.currentIndex<this.Imagelist.length-1&&(this.currentIndex=this.currentIndex+1)}movePrevious(){this.currentIndex>0&&(this.currentIndex=this.currentIndex-1)}moveNext_full(){this.currentIndex<this.Imagelist.length-1&&(this.currentIndex=this.currentIndex+1)}movePrevious_full(){this.currentIndex>0&&(this.currentIndex=this.currentIndex-1)}updateIMG(){let t=this.Imagelist[this.currentIndex]}thumbClick(t){this.zoomreset(),this.currentIndex=this.Imagelist.findIndex(i=>i.id===t.id),this.selectedItem=t.id}onDismiss(){this.dragPosition={x:0,y:0}}ngAfterViewInit(){setTimeout(()=>{this.zoomreset()},100)}static \u0275fac=function(i){return new(i||e)(ri(wT),ri(H0),ri(Ua),ri(kc),ri(kc))};static \u0275cmp=ti({type:e,selectors:[["imggallery"]],hostBindings:function(i,n){i&1&&Ot("keyup",function(o){return n.keyEvent(o)},!1,am)},standalone:!1,decls:43,vars:11,consts:[["zoomInLabelInFullView_img",""],["zoomOutLabelInFullView_img",""],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container",1,"img_gallary"],["cdkDragHandle","",1,"mat-header"],[1,"mat_title","pull-left",2,"border","none !important"],["type","button","title","Click to Close",1,"close","pull-right","close_imag",3,"mat-dialog-close"],["aria-hidden","true"],[1,"mat-body","detailsModalBody","gallery_quicks"],[1,"imggallery"],[1,"action_btn","class_imagebtn"],[1,"inner_row","img_tooltip_qi"],["title","Click to Fit Image",1,"btn","red_border_btn","icon_btn",3,"click"],["height","16","width","16px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 488.406 488.406",0,"xml","space","preserve",1,"icon_xzoom"],["d","M481.817,227.153l-64.5-64.5c-8.3-8.3-20.8-8.3-29.1,0c-8.3,8.3-8.3,20.8,0,29.1l31.2,31.2h-154.4v-151.8l29.1,29.1   c8.3,8.3,20.8,8.3,29.1,0c8.3-8.3,8.3-20.8,0-29.1l-64.5-64.5c-7.9-7.9-17.3-9.7-31.2,0l-64.4,64.5c-8.3,8.3-8.3,20.8,0,29.1   s20.8,8.3,29.1,0l31.2-31.2v153.9h-152.3l29.1-29.1c8.3-8.3,8.3-20.8,0-29.1s-20.8-8.3-29.1,0l-64.5,64.4c-7.9,7.9-9.7,17.3,0,31.2   l64.5,64.5c8.3,8.3,20.8,8.3,29.1,0s8.3-20.8,0-29.1l-31.2-31.2h154.3v152.7l-29-29.1c-8.3-8.3-20.8-8.3-29.1,0s-8.3,20.8,0,29.1   l64.5,64.5c7.9,7.9,17.3,9.7,31.2,0l64.5-64.5c8.3-8.3,8.3-20.8,0-29.1c-8.3-8.3-20.8-8.3-29.1,0l-31.2,31.2v-154.8h152.3   l-29.1,29.1c-8.3,8.3-8.3,20.8,0,29.1c8.3,8.3,20.8,8.3,29.1,0l64.5-64.5C489.717,250.453,491.417,241.053,481.817,227.153z"],["title","Click to Zoom In",1,"btn","red_border_btn","icon_btn",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 19 19",1,"icon_xzoom"],["d","M17.7956 18.4096C17.6489 18.4098 17.5069 18.3572 17.3956 18.2616L12.1406 13.0066C10.6878 14.236 8.81599 14.8562 6.9165 14.7377C5.01702 14.6191 3.23688 13.7709 1.9482 12.3704C0.659518 10.9699 -0.0379491 9.12552 0.00159404 7.22275C0.0411372 5.31998 0.81463 3.50613 2.16038 2.16038C3.50613 0.81463 5.31998 0.0411372 7.22275 0.00159404C9.12552 -0.0379491 10.9699 0.659518 12.3704 1.9482C13.7709 3.23688 14.6191 5.01702 14.7377 6.9165C14.8562 8.81599 14.236 10.6878 13.0066 12.1406L18.2616 17.3956C18.3382 17.4848 18.3876 17.5941 18.4039 17.7106C18.4202 17.827 18.4027 17.9457 18.3535 18.0525C18.3043 18.1593 18.2255 18.2497 18.1264 18.313C18.0274 18.3763 17.9132 18.4098 17.7956 18.4096ZM7.37762 1.23662C6.16214 1.23681 4.97401 1.59741 3.96346 2.27282C2.95291 2.94823 2.16531 3.90811 1.70026 5.03111C1.23521 6.1541 1.11358 7.38977 1.35076 8.58189C1.58794 9.774 2.17326 10.869 3.03274 11.7285C3.89221 12.588 4.98723 13.1733 6.17935 13.4105C7.37146 13.6477 8.60713 13.526 9.73013 13.061C10.8531 12.5959 11.813 11.8083 12.4884 10.7978C13.1638 9.78722 13.5244 8.5991 13.5246 7.38362C13.523 5.75382 12.8749 4.19123 11.7224 3.03879C10.57 1.88634 9.00741 1.2382 7.37762 1.23662Z"],["d","M9.83804 6.76865H7.99404V4.92465C7.99738 4.84186 7.98396 4.75926 7.95459 4.68179C7.92521 4.60432 7.88049 4.53359 7.82309 4.47384C7.7657 4.41408 7.69683 4.36654 7.62061 4.33407C7.54439 4.30159 7.46239 4.28485 7.37954 4.28485C7.29669 4.28485 7.2147 4.30159 7.13848 4.33407C7.06226 4.36654 6.99338 4.41408 6.93599 4.47384C6.8786 4.53359 6.83388 4.60432 6.8045 4.68179C6.77512 4.75926 6.7617 4.84186 6.76504 4.92465V6.76865H4.92104C4.83826 6.76531 4.75566 6.77873 4.67819 6.8081C4.60072 6.83748 4.52999 6.8822 4.47024 6.93959C4.41048 6.99699 4.36294 7.06586 4.33047 7.14208C4.29799 7.2183 4.28125 7.30029 4.28125 7.38315C4.28125 7.466 4.29799 7.54799 4.33047 7.62421C4.36294 7.70043 4.41048 7.7693 4.47024 7.8267C4.52999 7.88409 4.60072 7.92881 4.67819 7.95819C4.75566 7.98756 4.83826 8.00099 4.92104 7.99765H6.76504V9.84165C6.77145 10.0003 6.83899 10.1504 6.95353 10.2604C7.06807 10.3704 7.22073 10.4319 7.37954 10.4319C7.53836 10.4319 7.69102 10.3704 7.80556 10.2604C7.9201 10.1504 7.98764 10.0003 7.99404 9.84165V7.99765H9.83804C9.99673 7.99124 10.1468 7.9237 10.2568 7.80916C10.3668 7.69462 10.4282 7.54196 10.4282 7.38315C10.4282 7.22433 10.3668 7.07167 10.2568 6.95713C10.1468 6.84259 9.99673 6.77505 9.83804 6.76865Z"],["title","Click to Zoom Out",1,"btn","red_border_btn","icon_btn",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 19 19"],["d","M9.83804 7.99763H4.92104C4.83826 8.00097 4.75566 7.98755 4.67819 7.95817C4.60072 7.92879 4.52999 7.88407 4.47024 7.82668C4.41048 7.76929 4.36294 7.70041 4.33047 7.62419C4.29799 7.54797 4.28125 7.46598 4.28125 7.38313C4.28125 7.30028 4.29799 7.21828 4.33047 7.14206C4.36294 7.06584 4.41048 6.99697 4.47024 6.93958C4.52999 6.88219 4.60072 6.83746 4.67819 6.80808C4.75566 6.77871 4.83826 6.76529 4.92104 6.76863H9.83804C9.99673 6.77503 10.1468 6.84257 10.2568 6.95711C10.3668 7.07165 10.4282 7.22431 10.4282 7.38313C10.4282 7.54194 10.3668 7.6946 10.2568 7.80914C10.1468 7.92368 9.99673 7.99122 9.83804 7.99763Z"],["title","Click to Rotate Anti Clock Wise",1,"btn","red_border_btn","icon_btn",3,"click"],["width","15.272","height","14","viewBox","0 0 16.772 16.772",1,"rotate"],["id","anticlockwise","transform","translate(0.25 0.25)"],["id","Path_3636","data-name","Path 3636","d","M2.581,9.555a.581.581,0,0,1,.581.581A6.981,6.981,0,1,0,5.957,4.557H6.988a.581.581,0,1,1,0,1.162H4.47A.546.546,0,0,1,4.4,5.706a.562.562,0,0,1-.142-.029.56.56,0,0,1-.092-.053.55.55,0,0,1-.085-.049c-.005,0-.007-.012-.013-.017a.574.574,0,0,1-.066-.087.581.581,0,0,1-.065-.1.59.59,0,0,1-.022-.085.575.575,0,0,1-.027-.134c0-.006,0-.011,0-.017V2.62a.581.581,0,0,1,1.162,0V3.8A8.126,8.126,0,1,1,2,10.136.581.581,0,0,1,2.581,9.555Z","transform","translate(-2 -2)","fill","#4a4a4a","stroke-width","0.3"],["title","Click to Rotate Clock Wise",1,"btn","red_border_btn","icon_btn",3,"click"],["id","clockwise","transform","translate(-1.75 -1.75)"],["id","Path_3636","data-name","Path 3636","d","M17.691,9.555a.581.581,0,0,0-.581.581,6.981,6.981,0,1,1-2.795-5.579H13.284a.581.581,0,0,0,0,1.162H15.8a.546.546,0,0,0,.065-.013.389.389,0,0,0,.234-.082.55.55,0,0,0,.085-.049c.005,0,.007-.012.013-.017a.574.574,0,0,0,.066-.087.581.581,0,0,0,.065-.1.59.59,0,0,0,.022-.085.575.575,0,0,0,.027-.134c0-.006,0-.011,0-.017V2.62a.581.581,0,0,0-1.162,0V3.8a8.126,8.126,0,1,0,3.051,6.337A.581.581,0,0,0,17.691,9.555Z","fill","#4a4a4a","stroke-width","0.3"],[1,"image_txt"],[1,"arrow_views_ill"],["class","fa fa-angle-left arrowIcon_left",3,"click",4,"ngIf"],["class","fa fa-angle-right arrowIcon_right",3,"click",4,"ngIf"],[1,"imageContainer",2,"max-width","700px !important"],[1,"zoomBlock"],["id","rotated",1,"w-auto",3,"src"],["class","imageListBlock",4,"ngIf"],[1,"fa","fa-angle-left","arrowIcon_left",3,"click"],[1,"fa","fa-angle-right","arrowIcon_right",3,"click"],[1,"imageListBlock"],["id","imageList","class","imageList",3,"ngClass","click",4,"ngFor","ngForOf"],["id","imageList",1,"imageList",3,"click","ngClass"],[3,"src"]],template:function(i,n){if(i&1){let r=tn();Se(0,"div",2)(1,"div",3)(2,"h4",4)(3,"button",5)(4,"span",6),Lt(5,"\xD7"),Pe()()()()(),Se(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10)(10,"button",11),Ot("click",function(){return Gt(r),Wt(n.zoomreset())}),Fr(),Se(11,"svg",12)(12,"g"),Dt(13,"path",13),Pe()()(),Ta(),Se(14,"button",14),Ot("click",function(){return Gt(r),Wt(n.zoomin())}),Fr(),Se(15,"svg",15),Dt(16,"path",16)(17,"path",17),Pe()(),Ta(),Se(18,"button",18),Ot("click",function(){return Gt(r),Wt(n.zoomout())}),Fr(),Se(19,"svg",19),Dt(20,"path",16)(21,"path",20),Pe()(),Ta(),Se(22,"button",21),Ot("click",function(){return Gt(r),Wt(n.rotateLeft())}),Fr(),Se(23,"svg",22)(24,"g",23),Dt(25,"path",24),Pe()()(),Ta(),Se(26,"button",25),Ot("click",function(){return Gt(r),Wt(n.rotateRight())}),Fr(),Se(27,"svg",22)(28,"g",26),Dt(29,"path",27),Pe()()(),Xt(30,hAe,1,1,"ng-template",null,0,od)(32,fAe,1,1,"ng-template",null,1,od),Ta(),Se(34,"span",28),Lt(35),Pe()()(),Se(36,"div",29),Xt(37,pAe,1,0,"i",30)(38,mAe,1,0,"i",31),Pe(),Se(39,"div",32)(40,"div",33),Dt(41,"img",34),Pe()(),Xt(42,vAe,2,1,"div",35),Pe()()}i&2&&(Fe(3),Ze("mat-dialog-close",!0),Fe(11),Ze("disabled",n.percentage_zoom>=200),Fe(4),Ze("disabled",n.percentage_zoom<=100),Fe(17),lm("\xA0\xA0Image ",n.currentIndex+1," of ",n.Imagelist.length," "),Fe(2),Ze("ngIf",n.Imagelist.length>1&&n.currentIndex>0),Fe(),Ze("ngIf",n.Imagelist.length>1&&n.currentIndex<n.Imagelist.length-1),Fe(3),Vo("height",n.height,"px"),Ze("src",n.Imagelist[n.currentIndex].name,ab),Fe(),Ze("ngIf",n.Imagelist.length>1))},dependencies:[nc,gh,kl,U0,L_,O_],styles:[".imageContainer[_ngcontent-%COMP%]{overflow:auto;display:flex;margin-bottom:10px}.imageContainer[_ngcontent-%COMP%]   .zoomBlock[_ngcontent-%COMP%]{margin:auto}.imggallery[_ngcontent-%COMP%]{padding:0 20px}.gallery_modal[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{max-height:85vh!important}@media only screen and (max-width: 460px){.gallery_modal[_ngcontent-%COMP%]   .add_Cart_btn[_ngcontent-%COMP%]{margin-bottom:0!important}}@media only screen and (max-width: 767px){.gallery_modal[_ngcontent-%COMP%]   .mat-header[_ngcontent-%COMP%]{flex-direction:column}.gallery_modal[_ngcontent-%COMP%]   .mat-header[_ngcontent-%COMP%]   .mat_title[_ngcontent-%COMP%]{margin-right:auto!important;margin-bottom:8px!important}.gallery_modal[_ngcontent-%COMP%]   .mat-header[_ngcontent-%COMP%]   .add_Cart_btn[_ngcontent-%COMP%]{margin-left:auto;margin-bottom:-41px}.gallery_modal[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:100%}}@media (max-width: 800px){.gallery_modal[_ngcontent-%COMP%]   .image_txt[_ngcontent-%COMP%]{position:absolute!important;left:-4px!important;top:33px!important}.gallery_modal[_ngcontent-%COMP%]   .add_Cart_btn[_ngcontent-%COMP%]{z-index:1000}.gallery_modal[_ngcontent-%COMP%]   .addtotext[_ngcontent-%COMP%]{display:none!important}}.arrow_views_ill[_ngcontent-%COMP%]   .arrowIcon_right[_ngcontent-%COMP%]{font-size:30px;position:relative;cursor:pointer;z-index:1000;color:#e41636;float:right;margin-right:0;margin-top:154px;left:16px}@media (max-width: 768px){.arrow_views_ill[_ngcontent-%COMP%]   .arrowIcon_right[_ngcontent-%COMP%]{font-size:30px;position:relative;cursor:pointer;z-index:1000;color:#e41636;float:right;margin-right:0;left:16px}}.arrowIcon_left[_ngcontent-%COMP%]{font-size:30px;position:absolute;top:44%;transform:translate(-50%);cursor:pointer;z-index:1000;margin-left:-11px;color:#e41636}.imggallery[_ngcontent-%COMP%]   .imageContainer[_ngcontent-%COMP%]{position:relative;height:400px}.imggallery[_ngcontent-%COMP%]   .red_border_btn.icon_btn[_ngcontent-%COMP%]   .rotate[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#4a4a4a}.imggallery[_ngcontent-%COMP%]   .red_border_btn.icon_btn[_ngcontent-%COMP%]:hover   .rotate[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff;stroke:#fff;stroke-width:.4px}@media (max-width: 1400px){.imggallery[_ngcontent-%COMP%]   .imageContainer[_ngcontent-%COMP%]{position:relative;height:325px!important}}.imggallery[_ngcontent-%COMP%]   .imageListBlock[_ngcontent-%COMP%]{display:flex;margin:0 -5px;border-top:1px solid #ddd;padding:9px 0;overflow-x:auto}.imggallery[_ngcontent-%COMP%]   .imageListBlock[_ngcontent-%COMP%]   .imageList[_ngcontent-%COMP%]{width:100px;border:1px solid #ddd;margin:0 5px;border-radius:4px;padding:8px;display:flex;align-items:center;justify-content:center;min-width:100px!important;max-height:100px;height:100%}.imggallery[_ngcontent-%COMP%]   .imageListBlock[_ngcontent-%COMP%]   .imageList.active[_ngcontent-%COMP%]{border-color:#e41636}.imggallery[_ngcontent-%COMP%]   .imageListBlock[_ngcontent-%COMP%]   .imageList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:90px;min-height:90px}.img_tooltip[_ngcontent-%COMP%]   .bs-tooltip-top[_ngcontent-%COMP%]{top:50px!important;z-index:10000!important;transform:scale(90deg)!important}.img_tooltip[_ngcontent-%COMP%]   .bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute!important;top:-7px!important;transform:rotate(180deg)!important}.class_imagebtn[_ngcontent-%COMP%]{position:relative;left:0;top:-15px}.red_border_btn[_ngcontent-%COMP%]{border:1px solid #e41636;padding:1px 4px;color:#4a4a4ade!important}.red_border_btn[_ngcontent-%COMP%]:not(:first-child){margin-left:6px}.icon_xzoom[_ngcontent-%COMP%]{fill:#4a4a4ade;stroke:#4a4a4ade;stroke-width:.3}.red_border_btn[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e41636;color:#fff!important}.red_border_btn[_ngcontent-%COMP%]:hover   .icon_xzoom[_ngcontent-%COMP%]{fill:#fff!important;stroke:#fff!important;stroke-width:.3}.red_border_btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#fff!important}.red_border_btn[_ngcontent-%COMP%]:hover   .fa-search-plus[_ngcontent-%COMP%], .red_border_btn[_ngcontent-%COMP%]:hover   .fa-arrows[_ngcontent-%COMP%], .red_border_btn[_ngcontent-%COMP%]:hover   .fa-search-minus[_ngcontent-%COMP%]{-webkit-text-stroke:.01px rgba(255,255,255,.7803921569)}.close_imag[_ngcontent-%COMP%]{border:none!important;position:relative;right:-10px;top:-17px;opacity:1!important}.close_imag[_ngcontent-%COMP%]:focus-visible{outline:none!important}.fa-search-plus[_ngcontent-%COMP%], .fa-arrows[_ngcontent-%COMP%], .fa-search-minus[_ngcontent-%COMP%]{-webkit-text-stroke:.5px rgba(255,255,255,.7803921569)}@media (max-width: 1200px){.gallery_quicks[_ngcontent-%COMP%]{width:auto!important}}@media (max-width: 500px){.gallery_quicks[_ngcontent-%COMP%]{padding:0 9px 0 12px!important}.arrow_views_ill[_ngcontent-%COMP%]   .arrowIcon_right[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 400px){.img_tooltip_qi[_ngcontent-%COMP%]   .btn.red_border_btn[_ngcontent-%COMP%]:first-child{margin-left:0}}"]})},TT=class{constructor(t,i){this.data=t;this.img=i}};var Ym=class e{constructor(t,i){this.dialog=t;this._http=i}myAppUrl="";headerObj=new Ud({Accept:"application/json","Content-Type":"application/json"});option={headers:this.headerObj};dialogRef;ShowGallery(t,i){let n=new FormData,r=new TT(t,i);return this.dialogRef=this.dialog.open(DT,{panelClass:["mat_pop"],data:r,minWidth:"650px"}),this.dialogRef.afterClosed().pipe(yn(o=>{}))}static \u0275fac=function(i){return new(i||e)(ji(kc),ji(cm))};static \u0275prov=zt({token:e,factory:e.\u0275fac})};var N_,pK=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D4(){if(N_)return N_;if(typeof document!="object"||!document)return N_=new Set(pK),N_;let e=document.createElement("input");return N_=new Set(pK.filter(t=>(e.setAttribute("type",t),e.type===t))),N_}var bAe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return e})(),_Ae={passive:!0},mK=(()=>{class e{_platform=j(ir);_ngZone=j(Si);_renderer=j(Ns).createRenderer(null,null);_styleLoader=j(Xr);_monitoredElements=new Map;constructor(){}monitor(i){if(!this._platform.isBrowser)return xu;this._styleLoader.load(bAe);let n=Rs(i),r=this._monitoredElements.get(n);if(r)return r.subject;let o=new Yt,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),ro(this._renderer,n,"animationstart",a,_Ae)));return this._monitoredElements.set(n,{subject:o,unlisten:l}),o}stopMonitoring(i){let n=Rs(i),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var gK=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();var MK=(()=>{class e{_renderer;_elementRef;onChange=i=>{};onTouched=()=>{};constructor(i,n){this._renderer=i,this._elementRef=n}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static \u0275fac=function(n){return new(n||e)(ri(Ar),ri(pi))};static \u0275dir=di({type:e})}return e})(),A4=(()=>{class e extends MK{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,features:[Wn]})}return e})(),gd=new Nt("");var yAe={provide:gd,useExisting:qs(()=>UT),multi:!0};function wAe(){let e=sd()?sd().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var CAe=new Nt(""),UT=(()=>{class e extends MK{_compositionMode;_composing=!1;constructor(i,n,r){super(i,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!wAe())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static \u0275fac=function(n){return new(n||e)(ri(Ar),ri(pi),ri(CAe,8))};static \u0275dir=di({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&Ot("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Mn([yAe]),Wn]})}return e})();function R4(e){return e==null||k4(e)===0}function k4(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Xm=new Nt(""),I4=new Nt(""),xAe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,z_=class{static min(t){return SAe(t)}static max(t){return MAe(t)}static required(t){return EAe(t)}static requiredTrue(t){return DAe(t)}static email(t){return TAe(t)}static minLength(t){return AAe(t)}static maxLength(t){return EK(t)}static pattern(t){return RAe(t)}static nullValidator(t){return RT()}static compose(t){return IK(t)}static composeAsync(t){return PK(t)}};function SAe(e){return t=>{if(t.value==null||e==null)return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function MAe(e){return t=>{if(t.value==null||e==null)return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function EAe(e){return R4(e.value)?{required:!0}:null}function DAe(e){return e.value===!0?null:{required:!0}}function TAe(e){return R4(e.value)||xAe.test(e.value)?null:{email:!0}}function AAe(e){return t=>{let i=t.value?.length??k4(t.value);return i===null||i===0?null:i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}function EK(e){return t=>{let i=t.value?.length??k4(t.value);return i!==null&&i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}function RAe(e){if(!e)return RT;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(R4(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function RT(e){return null}function DK(e){return e!=null}function TK(e){return Cw(e)?Da(e):e}function AK(e){let t={};return e.forEach(i=>{t=i!=null?Ie(Ie({},t),i):t}),Object.keys(t).length===0?null:t}function RK(e,t){return t.map(i=>i(e))}function kAe(e){return!e.validate}function kK(e){return e.map(t=>kAe(t)?t:i=>t.validate(i))}function IK(e){if(!e)return null;let t=e.filter(DK);return t.length==0?null:function(i){return AK(RK(i,t))}}function P4(e){return e!=null?IK(kK(e)):null}function PK(e){if(!e)return null;let t=e.filter(DK);return t.length==0?null:function(i){let n=RK(i,t).map(TK);return F2(n).pipe(yn(AK))}}function F4(e){return e!=null?PK(kK(e)):null}function vK(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function FK(e){return e._rawValidators}function OK(e){return e._rawAsyncValidators}function T4(e){return e?Array.isArray(e)?e:[e]:[]}function kT(e,t){return Array.isArray(e)?e.includes(t):e===t}function bK(e,t){let i=T4(t);return T4(e).forEach(r=>{kT(i,r)||i.push(r)}),i}function _K(e,t){return T4(t).filter(i=>!kT(e,i))}var IT=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=P4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=F4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Yh=class extends IT{name;get formDirective(){return null}get path(){return null}},up=class extends IT{_parent=null;name=null;valueAccessor=null},PT=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},IAe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xat=Zt(Ie({},IAe),{"[class.ng-submitted]":"isSubmitted"}),H_=(()=>{class e extends PT{constructor(i){super(i)}static \u0275fac=function(n){return new(n||e)(ri(up,2))};static \u0275dir=di({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&yi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Wn]})}return e})(),LK=(()=>{class e extends PT{constructor(i){super(i)}static \u0275fac=function(n){return new(n||e)(ri(Yh,10))};static \u0275dir=di({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&yi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Wn]})}return e})();var O1="VALID",AT="INVALID",B_="PENDING",L1="DISABLED",$m=class{},FT=class extends $m{value;source;constructor(t,i){super(),this.value=t,this.source=i}},B1=class extends $m{pristine;source;constructor(t,i){super(),this.pristine=t,this.source=i}},V1=class extends $m{touched;source;constructor(t,i){super(),this.touched=t,this.source=i}},V_=class extends $m{status;source;constructor(t,i){super(),this.status=t,this.source=i}},OT=class extends $m{source;constructor(t){super(),this.source=t}},LT=class extends $m{source;constructor(t){super(),this.source=t}};function NK(e){return(GT(e)?e.validators:e)||null}function PAe(e){return Array.isArray(e)?P4(e):e||null}function BK(e,t){return(GT(t)?t.asyncValidators:e)||null}function FAe(e){return Array.isArray(e)?F4(e):e||null}function GT(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function OAe(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new fr(1e3,"");if(!n[i])throw new fr(1001,"")}function LAe(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new fr(1002,"")})}var NT=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,i){this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return zd(this.statusReactive)}set status(t){zd(()=>this.statusReactive.set(t))}_status=Ff(()=>this.statusReactive());statusReactive=ca(void 0);get valid(){return this.status===O1}get invalid(){return this.status===AT}get pending(){return this.status==B_}get disabled(){return this.status===L1}get enabled(){return this.status!==L1}errors;get pristine(){return zd(this.pristineReactive)}set pristine(t){zd(()=>this.pristineReactive.set(t))}_pristine=Ff(()=>this.pristineReactive());pristineReactive=ca(!0);get dirty(){return!this.pristine}get touched(){return zd(this.touchedReactive)}set touched(t){zd(()=>this.touchedReactive.set(t))}_touched=Ff(()=>this.touchedReactive());touchedReactive=ca(!1);get untouched(){return!this.touched}_events=new Yt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(bK(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bK(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_K(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_K(t,this._rawAsyncValidators))}hasValidator(t){return kT(this._rawValidators,t)}hasAsyncValidator(t){return kT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Zt(Ie({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new V1(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),i&&t.emitEvent!==!1&&this._events.next(new V1(!1,n))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Zt(Ie({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new B1(!1,n))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&t.emitEvent!==!1&&this._events.next(new B1(!0,n))}markAsPending(t={}){this.status=B_;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new V_(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Zt(Ie({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=L1,this.errors=null,this._forEachChild(r=>{r.disable(Zt(Ie({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new FT(this.value,n)),this._events.next(new V_(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Zt(Ie({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=O1,this._forEachChild(n=>{n.enable(Zt(Ie({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Zt(Ie({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O1||this.status===B_)&&this._runAsyncValidator(n,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new FT(this.value,i)),this._events.next(new V_(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Zt(Ie({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?L1:O1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=B_,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=TK(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new V_(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,n)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?L1:this.errors?AT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(B_)?B_:this._anyControlsHaveStatus(AT)?AT:O1}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&this._events.next(new B1(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new V1(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){GT(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=PAe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=FAe(this._rawAsyncValidators)}},BT=class extends NT{constructor(t,i,n){super(NK(i),BK(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){LAe(this,!0,t),Object.keys(t).forEach(n=>{OAe(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var z1=new Nt("",{providedIn:"root",factory:()=>WT}),WT="always";function NAe(e,t){return[...t.path,e]}function VT(e,t,i=WT){O4(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),VAe(e,t),HAe(e,t),zAe(e,t),BAe(e,t)}function yK(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),HT(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function zT(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function BAe(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function O4(e,t){let i=FK(e);t.validator!==null?e.setValidators(vK(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=OK(e);t.asyncValidator!==null?e.setAsyncValidators(vK(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();zT(t._rawValidators,r),zT(t._rawAsyncValidators,r)}function HT(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=FK(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=OK(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return zT(t._rawValidators,n),zT(t._rawAsyncValidators,n),i}function VAe(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&VK(e,t)})}function zAe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&VK(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function VK(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function HAe(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function zK(e,t){e==null,O4(e,t)}function UAe(e,t){return HT(e,t)}function GAe(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function WAe(e){return Object.getPrototypeOf(e.constructor)===A4}function HK(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function jAe(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(o=>{o.constructor===UT?i=o:WAe(o)?n=o:r=o}),r||n||i||null}function qAe(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var YAe={provide:Yh,useExisting:qs(()=>G0)},N1=Promise.resolve(),G0=(()=>{class e extends Yh{callSetDisabledState;get submitted(){return zd(this.submittedReactive)}_submitted=Ff(()=>this.submittedReactive());submittedReactive=ca(!1);_directives=new Set;form;ngSubmit=new et;options;constructor(i,n,r){super(),this.callSetDisabledState=r,this.form=new BT({},P4(i),F4(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){N1.then(()=>{let n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),VT(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){N1.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){N1.then(()=>{let n=this._findContainer(i.path),r=new BT({});zK(r,i),n.registerControl(i.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){N1.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){N1.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),HK(this.form,this._directives),this.ngSubmit.emit(i),this.form._events.next(new OT(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1),this.form._events.next(new LT(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static \u0275fac=function(n){return new(n||e)(ri(Xm,10),ri(I4,10),ri(z1,8))};static \u0275dir=di({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&Ot("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mn([YAe]),Wn]})}return e})();function wK(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function CK(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var H1=class extends NT{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,i,n){super(NK(i),BK(n,i)),this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),GT(i)&&(i.nonNullable||i.initialValueIsDefault)&&(CK(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wK(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wK(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){CK(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var $Ae=e=>e instanceof H1;var XAe={provide:up,useExisting:qs(()=>W0)},xK=Promise.resolve(),W0=(()=>{class e extends up{_changeDetectorRef;callSetDisabledState;control=new H1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new et;constructor(i,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=i,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=jAe(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),GAe(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){VT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){xK.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,r=n!==0&&Xe(n);xK.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?NAe(i,this._parent):[i]}static \u0275fac=function(n){return new(n||e)(ri(Yh,9),ri(Xm,10),ri(I4,10),ri(gd,10),ri(An,8),ri(z1,8))};static \u0275dir=di({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Mn([XAe]),Wn,Gn]})}return e})();var UK=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var KAe=new Nt("");var ZAe={provide:Yh,useExisting:qs(()=>U1)},U1=(()=>{class e extends Yh{callSetDisabledState;get submitted(){return zd(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}_submitted=Ff(()=>this._submittedReactive());_submittedReactive=ca(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new et;constructor(i,n,r){super(),this.callSetDisabledState=r,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(HT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let n=this.form.get(i.path);return VT(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){yK(i.control||null,i,!1),qAe(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this._submittedReactive.set(!0),HK(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new OT(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new LT(this.form))}_updateDomValue(){this.directives.forEach(i=>{let n=i.control,r=this.form.get(i.path);n!==r&&(yK(n||null,i),$Ae(r)&&(VT(r,i,this.callSetDisabledState),i.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let n=this.form.get(i.path);zK(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let n=this.form.get(i.path);n&&UAe(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O4(this.form,this),this._oldForm&&HT(this._oldForm,this)}static \u0275fac=function(n){return new(n||e)(ri(Xm,10),ri(I4,10),ri(z1,8))};static \u0275dir=di({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&Ot("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mn([ZAe]),Wn,Gn]})}return e})();var QAe={provide:gd,useExisting:qs(()=>jT),multi:!0};function GK(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function JAe(e){return e.split(":")[0]}var jT=(()=>{class e extends A4{value;_optionMap=new Map;_idCounter=0;set compareWith(i){this._compareWith=i}_compareWith=Object.is;writeValue(i){this.value=i;let n=this._getOptionId(i),r=GK(n,i);this.setProperty("value",r)}registerOnChange(i){this.onChange=n=>{this.value=this._getOptionValue(n),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),i))return n;return null}_getOptionValue(i){let n=JAe(i);return this._optionMap.has(n)?this._optionMap.get(n):i}static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&Ot("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mn([QAe]),Wn]})}return e})(),WK=(()=>{class e{_element;_renderer;_select;id;constructor(i,n,r){this._element=i,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(GK(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||e)(ri(pi),ri(Ar),ri(jT,9))};static \u0275dir=di({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),eRe={provide:gd,useExisting:qs(()=>jK),multi:!0};function SK(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function tRe(e){return e.split(":")[0]}var jK=(()=>{class e extends A4{value;_optionMap=new Map;_idCounter=0;set compareWith(i){this._compareWith=i}_compareWith=Object.is;writeValue(i){this.value=i;let n;if(Array.isArray(i)){let r=i.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(i){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,i(r)}}_registerOption(i){let n=(this._idCounter++).toString();return this._optionMap.set(n,i),n}_getOptionId(i){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,i))return n;return null}_getOptionValue(i){let n=tRe(i);return this._optionMap.has(n)?this._optionMap.get(n)._value:i}static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&Ot("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mn([eRe]),Wn]})}return e})(),qK=(()=>{class e{_element;_renderer;_select;id;_value;constructor(i,n,r){this._element=i,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(SK(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(SK(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||e)(ri(pi),ri(Ar),ri(jK,9))};static \u0275dir=di({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function iRe(e){return typeof e=="number"?e:parseInt(e,10)}var nRe=(()=>{class e{_validator=RT;_onChange;_enabled;ngOnChanges(i){if(this.inputName in i){let n=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):RT,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,features:[Gn]})}return e})();var rRe={provide:Xm,useExisting:qs(()=>L4),multi:!0},L4=(()=>{class e extends nRe{maxlength;inputName="maxlength";normalizeInput=i=>iRe(i);createValidator=i=>EK(i);static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Mi("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Mn([rRe]),Wn]})}return e})();var YK=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();var qT=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:z1,useValue:i.callSetDisabledState??WT}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[YK]})}return e})(),$K=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:KAe,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:z1,useValue:i.callSetDisabledState??WT}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[YK]})}return e})();var XK=new Nt("MAT_INPUT_VALUE_ACCESSOR");var N4=class{_box;_destroyed=new Yt;_resizeSubject=new Yt;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new nd(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Dr(i=>i.some(n=>n.target===t)),Q3({bufferSize:1,refCount:!0}),kn(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},KK=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=j(Si);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(i,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new N4(r)),this._observers.get(r).observe(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var oRe=["notch"],sRe=["matFormFieldNotchedOutline",""],aRe=["*"],lRe=["textField"],cRe=["iconPrefixContainer"],dRe=["textPrefixContainer"],uRe=["iconSuffixContainer"],hRe=["textSuffixContainer"],fRe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pRe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function mRe(e,t){e&1&&Dt(0,"span",20)}function gRe(e,t){if(e&1&&(Se(0,"label",19),Ui(1,1),Xt(2,mRe,1,0,"span",20),Pe()),e&2){let i=lt(2);Ze("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Mi("for",i._control.disableAutomaticLabeling?null:i._control.id),Fe(2),Sn(!i.hideRequiredMarker&&i._control.required?2:-1)}}function vRe(e,t){if(e&1&&Xt(0,gRe,3,5,"label",19),e&2){let i=lt();Sn(i._hasFloatingLabel()?0:-1)}}function bRe(e,t){e&1&&Dt(0,"div",7)}function _Re(e,t){}function yRe(e,t){if(e&1&&Xt(0,_Re,0,0,"ng-template",13),e&2){lt(2);let i=Aa(1);Ze("ngTemplateOutlet",i)}}function wRe(e,t){if(e&1&&(Se(0,"div",9),Xt(1,yRe,1,1,null,13),Pe()),e&2){let i=lt();Ze("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),Fe(),Sn(i._forceDisplayInfixLabel()?-1:1)}}function CRe(e,t){e&1&&(Se(0,"div",10,2),Ui(2,2),Pe())}function xRe(e,t){e&1&&(Se(0,"div",11,3),Ui(2,3),Pe())}function SRe(e,t){}function MRe(e,t){if(e&1&&Xt(0,SRe,0,0,"ng-template",13),e&2){lt();let i=Aa(1);Ze("ngTemplateOutlet",i)}}function ERe(e,t){e&1&&(Se(0,"div",14,4),Ui(2,4),Pe())}function DRe(e,t){e&1&&(Se(0,"div",15,5),Ui(2,5),Pe())}function TRe(e,t){e&1&&Dt(0,"div",16)}function ARe(e,t){e&1&&Ui(0,6)}function RRe(e,t){if(e&1&&(Se(0,"mat-hint",21),Lt(1),Pe()),e&2){let i=lt(2);Ze("id",i._hintLabelId),Fe(),jn(i.hintLabel)}}function kRe(e,t){if(e&1&&(Xt(0,RRe,2,2,"mat-hint",21),Ui(1,7),Dt(2,"div",22),Ui(3,8)),e&2){let i=lt();Sn(i.hintLabel?0:-1)}}var G1=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["mat-label"]]})}return e})(),IRe=new Nt("MatError");var B4=(()=>{class e{align="start";id=j(oo).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(gl("id",r.id),Mi("align",null),yi("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return e})(),PRe=new Nt("MatPrefix");var FRe=new Nt("MatSuffix");var nZ=new Nt("FloatingLabelParent"),ZK=(()=>{class e{_elementRef=j(pi);get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=j(KK);_ngZone=j(Si);_parent=j(nZ);_resizeSubscription=new Yr;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return ORe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();function ORe(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var QK="mdc-line-ripple--active",$T="mdc-line-ripple--deactivating",JK=(()=>{class e{_elementRef=j(pi);_cleanupTransitionEnd;constructor(){let i=j(Si),n=j(Ar);i.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove($T),i.add(QK)}deactivate(){this._elementRef.nativeElement.classList.add($T)}_handleTransitionEnd=i=>{let n=this._elementRef.nativeElement.classList,r=n.contains($T);i.propertyName==="opacity"&&r&&n.remove(QK,$T)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),eZ=(()=>{class e{_elementRef=j(pi);_ngZone=j(Si);open=!1;_notch;constructor(){}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&ln(oRe,5),n&2){let o;ui(o=hi())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:sRe,ngContentSelectors:aRe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(In(),Dt(0,"div",1),Se(1,"div",2,0),Ui(3),Pe(),Dt(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),W1=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e})}return e})();var j1=new Nt("MatFormField"),LRe=new Nt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tZ="fill",NRe="auto",iZ="fixed",BRe="translateY(-50%)",q1=(()=>{class e{_elementRef=j(pi);_changeDetectorRef=j(An);_dir=j(Ho);_platform=j(ir);_idGenerator=j(oo);_ngZone=j(Si);_injector=j(Bn);_defaults=j(LRe,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Q7(G1);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=ks(i)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||NRe}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(i){let n=this._appearance,r=i||this._defaults?.appearance||tZ;this._appearance=r,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=tZ;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||iZ}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||iZ}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}_destroyed=new Yt;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let i=this._defaults;i&&(i.appearance&&(this.appearance=i.appearance),this._hideRequiredMarker=!!i?.hideRequiredMarker,i.color&&(this.color=i.color)),this._animationsDisabled=j(br,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ff(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let n=this._control,r="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(r+i.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(Qr([void 0,void 0]),yn(()=>[n.errorState,n.userAriaDescribedBy]),Z3(),Dr(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(kn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),es(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),L2(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(kn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ff(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let n=this._control?this._control.ngControl:null;return n&&n[i]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),r&&i.push(r.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=n?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,p=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${BRe} translateX(${p})
    )`;let v=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${v}px)`)}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(n&1&&(sz(o,r._labelChild,G1,5),zn(o,W1,5),zn(o,PRe,5),zn(o,FRe,5),zn(o,IRe,5),zn(o,B4,5)),n&2){az();let s;ui(s=hi())&&(r._formFieldControl=s.first),ui(s=hi())&&(r._prefixChildren=s),ui(s=hi())&&(r._suffixChildren=s),ui(s=hi())&&(r._errorChildren=s),ui(s=hi())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&(ln(lRe,5),ln(cRe,5),ln(dRe,5),ln(uRe,5),ln(hRe,5),ln(ZK,5),ln(eZ,5),ln(JK,5)),n&2){let o;ui(o=hi())&&(r._textField=o.first),ui(o=hi())&&(r._iconPrefixContainer=o.first),ui(o=hi())&&(r._textPrefixContainer=o.first),ui(o=hi())&&(r._iconSuffixContainer=o.first),ui(o=hi())&&(r._textSuffixContainer=o.first),ui(o=hi())&&(r._floatingLabel=o.first),ui(o=hi())&&(r._notchedOutline=o.first),ui(o=hi())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(n,r){n&2&&yi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Mn([{provide:j1,useExisting:e},{provide:nZ,useExisting:e}])],ngContentSelectors:pRe,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let o=tn();In(fRe),Xt(0,vRe,1,1,"ng-template",null,0,od),Se(2,"div",6,1),Ot("click",function(a){return Gt(o),Wt(r._control.onContainerClick(a))}),Xt(4,bRe,1,0,"div",7),Se(5,"div",8),Xt(6,wRe,2,2,"div",9)(7,CRe,3,0,"div",10)(8,xRe,3,0,"div",11),Se(9,"div",12),Xt(10,MRe,1,1,null,13),Ui(11),Pe(),Xt(12,ERe,3,0,"div",14)(13,DRe,3,0,"div",15),Pe(),Xt(14,TRe,1,0,"div",16),Pe(),Se(15,"div",17),lz(16),Se(17,"div",18),Xt(18,ARe,1,0)(19,kRe,4,1),Pe()()}if(n&2){let o;Fe(2),yi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Fe(2),Sn(!r._hasOutline()&&!r._control.disabled?4:-1),Fe(2),Sn(r._hasOutline()?6:-1),Fe(),Sn(r._hasIconPrefix?7:-1),Fe(),Sn(r._hasTextPrefix?8:-1),Fe(2),Sn(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),Fe(2),Sn(r._hasTextSuffix?12:-1),Fe(),Sn(r._hasIconSuffix?13:-1),Fe(),Sn(r._hasOutline()?-1:14),Fe(),yi("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();Fe(2),yi("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),Fe(),Sn((o=s)==="error"?18:o==="hint"?19:-1)}},dependencies:[ZK,eZ,cb,JK,B4],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return e})();var Km=(()=>{class e{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var U_=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,i,n,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var hp=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,T_,ki]})}return e})();var VRe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],zRe=new Nt("MAT_INPUT_CONFIG"),rZ=(()=>{class e{_elementRef=j(pi);_platform=j(ir);ngControl=j(up,{optional:!0,self:!0});_autofillMonitor=j(mK);_ngZone=j(Si);_formField=j(j1,{optional:!0});_renderer=j(Ar);_uid=j(oo).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=j(zRe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Yt;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=ks(i),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(i){this._id=i||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(z_.required)??!1}set required(i){this._required=ks(i)}_required;get type(){return this._type}set type(i){let n=this._type;this._type=i||"text",this._validateType(),!this._isTextarea&&D4().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(i){i!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(i):this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=ks(i)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(i=>D4().has(i));constructor(){let i=j(G0,{optional:!0}),n=j(U1,{optional:!0}),r=j(Km),o=j(XK,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Ug(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new U_(r,this.ngControl,n,i,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&j2(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){if(i!==this.focused){if(!this._isNativeSelect&&i&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=i,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){VRe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(i){let n=this._elementRef.nativeElement,r=n.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||i;o=i.concat(r.split(" ").filter(a=>a&&!s.includes(a)))}else o=i;this._formFieldDescribedBy=i,o.length?n.setAttribute("aria-describedby",o.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_iOSKeyupListener=i=>{let n=i.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&Ot("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(gl("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Mi("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),yi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]},exportAs:["matInput"],features:[Mn([{provide:W1,useExisting:e}]),Gn]})}return e})(),oZ=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,hp,hp,gK,ki]})}return e})();var tu=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(tu||{}),V4=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=tu.HIDDEN;constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},sZ=Wm({passive:!0,capture:!0}),z4=class{_events=new Map;addHandler(t,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,sZ)})}removeHandler(t,i,n){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,sZ)))}_delegateEventHandler=t=>{let i=ga(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(t))})}},Y1={enterDuration:225,exitDuration:150},URe=800,aZ=Wm({passive:!0,capture:!0}),lZ=["mousedown","touchstart"],cZ=["mouseup","mouseleave","touchend","touchcancel"],GRe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return e})(),j0=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new z4;constructor(t,i,n,r,o){this._target=t,this._ngZone=i,this._platform=r,r.isBrowser&&(this._containerElement=Rs(n)),o&&o.get(Xr).load(GRe)}fadeInRipple(t,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Ie(Ie({},Y1),n.animation);n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||WRe(t,i,r),a=t-r.left,l=i-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,f=u.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,v=new V4(this,d,n,p);d.style.transform="scale3d(1, 1, 1)",v.state=tu.FADING_IN,n.persistent||(this._mostRecentTransientRipple=v);let m=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let g=()=>{m&&(m.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(v)},b=()=>this._destroyRipple(v),w=setTimeout(b,c+100);d.addEventListener("transitionend",g),d.addEventListener("transitioncancel",b),m={onTransitionEnd:g,onTransitionCancel:b,fallbackTimer:w}}),this._activeRipples.set(v,m),(p||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(t.state===tu.FADING_OUT||t.state===tu.HIDDEN)return;let i=t.element,n=Ie(Ie({},Y1),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=tu.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=Rs(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,lZ.forEach(n=>{e._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{cZ.forEach(i=>{this._triggerElement.addEventListener(i,this,aZ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===tu.FADING_IN?this._startFadeOutTransition(t):t.state===tu.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=tu.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=tu.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),t.element.remove()}_onMousedown(t){let i=ip(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+URe;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!np(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===tu.VISIBLE||t.config.terminateOnPointerUp&&t.state===tu.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(lZ.forEach(i=>e._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(cZ.forEach(i=>t.removeEventListener(i,this,aZ)),this._pointerUpEventsRegistered=!1))}};function WRe(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}var $1=new Nt("mat-ripple-global-options"),iu=(()=>{class e{_elementRef=j(pi);_animationMode=j(br,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let i=j(Si),n=j(ir),r=j($1,{optional:!0}),o=j(Bn);this._globalOptions=r||{},this._rippleRenderer=new j0(this,i,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ie(Ie(Ie({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,r){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,n,Ie(Ie({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Ie(Ie({},this.rippleConfig),i))}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();var dZ=(()=>{class e{_animationMode=j(br,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&yi("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return e})();var Qa=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return e})();var jRe=["text"],qRe=[[["mat-icon"]],"*"],YRe=["mat-icon","*"];function $Re(e,t){if(e&1&&Dt(0,"mat-pseudo-checkbox",1),e&2){let i=lt();Ze("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function XRe(e,t){if(e&1&&Dt(0,"mat-pseudo-checkbox",3),e&2){let i=lt();Ze("disabled",i.disabled)}}function KRe(e,t){if(e&1&&(Se(0,"span",4),Lt(1),Pe()),e&2){let i=lt();Fe(),wr("(",i.group.label,")")}}var U4=new Nt("MAT_OPTION_PARENT_COMPONENT"),G4=new Nt("MatOptgroup");var H4=class{source;isUserInput;constructor(t,i=!1){this.source=t,this.isUserInput=i}},q0=(()=>{class e{_element=j(pi);_changeDetectorRef=j(An);_parent=j(U4,{optional:!0});group=j(G4,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=j(oo).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new et;_text;_stateChanges=new Yt;constructor(){let i=j(Xr);i.load(Qa),i.load(Qd),this._signalDisableRipple=!!this._parent&&Ug(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!xs(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new H4(this,i))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&ln(jRe,7),n&2){let o;ui(o=hi())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&Ot("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(gl("id",r.id),Mi("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),yi("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Xe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:YRe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(In(qRe),Xt(0,$Re,1,2,"mat-pseudo-checkbox",1),Ui(1),Se(2,"span",2,0),Ui(4,1),Pe(),Xt(5,XRe,1,1,"mat-pseudo-checkbox",3)(6,KRe,2,1,"span",4),Dt(7,"div",5)),n&2&&(Sn(r.multiple?0:-1),Fe(5),Sn(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),Fe(),Sn(r.group&&r.group._inert?6:-1),Fe(),Ze("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[dZ,iu],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return e})();function uZ(e,t,i){if(i.length){let n=t.toArray(),r=i.toArray(),o=0;for(let s=0;s<e+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}function hZ(e,t,i,n){return e<i?e:e+t>i+n?Math.max(0,e-n+t):i}var W4=(()=>{class e{_listeners=[];notify(i,n){for(let r of this._listeners)r(i,n)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(n=>i!==n)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var X1=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Yt;constructor(t=!1,i,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,i&&i.length&&(t?i.forEach(o=>this._markSelected(o)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...t){this._verifyValueAssignment(t);let i=this.selected,n=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),i.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let i=this._hasQueuedChanges();return t&&this._emitChangeEvent(),i}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,i){if(this.compareWith){i=i??this._selection;for(let n of i)if(this.compareWith(t,n))return n;return t}else return t}};var Cl=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var Y0=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki]})}return e})();var fp=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[Cl,ki,Y0]})}return e})();var ZRe=["trigger"],QRe=["panel"],JRe=[[["mat-select-trigger"]],"*"],eke=["mat-select-trigger","*"];function tke(e,t){if(e&1&&(Se(0,"span",4),Lt(1),Pe()),e&2){let i=lt();Fe(),jn(i.placeholder)}}function ike(e,t){e&1&&Ui(0)}function nke(e,t){if(e&1&&(Se(0,"span",11),Lt(1),Pe()),e&2){let i=lt(2);Fe(),jn(i.triggerValue)}}function rke(e,t){if(e&1&&(Se(0,"span",5),Xt(1,ike,1,0)(2,nke,2,1,"span",11),Pe()),e&2){let i=lt();Fe(),Sn(i.customTrigger?1:2)}}function oke(e,t){if(e&1){let i=tn();Se(0,"div",12,1),Ot("keydown",function(r){Gt(i);let o=lt();return Wt(o._handleKeydown(r))}),Ui(2,1),Pe()}if(e&2){let i=lt();U2("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),yi("mat-select-panel-animations-enabled",!i._animationsDisabled),Ze("ngClass",i.panelClass),Mi("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var j4=new Nt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.reposition()}});function fZ(e){return()=>e.scrollStrategies.reposition()}var pZ=new Nt("MAT_SELECT_CONFIG"),mZ={provide:j4,deps:[Ao],useFactory:fZ},gZ=new Nt("MatSelectTrigger"),XT=class{source;value;constructor(t,i){this.source=t,this.value=i}},K1=(()=>{class e{_viewportRuler=j(Jd);_changeDetectorRef=j(An);_elementRef=j(pi);_dir=j(Ho,{optional:!0});_idGenerator=j(oo);_renderer=j(Ar);_parentFormField=j(j1,{optional:!0});ngControl=j(up,{self:!0,optional:!0});_liveAnnouncer=j(e4);_defaultOptions=j(pZ,{optional:!0});_animationsDisabled=j(br,{optional:!0})==="NoopAnimations";_initialized=new Yt;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(i){let n=this.options.toArray()[i];if(n){let r=this.panel.nativeElement,o=uZ(i,this.options,this.optionGroups),s=n._getHostElement();i===0&&o===1?r.scrollTop=0:r.scrollTop=hZ(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new XT(this,i)}_scrollStrategyFactory=j(j4);_panelOpen=!1;_compareWith=(i,n)=>i===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Yt;_errorStateTracker;stateChanges=new Yt;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(z_.required)??!1}set required(i){this._required=i,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Df(()=>{let i=this.options;return i?i.changes.pipe(Qr(i),bs(()=>es(...i.map(n=>n.onSelectionChange)))):this._initialized.pipe(bs(()=>this.optionSelectionChanges))});openedChange=new et;_openedStream=this.openedChange.pipe(Dr(i=>i),yn(()=>{}));_closedStream=this.openedChange.pipe(Dr(i=>!i),yn(()=>{}));selectionChange=new et;valueChange=new et;constructor(){let i=j(Km),n=j(G0,{optional:!0}),r=j(U1,{optional:!0}),o=j(new Fd("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new U_(i,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new X1(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(kn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(kn(this._destroy)).subscribe(i=>{i.added.forEach(n=>n.select()),i.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Qr(null),kn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),n=this.ngControl;if(i!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?r.setAttribute("aria-labelledby",i):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(ts(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let n=`${this.id}-panel`;this._trackedModal&&yT(this._trackedModal,"aria-owns",n),d4(i,"aria-owns",n),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;yT(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let i=this.panel.nativeElement,n=this._renderer.listen(i,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);i.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let n=i.keyCode,r=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!xs(i)||(this.multiple||i.altKey)&&r)i.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(i);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(i){let n=this._keyManager,r=i.keyCode,o=r===40||r===38,s=n.isTyping();if(o&&i.altKey)i.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&n.activeItem&&!xs(i))i.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&i.ctrlKey){i.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=n.activeItemIndex;n.onKeydown(i),this._multiple&&o&&i.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(i){i.keyCode===27&&!xs(i)&&(i.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(i);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,i)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_skipPredicate=i=>this.panelOpen?!1:i.disabled;_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof I_?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new T1(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=es(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(kn(i)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),es(...this.options.map(n=>n._stateChanges)).pipe(kn(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,n){let r=this._selectionModel.isSelected(i);!this.canSelectNullableOptions&&i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(r!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),n&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,i):i.indexOf(n)-i.indexOf(r)),this.stateChanges.next()}}_propagateChanges(i){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:i,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){i=n;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId()||null,n=i?i+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i||(i=this._valueId),i}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(n&1&&(zn(o,gZ,5),zn(o,q0,5),zn(o,G4,5)),n&2){let s;ui(s=hi())&&(r.customTrigger=s.first),ui(s=hi())&&(r.options=s),ui(s=hi())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(n&1&&(ln(ZRe,5),ln(QRe,5),ln(hT,5)),n&2){let o;ui(o=hi())&&(r.trigger=o.first),ui(o=hi())&&(r.panel=o.first),ui(o=hi())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){n&1&&Ot("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Mi("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),yi("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Xe],disableRipple:[2,"disableRipple","disableRipple",Xe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Ys(i)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Xe],placeholder:"placeholder",required:[2,"required","required",Xe],multiple:[2,"multiple","multiple",Xe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Xe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ys],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Xe]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Mn([{provide:W1,useExisting:e},{provide:U4,useExisting:e}]),Gn],ngContentSelectors:eke,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let o=tn();In(JRe),Se(0,"div",2,0),Ot("click",function(){return Gt(o),Wt(r.open())}),Se(3,"div",3),Xt(4,tke,2,1,"span",4)(5,rke,3,1,"span",5),Pe(),Se(6,"div",6)(7,"div",7),Fr(),Se(8,"svg",8),Dt(9,"path",9),Pe()()()(),Xt(10,oke,3,10,"ng-template",10),Ot("detach",function(){return Gt(o),Wt(r.close())})("backdropClick",function(){return Gt(o),Wt(r.close())})("overlayKeydown",function(a){return Gt(o),Wt(r._handleOverlayKeydown(a))})}if(n&2){let o=Aa(1);Fe(3),Mi("id",r._valueId),Fe(),Sn(r.empty?4:5),Fe(6),Ze("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[I_,hT,nc],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return e})();var Z1=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[mZ],imports:[wl,fp,ki,Za,hp,fp,ki]})}return e})();var ake={capture:!0},lke=["focus","mousedown","mouseenter","touchstart"],q4="mat-ripple-loader-uninitialized",Y4="mat-ripple-loader-class-name",vZ="mat-ripple-loader-centered",KT="mat-ripple-loader-disabled",bZ=(()=>{class e{_document=j(Qi);_animationMode=j(br,{optional:!0});_globalRippleOptions=j($1,{optional:!0});_platform=j(ir);_ngZone=j(Si);_injector=j(Bn);_eventCleanups;_hosts=new Map;constructor(){let i=j(Ns).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>lke.map(n=>ro(i,this._document,n,this._onInteraction,ake)))}ngOnDestroy(){let i=this._hosts.keys();for(let n of i)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(i,n){i.setAttribute(q4,this._globalRippleOptions?.namespace??""),(n.className||!i.hasAttribute(Y4))&&i.setAttribute(Y4,n.className||""),n.centered&&i.setAttribute(vZ,""),n.disabled&&i.setAttribute(KT,"")}setDisabled(i,n){let r=this._hosts.get(i);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(i))):n?i.setAttribute(KT,""):i.removeAttribute(KT)}_onInteraction=i=>{let n=ga(i);if(n instanceof HTMLElement){let r=n.closest(`[${q4}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(i){if(!this._document||this._hosts.has(i))return;i.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",i.getAttribute(Y4)),i.append(n);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??Y1.enterDuration,a=r?0:o?.animation?.exitDuration??Y1.exitDuration,l={rippleDisabled:r||o?.disabled||i.hasAttribute(KT),rippleConfig:{centered:i.hasAttribute(vZ),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new j0(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(i),this._hosts.set(i,{target:l,renderer:c,hasSetUpEvents:d}),i.removeAttribute(q4)}destroyRipple(i){let n=this._hosts.get(i);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(i))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cke=["mat-icon-button",""],dke=["*"];var uke=new Nt("MAT_BUTTON_CONFIG");var hke=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],$4=(()=>{class e{_elementRef=j(pi);_ngZone=j(Si);_animationMode=j(br,{optional:!0});_focusMonitor=j(ka);_rippleLoader=j(bZ);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){j(Xr).load(Qa);let i=j(uke,{optional:!0}),n=this._elementRef.nativeElement,r=n.classList;this.disabledInteractive=i?.disabledInteractive??!1,this.color=i?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of hke)n.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Xe],disabled:[2,"disabled","disabled",Xe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Xe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]}})}return e})();var G_=(()=>{class e extends $4{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Mi("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),pr(r.color?"mat-"+r.color:""),yi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Wn],attrs:cke,ngContentSelectors:dke,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(In(),Dt(0,"span",0),Ui(1),Dt(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return e})();var fke=["mat-button",""],pke=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],mke=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Q1=(()=>{class e extends $4{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Mi("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),pr(r.color?"mat-"+r.color:""),yi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Wn],attrs:fke,ngContentSelectors:mke,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(In(pke),Dt(0,"span",0),Ui(1),Se(2,"span",1),Ui(3,1),Pe(),Ui(4,2),Dt(5,"span",2)(6,"span",3)),n&2&&yi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return e})();var Zm=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,Cl,ki]})}return e})();var vke=(()=>{class e{constructor(){this.vcr=j(Bo)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ti({type:e,selectors:[["ag-component-container"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return e})(),wZ=16,X4=0;function bke(e){let t=new Map;for(let i=0;i<wZ;i++){let n=e.createComponent(vke);t.set(i,n),Sc(n.location.nativeElement)}return t}var _ke=new Set(["doesFilterPass","isFilterActive"]),_Z=(()=>{class e extends gj{setViewContainerRef(i,n){this.viewContainerRef=i,this.angularFrameworkOverrides=n}createWrapper(i){let n=this.angularFrameworkOverrides,r=this;r.compShards??=bke(this.viewContainerRef);class o extends K4{init(l){n.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.createComponent(i)}hasMethod(l){return s.getFrameworkComponentInstance()[l]!=null}callMethod(l,c){let d=this.getFrameworkComponentInstance(),u=d[l];return _ke.has(l)?u.apply(d,c):n.runInsideAngular(()=>u.apply(d,c))}addMethod(l,c){s[l]=c}}let s=new o;return s}createComponent(i){return X4=(X4+1)%wZ,this.compShards.get(X4).instance.vcr.createComponent(i)}static{this.\u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})()}static{this.\u0275prov=zt({token:e,factory:e.\u0275fac})}}return e})(),K4=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Sc(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef?.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},ZT=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t,i){let{frameworkOverrides:n,wrappedListeners:r}=this,o=i;if(n.shouldWrapOutgoing){o=a=>{n.wrapOutgoing(()=>i(a))};let s=r.get(t);s||(s=new Map,r.set(t,s)),s.set(i,o)}return o}wrapGlobal(t){let{frameworkOverrides:i,wrappedGlobalListeners:n}=this,r=t;return i.shouldWrapOutgoing&&(r=(o,s)=>{i.wrapOutgoing(()=>t(o,s))},n.set(t,r)),r}unwrap(t,i){let{wrappedListeners:n}=this,r=n.get(t);if(r){let o=r.get(i);if(o)return r.delete(i),r.size===0&&n.delete(t),o}return i}unwrapGlobal(t){let{wrappedGlobalListeners:i}=this,n=i.get(t);return n?(i.delete(t),n):t}},yZ=(()=>{class e extends lO{constructor(i){super("angular"),this._ngZone=i,this.batchFrameworkComps=!0,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,r)=>this.runOutside(n,r),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(n,r)=>r==="resize-observer"||r==="popupPositioning"?this._ngZone.runOutsideAngular(n):n():this.runOutside=n=>this._ngZone.runOutsideAngular(n):this.runOutside=n=>n()}get shouldWrapOutgoing(){return this._ngZone&&Si.isInAngularZone()}createLocalEventListenerWrapper(i,n){if(this.shouldWrapOutgoing)return i??(n.setFrameworkOverrides(this),new ZT(this))}createGlobalEventListenerWrapper(){return new ZT(this)}isFrameworkComponent(i){if(!i)return!1;let n=i.prototype;return n&&"agInit"in n}runInsideAngular(i){return!this._ngZone||Si.isInAngularZone()?i():this._ngZone.run(i)}runOutsideAngular(i,n){return this.runOutside(i,n)}static{this.\u0275fac=function(n){return new(n||e)(ji(Si))}}static{this.\u0275prov=zt({token:e,factory:e.\u0275fac})}}return e})(),QT=(()=>{class e{constructor(i,n,r,o){this._viewContainerRef=n,this._angularFrameworkOverrides=r,this._frameworkCompWrapper=o,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(s=>{this._resolveFullyReady=s}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.hidePaddedHeaderRows=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.animateColumnResizing=void 0,this.components=void 0,this.editType=void 0,this.suppressStartEditOnTab=void 0,this.getFullRowEditValidationErrors=void 0,this.invalidEditValueMode=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.findSearchValue=void 0,this.findOptions=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.advancedFilterParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableFilterHandlers=void 0,this.filterHandlers=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.suppressOverlays=void 0,this.overlayComponent=void 0,this.overlayComponentParams=void 0,this.overlayComponentSelector=void 0,this.activeOverlay=void 0,this.activeOverlayParams=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.formulaDataSource=void 0,this.formulaFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.refreshAfterGroupEdit=void 0,this.rowDragInsertDelay=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.treeDataParentIdField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.groupHierarchyConfig=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.enableRowPinning=void 0,this.isRowPinnable=void 0,this.isRowPinned=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.styleNonce=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.ssrmExpandAllAffectsAllRows=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.isRowValidDropPosition=void 0,this.toolPanelVisibleChanged=new et,this.toolPanelSizeChanged=new et,this.columnMenuVisibleChanged=new et,this.contextMenuVisibleChanged=new et,this.cutStart=new et,this.cutEnd=new et,this.pasteStart=new et,this.pasteEnd=new et,this.columnVisible=new et,this.columnPinned=new et,this.columnResized=new et,this.columnMoved=new et,this.columnValueChanged=new et,this.columnPivotModeChanged=new et,this.columnPivotChanged=new et,this.columnGroupOpened=new et,this.newColumnsLoaded=new et,this.gridColumnsChanged=new et,this.displayedColumnsChanged=new et,this.virtualColumnsChanged=new et,this.columnEverythingChanged=new et,this.columnsReset=new et,this.columnHeaderMouseOver=new et,this.columnHeaderMouseLeave=new et,this.columnHeaderClicked=new et,this.columnHeaderContextMenu=new et,this.componentStateChanged=new et,this.cellValueChanged=new et,this.cellEditRequest=new et,this.rowValueChanged=new et,this.cellEditingStarted=new et,this.cellEditingStopped=new et,this.rowEditingStarted=new et,this.rowEditingStopped=new et,this.bulkEditingStarted=new et,this.bulkEditingStopped=new et,this.batchEditingStarted=new et,this.batchEditingStopped=new et,this.undoStarted=new et,this.undoEnded=new et,this.redoStarted=new et,this.redoEnded=new et,this.cellSelectionDeleteStart=new et,this.cellSelectionDeleteEnd=new et,this.rangeDeleteStart=new et,this.rangeDeleteEnd=new et,this.fillStart=new et,this.fillEnd=new et,this.filterOpened=new et,this.filterChanged=new et,this.filterModified=new et,this.filterUiChanged=new et,this.floatingFilterUiChanged=new et,this.advancedFilterBuilderVisibleChanged=new et,this.findChanged=new et,this.chartCreated=new et,this.chartRangeSelectionChanged=new et,this.chartOptionsChanged=new et,this.chartDestroyed=new et,this.cellKeyDown=new et,this.gridReady=new et,this.firstDataRendered=new et,this.gridSizeChanged=new et,this.modelUpdated=new et,this.virtualRowRemoved=new et,this.viewportChanged=new et,this.bodyScroll=new et,this.bodyScrollEnd=new et,this.dragStarted=new et,this.dragStopped=new et,this.dragCancelled=new et,this.stateUpdated=new et,this.paginationChanged=new et,this.rowDragEnter=new et,this.rowDragMove=new et,this.rowDragLeave=new et,this.rowDragEnd=new et,this.rowDragCancel=new et,this.rowResizeStarted=new et,this.rowResizeEnded=new et,this.columnRowGroupChanged=new et,this.rowGroupOpened=new et,this.expandOrCollapseAll=new et,this.pivotMaxColumnsExceeded=new et,this.pinnedRowDataChanged=new et,this.pinnedRowsChanged=new et,this.rowDataUpdated=new et,this.asyncTransactionsFlushed=new et,this.storeRefreshed=new et,this.headerFocused=new et,this.cellClicked=new et,this.cellDoubleClicked=new et,this.cellFocused=new et,this.cellMouseOver=new et,this.cellMouseOut=new et,this.cellMouseDown=new et,this.rowClicked=new et,this.rowDoubleClicked=new et,this.rowSelected=new et,this.selectionChanged=new et,this.cellContextMenu=new et,this.rangeSelectionChanged=new et,this.cellSelectionChanged=new et,this.tooltipShow=new et,this.tooltipHide=new et,this.sortChanged=new et,this._nativeElement=i.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let i=Object.keys(this).filter(a=>!(a.startsWith("_")||a=="gridOptions"||a=="modules"||this[a]instanceof et)),n={};for(let a of i){let l=wke(a,this[a]);n[a]=l}let r=_9(this.gridOptions,n,i),o={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},s=mj(this._nativeElement,r,o);s&&(this.api=s),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(i){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let n={};for(let r of Object.keys(i)){let o=i[r];n[r]=o.currentValue}y9(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){let r=this[i],o=r?.observed??r?.observers?.length>0,s=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[s];return o||a}globalListener(i,n){if(this._destroyed)return;let r=this[i];if(r&&this.isEmitterUsed(i)){let o=()=>this._angularFrameworkOverrides.runInsideAngular(()=>r.emit(n));this._holdEvents?this._fullyReady.then(()=>o()):o()}}static{this.\u0275fac=function(n){return new(n||e)(ri(pi),ri(Bo),ri(yZ),ri(_Z))}}static{this.\u0275cmp=ti({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",Xe],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",Xe],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",Xe],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",Xe],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",Xe],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",Xe],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",Xe],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",Xe],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",Xe],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",Xe],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",Xe],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",Xe],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",Xe],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",Xe],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",Xe],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",Xe],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",Xe],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",Xe],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",hidePaddedHeaderRows:[2,"hidePaddedHeaderRows","hidePaddedHeaderRows",Xe],allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",Xe],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",Xe],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",Xe],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",Xe],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",Xe],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",Xe],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",Xe],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",Xe],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",Xe],autoSizeStrategy:"autoSizeStrategy",animateColumnResizing:[2,"animateColumnResizing","animateColumnResizing",Xe],components:"components",editType:"editType",suppressStartEditOnTab:[2,"suppressStartEditOnTab","suppressStartEditOnTab",Xe],getFullRowEditValidationErrors:"getFullRowEditValidationErrors",invalidEditValueMode:"invalidEditValueMode",singleClickEdit:[2,"singleClickEdit","singleClickEdit",Xe],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",Xe],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",Xe],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",Xe],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",Xe],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",Xe],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",Xe],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",Xe],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",Xe],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",Xe],excelStyles:"excelStyles",findSearchValue:"findSearchValue",findOptions:"findOptions",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",Xe],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",Xe],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",Xe],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",Xe],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",Xe],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",Xe],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",advancedFilterParams:"advancedFilterParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",Xe],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",Xe],enableFilterHandlers:[2,"enableFilterHandlers","enableFilterHandlers",Xe],filterHandlers:"filterHandlers",enableCharts:[2,"enableCharts","enableCharts",Xe],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",Xe],keepDetailRows:[2,"keepDetailRows","keepDetailRows",Xe],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",Xe],context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",Xe],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",Xe],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",Xe],suppressTouch:[2,"suppressTouch","suppressTouch",Xe],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",Xe],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",Xe],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",Xe],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",Xe],debug:[2,"debug","debug",Xe],loading:[2,"loading","loading",Xe],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",Xe],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",Xe],suppressOverlays:"suppressOverlays",overlayComponent:"overlayComponent",overlayComponentParams:"overlayComponentParams",overlayComponentSelector:"overlayComponentSelector",activeOverlay:"activeOverlay",activeOverlayParams:"activeOverlayParams",pagination:[2,"pagination","pagination",Xe],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",Xe],paginateChildRows:[2,"paginateChildRows","paginateChildRows",Xe],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",Xe],pivotMode:[2,"pivotMode","pivotMode",Xe],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",Xe],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",Xe],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",Xe],aggFuncs:"aggFuncs",formulaDataSource:"formulaDataSource",formulaFuncs:"formulaFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",Xe],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",Xe],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",Xe],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",Xe],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",Xe],animateRows:[2,"animateRows","animateRows",Xe],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",Xe],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",Xe],enableCellSpan:[2,"enableCellSpan","enableCellSpan",Xe],enableRtl:[2,"enableRtl","enableRtl",Xe],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",Xe],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",Xe],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",Xe],rowDragManaged:[2,"rowDragManaged","rowDragManaged",Xe],refreshAfterGroupEdit:[2,"refreshAfterGroupEdit","refreshAfterGroupEdit",Xe],rowDragInsertDelay:"rowDragInsertDelay",suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",Xe],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",Xe],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",Xe],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",Xe],rowDragText:"rowDragText",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",Xe],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",Xe],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",Xe],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",Xe],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",Xe],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",Xe],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",Xe],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",Xe],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",Xe],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",Xe],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",Xe],treeDataChildrenField:"treeDataChildrenField",treeDataParentIdField:"treeDataParentIdField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",Xe],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",Xe],groupHierarchyConfig:"groupHierarchyConfig",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",enableRowPinning:"enableRowPinning",isRowPinnable:"isRowPinnable",isRowPinned:"isRowPinned",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",Xe],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",Xe],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",Xe],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",Xe],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",Xe],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",Xe],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",Xe],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",Xe],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",Xe],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",Xe],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",Xe],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",Xe],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",Xe],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",Xe],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",Xe],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",Xe],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",Xe],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",Xe],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",Xe],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",Xe],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",Xe],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",Xe],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",Xe],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",Xe],enableFillHandle:[2,"enableFillHandle","enableFillHandle",Xe],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",Xe],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",Xe],unSortIcon:[2,"unSortIcon","unSortIcon",Xe],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",Xe],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",Xe],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",Xe],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",Xe],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",Xe],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",Xe],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",Xe],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",Xe],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",Xe],themeCssLayer:"themeCssLayer",styleNonce:"styleNonce",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",ssrmExpandAllAffectsAllRows:[2,"ssrmExpandAllAffectsAllRows","ssrmExpandAllAffectsAllRows",Xe],initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",Xe],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow",isRowValidDropPosition:"isRowValidDropPosition"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnsReset:"columnsReset",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",bulkEditingStarted:"bulkEditingStarted",bulkEditingStopped:"bulkEditingStopped",batchEditingStarted:"batchEditingStarted",batchEditingStopped:"batchEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",filterUiChanged:"filterUiChanged",floatingFilterUiChanged:"floatingFilterUiChanged",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",findChanged:"findChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",rowResizeStarted:"rowResizeStarted",rowResizeEnded:"rowResizeEnded",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",pinnedRowsChanged:"pinnedRowsChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[Mn([yZ,_Z]),Gn],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return e})(),yke=new Set(dO);function wke(e,t){return yke.has(e)?t===""?!0:t==="false"?!1:t:t}var xke=["AddModal"];function Ske(e,t){if(e&1){let i=tn();Se(0,"div",13)(1,"div",14)(2,"h4")(3,"span"),Fr(),Se(4,"svg",15)(5,"g",16)(6,"g",17),Dt(7,"path",18)(8,"path",19),Pe()()(),Lt(9," \xA0ADD MASTER "),Pe(),Ta(),Se(10,"span",7),Lt(11),Pe(),Se(12,"button",20)(13,"span",21),Lt(14,"\xD7"),Pe()()()(),Se(15,"mat-dialog-content",22)(16,"div")(17,"div",2)(18,"div",23)(19,"mat-form-field",24)(20,"mat-label"),Lt(21,"Name"),Pe(),Se(22,"input",25),pa("ngModelChange",function(r){Gt(i);let o=lt();return fa(o.name_val,r)||(o.name_val=r),Wt(r)}),Pe()()(),Se(23,"div",23)(24,"mat-form-field",26)(25,"mat-label"),Lt(26,"Address"),Pe(),Se(27,"input",25),pa("ngModelChange",function(r){Gt(i);let o=lt();return fa(o.name_add,r)||(o.name_add=r),Wt(r)}),Pe()()(),Se(28,"div",23)(29,"mat-form-field",24)(30,"mat-label"),Lt(31,"Contact"),Pe(),Se(32,"input",27),pa("ngModelChange",function(r){Gt(i);let o=lt();return fa(o.name_con,r)||(o.name_con=r),Wt(r)}),Ot("keypress",function(r){Gt(i);let o=lt();return Wt(o.allowNumbers(r))}),Pe()()()(),Se(33,"div",28)(34,"button",29),Ot("click",function(){Gt(i);let r=lt();return Wt(r.setAddData())}),Lt(35),Pe(),Se(36,"button",30),Ot("click",function(){Gt(i);let r=lt();return Wt(r.Reset_pop())}),Lt(37,"Reset"),Pe()()()()()}if(e&2){let i=lt();Fe(11),wr("MODE\xA0:\xA0",i.isEditMode?"EDIT":"ADD",""),Fe(),Ze("mat-dialog-close",!0),Fe(10),ha("ngModel",i.name_val),Fe(5),ha("ngModel",i.name_add),Fe(5),ha("ngModel",i.name_con),Fe(3),jn(i.isEditMode?"Update":"Save")}}var Mke=aD.withParams({accentColor:"#087AD1",backgroundColor:"#FFFFFF",borderColor:"#D7E2E6",borderRadius:2,browserColorScheme:"light",cellHorizontalPaddingScale:.7,chromeBackgroundColor:{ref:"backgroundColor"},columnBorder:!0,fontSize:13,foregroundColor:"#555B62",headerBackgroundColor:"#fff",headerFontSize:13,headerFontWeight:500,headerTextColor:"#000",rowBorder:!0,rowVerticalPaddingScale:.8,sidePanelBorder:!0,spacing:6,wrapperBorder:!0,wrapperBorderRadius:2}),JT=class e{constructor(t,i,n,r){this.notify=t;this.dialog=i;this.get_data=n;this.imgGallery=r}name_val="";name_add="";urls=[];pagesize=10;name_con="";totalRecordCount=0;searchGridOptions;gridH=500;isEditMode=!1;editId=null;searchGridColumnDefs;gridApi;editpopup;noRowsTemplate='<div class="gridNoData mt-5"><img  style="margin-top:10px;height:calc(100vh - 460px)" src="assets/images/no-data.svg" class="grid_image_admin img-fluid" max-width="200px" alt=""><h5 class="tag_heading txt_grid_no mt-2" >No Data List Ceated Yet! </h5></div>';noRowsTemplate_filter='<div class="gridNoData mt-5"><img  style="margin-top:10px;height:calc(100vh - 460px)" src="assets/images/no-data.svg" class="grid_image_admin img-fluid" max-width="200px" alt=""><h5 class="tag_heading txt_grid_no mt-2" >No Data List Found With This Name! </h5></div>';loadingTemplate='<div class="gridNoData mt-5 mx-auto"><div class="icon_loader"></div><h5 class="tag_heading txt_grid_no mt-2" ></h5></div>';dateClass=(t,i)=>{if(i==="month"){let n=t.getDate();return n===1||n===20?"example-custom-date-class":""}return""};onResize(){this.ResizeHC()}screenH;ResizeHC(){let t=window.innerHeight,i=document.getElementById("header_main"),n=document.getElementById("grid_head"),r=i?i.clientHeight:0,o=n?n.clientHeight:0,s=window.innerWidth;if(s<768){let a=t-(r+o+45);this.gridH=a}else if(s>768&&s<1500){let a=t-(r+o+130);this.gridH=a}else{let a=t-(r+o+130);this.gridH=a}}ngOnInit(){this.initializeGrid()}image_gallery(t,i){let n=[],r=0;t.map(o=>o).filter(function(o){(o.toLowerCase().indexOf(".jpg")!=-1||o.toLowerCase().indexOf(".jpeg")!=-1||o.toLowerCase().indexOf(".png")!=-1||o.toLowerCase().indexOf(".svg")!=-1||o.toLowerCase().indexOf(".jfif")!=-1||o.toLowerCase().indexOf(".gif")!=-1)==!0&&(++r,n.push({id:r,name:"wwwroot/uploads/MOM/"+o}))}),this.imgGallery.ShowGallery(n,i),console.log(n,i)}downloadAttachment(t){var i=document.createElement("a");i.setAttribute("id","formTemplateDownload"),i.href=t,i.target="_blank",i.download=t.ORIGNALFILENAME,i.click(),window.URL.revokeObjectURL(t.href)}OpenEditPopup(t){this.isEditMode=!0,this.editId=t.id,this.name_val=t.name,this.name_add=t.address,this.name_con=t.contact,this.dialog.open(this.editpopup,{panelClass:["mat_pop","code_master"],minWidth:"400px",maxWidth:"400px",maxHeight:"92vh",disableClose:!0})}OpenAddPopup(){this.dialog.open(this.editpopup,{panelClass:["mat_pop","code_master"],minWidth:"400px",maxWidth:"400px",maxHeight:"92vh",disableClose:!0})}Reset_pop(){}setAddData(){if(this.name_val==""){this.notify.showError("Please Enter Name");return}else if(this.name_add==""){this.notify.showError("Please Enter Address");return}else if(this.name_con==""){this.notify.showError("Please Enter Contact");return}let t={name:this.name_val,address:this.name_add,contact:this.name_con};this.isEditMode&&this.editId?this.get_data.update_data(this.editId,t).subscribe(i=>{i.statusCode==200?this.notify.showSuccess(i.message):this.notify.showError(i.message),this.loadZipmasterData(),this.dialog.closeAll()}):this.get_data.post_data(t).subscribe(i=>{i.statusCode==200?this.notify.showSuccess(i.message):this.notify.showError(i.message),this.loadZipmasterData(),this.dialog.closeAll()})}clearForm(){this.name_val="",this.name_add="",this.name_con="",this.editId=null}initializeGrid(){this.setColumnDef(),this.searchGridOptions={theme:Mke,suppressDragLeaveHidesColumns:!0,rowSelection:"multiple",pagination:!0,paginationPageSize:10},this.searchGridOptions.columnDefs=this.searchGridColumnDefs,this.searchGridOptions.pagination=!0,this.searchGridOptions.rowData=[],this.searchGridOptions.rowSelection="multiple",this.searchGridOptions.onGridSizeChanged=this.onGridResize,this.searchGridOptions.overlayLoadingTemplate=this.loadingTemplate,this.searchGridOptions.rowHeight=35,this.searchGridOptions.headerHeight=35,this.searchGridOptions.floatingFiltersHeight=35}griddata=[];loadZipmasterData(){debugger;this.gridApi.showLoadingOverlay(),this.get_data.get_data().subscribe(t=>{this.griddata=t.data,this.gridApi&&(this.gridApi.setGridOption("rowData",this.griddata),this.griddata.length===0?(this.gridApi.setGridOption("overlayNoRowsTemplate",this.noRowsTemplate),this.gridApi.showNoRowsOverlay()):this.gridApi.hideOverlay())})}onPageSizeChanged(t){var i=t;t=="-1"&&(i=this.griddata.length),this.gridApi.setGridOption("paginationPageSize",i)}ngAfterViewInit(){setTimeout(()=>{this.onResize(),this.searchGridOptions.api?.paginationSetPageSize(10)},1200)}exportToExcel(){this.gridApi.exportDataAsExcel({fileName:"students.xlsx"})}onFilterChanged(t){document.getElementById("removefill_btn")!=null&&(this.gridApi.isAnyFilterPresent()?document.getElementById("removefill_btn").style.display="block":document.getElementById("removefill_btn").style.display="none"),this.gridApi.getDisplayedRowCount()===0?(this.gridApi.setGridOption("overlayNoRowsTemplate",this.noRowsTemplate_filter),this.gridApi.showNoRowsOverlay()):this.gridApi.hideOverlay()}customComparator=(t,i)=>t.toLowerCase().localeCompare(i.toLowerCase());setColumnDef(){this.searchGridColumnDefs=[{headerName:"",field:"select",maxWidth:50,pinned:"left",lockPinned:!0,suppressMenu:!0,suppressSorting:!0,checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,filter:!0,floatingFilter:!0,floatingFilterComponent:Eb,floatingFilterComponentParams:{suppressFilterButton:!0}},{headerName:"Name",field:"name",filter:!0,suppressMenu:!0,floatingFilter:!0,floatingFilterComponentParams:{suppressFilterButton:!0}},{headerName:"Address",field:"address",filter:"agNumberColumnFilter",floatingFilter:!0,suppressMenu:!0,floatingFilterComponentParams:{suppressFilterButton:!0}},{headerName:"Contact",field:"contact",maxWidth:120,filter:"agNumberColumnFilter",floatingFilter:!0,suppressMenu:!0,floatingFilterComponentParams:{suppressFilterButton:!0}},{headerName:"Image",field:"",maxWidth:120,floatingFilter:!0,suppressMenu:!0,floatingFilterComponentParams:{suppressFilterButton:!0}},{headerName:"Action",field:"address",filter:!1,maxWidth:90,suppressMenu:!0,suppressFilter:!0,cellRenderer:t=>'<span"> <span class="icon_add" title="Click to Edit" actionType="edit"></span> <span title="Click to Delete" class="icon_delete" actionType="delete"></span><span>',headerClass:"header-align-center"}]}allowNumbers(t){let i=t.key;/^[0-9]$/.test(i)||t.preventDefault()}onGridScroll(){document.getElementById("removefill_btn")!=null&&(this.gridApi.isAnyFilterPresent()?document.getElementById("removefill_btn").style.display="block":document.getElementById("removefill_btn").style.display="none")}sortChanged(t){this.searchGridOptions.api.redrawRows()}fit_grid(){setTimeout(()=>{this.searchGridOptions.api.sizeColumnsToFit()},1200)}onRowDataUpdated(t){setTimeout(()=>{t.api.sizeColumnsToFit()},10)}onGridResize(t){t.api.sizeColumnsToFit()}onGridReady(t){this.gridApi=t.api,t.api.sizeColumnsToFit(),this.loadZipmasterData()}itemRowClicked(t){let i=t.event.target;if(!i)return;let n=i.getAttribute("actionType");if(t.event.target!==void 0&&n!=null){let r=t.data;String(t.event.target.getAttribute("actionType"))=="edit"?this.OpenEditPopup(t.data):String(t.event.target.getAttribute("actionType"))=="delete"?this.Delete():t.event.target!=null&&t.event.target.getAttribute("actionType")!=null&&t.event.target.getAttribute("actionType")=="ImageClicked"}}Add(){this.isEditMode=!1,this.clearForm(),this.OpenAddPopup()}Update(){}Delete(){if(this.gridApi.getSelectedRows().length==0){this.notify.showError("Please select atleast one record");return}let t=this.gridApi.getSelectedRows().map(i=>i.id);this.get_data.delete_data(t.join(",")).subscribe(i=>{i.statusCode==200?(this.notify.showSuccess(i.message),this.loadZipmasterData()):(this.notify.showError(i.message),this.loadZipmasterData())})}Reset(){}exportToPdf(){let t=new xn("p","mm","a4");W$(t,{head:[["ID","Name","Address","Contact"]],body:this.griddata.map(i=>[i.id,i.name,i.address,i.contact])}),t.save("students.pdf")}static \u0275fac=function(i){return new(i||e)(ri(Gm),ri(kc),ri(CT),ri(Ym))};static \u0275cmp=ti({type:e,selectors:[["app-ag-grid"]],viewQuery:function(i,n){if(i&1&&ln(xke,7),i&2){let r;ui(r=hi())&&(n.editpopup=r.first)}},hostBindings:function(i,n){i&1&&Ot("resize",function(o){return n.onResize(o)},!1,am)},standalone:!1,decls:30,vars:13,consts:[["AddModal",""],[1,"page_container",2,"overflow","hidden"],[1,"row"],[1,"col-6"],["subscriptSizing","dynamic",1,"pagination_drop","mb-2"],["name","nm_pagesizefrt","tabindex","18",3,"ngModelChange","ngModel"],[3,"value"],[1,"float-end"],["mat-stroked-button","",1,"my-button",3,"click"],["mat-stroked-button","",1,"my-button","ms-2",3,"click"],[1,"icon_export"],[1,"ms-4"],["id","searchGrid","lass","ag-theme-quartz",3,"gridReady","rowClicked","bodyScroll","sortChanged","filterChanged","rowDataUpdated","gridOptions"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container"],["cdkDragHandle","",1,"mat-header","justify-content-between"],["width","40","height","40","viewBox","0 -18 117 117","version","1.1"],["fill","none","fill-rule","evenodd","id","Page-1","stroke","none","stroke-width","1"],["fill-rule","nonzero","id","credit-card"],["d","M24.7,51.1 L38.2,51.1 C40.5,51.1 42.3,49.3 42.3,47 C42.3,44.7 40.5,43 38.2,43 L24.7,43 C22.4,43 20.6,44.8 20.6,47.1 C20.6,49.4 22.5,51.1 24.7,51.1 Z","fill","#17AB13","id","Shape"],["d","M112.5,0 L4.6,0 C2.3,0 0.5,1.8 0.5,4.1 L0.5,29.6 C0.4,29.9 0.4,30.2 0.4,30.5 C0.4,30.8 0.4,31.1 0.5,31.4 L0.5,76.8 C0.5,79.1 2.3,80.9 4.6,80.9 L112.5,80.9 C114.8,80.9 116.6,79.1 116.6,76.8 L116.6,4.1 C116.6,1.9 114.8,-7.10542736e-15 112.5,0 Z M108.4,72.8 L8.7,72.8 L8.7,34.6 L108.4,34.6 L108.4,72.8 Z M108.4,26.5 L8.7,26.5 L8.7,8.2 L108.4,8.2 L108.4,26.5 Z","fill","#4A4A4A","id","Shape"],["type","button","aria-label","Close",1,"close","pull-right",3,"mat-dialog-close"],["aria-hidden","true"],[1,"mat-body"],[1,"col-12"],[1,"example-full-width"],["matInput","","value","",3,"ngModelChange","ngModel"],[1,"input_matview","example-full-width"],["matInput","","maxlength","10","value","",3,"ngModelChange","keypress","ngModel"],[1,"col-12","text-center"],["mat-stroked-button","","title","Click to Save",1,"my-button",3,"click"],["mat-stroked-button","","title","Click to Reset",1,"ms-2","my-button",3,"click"]],template:function(i,n){if(i&1){let r=tn();Se(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field",4)(4,"mat-select",5),pa("ngModelChange",function(s){return Gt(r),fa(n.pagesize,s)||(n.pagesize=s),Wt(s)}),Ot("ngModelChange",function(s){return Gt(r),Wt(n.onPageSizeChanged(s))}),Se(5,"mat-option",6),Lt(6,"10"),Pe(),Se(7,"mat-option",6),Lt(8,"20"),Pe(),Se(9,"mat-option",6),Lt(10,"50"),Pe(),Se(11,"mat-option",6),Lt(12,"100"),Pe(),Se(13,"mat-option",6),Lt(14,"200"),Pe(),Se(15,"mat-option",6),Lt(16,"500"),Pe(),Se(17,"mat-option",6),Lt(18,"All"),Pe()()()(),Se(19,"div",3)(20,"span",7)(21,"button",8),Ot("click",function(){return Gt(r),Wt(n.Add())}),Lt(22,"Add"),Pe(),Se(23,"button",9),Ot("click",function(){return Gt(r),Wt(n.exportToPdf())}),Dt(24,"span",10),Se(25,"span",11),Lt(26,"Export To Excel"),Pe()()()()(),Se(27,"ag-grid-angular",12),Ot("gridReady",function(s){return Gt(r),Wt(n.onGridReady(s))})("rowClicked",function(s){return Gt(r),Wt(n.itemRowClicked(s))})("bodyScroll",function(){return Gt(r),Wt(n.onGridScroll())})("sortChanged",function(s){return Gt(r),Wt(n.sortChanged(s))})("filterChanged",function(s){return Gt(r),Wt(n.onFilterChanged(s))})("rowDataUpdated",function(s){return Gt(r),Wt(n.onRowDataUpdated(s))}),Pe(),Xt(28,Ske,38,6,"ng-template",null,0,od),Pe()}i&2&&(Vo("height",n.screenH,"px"),Fe(4),ha("ngModel",n.pagesize),Fe(),Ze("value",10),Fe(2),Ze("value",20),Fe(2),Ze("value",50),Fe(2),Ze("value",100),Fe(2),Ze("value",200),Fe(2),Ze("value",500),Fe(2),Ze("value",-1),Fe(10),Vo("height",n.gridH,"px"),Ze("gridOptions",n.searchGridOptions))},dependencies:[rZ,q1,G1,K1,q0,U0,f4,Q1,L_,O_,QT,UT,H_,L4,W0],encapsulation:2})};var eA=class e{constructor(t){this.imgGallery=t}urls=[];image_gallery(t,i){let n=[],r=0;t.map(o=>o).filter(function(o){(o.toLowerCase().indexOf(".jpg")!=-1||o.toLowerCase().indexOf(".jpeg")!=-1||o.toLowerCase().indexOf(".png")!=-1||o.toLowerCase().indexOf(".svg")!=-1||o.toLowerCase().indexOf(".jfif")!=-1||o.toLowerCase().indexOf(".gif")!=-1)==!0&&(++r,n.push({id:r,name:"wwwroot/uploads/MOM/"+o}))}),this.imgGallery.ShowGallery(n,i),console.log(n,i)}static \u0275fac=function(i){return new(i||e)(ri(Ym))};static \u0275cmp=ti({type:e,selectors:[["app-image-viewer"]],standalone:!1,features:[Mn([])],decls:2,vars:0,template:function(i,n){i&1&&(Se(0,"p"),Lt(1,"image-viewer works!"),Pe())},encapsulation:2})};var uR=D7(CZ());var xZ=60,SZ=xZ*60,MZ=SZ*24,Eke=MZ*7,$0=1e3,j_=xZ*$0,Q4=SZ*$0,EZ=MZ*$0,DZ=Eke*$0,X0="millisecond",Qm="second",Uu="minute",Jm="hour",zl="day",nu="week",vd="month",tA="quarter",Hl="year",eg="date",iA="YYYY-MM-DDTHH:mm:ssZ",J4="Invalid Date",TZ=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,AZ=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;var kZ={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var i=["th","st","nd","rd"],n=t%100;return"["+t+(i[(n-20)%10]||i[n]||i[0])+"]"}};var eN=function(t,i,n){var r=String(t);return!r||r.length>=i?t:""+Array(i+1-r.length).join(n)+t},Dke=function(t){var i=-t.utcOffset(),n=Math.abs(i),r=Math.floor(n/60),o=n%60;return(i<=0?"+":"-")+eN(r,2,"0")+":"+eN(o,2,"0")},Tke=function e(t,i){if(t.date()<i.date())return-e(i,t);var n=(i.year()-t.year())*12+(i.month()-t.month()),r=t.clone().add(n,vd),o=i-r<0,s=t.clone().add(n+(o?-1:1),vd);return+(-(n+(i-r)/(o?r-s:s-r))||0)},Ake=function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},Rke=function(t){var i={M:vd,y:Hl,w:nu,d:zl,D:eg,h:Jm,m:Uu,s:Qm,ms:X0,Q:tA};return i[t]||String(t||"").toLowerCase().replace(/s$/,"")},kke=function(t){return t===void 0},IZ={s:eN,z:Dke,m:Tke,a:Ake,p:Rke,u:kke};var J1="en",K0={};K0[J1]=kZ;var PZ="$isDayjsObject",tN=function(t){return t instanceof rA||!!(t&&t[PZ])},nA=function e(t,i,n){var r;if(!t)return J1;if(typeof t=="string"){var o=t.toLowerCase();K0[o]&&(r=o),i&&(K0[o]=i,r=o);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var a=t.name;K0[a]=t,r=a}return!n&&r&&(J1=r),r||!n&&J1},Ja=function(t,i){if(tN(t))return t.clone();var n=typeof i=="object"?i:{};return n.date=t,n.args=arguments,new rA(n)},Ike=function(t,i){return Ja(t,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})},Ro=IZ;Ro.l=nA;Ro.i=tN;Ro.w=Ike;var Pke=function(t){var i=t.date,n=t.utc;if(i===null)return new Date(NaN);if(Ro.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var r=i.match(TZ);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(i)},rA=function(){function e(i){this.$L=nA(i.locale,null,!0),this.parse(i),this.$x=this.$x||i.x||{},this[PZ]=!0}var t=e.prototype;return t.parse=function(n){this.$d=Pke(n),this.init()},t.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},t.$utils=function(){return Ro},t.isValid=function(){return this.$d.toString()!==J4},t.isSame=function(n,r){var o=Ja(n);return this.startOf(r)<=o&&o<=this.endOf(r)},t.isAfter=function(n,r){return Ja(n)<this.startOf(r)},t.isBefore=function(n,r){return this.endOf(r)<Ja(n)},t.$g=function(n,r,o){return Ro.u(n)?this[r]:this.set(o,n)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(n,r){var o=this,s=Ro.u(r)?!0:r,a=Ro.p(n),l=function(g,b){var w=Ro.w(o.$u?Date.UTC(o.$y,b,g):new Date(o.$y,b,g),o);return s?w:w.endOf(zl)},c=function(g,b){var w=[0,0,0,0],x=[23,59,59,999];return Ro.w(o.toDate()[g].apply(o.toDate("s"),(s?w:x).slice(b)),o)},d=this.$W,u=this.$M,h=this.$D,f="set"+(this.$u?"UTC":"");switch(a){case Hl:return s?l(1,0):l(31,11);case vd:return s?l(1,u):l(0,u+1);case nu:{var p=this.$locale().weekStart||0,v=(d<p?d+7:d)-p;return l(s?h-v:h+(6-v),u)}case zl:case eg:return c(f+"Hours",0);case Jm:return c(f+"Minutes",1);case Uu:return c(f+"Seconds",2);case Qm:return c(f+"Milliseconds",3);default:return this.clone()}},t.endOf=function(n){return this.startOf(n,!1)},t.$set=function(n,r){var o,s=Ro.p(n),a="set"+(this.$u?"UTC":""),l=(o={},o[zl]=a+"Date",o[eg]=a+"Date",o[vd]=a+"Month",o[Hl]=a+"FullYear",o[Jm]=a+"Hours",o[Uu]=a+"Minutes",o[Qm]=a+"Seconds",o[X0]=a+"Milliseconds",o)[s],c=s===zl?this.$D+(r-this.$W):r;if(s===vd||s===Hl){var d=this.clone().set(eg,1);d.$d[l](c),d.init(),this.$d=d.set(eg,Math.min(this.$D,d.daysInMonth())).$d}else l&&this.$d[l](c);return this.init(),this},t.set=function(n,r){return this.clone().$set(n,r)},t.get=function(n){return this[Ro.p(n)]()},t.add=function(n,r){var o=this,s;n=Number(n);var a=Ro.p(r),l=function(h){var f=Ja(o);return Ro.w(f.date(f.date()+Math.round(h*n)),o)};if(a===vd)return this.set(vd,this.$M+n);if(a===Hl)return this.set(Hl,this.$y+n);if(a===zl)return l(1);if(a===nu)return l(7);var c=(s={},s[Uu]=j_,s[Jm]=Q4,s[Qm]=$0,s)[a]||1,d=this.$d.getTime()+n*c;return Ro.w(d,this)},t.subtract=function(n,r){return this.add(n*-1,r)},t.format=function(n){var r=this,o=this.$locale();if(!this.isValid())return o.invalidDate||J4;var s=n||iA,a=Ro.z(this),l=this.$H,c=this.$m,d=this.$M,u=o.weekdays,h=o.months,f=o.meridiem,p=function(w,x,R,_){return w&&(w[x]||w(r,s))||R[x].slice(0,_)},v=function(w){return Ro.s(l%12||12,w,"0")},m=f||function(b,w,x){var R=b<12?"AM":"PM";return x?R.toLowerCase():R},g=function(w){switch(w){case"YY":return String(r.$y).slice(-2);case"YYYY":return Ro.s(r.$y,4,"0");case"M":return d+1;case"MM":return Ro.s(d+1,2,"0");case"MMM":return p(o.monthsShort,d,h,3);case"MMMM":return p(h,d);case"D":return r.$D;case"DD":return Ro.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return p(o.weekdaysMin,r.$W,u,2);case"ddd":return p(o.weekdaysShort,r.$W,u,3);case"dddd":return u[r.$W];case"H":return String(l);case"HH":return Ro.s(l,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return m(l,c,!0);case"A":return m(l,c,!1);case"m":return String(c);case"mm":return Ro.s(c,2,"0");case"s":return String(r.$s);case"ss":return Ro.s(r.$s,2,"0");case"SSS":return Ro.s(r.$ms,3,"0");case"Z":return a;default:break}return null};return s.replace(AZ,function(b,w){return w||g(b)||a.replace(":","")})},t.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},t.diff=function(n,r,o){var s=this,a=Ro.p(r),l=Ja(n),c=(l.utcOffset()-this.utcOffset())*j_,d=this-l,u=function(){return Ro.m(s,l)},h;switch(a){case Hl:h=u()/12;break;case vd:h=u();break;case tA:h=u()/3;break;case nu:h=(d-c)/DZ;break;case zl:h=(d-c)/EZ;break;case Jm:h=d/Q4;break;case Uu:h=d/j_;break;case Qm:h=d/$0;break;default:h=d;break}return o?h:Ro.a(h)},t.daysInMonth=function(){return this.endOf(vd).$D},t.$locale=function(){return K0[this.$L]},t.locale=function(n,r){if(!n)return this.$L;var o=this.clone(),s=nA(n,r,!0);return s&&(o.$L=s),o},t.clone=function(){return Ro.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),FZ=rA.prototype;Ja.prototype=FZ;[["$ms",X0],["$s",Qm],["$m",Uu],["$H",Jm],["$W",zl],["$M",vd],["$y",Hl],["$D",eg]].forEach(function(e){FZ[e[1]]=function(t){return this.$g(t,e[0],e[1])}});Ja.extend=function(e,t){return e.$i||(e(t,rA,Ja),e.$i=!0),Ja};Ja.locale=nA;Ja.isDayjs=tN;Ja.unix=function(e){return Ja(e*1e3)};Ja.en=K0[J1];Ja.Ls=K0;Ja.p={};var gr=Ja;var iN=function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(i,n,r){return n||r.slice(1)})},nN={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},oA=function(t,i){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(n,r,o){var s=o&&o.toUpperCase();return r||i[o]||nN[o]||iN(i[s])})};var rN=function(e,t,i){var n=t.prototype,r=function(d){return d&&(d.indexOf?d:d.s)},o=function(d,u,h,f,p){var v=d.name?d:d.$locale(),m=r(v[u]),g=r(v[h]),b=m||g.map(function(x){return x.slice(0,f)});if(!p)return b;var w=v.weekStart;return b.map(function(x,R){return b[(R+(w||0))%7]})},s=function(){return i.Ls[i.locale()]},a=function(d,u){return d.formats[u]||iN(d.formats[u.toUpperCase()])},l=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):o(d,"months")},monthsShort:function(h){return h?h.format("MMM"):o(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return a(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};n.localeData=function(){return l.bind(this)()},i.localeData=function(){var c=s();return{firstDayOfWeek:function(){return c.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(u){return a(c,u)},meridiem:c.meridiem,ordinal:c.ordinal}},i.months=function(){return o(s(),"months")},i.monthsShort=function(){return o(s(),"monthsShort","months",3)},i.weekdays=function(c){return o(s(),"weekdays",null,null,c)},i.weekdaysShort=function(c){return o(s(),"weekdaysShort","weekdays",3,c)},i.weekdaysMin=function(c){return o(s(),"weekdaysMin","weekdays",2,c)}};var OZ=function(e,t,i){var n=t.prototype,r=n.format;i.en.formats=nN,n.format=function(o){o===void 0&&(o=iA);var s=this.$locale(),a=s.formats,l=a===void 0?{}:a,c=oA(o,l);return r.call(this,c)}};var Fke="isoweek",LZ=function(e,t,i){var n=function(l,c){var d=(c?i.utc:i)().year(l).startOf(Hl),u=4-d.isoWeekday();return d.isoWeekday()>4&&(u+=7),d.add(u,zl)},r=function(l){return l.add(4-l.isoWeekday(),zl)},o=t.prototype;o.isoWeekYear=function(){var a=r(this);return a.year()},o.isoWeek=function(a){if(!this.$utils().u(a))return this.add((a-this.isoWeek())*7,zl);var l=r(this),c=n(this.isoWeekYear(),this.$u);return l.diff(c,nu)+1},o.isoWeekday=function(a){return this.$utils().u(a)?this.day()||7:this.day(this.day()%7?a:a-7)};var s=o.startOf;o.startOf=function(a,l){var c=this.$utils(),d=c.u(l)?!0:l,u=c.p(a);return u===Fke?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(a,l)}};var NZ=function(e,t,i){var n=t.prototype;n.week=function(r){if(r===void 0&&(r=null),r!==null)return this.add((r-this.week())*7,zl);var o=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var s=i(this).startOf(Hl).add(1,Hl).date(o),a=i(this).endOf(nu);if(s.isBefore(a))return 1}var l=i(this).startOf(Hl).date(o),c=l.startOf(nu).subtract(1,X0),d=this.diff(c,nu,!0);return d<0?i(this).startOf("week").week():Math.ceil(d)},n.weeks=function(r){return r===void 0&&(r=null),this.week(r)}};var Oke=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,BZ=/\d/,ex=/\d\d/,Lke=/\d{3}/,Nke=/\d{4}/,Gu=/\d\d?/,Bke=/[+-]?\d+/,Vke=/[+-]\d\d:?(\d\d)?|Z/,tx=/\d*[^-_:/,()\s\d]+/,tg={},HZ=function(t){return t=+t,t+(t>68?1900:2e3)};function zke(e){if(!e||e==="Z")return 0;var t=e.match(/([+-]|\d\d)/g),i=+(t[1]*60)+(+t[2]||0);return i===0?0:t[0]==="+"?-i:i}var Ul=function(t){return function(i){this[t]=+i}},VZ=[Vke,function(e){var t=this.zone||(this.zone={});t.offset=zke(e)}],oN=function(t){var i=tg[t];return i&&(i.indexOf?i:i.s.concat(i.f))},zZ=function(t,i){var n,r=tg,o=r.meridiem;if(!o)n=t===(i?"pm":"PM");else for(var s=1;s<=24;s+=1)if(t.indexOf(o(s,0,i))>-1){n=s>12;break}return n},Hke={A:[tx,function(e){this.afternoon=zZ(e,!1)}],a:[tx,function(e){this.afternoon=zZ(e,!0)}],Q:[BZ,function(e){this.month=(e-1)*3+1}],S:[BZ,function(e){this.milliseconds=+e*100}],SS:[ex,function(e){this.milliseconds=+e*10}],SSS:[Lke,function(e){this.milliseconds=+e}],s:[Gu,Ul("seconds")],ss:[Gu,Ul("seconds")],m:[Gu,Ul("minutes")],mm:[Gu,Ul("minutes")],H:[Gu,Ul("hours")],h:[Gu,Ul("hours")],HH:[Gu,Ul("hours")],hh:[Gu,Ul("hours")],D:[Gu,Ul("day")],DD:[ex,Ul("day")],Do:[tx,function(e){var t=tg,i=t.ordinal,n=e.match(/\d+/);if(this.day=n[0],!!i)for(var r=1;r<=31;r+=1)i(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],w:[Gu,Ul("week")],ww:[ex,Ul("week")],M:[Gu,Ul("month")],MM:[ex,Ul("month")],MMM:[tx,function(e){var t=oN("months"),i=oN("monthsShort"),n=(i||t.map(function(r){return r.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[tx,function(e){var t=oN("months"),i=t.indexOf(e)+1;if(i<1)throw new Error;this.month=i%12||i}],Y:[Bke,Ul("year")],YY:[ex,function(e){this.year=HZ(e)}],YYYY:[Nke,Ul("year")],Z:VZ,ZZ:VZ};function Uke(e){var t=e.afternoon;if(t!==void 0){var i=e.hours;t?i<12&&(e.hours+=12):i===12&&(e.hours=0),delete e.afternoon}}function Gke(e){e=oA(e,tg&&tg.formats);for(var t=e.match(Oke),i=t.length,n=0;n<i;n+=1){var r=t[n],o=Hke[r],s=o&&o[0],a=o&&o[1];a?t[n]={regex:s,parser:a}:t[n]=r.replace(/^\[|\]$/g,"")}return function(l){for(var c={},d=0,u=0;d<i;d+=1){var h=t[d];if(typeof h=="string")u+=h.length;else{var f=h.regex,p=h.parser,v=l.slice(u),m=f.exec(v),g=m[0];p.call(c,g),l=l.replace(g,"")}}return Uke(c),c}}var Wke=function(t,i,n,r){try{if(["x","X"].indexOf(i)>-1)return new Date((i==="X"?1e3:1)*t);var o=Gke(i),s=o(t),a=s.year,l=s.month,c=s.day,d=s.hours,u=s.minutes,h=s.seconds,f=s.milliseconds,p=s.zone,v=s.week,m=new Date,g=c||(!a&&!l?m.getDate():1),b=a||m.getFullYear(),w=0;a&&!l||(w=l>0?l-1:m.getMonth());var x=d||0,R=u||0,_=h||0,L=f||0;if(p)return new Date(Date.UTC(b,w,g,x,R,_,L+p.offset*60*1e3));if(n)return new Date(Date.UTC(b,w,g,x,R,_,L));var F;return F=new Date(b,w,g,x,R,_,L),v&&(F=r(F).week(v).toDate()),F}catch{return new Date("")}},UZ=function(e,t,i){i.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(HZ=e.parseTwoDigitYear);var n=t.prototype,r=n.parse;n.parse=function(o){var s=o.date,a=o.utc,l=o.args;this.$u=a;var c=l[1];if(typeof c=="string"){var d=l[2]===!0,u=l[3]===!0,h=d||u,f=l[2];u&&(f=l[2]),tg=this.$locale(),!d&&f&&(tg=i.Ls[f]),this.$d=Wke(s,c,a,i),this.init(),f&&f!==!0&&(this.$L=this.locale(f).$L),h&&s!=this.format(c)&&(this.$d=new Date("")),tg={}}else if(c instanceof Array)for(var p=c.length,v=1;v<=p;v+=1){l[1]=c[v-1];var m=i.apply(this,l);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}v===p&&(this.$d=new Date(""))}else r.call(this,o)}};var jke=/[+-]\d\d(?::?\d\d)?/g,qke=/([+-]|\d\d)/g;function Yke(e){e===void 0&&(e="");var t=e.match(jke);if(!t)return null;var i=(""+t[0]).match(qke)||["-",0,0],n=i[0],r=i[1],o=i[2],s=+r*60+ +o;return s===0?0:n==="+"?s:-s}var GZ=function(e,t,i){var n=t.prototype;i.utc=function(u){var h={date:u,utc:!0,args:arguments};return new t(h)},n.utc=function(u){var h=i(this.toDate(),{locale:this.$L,utc:!0});return u?h.add(this.utcOffset(),Uu):h},n.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var r=n.parse;n.parse=function(u){u.utc&&(this.$u=!0),this.$utils().u(u.$offset)||(this.$offset=u.$offset),r.call(this,u)};var o=n.init;n.init=function(){if(this.$u){var u=this.$d;this.$y=u.getUTCFullYear(),this.$M=u.getUTCMonth(),this.$D=u.getUTCDate(),this.$W=u.getUTCDay(),this.$H=u.getUTCHours(),this.$m=u.getUTCMinutes(),this.$s=u.getUTCSeconds(),this.$ms=u.getUTCMilliseconds()}else o.call(this)};var s=n.utcOffset;n.utcOffset=function(u,h){var f=this.$utils(),p=f.u;if(p(u))return this.$u?0:p(this.$offset)?s.call(this):this.$offset;if(typeof u=="string"&&(u=Yke(u),u===null))return this;var v=Math.abs(u)<=16?u*60:u;if(v===0)return this.utc(h);var m=this.clone();if(h)return m.$offset=v,m.$u=!1,m;var g=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return m=this.local().add(v+g,Uu),m.$offset=v,m.$x.$localOffset=g,m};var a=n.format,l="YYYY-MM-DDTHH:mm:ss[Z]";n.format=function(u){var h=u||(this.$u?l:"");return a.call(this,h)},n.valueOf=function(){var u=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-u*j_},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var c=n.toDate;n.toDate=function(u){return u==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var d=n.diff;n.diff=function(u,h,f){if(u&&this.$u===u.$u)return d.call(this,u,h,f);var p=this.local(),v=i(u).local();return d.call(p,v,h,f)}};var $ke=["pickerContainer"],Xke=(e,t,i,n,r,o,s)=>({ltr:e,rtl:t,shown:i,hidden:n,inline:r,double:o,"show-ranges":s}),Kke=e=>({active:e}),Zke=(e,t)=>({right:e,left:t});function Qke(e,t){if(e&1){let i=tn();Se(0,"li")(1,"button",8),Ot("click",function(r){let o=Gt(i).$implicit,s=lt(2);return Wt(s.clickRange(r,o))}),Lt(2),Pe()()}if(e&2){let i=t.$implicit,n=lt(2);Fe(),Ze("disabled",n.disableRange(i))("ngClass",If(3,Kke,i===n.chosenRange)),Fe(),wr(" ",i," ")}}function Jke(e,t){if(e&1&&(is(0),Se(1,"div",6)(2,"ul"),Xt(3,Qke,3,5,"li",7),Pe()(),ns()),e&2){let i=lt();Fe(3),Ze("ngForOf",i.rangesArray)}}function eIe(e,t){e&1&&Dt(0,"th")}function tIe(e,t){if(e&1){let i=tn();is(0),Se(1,"th",19),Ot("click",function(){Gt(i);let r=lt(3);return Wt(r.clickPrev(r.sideEnum.left))}),Pe(),ns()}}function iIe(e,t){e&1&&(is(0),Dt(1,"th"),ns())}function nIe(e,t){if(e&1&&(Se(0,"option",25),Lt(1),Pe()),e&2){let i=t.$implicit,n=lt(4);Ze("disabled",n.calendarVariables.left.dropdowns.inMinYear&&i<n.calendarVariables.left.minDate.month()||n.calendarVariables.left.dropdowns.inMaxYear&&i>n.calendarVariables.left.maxDate.month())("value",i)("selected",n.calendarVariables.left.dropdowns.currentMonth===i),Fe(),wr(" ",n.locale.monthNames[i]," ")}}function rIe(e,t){if(e&1&&(Se(0,"option",26),Lt(1),Pe()),e&2){let i=t.$implicit,n=lt(4);Ze("selected",i===n.calendarVariables.left.dropdowns.currentYear),Fe(),wr(" ",i," ")}}function oIe(e,t){if(e&1){let i=tn();is(0),Se(1,"div",20),Lt(2),Se(3,"select",21),Ot("change",function(r){Gt(i);let o=lt(3);return Wt(o.monthChanged(r,o.sideEnum.left))}),Xt(4,nIe,2,4,"option",22),Pe()(),Se(5,"div",20),Lt(6),Se(7,"select",23),Ot("change",function(r){Gt(i);let o=lt(3);return Wt(o.yearChanged(r,o.sideEnum.left))}),Xt(8,rIe,2,2,"option",24),Pe()(),ns()}if(e&2){let i=lt(3);Fe(2),wr(" ",i.locale.monthNames[i.calendarVariables==null||i.calendarVariables.left==null?null:i.calendarVariables.left.calendar[1][1].month()]," "),Fe(2),Ze("ngForOf",i.calendarVariables.left.dropdowns.monthArrays),Fe(2),wr(" ",i.calendarVariables==null||i.calendarVariables.left==null?null:i.calendarVariables.left.calendar[1][1].format(" YYYY")," "),Fe(2),Ze("ngForOf",i.calendarVariables.left.dropdowns.yearArrays)}}function sIe(e,t){if(e&1&&(is(0),Lt(1),ns()),e&2){let i=lt(3);Fe(),lm(" ",i.locale.monthNames[i.calendarVariables==null||i.calendarVariables.left==null?null:i.calendarVariables.left.calendar[1][1].month()]," ",i.calendarVariables==null||i.calendarVariables.left==null?null:i.calendarVariables.left.calendar[1][1].format(" YYYY")," ")}}function aIe(e,t){if(e&1){let i=tn();is(0),Se(1,"th",27),Ot("click",function(){Gt(i);let r=lt(3);return Wt(r.clickNext(r.sideEnum.left))}),Pe(),ns()}}function lIe(e,t){e&1&&(is(0),Dt(1,"th"),ns())}function cIe(e,t){if(e&1&&(Se(0,"th",28)(1,"span"),Lt(2),Pe()()),e&2){let i=lt(3);Fe(2),jn(i.locale.weekLabel)}}function dIe(e,t){if(e&1&&(Se(0,"th")(1,"span"),Lt(2),Pe()()),e&2){let i=t.$implicit;Fe(2),jn(i)}}function uIe(e,t){if(e&1&&(Se(0,"td",28)(1,"span"),Lt(2),Pe()()),e&2){let i=lt().$implicit,n=lt(3);Fe(2),jn(n.calendarVariables.left.calendar[i][0].week())}}function hIe(e,t){if(e&1&&(Se(0,"td",28)(1,"span"),Lt(2),Pe()()),e&2){let i=lt().$implicit,n=lt(3);Fe(2),jn(n.calendarVariables.left.calendar[i][0].isoWeek())}}function fIe(e,t){if(e&1){let i=tn();Se(0,"td",30),Ot("click",function(r){let o=Gt(i).$implicit,s=lt().$implicit,a=lt(3);return Wt(a.clickDate(r,a.sideEnum.left,s,o))})("mouseenter",function(r){let o=Gt(i).$implicit,s=lt().$implicit,a=lt(3);return Wt(a.hoverDate(r,a.sideEnum.left,s,o))}),Se(1,"span"),Lt(2),Pe()()}if(e&2){let i=t.$implicit,n=lt().$implicit,r=lt(3);pr(r.calendarVariables.left.classes[n][i]),Fe(2),jn(r.calendarVariables.left.calendar[n][i].date())}}function pIe(e,t){if(e&1&&(Se(0,"tr"),Xt(1,uIe,3,1,"td",16)(2,hIe,3,1,"td",16)(3,fIe,3,3,"td",29),Pe()),e&2){let i=t.$implicit,n=lt(3);pr(n.calendarVariables.left.classes[i].classList),Fe(),Ze("ngIf",n.showWeekNumbers),Fe(),Ze("ngIf",n.showISOWeekNumbers),Fe(),Ze("ngForOf",n.calendarVariables.left.calCols)}}function mIe(e,t){if(e&1&&(Se(0,"table",13)(1,"thead")(2,"tr"),Xt(3,eIe,1,0,"th",2)(4,tIe,2,0,"ng-container",2)(5,iIe,2,0,"ng-container",2),Se(6,"th",14),Xt(7,oIe,9,4,"ng-container",2)(8,sIe,2,2,"ng-container",2),Pe(),Xt(9,aIe,2,0,"ng-container",2)(10,lIe,2,0,"ng-container",2),Pe(),Se(11,"tr",15),Xt(12,cIe,3,1,"th",16)(13,dIe,3,1,"th",7),Pe()(),Se(14,"tbody",17),Xt(15,pIe,4,5,"tr",18),Pe()()),e&2){let i=lt(2);Fe(3),Ze("ngIf",i.showWeekNumbers||i.showISOWeekNumbers),Fe(),Ze("ngIf",!i.calendarVariables.left.minDate||i.calendarVariables.left.minDate.isBefore(i.calendarVariables.left.calendar.firstDay)&&(!i.linkedCalendars||!0)),Fe(),Ze("ngIf",!(!i.calendarVariables.left.minDate||i.calendarVariables.left.minDate.isBefore(i.calendarVariables.left.calendar.firstDay)&&(!i.linkedCalendars||!0))),Fe(2),Ze("ngIf",i.showDropdowns&&i.calendarVariables.left.dropdowns),Fe(),Ze("ngIf",!i.showDropdowns||!i.calendarVariables.left.dropdowns),Fe(),Ze("ngIf",(!i.calendarVariables.left.maxDate||i.calendarVariables.left.maxDate.isAfter(i.calendarVariables.left.calendar.lastDay))&&(!i.linkedCalendars||i.singleDatePicker)),Fe(),Ze("ngIf",!((!i.calendarVariables.left.maxDate||i.calendarVariables.left.maxDate.isAfter(i.calendarVariables.left.calendar.lastDay))&&(!i.linkedCalendars||i.singleDatePicker))),Fe(2),Ze("ngIf",i.showWeekNumbers||i.showISOWeekNumbers),Fe(),Ze("ngForOf",i.locale.daysOfWeek),Fe(2),Ze("ngForOf",i.calendarVariables.left.calRows)}}function gIe(e,t){if(e&1&&(Se(0,"option",40),Lt(1),Pe()),e&2){let i=t.$implicit,n=lt(3);Ze("value",i)("disabled",n.timepickerVariables.left.disabledHours.indexOf(i)>-1),Fe(),wr(" ",i," ")}}function vIe(e,t){if(e&1&&(Se(0,"option",40),Lt(1),Pe()),e&2){let i=t.$implicit,n=t.index,r=lt(3);Ze("value",i)("disabled",r.timepickerVariables.left.disabledMinutes.indexOf(i)>-1),Fe(),wr(" ",r.timepickerVariables.left.minutesLabel[n]," ")}}function bIe(e,t){if(e&1&&(Se(0,"option",40),Lt(1),Pe()),e&2){let i=t.$implicit,n=t.index,r=lt(4);Ze("value",i)("disabled",r.timepickerVariables.left.disabledSeconds.indexOf(i)>-1),Fe(),wr(" ",r.timepickerVariables.left.secondsLabel[n]," ")}}function _Ie(e,t){if(e&1){let i=tn();Se(0,"select",41),pa("ngModelChange",function(r){Gt(i);let o=lt(3);return fa(o.timepickerVariables.left.selectedSecond,r)||(o.timepickerVariables.left.selectedSecond=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(3);return Wt(o.timeChanged(r,o.sideEnum.left))}),Xt(1,bIe,2,3,"option",34),Pe()}if(e&2){let i=lt(3);Ze("disabled",!i.startDate),ha("ngModel",i.timepickerVariables.left.selectedSecond),Fe(),Ze("ngForOf",i.timepickerVariables.left.seconds)}}function yIe(e,t){if(e&1){let i=tn();Se(0,"select",42),pa("ngModelChange",function(r){Gt(i);let o=lt(3);return fa(o.timepickerVariables.left.ampmModel,r)||(o.timepickerVariables.left.ampmModel=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(3);return Wt(o.timeChanged(r,o.sideEnum.left))}),Se(1,"option",43),Lt(2,"AM"),Pe(),Se(3,"option",44),Lt(4,"PM"),Pe()()}if(e&2){let i=lt(3);ha("ngModel",i.timepickerVariables.left.ampmModel),Fe(),Ze("disabled",i.timepickerVariables.left.amDisabled),Fe(2),Ze("disabled",i.timepickerVariables.left.pmDisabled)}}function wIe(e,t){if(e&1){let i=tn();Se(0,"div",31)(1,"div",32)(2,"select",33),pa("ngModelChange",function(r){Gt(i);let o=lt(2);return fa(o.timepickerVariables.left.selectedHour,r)||(o.timepickerVariables.left.selectedHour=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(2);return Wt(o.timeChanged(r,o.sideEnum.left))}),Xt(3,gIe,2,3,"option",34),Pe()(),Se(4,"div",32)(5,"select",35),pa("ngModelChange",function(r){Gt(i);let o=lt(2);return fa(o.timepickerVariables.left.selectedMinute,r)||(o.timepickerVariables.left.selectedMinute=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(2);return Wt(o.timeChanged(r,o.sideEnum.left))}),Xt(6,vIe,2,3,"option",34),Pe(),Dt(7,"span",36)(8,"span",37),Pe(),Se(9,"div",32),Xt(10,_Ie,2,3,"select",38),Dt(11,"span",36)(12,"span",37),Pe(),Se(13,"div",32),Xt(14,yIe,5,3,"select",39),Dt(15,"span",36)(16,"span",37),Pe()()}if(e&2){let i=lt(2);Fe(2),Ze("disabled",!i.startDate),ha("ngModel",i.timepickerVariables.left.selectedHour),Fe(),Ze("ngForOf",i.timepickerVariables.left.hours),Fe(2),Ze("disabled",!i.startDate),ha("ngModel",i.timepickerVariables.left.selectedMinute),Fe(),Ze("ngForOf",i.timepickerVariables.left.minutes),Fe(4),Ze("ngIf",i.timePickerSeconds),Fe(4),Ze("ngIf",!i.timePicker24Hour)}}function CIe(e,t){if(e&1&&(Se(0,"div",9)(1,"div",10),Xt(2,mIe,16,10,"table",11),Pe(),Xt(3,wIe,17,8,"div",12),Pe()),e&2){let i=lt();Ze("ngClass",Pf(3,Zke,i.singleDatePicker,!i.singleDatePicker)),Fe(2),Ze("ngIf",i.calendarVariables),Fe(),Ze("ngIf",i.timePicker)}}function xIe(e,t){e&1&&Dt(0,"th")}function SIe(e,t){if(e&1){let i=tn();is(0),Se(1,"th",19),Ot("click",function(){Gt(i);let r=lt(3);return Wt(r.clickPrev(r.sideEnum.right))}),Pe(),ns()}}function MIe(e,t){e&1&&(is(0),Dt(1,"th"),ns())}function EIe(e,t){if(e&1&&(Se(0,"option",25),Lt(1),Pe()),e&2){let i=t.$implicit,n=lt(4);Ze("disabled",n.calendarVariables.right.dropdowns.inMinYear&&n.calendarVariables.right.minDate&&i<n.calendarVariables.right.minDate.month()||n.calendarVariables.right.dropdowns.inMaxYear&&n.calendarVariables.right.maxDate&&i>n.calendarVariables.right.maxDate.month())("value",i)("selected",n.calendarVariables.right.dropdowns.currentMonth===i),Fe(),wr(" ",n.locale.monthNames[i]," ")}}function DIe(e,t){if(e&1&&(Se(0,"option",26),Lt(1),Pe()),e&2){let i=t.$implicit,n=lt(4);Ze("selected",i===n.calendarVariables.right.dropdowns.currentYear),Fe(),wr(" ",i," ")}}function TIe(e,t){if(e&1){let i=tn();is(0),Se(1,"div",20),Lt(2),Se(3,"select",21),Ot("change",function(r){Gt(i);let o=lt(3);return Wt(o.monthChanged(r,o.sideEnum.right))}),Xt(4,EIe,2,4,"option",22),Pe()(),Se(5,"div",20),Lt(6),Se(7,"select",23),Ot("change",function(r){Gt(i);let o=lt(3);return Wt(o.yearChanged(r,o.sideEnum.right))}),Xt(8,DIe,2,2,"option",24),Pe()(),ns()}if(e&2){let i=lt(3);Fe(2),wr(" ",i.locale.monthNames[i.calendarVariables==null||i.calendarVariables.right==null?null:i.calendarVariables.right.calendar[1][1].month()]," "),Fe(2),Ze("ngForOf",i.calendarVariables.right.dropdowns.monthArrays),Fe(2),wr(" ",i.calendarVariables==null||i.calendarVariables.right==null?null:i.calendarVariables.right.calendar[1][1].format(" YYYY")," "),Fe(2),Ze("ngForOf",i.calendarVariables.right.dropdowns.yearArrays)}}function AIe(e,t){if(e&1&&(is(0),Lt(1),ns()),e&2){let i=lt(3);Fe(),lm(" ",i.locale.monthNames[i.calendarVariables==null||i.calendarVariables.right==null?null:i.calendarVariables.right.calendar[1][1].month()]," ",i.calendarVariables==null||i.calendarVariables.right==null?null:i.calendarVariables.right.calendar[1][1].format(" YYYY")," ")}}function RIe(e,t){if(e&1){let i=tn();is(0),Se(1,"th",27),Ot("click",function(){Gt(i);let r=lt(3);return Wt(r.clickNext(r.sideEnum.right))}),Pe(),ns()}}function kIe(e,t){e&1&&(is(0),Dt(1,"th"),ns())}function IIe(e,t){if(e&1&&(Se(0,"th",28)(1,"span"),Lt(2),Pe()()),e&2){let i=lt(3);Fe(2),jn(i.locale.weekLabel)}}function PIe(e,t){if(e&1&&(Se(0,"th")(1,"span"),Lt(2),Pe()()),e&2){let i=t.$implicit;Fe(2),jn(i)}}function FIe(e,t){if(e&1&&(Se(0,"td",28)(1,"span"),Lt(2),Pe()()),e&2){let i=lt().$implicit,n=lt(3);Fe(2),jn(n.calendarVariables.right.calendar[i][0].week())}}function OIe(e,t){if(e&1&&(Se(0,"td",28)(1,"span"),Lt(2),Pe()()),e&2){let i=lt().$implicit,n=lt(3);Fe(2),jn(n.calendarVariables.right.calendar[i][0].isoWeek())}}function LIe(e,t){if(e&1){let i=tn();Se(0,"td",30),Ot("click",function(r){let o=Gt(i).$implicit,s=lt().$implicit,a=lt(3);return Wt(a.clickDate(r,a.sideEnum.right,s,o))})("mouseenter",function(r){let o=Gt(i).$implicit,s=lt().$implicit,a=lt(3);return Wt(a.hoverDate(r,a.sideEnum.right,s,o))}),Se(1,"span"),Lt(2),Pe()()}if(e&2){let i=t.$implicit,n=lt().$implicit,r=lt(3);pr(r.calendarVariables.right.classes[n][i]),Fe(2),jn(r.calendarVariables.right.calendar[n][i].date())}}function NIe(e,t){if(e&1&&(Se(0,"tr"),Xt(1,FIe,3,1,"td",16)(2,OIe,3,1,"td",16)(3,LIe,3,3,"td",29),Pe()),e&2){let i=t.$implicit,n=lt(3);pr(n.calendarVariables.right.classes[i].classList),Fe(),Ze("ngIf",n.showWeekNumbers),Fe(),Ze("ngIf",n.showISOWeekNumbers),Fe(),Ze("ngForOf",n.calendarVariables.right.calCols)}}function BIe(e,t){if(e&1&&(Se(0,"table",13)(1,"thead")(2,"tr"),Xt(3,xIe,1,0,"th",2)(4,SIe,2,0,"ng-container",2)(5,MIe,2,0,"ng-container",2),Se(6,"th",46),Xt(7,TIe,9,4,"ng-container",2)(8,AIe,2,2,"ng-container",2),Pe(),Xt(9,RIe,2,0,"ng-container",2)(10,kIe,2,0,"ng-container",2),Pe(),Se(11,"tr",15),Xt(12,IIe,3,1,"th",16)(13,PIe,3,1,"th",7),Pe()(),Se(14,"tbody"),Xt(15,NIe,4,5,"tr",18),Pe()()),e&2){let i=lt(2);Fe(3),Ze("ngIf",i.showWeekNumbers||i.showISOWeekNumbers),Fe(),Ze("ngIf",(!i.calendarVariables.right.minDate||i.calendarVariables.right.minDate.isBefore(i.calendarVariables.right.calendar.firstDay))&&!i.linkedCalendars),Fe(),Ze("ngIf",!((!i.calendarVariables.right.minDate||i.calendarVariables.right.minDate.isBefore(i.calendarVariables.right.calendar.firstDay))&&!i.linkedCalendars)),Fe(2),Ze("ngIf",i.showDropdowns&&i.calendarVariables.right.dropdowns),Fe(),Ze("ngIf",!i.showDropdowns||!i.calendarVariables.right.dropdowns),Fe(),Ze("ngIf",!i.calendarVariables.right.maxDate||i.calendarVariables.right.maxDate.isAfter(i.calendarVariables.right.calendar.lastDay)&&(!i.linkedCalendars||i.singleDatePicker||!0)),Fe(),Ze("ngIf",!(!i.calendarVariables.right.maxDate||i.calendarVariables.right.maxDate.isAfter(i.calendarVariables.right.calendar.lastDay)&&(!i.linkedCalendars||i.singleDatePicker||!0))),Fe(2),Ze("ngIf",i.showWeekNumbers||i.showISOWeekNumbers),Fe(),Ze("ngForOf",i.locale.daysOfWeek),Fe(2),Ze("ngForOf",i.calendarVariables.right.calRows)}}function VIe(e,t){if(e&1&&(Se(0,"option",40),Lt(1),Pe()),e&2){let i=t.$implicit,n=lt(3);Ze("value",i)("disabled",n.timepickerVariables.right.disabledHours.indexOf(i)>-1),Fe(),wr(" ",i," ")}}function zIe(e,t){if(e&1&&(Se(0,"option",40),Lt(1),Pe()),e&2){let i=t.$implicit,n=t.index,r=lt(3);Ze("value",i)("disabled",r.timepickerVariables.right.disabledMinutes.indexOf(i)>-1),Fe(),wr(" ",r.timepickerVariables.right.minutesLabel[n]," ")}}function HIe(e,t){if(e&1&&(Se(0,"option",40),Lt(1),Pe()),e&2){let i=t.$implicit,n=t.index,r=lt(4);Ze("value",i)("disabled",r.timepickerVariables.right.disabledSeconds.indexOf(i)>-1),Fe(),wr(" ",r.timepickerVariables.right.secondsLabel[n]," ")}}function UIe(e,t){if(e&1){let i=tn();Se(0,"select",41),pa("ngModelChange",function(r){Gt(i);let o=lt(3);return fa(o.timepickerVariables.right.selectedSecond,r)||(o.timepickerVariables.right.selectedSecond=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(3);return Wt(o.timeChanged(r,o.sideEnum.right))}),Xt(1,HIe,2,3,"option",34),Pe()}if(e&2){let i=lt(3);Ze("disabled",!i.startDate),ha("ngModel",i.timepickerVariables.right.selectedSecond),Fe(),Ze("ngForOf",i.timepickerVariables.right.seconds)}}function GIe(e,t){if(e&1){let i=tn();Se(0,"select",42),pa("ngModelChange",function(r){Gt(i);let o=lt(3);return fa(o.timepickerVariables.right.ampmModel,r)||(o.timepickerVariables.right.ampmModel=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(3);return Wt(o.timeChanged(r,o.sideEnum.right))}),Se(1,"option",43),Lt(2,"AM"),Pe(),Se(3,"option",44),Lt(4,"PM"),Pe()()}if(e&2){let i=lt(3);ha("ngModel",i.timepickerVariables.right.ampmModel),Fe(),Ze("disabled",i.timepickerVariables.right.amDisabled),Fe(2),Ze("disabled",i.timepickerVariables.right.pmDisabled)}}function WIe(e,t){if(e&1){let i=tn();Se(0,"div",31)(1,"div",32)(2,"select",47),pa("ngModelChange",function(r){Gt(i);let o=lt(2);return fa(o.timepickerVariables.right.selectedHour,r)||(o.timepickerVariables.right.selectedHour=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(2);return Wt(o.timeChanged(r,o.sideEnum.right))}),Xt(3,VIe,2,3,"option",34),Pe(),Dt(4,"span",36)(5,"span",37),Pe(),Se(6,"div",32)(7,"select",35),pa("ngModelChange",function(r){Gt(i);let o=lt(2);return fa(o.timepickerVariables.right.selectedMinute,r)||(o.timepickerVariables.right.selectedMinute=r),Wt(r)}),Ot("ngModelChange",function(r){Gt(i);let o=lt(2);return Wt(o.timeChanged(r,o.sideEnum.right))}),Xt(8,zIe,2,3,"option",34),Pe(),Dt(9,"span",36)(10,"span",37),Pe(),Se(11,"div",32),Xt(12,UIe,2,3,"select",38),Dt(13,"span",36)(14,"span",37),Pe(),Se(15,"div",32),Xt(16,GIe,5,3,"select",39),Dt(17,"span",36)(18,"span",37),Pe()()}if(e&2){let i=lt(2);Fe(2),Ze("disabled",!i.startDate),ha("ngModel",i.timepickerVariables.right.selectedHour),Fe(),Ze("ngForOf",i.timepickerVariables.right.hours),Fe(4),Ze("disabled",!i.startDate),ha("ngModel",i.timepickerVariables.right.selectedMinute),Fe(),Ze("ngForOf",i.timepickerVariables.right.minutes),Fe(4),Ze("ngIf",i.timePickerSeconds),Fe(4),Ze("ngIf",!i.timePicker24Hour)}}function jIe(e,t){if(e&1&&(Se(0,"div",45)(1,"div",10),Xt(2,BIe,16,10,"table",11),Pe(),Xt(3,WIe,19,8,"div",12),Pe()),e&2){let i=lt();Fe(2),Ze("ngIf",i.calendarVariables),Fe(),Ze("ngIf",i.timePicker)}}function qIe(e,t){if(e&1){let i=tn();Se(0,"button",53),Ot("click",function(){Gt(i);let r=lt(2);return Wt(r.clear())}),Lt(1),Fr(),Se(2,"svg",54),Dt(3,"path",55),Pe()()}if(e&2){let i=lt(2);Ze("title",i.locale.clearLabel),Fe(),wr(" ",i.locale.clearLabel," ")}}function YIe(e,t){if(e&1){let i=tn();Se(0,"button",56),Ot("click",function(r){Gt(i);let o=lt(2);return Wt(o.clickCancel(r))}),Lt(1),Pe()}if(e&2){let i=lt(2);Fe(),jn(i.locale.cancelLabel)}}function $Ie(e,t){if(e&1){let i=tn();Se(0,"div",48)(1,"div",49),Xt(2,qIe,4,2,"button",50)(3,YIe,2,1,"button",51),Se(4,"button",52),Ot("click",function(r){Gt(i);let o=lt();return Wt(o.clickApply(r))}),Lt(5),Pe()()()}if(e&2){let i=lt();Fe(2),Ze("ngIf",i.showClearButton),Fe(),Ze("ngIf",i.showCancel),Fe(),Ze("disabled",i.applyBtn.disabled),Fe(),jn(i.locale.applyLabel)}}gr.extend(rN);var sN=new Nt("daterangepicker.config"),sA={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:gr.weekdaysMin(),monthNames:gr.monthsShort(),firstDay:gr.localeData().firstDayOfWeek()},aA=(()=>{class e{constructor(i){this.configHolder=i}get config(){return this.configHolder?Ie(Ie({},sA),this.configHolder):sA}configWithLocale(i){return!this.configHolder&&!i?sA:Ie(Zt(Ie({},sA),{daysOfWeek:i.weekdaysMin,monthNames:i.monthsShort,firstDay:i.weekStart}),this.configHolder)}}return e.\u0275fac=function(i){return new(i||e)(ji(sN))},e.\u0275prov=zt({token:e,factory:e.\u0275fac}),e})();gr.extend(rN);gr.extend(OZ);gr.extend(LZ);gr.extend(NZ);gr.extend(UZ);gr.extend(GZ);var Kr=function(e){return e.left="left",e.right="right",e}(Kr||{}),XIe=(()=>{class e{constructor(i,n,r){this.el=i,this.ref=n,this.localeHolderService=r,this.startDate=gr().utc(!0).startOf("day"),this.endDate=gr().utc(!0).endOf("day"),this.dateLimit=null,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.linkedCalendars=!1,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.maxSpan=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.showClearButton=!1,this.firstMonthDayClass=null,this.lastMonthDayClass=null,this.emptyWeekRowClass=null,this.emptyWeekColumnClass=null,this.firstDayOfNextMonthClass=null,this.lastDayOfPreviousMonthClass=null,this.showCancel=!1,this.keepCalendarOpeningWithRange=!1,this.showRangeLabelOnInput=!1,this.customRangeDirection=!1,this.closeOnAutoApply=!0,this.calendarVariables={},this.timepickerVariables={},this.daterangepicker={start:new H1,end:new H1},this.applyBtn={disabled:!1},this.sideEnum=Kr,this.rangesArray=[],this.isShown=!1,this.inline=!0,this.leftCalendar={month:null,calendar:[]},this.rightCalendar={month:null,calendar:[]},this.showCalInRanges=!1,this.nowHoveredDate=null,this.pickingDate=!1,this.localeHolder={},this.rangesHolder={},this.cachedVersion={start:null,end:null},this.clickNext=o=>{o===Kr.left?this.leftCalendar.month=this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month=this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&(this.leftCalendar.month=this.leftCalendar.month.add(1,"month"))),this.updateCalendars()},this.choosedDate=new et,this.rangeClicked=new et,this.datesUpdated=new et,this.startDateChanged=new et,this.endDateChanged=new et,this.cancelClicked=new et,this.clearClicked=new et}get minDate(){return this.minDateHolder}set minDate(i){gr.isDayjs(i)?this.minDateHolder=i:typeof i=="string"?this.minDateHolder=gr(i).utc(!0):this.minDateHolder=null}get locale(){return this.localeHolder}set locale(i){this.localeHolder=Ie(Ie({},this.localeHolderService.config),i),i.locale&&(this.localeHolder=this.localeHolderService.configWithLocale(i.locale))}get ranges(){return this.rangesHolder}set ranges(i){this.rangesHolder=i,this.renderRanges()}get maxDate(){return this.maxDateHolder}set maxDate(i){gr.isDayjs(i)?this.maxDateHolder=i:typeof i=="string"?this.maxDateHolder=gr(i).utc(!0):this.maxDateHolder=null}isInvalidDate(i){return!1}isCustomDate(i){return!1}isTooltipDate(i){return null}handleInternalClick(i){return i.stopPropagation()}ngOnChanges(i){(i.startDate||i.endDate)&&this.inline&&this.updateView()}ngOnInit(){this.buildLocale();let i=[...this.locale.daysOfWeek];if(this.locale.firstDay=this.locale.firstDay%7,this.locale.firstDay!==0){let n=this.locale.firstDay;for(;n>0;)i.push(i.shift()),n--}this.locale.daysOfWeek=i,this.inline&&(this.cachedVersion.start=this.startDate.clone(),this.cachedVersion.end=this.endDate.clone()),this.startDate&&this.timePicker&&(this.setStartDate(this.startDate),this.renderTimePicker(Kr.left)),this.endDate&&this.timePicker&&(this.setEndDate(this.endDate),this.renderTimePicker(Kr.right)),this.updateMonthsInView(),this.renderCalendar(Kr.left),this.renderCalendar(Kr.right),this.renderRanges()}renderRanges(){this.rangesArray=[];let i,n;if(typeof this.ranges=="object"){for(let r in this.ranges)if(this.ranges[r]){typeof this.ranges[r][0]=="string"?i=gr(this.ranges[r][0],this.locale.format).utc(!0):i=gr(this.ranges[r][0]).utc(!0),typeof this.ranges[r][1]=="string"?n=gr(this.ranges[r][1],this.locale.format).utc(!0):n=gr(this.ranges[r][1]).utc(!0),this.minDate&&i.isBefore(this.minDate)&&(i=this.minDate.clone());let o=this.maxDate;if(this.maxSpan&&o&&i.clone().add(this.maxSpan).isAfter(o)&&(o=i.clone().add(this.maxSpan)),o&&n.isAfter(o)&&(n=o.clone()),this.minDate&&n.isBefore(this.minDate,this.timePicker?"minute":"day")||o&&i.isAfter(o,this.timePicker?"minute":"day"))continue;let s=document.createElement("textarea");s.innerHTML=r;let a=s.value;this.ranges[a]=[i,n]}for(let r in this.ranges)this.ranges[r]&&this.rangesArray.push(r);this.showCustomRangeLabel&&this.rangesArray.push(this.locale.customRangeLabel),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"))}}renderTimePicker(i){let n,r,o=this.maxDate;i===Kr.left?(n=this.startDate.clone(),r=this.minDate):i===Kr.right&&this.endDate?(n=this.endDate.clone(),r=this.startDate):i===Kr.right&&!this.endDate&&(n=this.getDateWithTime(this.startDate,Kr.right),n.isBefore(this.startDate)&&(n=this.startDate.clone()),r=this.startDate);let s=this.timePicker24Hour?0:1,a=this.timePicker24Hour?23:12;this.timepickerVariables[i]={hours:[],minutes:[],minutesLabel:[],seconds:[],secondsLabel:[],disabledHours:[],disabledMinutes:[],disabledSeconds:[],selectedHour:0,selectedMinute:0,selectedSecond:0,selected:n};for(let l=s;l<=a;l++){let c=l;this.timePicker24Hour||(c=n.hour()>=12?l===12?12:l+12:l===12?0:l);let d=n.clone().hour(c),u=!1;r&&d.minute(59).isBefore(r)&&(u=!0),o&&d.minute(0).isAfter(o)&&(u=!0),this.timepickerVariables[i].hours.push(l),c===n.hour()&&!u?this.timepickerVariables[i].selectedHour=l:u&&this.timepickerVariables[i].disabledHours.push(l)}for(let l=0;l<60;l+=this.timePickerIncrement){let c=l<10?`0${l}`:`${l}`,d=n.clone().minute(l),u=!1;r&&d.second(59).isBefore(r)&&(u=!0),o&&d.second(0).isAfter(o)&&(u=!0),this.timepickerVariables[i].minutes.push(l),this.timepickerVariables[i].minutesLabel.push(c),n.minute()===l&&!u?this.timepickerVariables[i].selectedMinute=l:u&&this.timepickerVariables[i].disabledMinutes.push(l)}if(this.timePickerSeconds)for(let l=0;l<60;l++){let c=l<10?`0${l}`:`${l}`,d=n.clone().second(l),u=!1;r&&d.isBefore(r)&&(u=!0),o&&d.isAfter(o)&&(u=!0),this.timepickerVariables[i].seconds.push(l),this.timepickerVariables[i].secondsLabel.push(c),n.second()===l&&!u?this.timepickerVariables[i].selectedSecond=l:u&&this.timepickerVariables[i].disabledSeconds.push(l)}this.timePicker24Hour||(r&&n.clone().hour(12).minute(0).second(0).isBefore(r)&&(this.timepickerVariables[i].amDisabled=!0),o&&n.clone().hour(0).minute(0).second(0).isAfter(o)&&(this.timepickerVariables[i].pmDisabled=!0),n.hour()>=12?this.timepickerVariables[i].ampmModel="PM":this.timepickerVariables[i].ampmModel="AM"),this.timepickerVariables[i].selected=n}renderCalendar(i){let n=i===Kr.left?this.leftCalendar:this.rightCalendar,r=n.month.month(),o=n.month.year(),s=n.month.hour(),a=n.month.minute(),l=n.month.second(),c=gr(new Date(o,r)).utc(!0).daysInMonth(),d=gr(new Date(o,r,1)).utc(!0),u=gr(new Date(o,r,c)).utc(!0),h=gr(d).utc(!0).subtract(1,"month").month(),f=gr(d).utc(!0).subtract(1,"month").year(),p=gr(new Date(f,h)).utc(!0).daysInMonth(),v=d.day(),m=[];m.firstDay=d,m.lastDay=u;for(let R=0;R<6;R++)m[R]=[];let g=p-v+this.locale.firstDay+1;g>p&&(g-=7),v===this.locale.firstDay&&(g=p-6);let b=gr(new Date(f,h,g,12,a,l)).utc(!0);for(let R=0,_=0,L=0;R<42;R++,_++,b=gr(b).utc(!0).add(24,"hours"))R>0&&_%7===0&&(_=0,L++),m[L][_]=b.clone().hour(s).minute(a).second(l),b=b.hour(12),this.minDate&&m[L][_].format("YYYY-MM-DD")===this.minDate.format("YYYY-MM-DD")&&m[L][_].isBefore(this.minDate)&&i==="left"&&(m[L][_]=this.minDate.clone()),this.maxDate&&m[L][_].format("YYYY-MM-DD")===this.maxDate.format("YYYY-MM-DD")&&m[L][_].isAfter(this.maxDate)&&i==="right"&&(m[L][_]=this.maxDate.clone());i===Kr.left?this.leftCalendar.calendar=m:this.rightCalendar.calendar=m;let w=i==="left"?this.minDate:this.startDate,x=this.maxDate;if(this.endDate===null&&this.dateLimit){let R=this.startDate.clone().add(this.dateLimit,"day").endOf("day");if((!x||R.isBefore(x))&&(x=R),this.customRangeDirection){w=this.minDate;let _=this.startDate.clone().subtract(this.dateLimit,"day").endOf("day");(!w||_.isAfter(w))&&(w=_)}}if(this.calendarVariables[i]={month:r,year:o,hour:s,minute:a,second:l,daysInMonth:c,firstDay:d,lastDay:u,lastMonth:h,lastYear:f,daysInLastMonth:p,dayOfWeek:v,calRows:Array.from(Array(6).keys()),calCols:Array.from(Array(7).keys()),classes:{},minDate:w,maxDate:x,calendar:m},this.showDropdowns){let R=m[1][1].month(),_=m[1][1].year(),L=gr().utc(!0).year(),F=x&&x.year()||L+5,T=w&&w.year()||L-50,P=_===T,A=_===F,O=[];for(let V=T;V<=F;V++)O.push(V);this.calendarVariables[i].dropdowns={currentMonth:R,currentYear:_,maxYear:F,minYear:T,inMinYear:P,inMaxYear:A,monthArrays:Array.from(Array(12).keys()),yearArrays:O}}this.buildCells(m,i)}setStartDate(i){typeof i=="string"&&(this.startDate=gr(i,this.locale.format).utc(!0)),typeof i=="object"&&(this.pickingDate=!0,this.startDate=gr(i).utc(!0)),this.timePicker||(this.pickingDate=!0,this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement))),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement))),this.isShown||this.updateElement(),this.startDateChanged.emit({startDate:this.startDate}),this.updateMonthsInView()}setEndDate(i){typeof i=="string"&&(this.endDate=gr(i,this.locale.format).utc(!0)),typeof i=="object"&&(this.pickingDate=!1,this.endDate=gr(i).utc(!0)),this.timePicker||(this.pickingDate=!1,this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit,"day").isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit,"day")),this.isShown,this.endDateChanged.emit({endDate:this.endDate}),this.updateMonthsInView()}updateView(){this.timePicker&&(this.renderTimePicker(Kr.left),this.renderTimePicker(Kr.right)),this.updateMonthsInView(),this.updateCalendars()}updateMonthsInView(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate&&this.leftCalendar&&this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate&&this.rightCalendar&&this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.startDate&&(this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!==this.startDate.month()||this.endDate.year()!==this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}updateCalendars(){this.renderCalendar(Kr.left),this.renderCalendar(Kr.right),this.endDate!==null&&this.calculateChosenLabel()}updateElement(){let i=this.locale.displayFormat?this.locale.displayFormat:this.locale.format;!this.singleDatePicker&&this.autoUpdateInput?this.startDate&&this.endDate&&(this.rangesArray.length&&this.showRangeLabelOnInput===!0&&this.chosenRange&&this.locale.customRangeLabel!==this.chosenRange?this.chosenLabel=this.chosenRange:this.chosenLabel=this.startDate.format(i)+this.locale.separator+this.endDate.format(i)):this.autoUpdateInput&&(this.chosenLabel=this.startDate.format(i))}remove(){this.isShown=!1}calculateChosenLabel(){(!this.locale||!this.locale.separator)&&this.buildLocale();let i=!0,n=0;if(this.rangesArray.length>0){for(let r in this.ranges)if(this.ranges[r]){if(this.timePicker){let o=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(o)===this.ranges[r][0].format(o)&&this.endDate.format(o)===this.ranges[r][1].format(o)){i=!1,this.chosenRange=this.rangesArray[n];break}}else if(this.startDate.format("YYYY-MM-DD")===this.ranges[r][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")===this.ranges[r][1].format("YYYY-MM-DD")){i=!1,this.chosenRange=this.rangesArray[n];break}n++}i&&(this.showCustomRangeLabel?this.chosenRange=this.locale.customRangeLabel:this.chosenRange=null,this.showCalInRanges=!0)}this.updateElement()}clickApply(i){if(!this.singleDatePicker&&this.startDate&&!this.endDate&&(this.endDate=this.getDateWithTime(this.startDate,Kr.right),this.calculateChosenLabel()),this.isInvalidDate&&this.startDate&&this.endDate){let n=this.startDate.clone();for(;n.isBefore(this.endDate);){if(this.isInvalidDate(n)){this.endDate=n.subtract(1,"days"),this.calculateChosenLabel();break}n=n.add(1,"days")}}this.chosenLabel&&this.choosedDate.emit({chosenLabel:this.chosenLabel,startDate:this.startDate,endDate:this.endDate}),this.datesUpdated.emit({startDate:this.startDate,endDate:this.endDate}),(i||this.closeOnAutoApply&&!i)&&this.hide()}clickCancel(i){this.startDate=this.cachedVersion.start,this.endDate=this.cachedVersion.end,this.inline&&this.updateView(),this.cancelClicked.emit(),this.hide()}monthChanged(i,n){let r=this.calendarVariables[n].dropdowns.currentYear,o=parseInt(i.target.value,10);this.monthOrYearChanged(o,r,n)}yearChanged(i,n){let r=this.calendarVariables[n].dropdowns.currentMonth,o=parseInt(i.target.value,10);this.monthOrYearChanged(r,o,n)}timeChanged(i,n){let r=parseInt(String(this.timepickerVariables[n].selectedHour),10),o=parseInt(String(this.timepickerVariables[n].selectedMinute),10),s=this.timePickerSeconds?parseInt(String(this.timepickerVariables[n].selectedSecond),10):0;if(!this.timePicker24Hour){let a=this.timepickerVariables[n].ampmModel;a==="PM"&&r<12&&(r+=12),a==="AM"&&r===12&&(r=0)}if(n===Kr.left){let a=this.startDate.clone();a=a.hour(r),a=a.minute(o),a=a.second(s),this.setStartDate(a),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")===a.format("YYYY-MM-DD")&&this.endDate.isBefore(a)?this.setEndDate(a.clone()):!this.endDate&&this.timePicker&&this.getDateWithTime(a,Kr.right).isBefore(a)&&(this.timepickerVariables[Kr.right].selectedHour=r,this.timepickerVariables[Kr.right].selectedMinute=o,this.timepickerVariables[Kr.right].selectedSecond=s)}else if(this.endDate){let a=this.endDate.clone();a=a.hour(r),a=a.minute(o),a=a.second(s),this.setEndDate(a)}this.updateCalendars(),this.renderTimePicker(Kr.left),this.renderTimePicker(Kr.right),this.autoApply&&this.clickApply()}monthOrYearChanged(i,n,r){let o=r===Kr.left,s=i,a=n;o||(a<this.startDate.year()||a===this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a===this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a===this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),a=this.maxDate.year()),this.calendarVariables[r].dropdowns.currentYear=a,this.calendarVariables[r].dropdowns.currentMonth=s,o?(this.leftCalendar.month=this.leftCalendar.month.month(s).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month=this.rightCalendar.month.month(s).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()}clickPrev(i){i===Kr.left?(this.leftCalendar.month=this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&(this.rightCalendar.month=this.rightCalendar.month.subtract(1,"month"))):this.rightCalendar.month=this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()}hoverDate(i,n,r,o){let s=this.calendarVariables.left.calendar[r][o],a=this.calendarVariables.right.calendar[r][o];this.pickingDate&&(this.nowHoveredDate=n===Kr.left?s:a,this.renderCalendar(Kr.left),this.renderCalendar(Kr.right))}clickDate(i,n,r,o){if(i.target.tagName==="TD"){if(!i.target.classList.contains("available"))return}else if(i.target.tagName==="SPAN"&&!i.target.parentElement.classList.contains("available"))return;this.rangesArray.length&&(this.chosenRange=this.locale.customRangeLabel);let s=n===Kr.left?this.leftCalendar.calendar[r][o]:this.rightCalendar.calendar[r][o];(this.endDate||s.isBefore(this.startDate,"day")&&this.customRangeDirection===!1)&&this.lockStartDate===!1?(this.timePicker&&(s=this.getDateWithTime(s,Kr.left)),this.endDate=null,this.setStartDate(s.clone())):!this.endDate&&s.isBefore(this.startDate)&&this.customRangeDirection===!1?this.setEndDate(this.startDate.clone()):(this.timePicker&&(s=this.getDateWithTime(s,Kr.right)),s.isBefore(this.startDate,"day")===!0&&this.customRangeDirection===!0?(this.setEndDate(this.startDate),this.setStartDate(s.clone())):this.setEndDate(s.clone()),this.autoApply&&this.calculateChosenLabel()),this.singleDatePicker&&(this.setEndDate(this.startDate),this.updateElement(),this.autoApply&&this.clickApply()),this.updateView(),this.autoApply&&this.startDate&&this.endDate&&this.clickApply(),i.stopPropagation()}clickRange(i,n){if(this.chosenRange=n,n===this.locale.customRangeLabel)this.isShown=!0,this.showCalInRanges=!0;else{let r=this.ranges[n];if(console.log("1 ",r),this.startDate=r[0].clone(),this.endDate=r[1].clone(),this.showRangeLabelOnInput&&n!==this.locale.customRangeLabel?this.chosenLabel=n:this.calculateChosenLabel(),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.alwaysShowCalendars||(this.isShown=!1),this.rangeClicked.emit({label:n,dates:r}),!this.keepCalendarOpeningWithRange||this.autoApply)this.clickApply();else{if(!this.alwaysShowCalendars)return this.clickApply();if(this.maxDate&&this.maxDate.isSame(r[0],"month"))this.rightCalendar.month=this.rightCalendar.month.month(r[0].month()),this.rightCalendar.month=this.rightCalendar.month.year(r[0].year()),this.leftCalendar.month=this.leftCalendar.month.month(r[0].month()-1),this.leftCalendar.month=this.leftCalendar.month.year(r[1].year());else{this.leftCalendar.month=this.leftCalendar.month.month(r[0].month()),this.leftCalendar.month=this.leftCalendar.month.year(r[0].year());let o=this.linkedCalendars?r[0].clone().add(1,"month"):r[1].clone();this.rightCalendar.month=this.rightCalendar.month.month(o.month()),this.rightCalendar.month=this.rightCalendar.month.year(o.year())}this.updateCalendars(),this.timePicker&&(this.renderTimePicker(Kr.left),this.renderTimePicker(Kr.right))}}}show(i){this.isShown||(this.cachedVersion.start=this.startDate.clone(),this.cachedVersion.end=this.endDate.clone(),this.isShown=!0,this.updateView())}hide(i){this.isShown&&(this.endDate||(this.cachedVersion.start&&(this.startDate=this.cachedVersion.start.clone()),this.cachedVersion.end&&(this.endDate=this.cachedVersion.end.clone())),!this.startDate.isSame(this.cachedVersion.start)||this.endDate.isSame(this.cachedVersion.end),this.updateElement(),this.isShown=!1,this.ref.detectChanges())}updateLocale(i){for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(this.locale[n]=i[n],n==="customRangeLabel"&&this.renderRanges())}clear(){this.startDate=gr().utc(!0).startOf("day"),this.endDate=gr().utc(!0).endOf("day"),this.choosedDate.emit({chosenLabel:"",startDate:null,endDate:null}),this.datesUpdated.emit({startDate:null,endDate:null}),this.clearClicked.emit(),this.hide()}disableRange(i){if(i===this.locale.customRangeLabel)return!1;let n=this.ranges[i],r=n.every(s=>this.minDate?s.isBefore(this.minDate):!1),o=n.every(s=>this.maxDate?s.isAfter(this.maxDate):!1);return r||o}getDateWithTime(i,n){let r=parseInt(String(this.timepickerVariables[n].selectedHour),10);if(!this.timePicker24Hour){let a=this.timepickerVariables[n].ampmModel;a==="PM"&&r<12&&(r+=12),a==="AM"&&r===12&&(r=0)}let o=parseInt(String(this.timepickerVariables[n].selectedMinute),10),s=this.timePickerSeconds?parseInt(String(this.timepickerVariables[n].selectedSecond),10):0;return i.clone().hour(r).minute(o).second(s)}buildLocale(){this.locale=Ie(Ie({},this.localeHolderService.config),this.locale),this.locale.format||(this.timePicker?this.locale.format=gr.localeData().longDateFormat("lll"):this.locale.format=gr.localeData().longDateFormat("L"))}buildCells(i,n){for(let r=0;r<6;r++){this.calendarVariables[n].classes[r]={classList:""};let o=[];this.emptyWeekRowClass&&Array.from(Array(7).keys()).some(s=>i[r][s].month()!==this.calendarVariables[n].month)&&o.push(this.emptyWeekRowClass);for(let s=0;s<7;s++){let a=[];this.emptyWeekColumnClass&&i[r][s].month()!==this.calendarVariables[n].month&&a.push(this.emptyWeekColumnClass),i[r][s].isSame(gr().utc(!0),"day")&&a.push("today"),i[r][s].isoWeekday()>5&&a.push("weekend"),i[r][s].month()!==i[1][1].month()&&(a.push("off"),this.lastDayOfPreviousMonthClass&&(i[r][s].month()<i[1][1].month()||i[1][1].month()===0)&&i[r][s].date()===this.calendarVariables[n].daysInLastMonth&&a.push(this.lastDayOfPreviousMonthClass),this.firstDayOfNextMonthClass&&(i[r][s].month()>i[1][1].month()||i[r][s].month()===0)&&i[r][s].date()===1&&a.push(this.firstDayOfNextMonthClass)),this.firstMonthDayClass&&i[r][s].month()===i[1][1].month()&&i[r][s].date()===i.firstDay.date()&&a.push(this.firstMonthDayClass),this.lastMonthDayClass&&i[r][s].month()===i[1][1].month()&&i[r][s].date()===i.lastDay.date()&&a.push(this.lastMonthDayClass),this.minDate&&i[r][s].isBefore(this.minDate,"day")&&a.push("off","disabled"),this.calendarVariables[n].maxDate&&i[r][s].isAfter(this.calendarVariables[n].maxDate,"day")&&a.push("off","disabled"),this.isInvalidDate(i[r][s])&&a.push("off","disabled","invalid"),this.startDate&&i[r][s].format("YYYY-MM-DD")===this.startDate.format("YYYY-MM-DD")&&a.push("active","start-date"),this.endDate!=null&&i[r][s].format("YYYY-MM-DD")===this.endDate.format("YYYY-MM-DD")&&a.push("active","end-date"),(this.nowHoveredDate!=null&&this.pickingDate||this.endDate!=null)&&i[r][s]>this.startDate&&(i[r][s]<this.endDate||i[r][s]<this.nowHoveredDate&&this.pickingDate)&&!a.find(u=>u==="off")&&a.push("in-range");let l=this.isCustomDate(i[r][s]);l!==!1&&(typeof l=="string"?a.push(l):Array.prototype.push.apply(a,l));let c="",d=!1;for(let u of a)c+=u+" ",u==="disabled"&&(d=!0);d||(c+="available"),this.calendarVariables[n].classes[r][s]=c.replace(/^\s+|\s+$/g,"")}this.calendarVariables[n].classes[r].classList=o.join(" ")}}}return e.\u0275fac=function(i){return new(i||e)(ri(pi),ri(An),ri(aA))},e.\u0275cmp=ti({type:e,selectors:[["ngx-daterangepicker-material"]],viewQuery:function(i,n){if(i&1&&ln($ke,7),i&2){let r;ui(r=hi())&&(n.pickerContainer=r.first)}},hostBindings:function(i,n){i&1&&Ot("click",function(o){return n.handleInternalClick(o)})},inputs:{startDate:"startDate",endDate:"endDate",dateLimit:"dateLimit",autoApply:"autoApply",singleDatePicker:"singleDatePicker",showDropdowns:"showDropdowns",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",linkedCalendars:"linkedCalendars",autoUpdateInput:"autoUpdateInput",alwaysShowCalendars:"alwaysShowCalendars",maxSpan:"maxSpan",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",showClearButton:"showClearButton",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",showCustomRangeLabel:"showCustomRangeLabel",showCancel:"showCancel",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",customRangeDirection:"customRangeDirection",drops:"drops",opens:"opens",closeOnAutoApply:"closeOnAutoApply",minDate:"minDate",locale:"locale",ranges:"ranges",maxDate:"maxDate",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate"},outputs:{choosedDate:"choosedDate",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged",cancelClicked:"cancelClicked",clearClicked:"clearClicked"},standalone:!1,features:[Mn([{provide:gd,useExisting:qs(()=>e),multi:!0}]),Gn],decls:6,vars:15,consts:[["pickerContainer",""],[1,"md-drppicker",3,"ngClass"],[4,"ngIf"],["class","calendar",3,"ngClass",4,"ngIf"],["class","calendar right",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"ranges"],[4,"ngFor","ngForOf"],["type","button",3,"click","disabled","ngClass"],[1,"calendar",3,"ngClass"],[1,"calendar-table"],["class","table-condensed",4,"ngIf"],["class","calendar-time",4,"ngIf"],[1,"table-condensed"],["colspan","5",1,"month","drp-animate"],[1,"week-days"],["class","week",4,"ngIf"],[1,"drp-animate"],[3,"class",4,"ngFor","ngForOf"],[1,"prev","available",3,"click"],[1,"dropdowns"],[1,"monthselect",3,"change"],[3,"disabled","value","selected",4,"ngFor","ngForOf"],[1,"yearselect",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[3,"disabled","value","selected"],[3,"selected"],[1,"next","available",3,"click"],[1,"week"],[3,"class","click","mouseenter",4,"ngFor","ngForOf"],[3,"click","mouseenter"],[1,"calendar-time"],[1,"select"],[1,"hourselect","select-item",3,"ngModelChange","disabled","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"select-item","minuteselect",3,"ngModelChange","disabled","ngModel"],[1,"select-highlight"],[1,"select-bar"],["class","select-item secondselect",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["class","select-item ampmselect",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value","disabled"],[1,"select-item","secondselect",3,"ngModelChange","disabled","ngModel"],[1,"select-item","ampmselect",3,"ngModelChange","ngModel"],["value","AM",3,"disabled"],["value","PM",3,"disabled"],[1,"calendar","right"],["colspan","5",1,"month"],[1,"select-item","hourselect",3,"ngModelChange","disabled","ngModel"],[1,"buttons"],[1,"buttons_input"],["class","btn btn-default clear","type","button",3,"title","click",4,"ngIf"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","button",1,"btn",3,"click","disabled"],["type","button",1,"btn","btn-default","clear",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 -5 24 24"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["type","button",1,"btn","btn-default",3,"click"]],template:function(i,n){i&1&&(Se(0,"div",1,0),Xt(2,Jke,4,1,"ng-container",2)(3,CIe,4,6,"div",3)(4,jIe,4,2,"div",4)(5,$Ie,6,4,"div",5),Pe()),i&2&&(pr("drops-"+n.drops+"-"+n.opens),Ze("ngClass",dz(7,Xke,n.locale.direction==="ltr",n.locale.direction==="rtl",n.isShown||n.inline,!n.isShown&&!n.inline,n.inline,!n.singleDatePicker&&n.showCalInRanges,n.rangesArray.length)),Fe(2),Ze("ngIf",n.rangesArray.length),Fe(),Ze("ngIf",n.showCalInRanges),Fe(),Ze("ngIf",n.showCalInRanges&&!n.singleDatePicker),Fe(),Ze("ngIf",!n.autoApply&&(!n.rangesArray.length||n.showCalInRanges&&!n.singleDatePicker)))},dependencies:[nc,kl,gh,WK,qK,jT,H_,W0],styles:[`.md-drppicker{position:absolute;font-family:Roboto,sans-serif;color:inherit;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:14px;background-color:#fff;box-shadow:0 2px 4px #00000029,0 2px 8px #0000001f}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:before,.md-drppicker:after{position:absolute;display:inline-block;border-bottom-color:#0003;content:""}.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.openscenter:after{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .ranges,.md-drppicker.single .calendar{float:none}.md-drppicker.shown{transform:scale(1);transition:all .1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN%}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:all .1s ease;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:50% 0}.md-drppicker.hidden.drops-up-center{transform-origin:50% 100%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar th,.md-drppicker .calendar td{padding:0;white-space:nowrap;text-align:center;min-width:32px}.md-drppicker .calendar th span,.md-drppicker .calendar td span{pointer-events:none}.md-drppicker .calendar-table{border:1px solid #fff;padding:4px;border-radius:4px;background-color:#fff}.md-drppicker table{width:100%;margin:0}.md-drppicker th{color:#988c8c}.md-drppicker td,.md-drppicker th{text-align:center;width:20px;height:20px;border-radius:4px;border:1px solid transparent;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-color:#eee;border-color:transparent;color:inherit;background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.week,.md-drppicker th.week{font-size:80%;color:#ccc}.md-drppicker td{margin:.25em 0;opacity:.8;transition:background-color .2s ease;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.off,.md-drppicker td.off.in-range,.md-drppicker td.off.start-date,.md-drppicker td.off.end-date{background-color:#fff;border-color:transparent;color:#999}.md-drppicker td.in-range{background-color:#dde2e4;border-color:transparent;color:#000;border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker td.active{transition:background .3s ease-out;background:rgba(0,0,0,.1)}.md-drppicker td.active,.md-drppicker td.active:hover{background-color:#3f51b5;border-color:transparent;color:#fff}.md-drppicker th.month{width:auto}.md-drppicker td.disabled,.md-drppicker option.disabled{color:#999;cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.md-drppicker .dropdowns select{display:inline-block;background-color:#ffffffe6;width:100%;padding:5px;border:1px solid #f2f2f2;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;padding:1px;height:auto;margin:0;cursor:default}.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect,.md-drppicker .dropdowns select.ampmselect{width:50px;margin:0 auto;background:#eee;border:1px solid #eee;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.12)}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:"";border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:none}.md-drppicker .calendar-time .select .select-item .select-label{color:#00000042;font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s ease all}.md-drppicker .calendar-time select.disabled{color:#ccc;cursor:not-allowed}.md-drppicker .label-input{border:1px solid #ccc;border-radius:4px;color:#555;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border:1px solid #08c;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left:1px solid #ddd}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button.active{background-color:#3f51b5;color:#fff}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:transparent}.md-drppicker .ranges ul li:hover{background-color:#eee}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:none;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px #0009;background-color:#3f51b5;color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn:hover,.md-drppicker .btn:focus{background-color:#3f51b5}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:#ecf0f14d;transform:translate(-50%,-50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .btn.btn-default{color:#000;background-color:#dcdcdc}.md-drppicker .clear{box-shadow:none;background-color:#fff!important}.md-drppicker .clear svg{color:#eb3232;fill:currentColor}@media (min-width: 564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input,.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar.left .calendar-table{padding-right:12px}.md-drppicker.ltr .ranges,.md-drppicker.ltr .calendar{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .left .md-drppicker_input,.md-drppicker.rtl .calendar.left .calendar-table{padding-left:12px}.md-drppicker.rtl .ranges,.md-drppicker.rtl .calendar{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s ease,opacity .2s ease}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translate(10%);opacity:0}.drp-animate.drp-animate-left{transform:translate(-10%);opacity:0}}@media (min-width: 730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none!important}}
`],encapsulation:2}),e})(),WZ=(()=>{class e{constructor(i,n,r,o,s,a,l){this.viewContainerRef=i,this.ref=n,this.el=r,this.renderer=o,this.differs=s,this.localeHolderService=a,this.elementRef=l,this.onChange=new et,this.rangeClicked=new et,this.datesUpdated=new et,this.startDateChanged=new et,this.endDateChanged=new et,this.clearClicked=new et,this.dateLimit=null,this.showCancel=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.closeOnAutoApply=!0,this.notForChangesProperty=["locale","endKey","startKey"],this.onChangeFn=Function.prototype,this.onTouched=Function.prototype,this.validatorChange=Function.prototype,this.localeHolder={},this.endKey="endDate",this.startKey="startDate",this.drops="down",this.opens="auto",i.clear();let c=i.createComponent(XIe);this.picker=c.instance,this.picker.inline=!1}get disabled(){return this.disabledHolder}set startKey(i){i!==null?this.startKeyHolder=i:this.startKeyHolder="startDate"}get locale(){return this.localeHolder}set locale(i){this.localeHolder=Ie(Ie({},this.localeHolderService.config),i)}set endKey(i){i!==null?this.endKeyHolder=i:this.endKeyHolder="endDate"}get value(){return this.valueHolder||null}set value(i){this.valueHolder=i,this.onChangeFn(i),this.ref.markForCheck()}outsideClick(i){i.target&&(i.target.classList.contains("ngx-daterangepicker-action")||this.elementRef.nativeElement.contains(i.target)||this.hide())}hide(i){this.picker.hide(i)}onBlur(){this.onTouched()}inputChanged(i){if(i.target.tagName.toLowerCase()!=="input"||!i.target.value.length)return;let n=i.target.value.split(this.picker.locale.separator),r=null,o=null;n.length===2&&(r=gr(n[0],this.picker.locale.format),o=gr(n[1],this.picker.locale.format)),(this.singleDatePicker||r===null||o===null)&&(r=gr(i.target.value,this.picker.locale.format),o=r),!(!r.isValid()||!o.isValid())&&(this.picker.setStartDate(r),this.picker.setEndDate(o),this.picker.updateView())}open(i){this.disabled||(this.picker.show(i),setTimeout(()=>{this.setPosition()}))}ngOnInit(){this.picker.startDateChanged.asObservable().subscribe(i=>{this.startDateChanged.emit(i)}),this.picker.endDateChanged.asObservable().subscribe(i=>{this.endDateChanged.emit(i)}),this.picker.rangeClicked.asObservable().subscribe(i=>{this.rangeClicked.emit(i)}),this.picker.datesUpdated.asObservable().subscribe(i=>{this.datesUpdated.emit(i)}),this.picker.clearClicked.asObservable().subscribe(()=>{this.clearClicked.emit()}),this.picker.choosedDate.asObservable().subscribe(i=>{if(i){let n={[this.startKeyHolder]:i.startDate,[this.endKeyHolder]:i.endDate};this.value=n,this.onChange.emit(n),typeof i.chosenLabel=="string"&&(this.el.nativeElement.value=i.chosenLabel)}}),this.picker.firstMonthDayClass=this.firstMonthDayClass,this.picker.lastMonthDayClass=this.lastMonthDayClass,this.picker.emptyWeekRowClass=this.emptyWeekRowClass,this.picker.emptyWeekColumnClass=this.emptyWeekColumnClass,this.picker.firstDayOfNextMonthClass=this.firstDayOfNextMonthClass,this.picker.lastDayOfPreviousMonthClass=this.lastDayOfPreviousMonthClass,this.picker.drops=this.drops,this.picker.opens=this.opens,this.localeDiffer=this.differs.find(this.locale).create(),this.picker.closeOnAutoApply=this.closeOnAutoApply}ngOnChanges(i){for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&this.notForChangesProperty.indexOf(n)===-1&&(this.picker[n]=i[n].currentValue)}ngDoCheck(){this.localeDiffer&&this.localeDiffer.diff(this.locale)&&this.picker.updateLocale(this.locale)}toggle(i){this.picker.isShown?this.hide(i):this.open(i)}clear(){this.picker.clear()}writeValue(i){this.setValue(i)}registerOnChange(i){this.onChangeFn=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabledHolder=i}setPosition(){let i,n,r=this.picker.pickerContainer.nativeElement,o=this.el.nativeElement;if(this.drops&&this.drops==="up"?n=o.offsetTop-r.clientHeight+"px":n="auto",this.opens==="left")i={top:n,left:o.offsetLeft-r.clientWidth+o.clientWidth+"px",right:"auto"};else if(this.opens==="center")i={top:n,left:o.offsetLeft+o.clientWidth/2-r.clientWidth/2+"px",right:"auto"};else if(this.opens==="right")i={top:n,left:o.offsetLeft+"px",right:"auto"};else{let s=o.offsetLeft+o.clientWidth/2-r.clientWidth/2;s<0?i={top:n,left:o.offsetLeft+"px",right:"auto"}:i={top:n,left:s+"px",right:"auto"}}i&&(this.renderer.setStyle(r,"top",i.top),this.renderer.setStyle(r,"left",i.left),this.renderer.setStyle(r,"right",i.right))}setValue(i){i?(this.value=i,i[this.startKeyHolder]&&this.picker.setStartDate(i[this.startKeyHolder]),i[this.endKeyHolder]&&this.picker.setEndDate(i[this.endKeyHolder]),this.picker.calculateChosenLabel(),this.picker.chosenLabel&&(this.el.nativeElement.value=this.picker.chosenLabel)):this.picker.clear()}}return e.\u0275fac=function(i){return new(i||e)(ri(Bo),ri(An),ri(pi),ri(Ar),ri(W2),ri(aA),ri(pi))},e.\u0275dir=di({type:e,selectors:[["input","ngxDaterangepickerMd",""]],hostVars:1,hostBindings:function(i,n){i&1&&Ot("click",function(o){return n.outsideClick(o)},!1,N2)("keyup.esc",function(o){return n.hide(o)})("blur",function(){return n.onBlur()})("keyup",function(o){return n.inputChanged(o)})("click",function(o){return n.open(o)}),i&2&&gl("disabled",n.disabled)},inputs:{minDate:"minDate",maxDate:"maxDate",autoApply:"autoApply",alwaysShowCalendars:"alwaysShowCalendars",showCustomRangeLabel:"showCustomRangeLabel",linkedCalendars:"linkedCalendars",dateLimit:"dateLimit",singleDatePicker:"singleDatePicker",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",showDropdowns:"showDropdowns",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate",showClearButton:"showClearButton",customRangeDirection:"customRangeDirection",ranges:"ranges",opens:"opens",drops:"drops",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",showCancel:"showCancel",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",closeOnAutoApply:"closeOnAutoApply",endKeyHolder:"endKeyHolder",startKey:"startKey",locale:"locale",endKey:"endKey"},outputs:{onChange:"change",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged",clearClicked:"clearClicked"},standalone:!1,features:[Mn([{provide:gd,useExisting:qs(()=>e),multi:!0}]),Gn]}),e})(),jZ=(()=>{class e{constructor(){}static forRoot(i={}){return{ngModule:e,providers:[{provide:sN,useValue:i},{provide:aA,useClass:aA,deps:[sN]}]}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=ii({providers:[],imports:[[Yg,qT,$K]]}),e})();var _6={};Goe(_6,{default:()=>b6});function rx(e){return e+.5|0}var ig=(e,t,i)=>Math.max(Math.min(e,i),t);function ix(e){return ig(rx(e*2.55),0,255)}function ng(e){return ig(rx(e*255),0,255)}function pp(e){return ig(rx(e/2.55)/100,0,1)}function qZ(e){return ig(rx(e*100),0,100)}var ru={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lN=[..."0123456789ABCDEF"],KIe=e=>lN[e&15],ZIe=e=>lN[(e&240)>>4]+lN[e&15],lA=e=>(e&240)>>4===(e&15),QIe=e=>lA(e.r)&&lA(e.g)&&lA(e.b)&&lA(e.a);function JIe(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&ru[e[1]]*17,g:255&ru[e[2]]*17,b:255&ru[e[3]]*17,a:t===5?ru[e[4]]*17:255}:(t===7||t===9)&&(i={r:ru[e[1]]<<4|ru[e[2]],g:ru[e[3]]<<4|ru[e[4]],b:ru[e[5]]<<4|ru[e[6]],a:t===9?ru[e[7]]<<4|ru[e[8]]:255})),i}var e3e=(e,t)=>e<255?t(e):"";function t3e(e){var t=QIe(e)?KIe:ZIe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+e3e(e.a,t):void 0}var i3e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function KZ(e,t,i){let n=t*Math.min(i,1-i),r=(o,s=(o+e/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function n3e(e,t,i){let n=(r,o=(r+e/60)%6)=>i-i*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function r3e(e,t,i){let n=KZ(e,1,.5),r;for(t+i>1&&(r=1/(t+i),t*=r,i*=r),r=0;r<3;r++)n[r]*=1-t-i,n[r]+=t;return n}function o3e(e,t,i,n,r){return e===r?(t-i)/n+(t<i?6:0):t===r?(i-e)/n+2:(e-t)/n+4}function cN(e){let i=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(i,n,r),s=Math.min(i,n,r),a=(o+s)/2,l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=o3e(i,n,r,d,o),l=l*60+.5),[l|0,c||0,a]}function dN(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(ng)}function uN(e,t,i){return dN(KZ,e,t,i)}function s3e(e,t,i){return dN(r3e,e,t,i)}function a3e(e,t,i){return dN(n3e,e,t,i)}function ZZ(e){return(e%360+360)%360}function l3e(e){let t=i3e.exec(e),i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?ix(+t[5]):ng(+t[5]));let r=ZZ(+t[2]),o=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?n=s3e(r,o,s):t[1]==="hsv"?n=a3e(r,o,s):n=uN(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}function c3e(e,t){var i=cN(e);i[0]=ZZ(i[0]+t),i=uN(i),e.r=i[0],e.g=i[1],e.b=i[2]}function d3e(e){if(!e)return;let t=cN(e),i=t[0],n=qZ(t[1]),r=qZ(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${r}%, ${pp(e.a)})`:`hsl(${i}, ${n}%, ${r}%)`}var YZ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$Z={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function u3e(){let e={},t=Object.keys($Z),i=Object.keys(YZ),n,r,o,s,a;for(n=0;n<t.length;n++){for(s=a=t[n],r=0;r<i.length;r++)o=i[r],a=a.replace(o,YZ[o]);o=parseInt($Z[s],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var cA;function h3e(e){cA||(cA=u3e(),cA.transparent=[0,0,0,0]);let t=cA[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var f3e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p3e(e){let t=f3e.exec(e),i=255,n,r,o;if(t){if(t[7]!==n){let s=+t[7];i=t[8]?ix(s):ig(s*255,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?ix(n):ig(n,0,255)),r=255&(t[4]?ix(r):ig(r,0,255)),o=255&(t[6]?ix(o):ig(o,0,255)),{r:n,g:r,b:o,a:i}}}function m3e(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${pp(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var aN=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,q_=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function g3e(e,t,i){let n=q_(pp(e.r)),r=q_(pp(e.g)),o=q_(pp(e.b));return{r:ng(aN(n+i*(q_(pp(t.r))-n))),g:ng(aN(r+i*(q_(pp(t.g))-r))),b:ng(aN(o+i*(q_(pp(t.b))-o))),a:e.a+i*(t.a-e.a)}}function dA(e,t,i){if(e){let n=cN(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=uN(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function QZ(e,t){return e&&Object.assign(t||{},e)}function XZ(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ng(e[3]))):(t=QZ(e,{r:0,g:0,b:0,a:1}),t.a=ng(t.a)),t}function v3e(e){return e.charAt(0)==="r"?p3e(e):l3e(e)}var nx=class e{constructor(t){if(t instanceof e)return t;let i=typeof t,n;i==="object"?n=XZ(t):i==="string"&&(n=JIe(t)||h3e(t)||v3e(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=QZ(this._rgb);return t&&(t.a=pp(t.a)),t}set rgb(t){this._rgb=XZ(t)}rgbString(){return this._valid?m3e(this._rgb):void 0}hexString(){return this._valid?t3e(this._rgb):void 0}hslString(){return this._valid?d3e(this._rgb):void 0}mix(t,i){if(t){let n=this.rgb,r=t.rgb,o,s=i===o?.5:i,a=2*s-1,l=n.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*r.r+.5,n.g=255&c*n.g+o*r.g+.5,n.b=255&c*n.b+o*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=g3e(this._rgb,t._rgb,i)),this}clone(){return new e(this.rgb)}alpha(t){return this._rgb.a=ng(t),this}clearer(t){let i=this._rgb;return i.a*=1-t,this}greyscale(){let t=this._rgb,i=rx(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){let i=this._rgb;return i.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return dA(this._rgb,2,t),this}darken(t){return dA(this._rgb,2,-t),this}saturate(t){return dA(this._rgb,1,t),this}desaturate(t){return dA(this._rgb,1,-t),this}rotate(t){return c3e(this._rgb,t),this}};function qu(){}var mN=(()=>{let e=0;return()=>e++})();function nr(e){return e==null}function Uo(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Cr(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ss(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function hc(e,t){return Ss(e)?e:t}function Qn(e,t){return typeof e>"u"?t:e}var gN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,gA=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mo(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function eo(e,t,i,n){let r,o,s;if(Uo(e))if(o=e.length,n)for(r=o-1;r>=0;r--)t.call(i,e[r],r);else for(r=0;r<o;r++)t.call(i,e[r],r);else if(Cr(e))for(s=Object.keys(e),o=s.length,r=0;r<o;r++)t.call(i,e[s[r]],s[r])}function X_(e,t){let i,n,r,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],o=t[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function sx(e){if(Uo(e))return e.map(sx);if(Cr(e)){let t=Object.create(null),i=Object.keys(e),n=i.length,r=0;for(;r<n;++r)t[i[r]]=sx(e[i[r]]);return t}return e}function lQ(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function cQ(e,t,i,n){if(!lQ(e))return;let r=t[e],o=i[e];Cr(r)&&Cr(o)?bd(r,o,n):t[e]=sx(o)}function bd(e,t,i){let n=Uo(t)?t:[t],r=n.length;if(!Cr(e))return e;i=i||{};let o=i.merger||cQ,s;for(let a=0;a<r;++a){if(s=n[a],!Cr(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],e,s,i)}return e}function J0(e,t){return bd(e,t,{merger:dQ})}function dQ(e,t,i){if(!lQ(e))return;let n=t[e],r=i[e];Cr(n)&&Cr(r)?J0(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=sx(r))}var JZ={"":e=>e,x:e=>e.x,y:e=>e.y};function uQ(e){let t=e.split("."),i=[],n="";for(let r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function b3e(e){let t=uQ(e);return i=>{for(let n of t){if(n==="")break;i=i&&i[n]}return i}}function Kh(e,t){return(JZ[t]||(JZ[t]=b3e(t)))(e)}function cx(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ev=e=>typeof e<"u",$h=e=>typeof e=="function",vA=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0};function vN(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var Go=Math.PI,Wo=2*Go,hQ=Wo+Go,ax=Number.POSITIVE_INFINITY,fQ=Go/180,Is=Go/2,rg=Go/4,fN=Go*2/3,Xh=Math.log10,ou=Math.sign;function tv(e,t,i){return Math.abs(e-t)<i}function bA(e){let t=Math.round(e);e=tv(e,t,e/1e3)?t:e;let i=Math.pow(10,Math.floor(Xh(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function bN(e){let t=[],i=Math.sqrt(e),n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((r,o)=>r-o).pop(),t}function _3e(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function sg(e){return!_3e(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function _N(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}function _A(e,t,i){let n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function _d(e){return e*(Go/180)}function dx(e){return e*(180/Go)}function yA(e){if(!Ss(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function wA(e,t){let i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*Go&&(o+=Wo),{angle:o,distance:r}}function lx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function pQ(e,t){return(e-t+hQ)%Wo-Go}function uc(e){return(e%Wo+Wo)%Wo}function iv(e,t,i,n){let r=uc(e),o=uc(t),s=uc(i),a=uc(o-r),l=uc(s-r),c=uc(r-o),d=uc(r-s);return r===o||r===s||n&&o===s||a>l&&c<d}function va(e,t,i){return Math.max(t,Math.min(i,e))}function yN(e){return va(e,-32768,32767)}function Yu(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function ux(e,t,i){i=i||(s=>e[s]<t);let n=e.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,i(o)?r=o:n=o;return{lo:r,hi:n}}var Wu=(e,t,i,n)=>ux(e,i,n?r=>{let o=e[r][t];return o<i||o===i&&e[r+1][t]===i}:r=>e[r][t]<i),wN=(e,t,i)=>ux(e,i,n=>e[n][t]>=i);function CN(e,t,i){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>i;)r--;return n>0||r<e.length?e.slice(n,r):e}var mQ=["push","pop","shift","splice","unshift"];function xN(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mQ.forEach(i=>{let n="_onData"+cx(i),r=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),s}})})}function CA(e,t){let i=e._chartjs;if(!i)return;let n=i.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(mQ.forEach(o=>{delete e[o]}),delete e._chartjs)}function xA(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}var SA=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function MA(e,t){let i=[],n=!1;return function(...r){i=r,n||(n=!0,SA.call(window,()=>{n=!1,e.apply(t,i)}))}}function SN(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}var hx=e=>e==="start"?"left":e==="end"?"right":"center",el=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,MN=(e,t,i,n)=>e===(n?"left":"right")?i:e==="center"?(t+i)/2:t;function EA(e,t,i){let n=t.length,r=0,o=n;if(e._sorted){let{iScale:s,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=s.axis,{min:u,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(r=Math.min(Wu(l,d,u).lo,i?n:Wu(t,d,s.getPixelForValue(u)).lo),c){let v=l.slice(0,r+1).reverse().findIndex(m=>!nr(m[a.axis]));r-=Math.max(0,v)}r=va(r,0,n-1)}if(p){let v=Math.max(Wu(l,s.axis,h,!0).hi+1,i?0:Wu(t,d,s.getPixelForValue(h),!0).hi+1);if(c){let m=l.slice(v-1).findIndex(g=>!nr(g[a.axis]));v+=Math.max(0,m)}o=va(v,r,n)-r}else o=n-r}return{start:r,count:o}}function DA(e){let{xScale:t,yScale:i,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=r,!0;let o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),o}var uA=e=>e===0||e===1,eQ=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Wo/i)),tQ=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*Wo/i)+1,Z0={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Is)+1,easeOutSine:e=>Math.sin(e*Is),easeInOutSine:e=>-.5*(Math.cos(Go*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>uA(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>uA(e)?e:eQ(e,.075,.3),easeOutElastic:e=>uA(e)?e:tQ(e,.075,.3),easeInOutElastic(e){return uA(e)?e:e<.5?.5*eQ(e*2,.1125,.45):.5+.5*tQ(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Z0.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Z0.easeInBounce(e*2)*.5:Z0.easeOutBounce(e*2-1)*.5+.5};function TA(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function AA(e){return TA(e)?e:new nx(e)}function pA(e){return TA(e)?e:new nx(e).saturate(.5).darken(.1).hexString()}var y3e=["x","y","borderWidth","radius","tension"],w3e=["color","borderColor","backgroundColor"];function C3e(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:w3e},numbers:{type:"number",properties:y3e}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function x3e(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var iQ=new Map;function S3e(e,t){t=t||{};let i=e+JSON.stringify(t),n=iQ.get(i);return n||(n=new Intl.NumberFormat(e,t),iQ.set(i,n)),n}function nv(e,t,i){return S3e(t,i).format(e)}var gQ={values(e){return Uo(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";let n=this.chart.options.locale,r,o=e;if(i.length>1){let c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=M3e(e,i)}let s=Xh(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),nv(e,n,l)},logarithmic(e,t,i){if(e===0)return"0";let n=i[t].significand||e/Math.pow(10,Math.floor(Xh(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?gQ.numeric.call(this,e,t,i):""}};function M3e(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var fx={formatters:gQ};function E3e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var ag=Object.create(null),RA=Object.create(null);function ox(e,t){if(!t)return e;let i=t.split(".");for(let n=0,r=i.length;n<r;++n){let o=i[n];e=e[o]||(e[o]=Object.create(null))}return e}function hN(e,t,i){return typeof t=="string"?bd(ox(e,t),i):bd(ox(e,""),t)}var pN=class{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>pA(r.backgroundColor),this.hoverBorderColor=(n,r)=>pA(r.borderColor),this.hoverColor=(n,r)=>pA(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return hN(this,t,i)}get(t){return ox(this,t)}describe(t,i){return hN(RA,t,i)}override(t,i){return hN(ag,t,i)}route(t,i,n,r){let o=ox(this,t),s=ox(this,n),a="_"+i;Object.defineProperties(o,{[a]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){let l=this[a],c=s[r];return Cr(l)?Object.assign({},c,l):Qn(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(i=>i(this))}},ko=new pN({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[C3e,x3e,E3e]);function vQ(e){return!e||nr(e.size)||nr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Y_(e,t,i,n,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,i.push(r)),o>n&&(n=o),n}function EN(e,t,i,n){n=n||{};let r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let s=0,a=i.length,l,c,d,u,h;for(l=0;l<a;l++)if(u=i[l],u!=null&&!Uo(u))s=Y_(e,r,o,s,u);else if(Uo(u))for(c=0,d=u.length;c<d;c++)h=u[c],h!=null&&!Uo(h)&&(s=Y_(e,r,o,s,h));e.restore();let f=o.length/2;if(f>i.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function gp(e,t,i){let n=e.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((t-r)*n)/n+r}function kA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function px(e,t,i,n){IA(e,t,i,n,null)}function IA(e,t,i,n,r){let o,s,a,l,c,d,u,h,f=t.pointStyle,p=t.rotation,v=t.radius,m=(p||0)*fQ;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),f){default:r?e.ellipse(i,n,r/2,v,0,0,Wo):e.arc(i,n,v,0,Wo),e.closePath();break;case"triangle":d=r?r/2:v,e.moveTo(i+Math.sin(m)*d,n-Math.cos(m)*v),m+=fN,e.lineTo(i+Math.sin(m)*d,n-Math.cos(m)*v),m+=fN,e.lineTo(i+Math.sin(m)*d,n-Math.cos(m)*v),e.closePath();break;case"rectRounded":c=v*.516,l=v-c,s=Math.cos(m+rg)*l,u=Math.cos(m+rg)*(r?r/2-c:l),a=Math.sin(m+rg)*l,h=Math.sin(m+rg)*(r?r/2-c:l),e.arc(i-u,n-a,c,m-Go,m-Is),e.arc(i+h,n-s,c,m-Is,m),e.arc(i+u,n+a,c,m,m+Is),e.arc(i-h,n+s,c,m+Is,m+Go),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,d=r?r/2:l,e.rect(i-d,n-l,2*d,2*l);break}m+=rg;case"rectRot":u=Math.cos(m)*(r?r/2:v),s=Math.cos(m)*v,a=Math.sin(m)*v,h=Math.sin(m)*(r?r/2:v),e.moveTo(i-u,n-a),e.lineTo(i+h,n-s),e.lineTo(i+u,n+a),e.lineTo(i-h,n+s),e.closePath();break;case"crossRot":m+=rg;case"cross":u=Math.cos(m)*(r?r/2:v),s=Math.cos(m)*v,a=Math.sin(m)*v,h=Math.sin(m)*(r?r/2:v),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s);break;case"star":u=Math.cos(m)*(r?r/2:v),s=Math.cos(m)*v,a=Math.sin(m)*v,h=Math.sin(m)*(r?r/2:v),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s),m+=rg,u=Math.cos(m)*(r?r/2:v),s=Math.cos(m)*v,a=Math.sin(m)*v,h=Math.sin(m)*(r?r/2:v),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s);break;case"line":s=r?r/2:Math.cos(m)*v,a=Math.sin(m)*v,e.moveTo(i-s,n-a),e.lineTo(i+s,n+a);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(m)*(r?r/2:v),n+Math.sin(m)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ju(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function K_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Z_(e){e.restore()}function DN(e,t,i,n,r){if(!t)return e.lineTo(i.x,i.y);if(r==="middle"){let o=(t.x+i.x)/2;e.lineTo(o,t.y),e.lineTo(o,i.y)}else r==="after"!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function TN(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function D3e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),nr(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function T3e(e,t,i,n,r){if(r.strikethrough||r.underline){let o=e.measureText(n),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,c=i+o.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,d),e.lineTo(a,d),e.stroke()}}function A3e(e,t){let i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function vp(e,t,i,n,r,o={}){let s=Uo(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(e.save(),e.font=r.string,D3e(e,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&A3e(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),nr(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,i,n,o.maxWidth)),e.fillText(c,i,n,o.maxWidth),T3e(e,i,n,c,o),n+=Number(r.lineHeight);e.restore()}function rv(e,t){let{x:i,y:n,w:r,h:o,radius:s}=t;e.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*Go,Go,!0),e.lineTo(i,n+o-s.bottomLeft),e.arc(i+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,Go,Is,!0),e.lineTo(i+r-s.bottomRight,n+o),e.arc(i+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,Is,0,!0),e.lineTo(i+r,n+s.topRight),e.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-Is,!0),e.lineTo(i+s.topLeft,n)}var R3e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k3e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bQ(e,t){let i=(""+e).match(R3e);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}var I3e=e=>+e||0;function mx(e,t){let i={},n=Cr(t),r=n?Object.keys(t):t,o=Cr(e)?n?s=>Qn(e[s],e[t[s]]):s=>e[s]:()=>e;for(let s of r)i[s]=I3e(o(s));return i}function PA(e){return mx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function bp(e){return mx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ba(e){let t=PA(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ps(e,t){e=e||{},t=t||ko.font;let i=Qn(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=Qn(e.style,t.style);n&&!(""+n).match(k3e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:Qn(e.family,t.family),lineHeight:bQ(Qn(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:Qn(e.weight,t.weight),string:""};return r.string=vQ(r),r}function Io(e,t,i,n){let r=!0,o,s,a;for(o=0,s=e.length;o<s;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),i!==void 0&&Uo(a)&&(a=a[i%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function AN(e,t,i){let{min:n,max:r}=e,o=gA(t,(r-n)/2),s=(a,l)=>i&&a===0?0:a+l;return{min:s(n,-Math.abs(o)),max:s(r,o)}}function Zh(e,t){return Object.assign(Object.create(e),t)}function gx(e,t=[""],i,n,r=()=>e[0]){let o=i||e;typeof n>"u"&&(n=wQ("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:r,override:a=>gx([a,...e],t,o,n)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return _Q(a,l,()=>z3e(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return rQ(a).includes(l)},ownKeys(a){return rQ(a)},set(a,l,c){let d=a._storage||(a._storage=r());return a[l]=d[l]=c,delete a._keys,!0}})}function og(e,t,i,n){let r={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:FA(e,n),setContext:o=>og(e,o,i,n),override:o=>og(e.override(o),t,i,n)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete e[s],!0},get(o,s,a){return _Q(o,s,()=>F3e(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(o,s,a){return e[s]=a,delete o[s],!0}})}function FA(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:n,isScriptable:$h(i)?i:()=>i,isIndexable:$h(n)?n:()=>n}}var P3e=(e,t)=>e?e+cx(t):t,RN=(e,t)=>Cr(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _Q(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];let n=i();return e[t]=n,n}function F3e(e,t,i){let{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=e,a=n[t];return $h(a)&&s.isScriptable(t)&&(a=O3e(t,a,e,i)),Uo(a)&&a.length&&(a=L3e(t,a,e,s.isIndexable)),RN(t,a)&&(a=og(a,r,o&&o[t],s)),a}function O3e(e,t,i,n){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,s||n);return a.delete(e),RN(e,l)&&(l=kN(r._scopes,r,e,l)),l}function L3e(e,t,i,n){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=i;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(Cr(t[0])){let l=t,c=r._scopes.filter(d=>d!==l);t=[];for(let d of l){let u=kN(c,r,e,d);t.push(og(u,o,s&&s[e],a))}}return t}function yQ(e,t,i){return $h(e)?e(t,i):e}var N3e=(e,t)=>e===!0?t:typeof e=="string"?Kh(t,e):void 0;function B3e(e,t,i,n,r){for(let o of t){let s=N3e(i,o);if(s){e.add(s);let a=yQ(s._fallback,i,r);if(typeof a<"u"&&a!==i&&a!==n)return a}else if(s===!1&&typeof n<"u"&&i!==n)return null}return!1}function kN(e,t,i,n){let r=t._rootScopes,o=yQ(t._fallback,i,n),s=[...e,...r],a=new Set;a.add(n);let l=nQ(a,s,i,o||i,n);return l===null||typeof o<"u"&&o!==i&&(l=nQ(a,s,o,l,n),l===null)?!1:gx(Array.from(a),[""],r,o,()=>V3e(t,i,n))}function nQ(e,t,i,n,r){for(;i;)i=B3e(e,t,i,n,r);return i}function V3e(e,t,i){let n=e._getTarget();t in n||(n[t]={});let r=n[t];return Uo(r)&&Cr(i)?i:r||{}}function z3e(e,t,i,n){let r;for(let o of t)if(r=wQ(P3e(o,e),i),typeof r<"u")return RN(e,r)?kN(i,n,e,r):r}function wQ(e,t){for(let i of t){if(!i)continue;let n=i[e];if(typeof n<"u")return n}}function rQ(e){let t=e._keys;return t||(t=e._keys=H3e(e._scopes)),t}function H3e(e){let t=new Set;for(let i of e)for(let n of Object.keys(i).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function OA(e,t,i,n){let{iScale:r}=e,{key:o="r"}=this._parsing,s=new Array(n),a,l,c,d;for(a=0,l=n;a<l;++a)c=a+i,d=t[c],s[a]={r:r.parse(Kh(d,o),c)};return s}var U3e=Number.EPSILON||1e-14,$_=(e,t)=>t<e.length&&!e[t].skip&&e[t],CQ=e=>e==="x"?"y":"x";function xQ(e,t,i,n){let r=e.skip?t:e,o=t,s=i.skip?t:i,a=lx(o,r),l=lx(s,o),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let u=n*c,h=n*d;return{previous:{x:o.x-u*(s.x-r.x),y:o.y-u*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}}function G3e(e,t,i){let n=e.length,r,o,s,a,l,c=$_(e,0);for(let d=0;d<n-1;++d)if(l=c,c=$_(e,d+1),!(!l||!c)){if(tv(t[d],0,U3e)){i[d]=i[d+1]=0;continue}r=i[d]/t[d],o=i[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),i[d]=r*s*t[d],i[d+1]=o*s*t[d])}}function W3e(e,t,i="x"){let n=CQ(i),r=e.length,o,s,a,l=$_(e,0);for(let c=0;c<r;++c){if(s=a,a=l,l=$_(e,c+1),!a)continue;let d=a[i],u=a[n];s&&(o=(d-s[i])/3,a[`cp1${i}`]=d-o,a[`cp1${n}`]=u-o*t[c]),l&&(o=(l[i]-d)/3,a[`cp2${i}`]=d+o,a[`cp2${n}`]=u+o*t[c])}}function SQ(e,t="x"){let i=CQ(t),n=e.length,r=Array(n).fill(0),o=Array(n),s,a,l,c=$_(e,0);for(s=0;s<n;++s)if(a=l,l=c,c=$_(e,s+1),!!l){if(c){let d=c[t]-l[t];r[s]=d!==0?(c[i]-l[i])/d:0}o[s]=a?c?ou(r[s-1])!==ou(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}G3e(e,r,o),W3e(e,o,t)}function hA(e,t,i){return Math.max(Math.min(e,i),t)}function j3e(e,t){let i,n,r,o,s,a=ju(e[0],t);for(i=0,n=e.length;i<n;++i)s=o,o=a,a=i<n-1&&ju(e[i+1],t),o&&(r=e[i],s&&(r.cp1x=hA(r.cp1x,t.left,t.right),r.cp1y=hA(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=hA(r.cp2x,t.left,t.right),r.cp2y=hA(r.cp2y,t.top,t.bottom)))}function IN(e,t,i,n,r){let o,s,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")SQ(e,r);else{let c=n?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=xQ(c,a,e[Math.min(o+1,s-(n?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&j3e(e,i)}function vx(){return typeof window<"u"&&typeof document<"u"}function bx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mA(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}var LA=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function MQ(e,t){return LA(e).getPropertyValue(t)}var q3e=["top","right","bottom","left"];function Q0(e,t,i){let n={};i=i?"-"+i:"";for(let r=0;r<4;r++){let o=q3e[r];n[o]=parseFloat(e[t+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Y3e=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function $3e(e,t){let i=e.touches,n=i&&i.length?i[0]:e,{offsetX:r,offsetY:o}=n,s=!1,a,l;if(Y3e(r,o,e.target))a=r,l=o;else{let c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function _p(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:n}=t,r=LA(i),o=r.boxSizing==="border-box",s=Q0(r,"padding"),a=Q0(r,"border","width"),{x:l,y:c,box:d}=$3e(e,i),u=s.left+(d&&a.left),h=s.top+(d&&a.top),{width:f,height:p}=t;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-u)/f*i.width/n),y:Math.round((c-h)/p*i.height/n)}}function X3e(e,t,i){let n,r;if(t===void 0||i===void 0){let o=e&&bx(e);if(!o)t=e.clientWidth,i=e.clientHeight;else{let s=o.getBoundingClientRect(),a=LA(o),l=Q0(a,"border","width"),c=Q0(a,"padding");t=s.width-c.width-l.width,i=s.height-c.height-l.height,n=mA(a.maxWidth,o,"clientWidth"),r=mA(a.maxHeight,o,"clientHeight")}}return{width:t,height:i,maxWidth:n||ax,maxHeight:r||ax}}var fA=e=>Math.round(e*10)/10;function PN(e,t,i,n){let r=LA(e),o=Q0(r,"margin"),s=mA(r.maxWidth,e,"clientWidth")||ax,a=mA(r.maxHeight,e,"clientHeight")||ax,l=X3e(e,t,i),{width:c,height:d}=l;if(r.boxSizing==="content-box"){let h=Q0(r,"border","width"),f=Q0(r,"padding");c-=f.width+h.width,d-=f.height+h.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=fA(Math.min(c,s,l.maxWidth)),d=fA(Math.min(d,a,l.maxHeight)),c&&!d&&(d=fA(c/2)),(t!==void 0||i!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=fA(Math.floor(d*n))),{width:c,height:d}}function NA(e,t,i){let n=t||1,r=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||s.height!==r||s.width!==o?(e.currentDevicePixelRatio=n,s.height=r,s.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}var FN=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};vx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function BA(e,t){let i=MQ(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function mp(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function ON(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:n==="middle"?i<.5?e.y:t.y:n==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function LN(e,t,i,n){let r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=mp(e,r,i),a=mp(r,o,i),l=mp(o,t,i),c=mp(s,a,i),d=mp(a,l,i);return mp(c,d,i)}var K3e=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},Z3e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function lg(e,t,i){return e?K3e(t,i):Z3e()}function VA(e,t){let i,n;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function zA(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function EQ(e){return e==="angle"?{between:iv,compare:pQ,normalize:uc}:{between:Yu,compare:(t,i)=>t-i,normalize:t=>t}}function oQ({start:e,end:t,count:i,loop:n,style:r}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i===0,style:r}}function Q3e(e,t,i){let{property:n,start:r,end:o}=i,{between:s,normalize:a}=EQ(n),l=t.length,{start:c,end:d,loop:u}=e,h,f;if(u){for(c+=l,d+=l,h=0,f=l;h<f&&s(a(t[c%l][n]),r,o);++h)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:e.style}}function HA(e,t,i){if(!i)return[e];let{property:n,start:r,end:o}=i,s=t.length,{compare:a,between:l,normalize:c}=EQ(n),{start:d,end:u,loop:h,style:f}=Q3e(e,t,i),p=[],v=!1,m=null,g,b,w,x=()=>l(r,w,g)&&a(r,w)!==0,R=()=>a(o,g)===0||l(o,w,g),_=()=>v||x(),L=()=>!v||R();for(let F=d,T=d;F<=u;++F)b=t[F%s],!b.skip&&(g=c(b[n]),g!==w&&(v=l(g,r,o),m===null&&_()&&(m=a(g,r)===0?F:T),m!==null&&L()&&(p.push(oQ({start:m,end:F,loop:h,count:s,style:f})),m=null),T=F,w=g));return m!==null&&p.push(oQ({start:m,end:u,loop:h,count:s,style:f})),p}function UA(e,t){let i=[],n=e.segments;for(let r=0;r<n.length;r++){let o=HA(n[r],e.points,t);o.length&&i.push(...o)}return i}function J3e(e,t,i,n){let r=0,o=t-1;if(i&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,i&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}function ePe(e,t,i,n){let r=e.length,o=[],s=t,a=e[t],l;for(l=t+1;l<=i;++l){let c=e[l%r];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%r,end:(l-1)%r,loop:n}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return s!==null&&o.push({start:t%r,end:s%r,loop:n}),o}function NN(e,t){let i=e.points,n=e.options.spanGaps,r=i.length;if(!r)return[];let o=!!e._loop,{start:s,end:a}=J3e(i,r,o,n);if(n===!0)return sQ(e,[{start:s,end:a,loop:o}],i,t);let l=a<s?a+r:a,c=!!e._fullLoop&&s===0&&a===r-1;return sQ(e,ePe(i,s,l,c),i,t)}function sQ(e,t,i,n){return!n||!n.setContext||!i?t:tPe(e,t,i,n)}function tPe(e,t,i,n){let r=e._chart.getContext(),o=aQ(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=i.length,c=[],d=o,u=t[0].start,h=u;function f(p,v,m,g){let b=a?-1:1;if(p!==v){for(p+=l;i[p%l].skip;)p-=b;for(;i[v%l].skip;)v+=b;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:m,style:g}),d=g,u=v%l)}}for(let p of t){u=a?u:p.start;let v=i[u%l],m;for(h=u+1;h<=p.end;h++){let g=i[h%l];m=aQ(n.setContext(Zh(r,{type:"segment",p0:v,p1:g,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),iPe(m,d)&&f(u,h-1,p.loop,d),v=g,d=m}u<h-1&&f(u,h-1,p.loop,d)}return c}function aQ(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function iPe(e,t){if(!t)return!1;let i=[],n=function(r,o){return TA(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}var $N=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,r){let o=i.listeners[r],s=i.duration;o.forEach(a=>a({chart:t,initial:i.initial,numSteps:s,currentStep:Math.min(n-i.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=SA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let o=n.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),i+=o.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){let i=this._charts,n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){let i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){let i=this._charts.get(t);if(!i||!i.items.length)return;let n=i.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},yp=new $N,DQ="transparent",nPe={boolean(e,t,i){return i>.5?t:e},color(e,t,i){let n=AA(e||DQ),r=n.valid&&AA(t||DQ);return r&&r.valid?r.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}},XN=class{constructor(t,i,n,r){let o=i[n];r=Io([t.to,r,o,t.from]);let s=Io([t.from,o,r]);this._active=!0,this._fn=t.fn||nPe[t.type||typeof s],this._easing=Z0[t.easing]||Z0.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);let r=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Io([t.to,i,r,t.from]),this._from=Io([t.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let i=t-this._start,n=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||i<n),!this._active){this._target[r]=a,this._notify(!0);return}if(i<0){this._target[r]=o;return}l=i/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){let i=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}},QA=class{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!Cr(t))return;let i=Object.keys(ko.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let o=t[r];if(!Cr(o))return;let s={};for(let a of i)s[a]=o[a];(Uo(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,s)})})}_animateOptions(t,i){let n=i.options,r=oPe(t,n);if(!r)return[];let o=this._createAnimations(r,n);return n.$shared&&rPe(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,i){let n=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(i),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,i));continue}let d=i[c],u=o[c],h=n.get(c);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){t[c]=d;continue}o[c]=u=new XN(h,t,c,d),r.push(u)}return r}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}let n=this._createAnimations(t,i);if(n.length)return yp.add(this._chart,n),!0}};function rPe(e,t){let i=[],n=Object.keys(t);for(let r=0;r<n.length;r++){let o=e[n[r]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function oPe(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function TQ(e,t){let i=e&&e.options||{},n=i.reverse,r=i.min===void 0?t:0,o=i.max===void 0?t:0;return{start:n?o:r,end:n?r:o}}function sPe(e,t,i){if(i===!1)return!1;let n=TQ(e,i),r=TQ(t,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function aPe(e){let t,i,n,r;return Cr(e)?(t=e.top,i=e.right,n=e.bottom,r=e.left):t=i=n=r=e,{top:t,right:i,bottom:n,left:r,disabled:e===!1}}function DJ(e,t){let i=[],n=e._getSortedDatasetMetas(t),r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function AQ(e,t,i,n={}){let r=e.keys,o=n.mode==="single",s,a,l,c;if(t===null)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===i){if(d=!0,n.all)continue;break}c=e.values[l],Ss(c)&&(o||t===0||ou(t)===ou(c))&&(t+=c)}return!d&&!n.all?0:t}function lPe(e,t){let{iScale:i,vScale:n}=t,r=i.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",s=Object.keys(e),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[r]:d,[o]:e[d]};return a}function BN(e,t){let i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function cPe(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function dPe(e){let{min:t,max:i,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function uPe(e,t,i){let n=e[t]||(e[t]={});return n[i]||(n[i]={})}function RQ(e,t,i,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let o=e[r.index];if(i&&o>0||!i&&o<0)return r.index}return null}function kQ(e,t){let{chart:i,_cachedMeta:n}=e,r=i._stacks||(i._stacks={}),{iScale:o,vScale:s,index:a}=n,l=o.axis,c=s.axis,d=cPe(o,s,n),u=t.length,h;for(let f=0;f<u;++f){let p=t[f],{[l]:v,[c]:m}=p,g=p._stacks||(p._stacks={});h=g[c]=uPe(r,d,v),h[a]=m,h._top=RQ(h,s,!0,n.type),h._bottom=RQ(h,s,!1,n.type);let b=h._visualValues||(h._visualValues={});b[a]=m}}function VN(e,t){let i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function hPe(e,t){return Zh(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function fPe(e,t,i){return Zh(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function _x(e,t){let i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(let r of t){let o=r._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i],o[n]._visualValues!==void 0&&o[n]._visualValues[i]!==void 0&&delete o[n]._visualValues[i]}}}var zN=e=>e==="reset"||e==="none",IQ=(e,t)=>t?e:Object.assign({},e),pPe=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:DJ(i,!0),values:null},dg=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,n){this.chart=i,this._ctx=i.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=BN(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&_x(this._cachedMeta),this.index=i}linkScales(){let i=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(h,f,p,v)=>h==="x"?f:h==="r"?v:p,s=n.xAxisID=Qn(r.xAxisID,VN(i,"x")),a=n.yAxisID=Qn(r.yAxisID,VN(i,"y")),l=n.rAxisID=Qn(r.rAxisID,VN(i,"r")),c=n.indexAxis,d=n.iAxisID=o(c,s,a,l),u=n.vAxisID=o(c,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){let n=this._cachedMeta;return i===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let i=this._cachedMeta;this._data&&CA(this._data,this),i._stacked&&_x(i)}_dataCheck(){let i=this.getDataset(),n=i.data||(i.data=[]),r=this._data;if(Cr(n)){let o=this._cachedMeta;this._data=lPe(n,o)}else if(r!==n){if(r){CA(r,this);let o=this._cachedMeta;_x(o),o._parsed=[]}n&&Object.isExtensible(n)&&xN(n,this),this._syncList=[],this._data=n}}addElements(){let i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){let n=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=n._stacked;n._stacked=BN(n.vScale,n),n.stack!==r.stack&&(o=!0,_x(n),n.stack=r.stack),this._resyncElements(i),(o||s!==n._stacked)&&(kQ(this,n._parsed),n._stacked=BN(n.vScale,n))}configure(){let i=this.chart.config,n=i.datasetScopeKeys(this._type),r=i.getOptionScopes(this.getDataset(),n,!0);this.options=i.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,n){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,c=i===0&&n===o.length?!0:r._sorted,d=i>0&&r._parsed[i-1],u,h,f;if(this._parsing===!1)r._parsed=o,r._sorted=!0,f=o;else{Uo(o[i])?f=this.parseArrayData(r,o,i,n):Cr(o[i])?f=this.parseObjectData(r,o,i,n):f=this.parsePrimitiveData(r,o,i,n);let p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)r._parsed[u+i]=h=f[u],c&&(p()&&(c=!1),d=h);r._sorted=c}a&&kQ(this,f)}parsePrimitiveData(i,n,r,o){let{iScale:s,vScale:a}=i,l=s.axis,c=a.axis,d=s.getLabels(),u=s===a,h=new Array(o),f,p,v;for(f=0,p=o;f<p;++f)v=f+r,h[f]={[l]:u||s.parse(d[v],v),[c]:a.parse(n[v],v)};return h}parseArrayData(i,n,r,o){let{xScale:s,yScale:a}=i,l=new Array(o),c,d,u,h;for(c=0,d=o;c<d;++c)u=c+r,h=n[u],l[c]={x:s.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(i,n,r,o){let{xScale:s,yScale:a}=i,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),u,h,f,p;for(u=0,h=o;u<h;++u)f=u+r,p=n[f],d[u]={x:s.parse(Kh(p,l),f),y:a.parse(Kh(p,c),f)};return d}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,n,r){let o=this.chart,s=this._cachedMeta,a=n[i.axis],l={keys:DJ(o,!0),values:n._stacks[i.axis]._visualValues};return AQ(l,a,s.index,{mode:r})}updateRangeFromParsed(i,n,r,o){let s=r[n.axis],a=s===null?NaN:s,l=o&&r._stacks[n.axis];o&&l&&(o.values=l,a=AQ(o,s,this._cachedMeta.index)),i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}getMinMax(i,n){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&i===r.iScale,a=o.length,l=this._getOtherScale(i),c=pPe(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=dPe(l),f,p;function v(){p=o[f];let m=p[l.axis];return!Ss(p[i.axis])||u>m||h<m}for(f=0;f<a&&!(!v()&&(this.updateRangeFromParsed(d,i,p,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(d,i,p,c);break}}return d}getAllParsedValues(i){let n=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=n.length;o<s;++o)a=n[o][i.axis],Ss(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(i){let n=this._cachedMeta,r=n.iScale,o=n.vScale,s=this.getParsed(i);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(i){let n=this._cachedMeta;this.update(i||"default"),n._clip=aPe(Qn(this.options.clip,sPe(n.xScale,n.yScale,this.getMaxOverflow())))}update(i){}draw(){let i=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(i,s,l,c),u=l;u<l+c;++u){let h=o[u];h.hidden||(h.active&&d?a.push(h):h.draw(i,s))}for(u=0;u<a.length;++u)a[u].draw(i,s)}getStyle(i,n){let r=n?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(i||0,r)}getContext(i,n,r){let o=this.getDataset(),s;if(i>=0&&i<this._cachedMeta.data.length){let a=this._cachedMeta.data[i];s=a.$context||(a.$context=fPe(this.getContext(),i,a)),s.parsed=this.getParsed(i),s.raw=o.data[i],s.index=s.dataIndex=i}else s=this.$context||(this.$context=hPe(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,n){return this._resolveElementOptions(this.dataElementType.id,n,i)}_resolveElementOptions(i,n="default",r){let o=n==="active",s=this._cachedDataOpts,a=i+"-"+n,l=s[a],c=this.enableOptionSharing&&ev(r);if(l)return IQ(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,i),h=o?[`${i}Hover`,"hover",i,""]:[i,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(ko.elements[i]),v=()=>this.getContext(r,o,n),m=d.resolveNamedOptions(f,p,v,h);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(IQ(m,c))),m}_resolveAnimations(i,n,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(i,r,n))}let d=new QA(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,n){return!n||zN(i)||this.chart._animationsDisabled}_getSharedOptions(i,n){let r=this.resolveDataElementOptions(i,n),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(i,n,r,o){zN(o)?Object.assign(i,r):this._resolveAnimations(n,o).update(i,r)}updateSharedOptions(i,n,r){i&&!zN(n)&&this._resolveAnimations(void 0,n).update(i,r)}_setStyle(i,n,r,o){i.active=o;let s=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(i,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(i,n,r){this._setStyle(i,r,"active",!1)}setHoverStyle(i,n,r){this._setStyle(i,r,"active",!0)}_removeDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){let n=this._data,r=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=r.length,s=n.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,i):s<o&&this._removeElements(s,o-s)}_insertElements(i,n,r=!0){let o=this._cachedMeta,s=o.data,a=i+n,l,c=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(c(s),l=i;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(i,n),r&&this.updateElements(s,i,n,"reset")}updateElements(i,n,r,o){}_removeElements(i,n){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(i,n);r._stacked&&_x(r,o)}r.data.splice(i,n)}_sync(i){if(this._parsing)this._syncList.push(i);else{let[n,r,o]=i;this[n](r,o)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){let i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,n){n&&this._sync(["_removeElements",i,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",i,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function mPe(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),n=[];for(let r=0,o=i.length;r<o;r++)n=n.concat(i[r].controller.getAllParsedValues(e));e._cache.$bar=xA(n.sort((r,o)=>r-o))}return e._cache.$bar}function gPe(e){let t=e.iScale,i=mPe(t,e.type),n=t._length,r,o,s,a,l=()=>{s===32767||s===-32768||(ev(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(r=0,o=i.length;r<o;++r)s=t.getPixelForValue(i[r]),l();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),l();return n}function vPe(e,t,i,n){let r=i.barThickness,o,s;return nr(r)?(o=t.min*i.categoryPercentage,s=i.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:t.pixels[e]-o/2}}function bPe(e,t,i,n){let r=t.pixels,o=r[e],s=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null,l=i.categoryPercentage;s===null&&(s=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:i.barPercentage,start:c}}function _Pe(e,t,i,n){let r=i.parse(e[0],n),o=i.parse(e[1],n),s=Math.min(r,o),a=Math.max(r,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}function TJ(e,t,i,n){return Uo(e)?_Pe(e,t,i,n):t[i.axis]=i.parse(e,n),t}function PQ(e,t,i,n){let r=e.iScale,o=e.vScale,s=r.getLabels(),a=r===o,l=[],c,d,u,h;for(c=i,d=i+n;c<d;++c)h=t[c],u={},u[r.axis]=a||r.parse(s[c],c),l.push(TJ(h,u,o,c));return l}function HN(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function yPe(e,t,i){return e!==0?ou(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function wPe(e){let t,i,n,r,o;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(r="end",o="start"):(r="start",o="end"),{start:i,end:n,reverse:t,top:r,bottom:o}}function CPe(e,t,i,n){let r=t.borderSkipped,o={};if(!r){e.borderSkipped=o;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=wPe(e);r==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?r=c:(i._bottom||0)===n?r=d:(o[FQ(d,s,a,l)]=!0,r=c)),o[FQ(r,s,a,l)]=!0,e.borderSkipped=o}function FQ(e,t,i,n){return n?(e=xPe(e,t,i),e=OQ(e,i,t)):e=OQ(e,t,i),e}function xPe(e,t,i){return e===t?i:e===i?t:e}function OQ(e,t,i){return e==="start"?t:e==="end"?i:e}function SPe(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}var MPe=(()=>{class e extends dg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(i,n,r,o){return PQ(i,n,r,o)}parseArrayData(i,n,r,o){return PQ(i,n,r,o)}parseObjectData(i,n,r,o){let{iScale:s,vScale:a}=i,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=a.axis==="x"?l:c,h=[],f,p,v,m;for(f=r,p=r+o;f<p;++f)m=n[f],v={},v[s.axis]=s.parse(Kh(m,d),f),h.push(TJ(Kh(m,u),v,a,f));return h}updateRangeFromParsed(i,n,r,o){super.updateRangeFromParsed(i,n,r,o);let s=r._custom;s&&n===this._cachedMeta.vScale&&(i.min=Math.min(i.min,s.min),i.max=Math.max(i.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(i){let n=this._cachedMeta,{iScale:r,vScale:o}=n,s=this.getParsed(i),a=s._custom,l=HN(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let i=this._cachedMeta;i.stack=this.getDataset().stack}update(i){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,i)}updateElements(i,n,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,o);for(let p=n;p<n+r;p++){let v=this.getParsed(p),m=s||nr(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,u),b=(v._stacks||{})[l.axis],w={horizontal:d,base:m.base,enableBorderRadius:!b||HN(v._custom)||a===b._top||a===b._bottom,x:d?m.head:g.center,y:d?g.center:m.head,height:d?g.size:Math.abs(m.size),width:d?Math.abs(m.size):g.size};f&&(w.options=h||this.resolveDataElementOptions(p,i[p].active?"active":o));let x=w.options||i[p].options;CPe(w,x,b,a),SPe(w,x,u.ratio),this.updateElement(i[p],p,w,o)}}_getStacks(i,n){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],d=u=>{let h=u._parsed.find(p=>p[r.axis]===c),f=h&&h[u.vScale.axis];if(nr(f)||isNaN(f))return!0};for(let u of o)if(!(n!==void 0&&d(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===i))break;return a.length||a.push(void 0),a}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,n,r){let o=this._getStacks(i,r),s=n!==void 0?o.indexOf(n):-1;return s===-1?o.length-1:s}_getRuler(){let i=this.options,n=this._cachedMeta,r=n.iScale,o=[],s,a;for(s=0,a=n.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=i.barThickness;return{min:l||gPe(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:i.grouped,ratio:l?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){let{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(i),d=c._custom,u=HN(d),h=c[n.axis],f=0,p=r?this.applyStack(n,c,r):h,v,m;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&ou(h)!==ou(d.barEnd)&&(f=0),f+=h);let g=!nr(s)&&!u?s:f,b=n.getPixelForValue(g);if(this.chart.getDataVisibility(i)?v=n.getPixelForValue(f+p):v=b,m=v-b,Math.abs(m)<a){m=yPe(m,n,l)*a,h===l&&(b-=m/2);let w=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),R=Math.min(w,x),_=Math.max(w,x);b=Math.max(Math.min(b,_),R),v=b+m,r&&!u&&(c._stacks[n.axis]._visualValues[o]=n.getValueForPixel(v)-n.getValueForPixel(b))}if(b===n.getPixelForValue(l)){let w=ou(m)*n.getLineWidthForValue(l)/2;b+=w,m-=w}return{size:m,base:b,head:v,center:v+m/2}}_calculateBarIndexPixels(i,n){let r=n.scale,o=this.options,s=o.skipNull,a=Qn(o.maxBarThickness,1/0),l,c;if(n.grouped){let d=s?this._getStackCount(i):n.stackCount,u=o.barThickness==="flex"?bPe(i,n,o,d):vPe(i,n,o,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?i:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=r.getPixelForValue(this.getParsed(i)[r.axis],i),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let i=this._cachedMeta,n=i.vScale,r=i.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}return e})(),EPe=(()=>{class e extends dg{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,n,r,o){let s=super.parsePrimitiveData(i,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(i,n,r,o){let s=super.parseArrayData(i,n,r,o);for(let a=0;a<s.length;a++){let l=n[r+a];s[a]._custom=Qn(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(i,n,r,o){let s=super.parseObjectData(i,n,r,o);for(let a=0;a<s.length;a++){let l=n[r+a];s[a]._custom=Qn(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let i=this._cachedMeta.data,n=0;for(let r=i.length-1;r>=0;--r)n=Math.max(n,i[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(i),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:r[i]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(i){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,i)}updateElements(i,n,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,o),u=a.axis,h=l.axis;for(let f=n;f<n+r;f++){let p=i[f],v=!s&&this.getParsed(f),m={},g=m[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(v[u]),b=m[h]=s?l.getBasePixel():l.getPixelForValue(v[h]);m.skip=isNaN(g)||isNaN(b),d&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(i,n){let r=this.getParsed(i),o=super.resolveDataElementOptions(i,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return n!=="active"&&(o.radius=0),o.radius+=Qn(r&&r._custom,s),o}}return e})();function DPe(e,t,i){let n=1,r=1,o=0,s=0;if(t<Wo){let a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),h=Math.sin(l),f=(w,x,R)=>iv(w,a,l,!0)?1:Math.max(x,x*i,R,R*i),p=(w,x,R)=>iv(w,a,l,!0)?-1:Math.min(x,x*i,R,R*i),v=f(0,c,u),m=f(Is,d,h),g=p(Go,c,u),b=p(Go+Is,d,h);n=(v-g)/2,r=(m-b)/2,o=-(v+g)/2,s=-(m+b)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}var f6=(()=>{class e extends dg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let n=i.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=i.legend.options;return n.labels.map((s,a)=>{let c=i.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(i,n){super(i,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,n){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=c=>+r[c];if(Cr(r[i])){let{key:c="value"}=this._parsing;s=d=>+Kh(r[d],c)}let a,l;for(a=i,l=i+n;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return _d(this.options.rotation-90)}_getCircumference(){return _d(this.options.circumference)}_getRotationExtents(){let i=Wo,n=-Wo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();i=Math.min(i,s),n=Math.max(n,s+a)}return{rotation:i,circumference:n-i}}update(i){let n=this.chart,{chartArea:r}=n,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(gN(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:v,offsetY:m}=DPe(h,u,c),g=(r.width-a)/f,b=(r.height-a)/p,w=Math.max(Math.min(g,b)/2,0),x=gA(this.options.radius,w),R=Math.max(x*c,0),_=(x-R)/this._getVisibleDatasetWeightTotal();this.offsetX=v*x,this.offsetY=m*x,o.total=this.calculateTotal(),this.outerRadius=x-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(s,0,s.length,i)}_circumference(i,n){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(i)||o._parsed[i]===null||o.data[i].hidden?0:this.calculateCircumference(o._parsed[i]*s/Wo)}updateElements(i,n,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=s&&d.animateScale,p=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,o),b=this._getRotation(),w;for(w=0;w<n;++w)b+=this._circumference(w,s);for(w=n;w<n+r;++w){let x=this._circumference(w,s),R=i[w],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+x,circumference:x,outerRadius:v,innerRadius:p};g&&(_.options=m||this.resolveDataElementOptions(w,R.active?"active":o)),b+=x,this.updateElement(R,w,_,o)}}calculateTotal(){let i=this._cachedMeta,n=i.data,r=0,o;for(o=0;o<n.length;o++){let s=i._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(i){let n=this._cachedMeta.total;return n>0&&!isNaN(i)?Wo*(Math.abs(i)/n):0}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=nv(n._parsed[i],r.options.locale);return{label:o[i]||"",value:s}}getMaxBorderWidth(i){let n=0,r=this.chart,o,s,a,l,c;if(!i){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),i=a.data,l=a.controller;break}}if(!i)return 0;for(o=0,s=i.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(i){let n=0;for(let r=0,o=i.length;r<o;++r){let s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(i){let n=0;for(let r=0;r<i;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(i){return Math.max(Qn(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),TPe=(()=>{class e extends dg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){let n=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=n,a=this.chart._animationsDisabled,{start:l,count:c}=EA(n,o,a);this._drawStart=l,this._drawCount=c,DA(n)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let d=this.resolveDatasetElementOptions(i);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},i),this.updateElements(o,l,c,i)}updateElements(i,n,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,o),f=a.axis,p=l.axis,{spanGaps:v,segment:m}=this.options,g=sg(v)?v:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||o==="none",w=n+r,x=i.length,R=n>0&&this.getParsed(n-1);for(let _=0;_<x;++_){let L=i[_],F=b?L:{};if(_<n||_>=w){F.skip=!0;continue}let T=this.getParsed(_),P=nr(T[p]),A=F[f]=a.getPixelForValue(T[f],_),O=F[p]=s||P?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[p],_);F.skip=isNaN(A)||isNaN(O)||P,F.stop=_>0&&Math.abs(T[f]-R[f])>g,m&&(F.parsed=T,F.raw=d.data[_]),h&&(F.options=u||this.resolveDataElementOptions(_,L.active?"active":o)),b||this.updateElement(L,_,F,o),R=T}}getMaxOverflow(){let i=this._cachedMeta,n=i.dataset,r=n.options&&n.options.borderWidth||0,o=i.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}return e})(),AJ=(()=>{class e extends dg{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let n=i.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=i.legend.options;return n.labels.map((s,a)=>{let c=i.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(i,n){super(i,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=nv(n._parsed[i].r,r.options.locale);return{label:o[i]||"",value:s}}parseObjectData(i,n,r,o){return OA.bind(this)(i,n,r,o)}update(i){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,i)}getMinMax(){let i=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return i.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){let i=this.chart,n=i.chartArea,r=i.options,o=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/i.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(i,n,r,o){let s=o==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,f=d.getIndexAngle(0)-.5*Go,p=f,v,m=360/this.countVisibleElements();for(v=0;v<n;++v)p+=this._computeAngle(v,o,m);for(v=n;v<n+r;v++){let g=i[v],b=p,w=p+this._computeAngle(v,o,m),x=a.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;p=w,s&&(c.animateScale&&(x=0),c.animateRotate&&(b=w=f));let R={x:u,y:h,innerRadius:0,outerRadius:x,startAngle:b,endAngle:w,options:this.resolveDataElementOptions(v,g.active?"active":o)};this.updateElement(g,v,R,o)}}countVisibleElements(){let i=this._cachedMeta,n=0;return i.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(i,n,r){return this.chart.getDataVisibility(i)?_d(this.resolveDataElementOptions(i,n).angle||r):0}}return e})(),APe=(()=>{class e extends f6{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),RPe=(()=>{class e extends dg{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(i){let n=this._cachedMeta.vScale,r=this.getParsed(i);return{label:n.getLabels()[i],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(i,n,r,o){return OA.bind(this)(i,n,r,o)}update(i){let n=this._cachedMeta,r=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(r.points=o,i!=="resize"){let a=this.resolveDatasetElementOptions(i);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,i)}this.updateElements(o,0,o.length,i)}updateElements(i,n,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=n;l<n+r;l++){let c=i[l],d=this.resolveDataElementOptions(l,c.active?"active":o),u=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:u.x,f=a?s.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:d};this.updateElement(c,l,p,o)}}}return e})(),kPe=(()=>{class e extends dg{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(i){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(i),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:r[i]||"",value:"("+l+", "+c+")"}}update(i){let n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled,{start:s,count:a}=EA(n,r,o);if(this._drawStart=s,this._drawCount=a,DA(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let d=this.resolveDatasetElementOptions(i);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},i)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,i)}addElements(){let{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,n,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,o),h=this.getSharedOptions(u),f=this.includeOptions(o,h),p=a.axis,v=l.axis,{spanGaps:m,segment:g}=this.options,b=sg(m)?m:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||o==="none",x=n>0&&this.getParsed(n-1);for(let R=n;R<n+r;++R){let _=i[R],L=this.getParsed(R),F=w?_:{},T=nr(L[v]),P=F[p]=a.getPixelForValue(L[p],R),A=F[v]=s||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,L,c):L[v],R);F.skip=isNaN(P)||isNaN(A)||T,F.stop=R>0&&Math.abs(L[p]-x[p])>b,g&&(F.parsed=L,F.raw=d.data[R]),f&&(F.options=h||this.resolveDataElementOptions(R,_.active?"active":o)),w||this.updateElement(_,R,F,o),x=L}this.updateSharedOptions(h,o,u)}getMaxOverflow(){let i=this._cachedMeta,n=i.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=i.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;let s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,s,a)/2}}return e})(),IPe=Object.freeze({__proto__:null,BarController:MPe,BubbleController:EPe,DoughnutController:f6,LineController:TPe,PieController:APe,PolarAreaController:AJ,RadarController:RPe,ScatterController:kPe});function ov(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var KN=class e{static override(t){Object.assign(e.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ov()}parse(){return ov()}format(){return ov()}add(){return ov()}diff(){return ov()}startOf(){return ov()}endOf(){return ov()}},PPe={_date:KN};function FPe(e,t,i,n){let{controller:r,data:o,_sorted:s}=e,a=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&s&&o.length){let c=a._reversePixels?wN:Wu;if(n){if(r._sharedOptions){let d=o[0],u=typeof d.getRange=="function"&&d.getRange(t);if(u){let h=c(o,t,i-u),f=c(o,t,i+u);return{lo:h.lo,hi:f.hi}}}}else{let d=c(o,t,i);if(l){let{vScale:u}=r._cachedMeta,{_parsed:h}=e,f=h.slice(0,d.lo+1).reverse().findIndex(v=>!nr(v[u.axis]));d.lo-=Math.max(0,f);let p=h.slice(d.hi).findIndex(v=>!nr(v[u.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:o.length-1}}function kx(e,t,i,n,r){let o=e.getSortedVisibleDatasetMetas(),s=i[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:u,hi:h}=FPe(o[a],t,s,r);for(let f=u;f<=h;++f){let p=d[f];p.skip||n(p,c,f)}}}function OPe(e){let t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,r){let o=t?Math.abs(n.x-r.x):0,s=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function UN(e,t,i,n,r){let o=[];return!r&&!e.isPointInArea(t)||kx(e,i,t,function(a,l,c){!r&&!ju(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function LPe(e,t,i,n){let r=[];function o(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],n),{angle:u}=wA(s,{x:t.x,y:t.y});iv(u,c,d)&&r.push({element:s,datasetIndex:a,index:l})}return kx(e,i,t,o),r}function NPe(e,t,i,n,r,o){let s=[],a=OPe(i),l=Number.POSITIVE_INFINITY;function c(d,u,h){let f=d.inRange(t.x,t.y,r);if(n&&!f)return;let p=d.getCenterPoint(r);if(!(!!o||e.isPointInArea(p))&&!f)return;let m=a(t,p);m<l?(s=[{element:d,datasetIndex:u,index:h}],l=m):m===l&&s.push({element:d,datasetIndex:u,index:h})}return kx(e,i,t,c),s}function GN(e,t,i,n,r,o){return!o&&!e.isPointInArea(t)?[]:i==="r"&&!n?LPe(e,t,i,r):NPe(e,t,i,n,r,o)}function LQ(e,t,i,n,r){let o=[],s=i==="x"?"inXRange":"inYRange",a=!1;return kx(e,i,t,(l,c,d)=>{l[s]&&l[s](t[i],r)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,r))}),n&&!a?[]:o}var BPe={evaluateInteractionItems:kx,modes:{index(e,t,i,n){let r=_p(t,e),o=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?UN(e,r,o,n,s):GN(e,r,o,!1,n,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,i,n){let r=_p(t,e),o=i.axis||"xy",s=i.includeInvisible||!1,a=i.intersect?UN(e,r,o,n,s):GN(e,r,o,!1,n,s);if(a.length>0){let l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,i,n){let r=_p(t,e),o=i.axis||"xy",s=i.includeInvisible||!1;return UN(e,r,o,n,s)},nearest(e,t,i,n){let r=_p(t,e),o=i.axis||"xy",s=i.includeInvisible||!1;return GN(e,r,o,i.intersect,n,s)},x(e,t,i,n){let r=_p(t,e);return LQ(e,r,"x",i.intersect,n)},y(e,t,i,n){let r=_p(t,e);return LQ(e,r,"y",i.intersect,n)}}},RJ=["left","top","right","bottom"];function yx(e,t){return e.filter(i=>i.pos===t)}function NQ(e,t){return e.filter(i=>RJ.indexOf(i.pos)===-1&&i.box.axis===t)}function wx(e,t){return e.sort((i,n)=>{let r=t?n:i,o=t?i:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function VPe(e){let t=[],i,n,r,o,s,a;for(i=0,n=(e||[]).length;i<n;++i)r=e[i],{position:o,options:{stack:s,stackWeight:a=1}}=r,t.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}function zPe(e){let t={};for(let i of e){let{stack:n,pos:r,stackWeight:o}=i;if(!n||!RJ.includes(r))continue;let s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}function HPe(e,t){let i=zPe(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t,o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];let{fullSize:l}=a.box,c=i[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*n:l&&t.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:l&&t.availableHeight)}return i}function UPe(e){let t=VPe(e),i=wx(t.filter(c=>c.box.fullSize),!0),n=wx(yx(t,"left"),!0),r=wx(yx(t,"right")),o=wx(yx(t,"top"),!0),s=wx(yx(t,"bottom")),a=NQ(t,"x"),l=NQ(t,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:yx(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function BQ(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function kJ(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function GPe(e,t,i,n){let{pos:r,box:o}=i,s=e.maxPadding;if(!Cr(r)){i.size&&(e[r]-=i.size);let u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?o.height:o.width),i.size=u.size/u.count,e[r]+=i.size}o.getPadding&&kJ(s,o.getPadding());let a=Math.max(0,t.outerWidth-BQ(s,e,"left","right")),l=Math.max(0,t.outerHeight-BQ(s,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:c,other:d}:{same:d,other:c}}function WPe(e){let t=e.maxPadding;function i(n){let r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function jPe(e,t){let i=t.maxPadding;function n(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],i[s])}),o}return n(e?["left","right"]:["top","bottom"])}function Sx(e,t,i,n){let r=[],o,s,a,l,c,d;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,jPe(a.horizontal,t));let{same:u,other:h}=GPe(t,i,a,n);c|=u&&r.length,d=d||h,l.fullSize||r.push(a)}return c&&Sx(r,t,i,n)||d}function GA(e,t,i,n,r){e.top=i,e.left=t,e.right=t+n,e.bottom=i+r,e.width=n,e.height=r}function VQ(e,t,i,n){let r=i.padding,{x:o,y:s}=t;for(let a of e){let l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let u=t.w*d,h=c.size||l.height;ev(c.start)&&(s=c.start),l.fullSize?GA(l,r.left,s,i.outerWidth-r.right-r.left,h):GA(l,t.left+c.placed,s,u,h),c.start=s,c.placed+=u,s=l.bottom}else{let u=t.h*d,h=c.size||l.width;ev(c.start)&&(o=c.start),l.fullSize?GA(l,o,r.top,h,i.outerHeight-r.bottom-r.top):GA(l,o,t.top+c.placed,h,u),c.start=o,c.placed+=u,o=l.right}}t.x=o,t.y=s}var Gl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;let r=ba(e.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(i-r.height,0),a=UPe(e.boxes),l=a.vertical,c=a.horizontal;eo(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let d=l.reduce((v,m)=>m.box.options&&m.box.options.display===!1?v:v+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),h=Object.assign({},r);kJ(h,ba(n));let f=Object.assign({maxPadding:h,w:o,h:s,x:r.left,y:r.top},r),p=HPe(l.concat(c),u);Sx(a.fullSize,f,u,p),Sx(l,f,u,p),Sx(c,f,u,p)&&Sx(l,f,u,p),WPe(f),VQ(a.leftAndTop,f,u,p),f.x+=f.w,f.y+=f.h,VQ(a.rightAndBottom,f,u,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},eo(a.chartArea,v=>{let m=v.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},JA=class{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,r){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(t){return!0}updateConfig(t){}},ZN=class extends JA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},KA="$chartjs",qPe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zQ=e=>e===null||e==="";function YPe(e,t){let i=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[KA]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",zQ(r)){let o=BA(e,"width");o!==void 0&&(e.width=o)}if(zQ(n))if(e.style.height==="")e.height=e.width/(t||2);else{let o=BA(e,"height");o!==void 0&&(e.height=o)}return e}var IJ=FN?{passive:!0}:!1;function $Pe(e,t,i){e&&e.addEventListener(t,i,IJ)}function XPe(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,IJ)}function KPe(e,t){let i=qPe[e.type]||e.type,{x:n,y:r}=_p(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:r!==void 0?r:null}}function eR(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function ZPe(e,t,i){let n=e.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||eR(a.addedNodes,n),s=s&&!eR(a.removedNodes,n);s&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function QPe(e,t,i){let n=e.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||eR(a.removedNodes,n),s=s&&!eR(a.addedNodes,n);s&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}var Ex=new Map,HQ=0;function PJ(){let e=window.devicePixelRatio;e!==HQ&&(HQ=e,Ex.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function JPe(e,t){Ex.size||window.addEventListener("resize",PJ),Ex.set(e,t)}function eFe(e){Ex.delete(e),Ex.size||window.removeEventListener("resize",PJ)}function tFe(e,t,i){let n=e.canvas,r=n&&bx(n);if(!r)return;let o=MA((a,l)=>{let c=r.clientWidth;i(a,l),c<r.clientWidth&&i()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return s.observe(r),JPe(e,o),s}function WN(e,t,i){i&&i.disconnect(),t==="resize"&&eFe(e)}function iFe(e,t,i){let n=e.canvas,r=MA(o=>{e.ctx!==null&&i(KPe(o,e))},e);return $Pe(n,t,r),r}var QN=class extends JA{acquireContext(t,i){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(YPe(t,i),n):null}releaseContext(t){let i=t.canvas;if(!i[KA])return!1;let n=i[KA].initial;["height","width"].forEach(o=>{let s=n[o];nr(s)?i.removeAttribute(o):i.setAttribute(o,s)});let r=n.style||{};return Object.keys(r).forEach(o=>{i.style[o]=r[o]}),i.width=i.width,delete i[KA],!0}addEventListener(t,i,n){this.removeEventListener(t,i);let r=t.$proxies||(t.$proxies={}),s={attach:ZPe,detach:QPe,resize:tFe}[i]||iFe;r[i]=s(t,i,n)}removeEventListener(t,i){let n=t.$proxies||(t.$proxies={}),r=n[i];if(!r)return;({attach:WN,detach:WN,resize:WN}[i]||XPe)(t,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,r){return PN(t,i,n,r)}isAttached(t){let i=t&&bx(t);return!!(i&&i.isConnected)}};function nFe(e){return!vx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?ZN:QN}var $u=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return sg(this.x)&&sg(this.y)}getProps(t,i){let n=this.$animations;if(!i||!n)return this;let r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}};function rFe(e,t){let i=e.options.ticks,n=oFe(e),r=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?aFe(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return lFe(t,c,o,s/r),c;let d=sFe(o,t,r);if(s>0){let u,h,f=s>1?Math.round((l-a)/(s-1)):null;for(WA(t,c,d,nr(f)?0:a-f,a),u=0,h=s-1;u<h;u++)WA(t,c,d,o[u],o[u+1]);return WA(t,c,d,l,nr(f)?t.length:l+f),c}return WA(t,c,d),c}function oFe(e){let t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),r=e._maxLength/i;return Math.floor(Math.min(n,r))}function sFe(e,t,i){let n=cFe(e),r=t.length/i;if(!n)return Math.max(r,1);let o=bN(n);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function aFe(e){let t=[],i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function lFe(e,t,i,n){let r=0,o=i[0],s;for(n=Math.ceil(n),s=0;s<e.length;s++)s===o&&(t.push(e[s]),r++,o=i[r*n])}function WA(e,t,i,n,r){let o=Qn(n,0),s=Math.min(Qn(r,e.length),e.length),a=0,l,c,d;for(i=Math.ceil(i),r&&(l=r-n,i=l/Math.floor(l/i)),d=o;d<0;)a++,d=Math.round(o+a*i);for(c=Math.max(o,0);c<s;c++)c===d&&(t.push(e[c]),a++,d=Math.round(o+a*i))}function cFe(e){let t=e.length,i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}var dFe=e=>e==="left"?"right":e==="right"?"left":e,UQ=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,GQ=(e,t)=>Math.min(t||e,e);function WQ(e,t){let i=[],n=e.length/t,r=e.length,o=0;for(;o<r;o+=n)i.push(e[Math.floor(o)]);return i}function uFe(e,t,i){let n=e.ticks.length,r=Math.min(t,n-1),o=e._startPixel,s=e._endPixel,a=1e-6,l=e.getPixelForTick(r),c;if(!(i&&(n===1?c=Math.max(l-o,s-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<o-a||l>s+a)))return l}function hFe(e,t){eo(e,i=>{let n=i.gc,r=n.length/2,o;if(r>t){for(o=0;o<r;++o)delete i.data[n[o]];n.splice(0,r)}})}function Cx(e){return e.drawTicks?e.tickLength:0}function jQ(e,t){if(!e.display)return 0;let i=Ps(e.font,t),n=ba(e.padding);return(Uo(e.text)?e.text.length:1)*i.lineHeight+n.height}function fFe(e,t){return Zh(e,{scale:t,type:"scale"})}function pFe(e,t,i){return Zh(e,{tick:i,index:t,type:"tick"})}function mFe(e,t,i){let n=hx(e);return(i&&t!=="right"||!i&&t==="right")&&(n=dFe(n)),n}function gFe(e,t,i,n){let{top:r,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:d}=l,u=0,h,f,p,v=s-r,m=a-o;if(e.isHorizontal()){if(f=el(n,o,a),Cr(i)){let g=Object.keys(i)[0],b=i[g];p=d[g].getPixelForValue(b)+v-t}else i==="center"?p=(c.bottom+c.top)/2+v-t:p=UQ(e,i,t);h=a-o}else{if(Cr(i)){let g=Object.keys(i)[0],b=i[g];f=d[g].getPixelForValue(b)-m+t}else i==="center"?f=(c.left+c.right)/2-m+t:f=UQ(e,i,t);p=el(n,s,r),u=i==="left"?-Is:Is}return{titleX:f,titleY:p,maxWidth:h,rotation:u}}var av=class e extends $u{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return t=hc(t,Number.POSITIVE_INFINITY),i=hc(i,Number.NEGATIVE_INFINITY),n=hc(n,Number.POSITIVE_INFINITY),r=hc(r,Number.NEGATIVE_INFINITY),{min:hc(t,n),max:hc(i,r),minDefined:Ss(t),maxDefined:Ss(i)}}getMinMax(t){let{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:i,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),r||(i=Math.min(i,s.min)),o||(n=Math.max(n,s.max));return i=o&&i>n?n:i,n=r&&i>n?i:n,{min:hc(i,hc(n,i)),max:hc(n,hc(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mo(this.options.beforeUpdate,[this])}update(t,i,n){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?WQ(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=rFe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mo(this.options.afterUpdate,[this])}beforeSetDimensions(){mo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mo(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mo(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let i=this.options.ticks,n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=mo(i.callback,[o.value,n,t],this)}afterTickToLabelConversion(){mo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,i=t.ticks,n=GQ(this.ticks.length,t.ticks.maxTicksLimit),r=i.minRotation||0,o=i.maxRotation,s=r,a,l,c;if(!this._isVisible()||!i.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,f=va(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:f/(n-1),u+6>a&&(a=f/(n-(t.offset?.5:1)),l=this.maxHeight-Cx(t.grid)-i.padding-jQ(t.title,this.chart.options.font),c=Math.sqrt(u*u+h*h),s=dx(Math.min(Math.asin(va((d.highest.height+6)/a,-1,1)),Math.asin(va(l/c,-1,1))-Math.asin(va(h/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){mo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mo(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=jQ(r,i.options.font);if(a?(t.width=this.maxWidth,t.height=Cx(o)+l):(t.height=this.maxHeight,t.width=Cx(o)+l),n.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:h}=this._getLabelSizes(),f=n.padding*2,p=_d(this.labelRotation),v=Math.cos(p),m=Math.sin(p);if(a){let g=n.mirror?0:m*u.width+v*h.height;t.height=Math.min(this.maxHeight,t.height+g+f)}else{let g=n.mirror?0:v*u.width+m*h.height;t.width=Math.min(this.maxWidth,t.width+g+f)}this._calculatePadding(c,d,m,v)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=r*t.width,f=n*i.height):(h=n*t.height,f=r*i.width):o==="start"?f=i.width:o==="end"?h=t.width:o!=="inner"&&(h=t.width/2,f=i.width/2),this.paddingLeft=Math.max((h-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-u+s)*this.width/(this.width-u),0)}else{let d=i.height/2,u=t.height/2;o==="start"?(d=0,u=t.height):o==="end"&&(d=i.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mo(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)nr(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let i=this.options.ticks.sampleSize,n=this.ticks;i<n.length&&(n=WQ(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,n){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(i/GQ(i,n)),c=0,d=0,u,h,f,p,v,m,g,b,w,x,R;for(u=0;u<i;u+=l){if(p=t[u].label,v=this._resolveTickFontOptions(u),r.font=m=v.string,g=o[m]=o[m]||{data:{},gc:[]},b=v.lineHeight,w=x=0,!nr(p)&&!Uo(p))w=Y_(r,g.data,g.gc,w,p),x=b;else if(Uo(p))for(h=0,f=p.length;h<f;++h)R=p[h],!nr(R)&&!Uo(R)&&(w=Y_(r,g.data,g.gc,w,R),x+=b);s.push(w),a.push(x),c=Math.max(w,c),d=Math.max(x,d)}hFe(o,i);let _=s.indexOf(c),L=a.indexOf(d),F=T=>({width:s[T]||0,height:a[T]||0});return{first:F(0),last:F(i-1),widest:F(_),highest:F(L),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let i=this._startPixel+t*this._length;return yN(this._alignToPixels?gp(this.chart,i,0):i)}getDecimalForPixel(t){let i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){let i=this.ticks||[];if(t>=0&&t<i.length){let n=i[t];return n.$context||(n.$context=pFe(this.getContext(),t,n))}return this.$context||(this.$context=fFe(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,i=_d(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let i=this.axis,n=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),h=Cx(o),f=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,m=v/2,g=function(ne){return gp(n,ne,v)},b,w,x,R,_,L,F,T,P,A,O,V;if(s==="top")b=g(this.bottom),L=this.bottom-h,T=b-m,A=g(t.top)+m,V=t.bottom;else if(s==="bottom")b=g(this.top),A=t.top,V=g(t.bottom)-m,L=b+m,T=this.top+h;else if(s==="left")b=g(this.right),_=this.right-h,F=b-m,P=g(t.left)+m,O=t.right;else if(s==="right")b=g(this.left),P=t.left,O=g(t.right)-m,_=b+m,F=this.left+h;else if(i==="x"){if(s==="center")b=g((t.top+t.bottom)/2+.5);else if(Cr(s)){let ne=Object.keys(s)[0],ue=s[ne];b=g(this.chart.scales[ne].getPixelForValue(ue))}A=t.top,V=t.bottom,L=b+m,T=L+h}else if(i==="y"){if(s==="center")b=g((t.left+t.right)/2);else if(Cr(s)){let ne=Object.keys(s)[0],ue=s[ne];b=g(this.chart.scales[ne].getPixelForValue(ue))}_=b-m,F=_-h,P=t.left,O=t.right}let U=Qn(r.ticks.maxTicksLimit,u),ae=Math.max(1,Math.ceil(u/U));for(w=0;w<u;w+=ae){let ne=this.getContext(w),ue=o.setContext(ne),se=a.setContext(ne),_e=ue.lineWidth,Ve=ue.color,Ge=se.dash||[],K=se.dashOffset,Q=ue.tickWidth,ee=ue.tickColor,Z=ue.tickBorderDash||[],G=ue.tickBorderDashOffset;x=uFe(this,w,l),x!==void 0&&(R=gp(n,x,_e),c?_=F=P=O=R:L=T=A=V=R,f.push({tx1:_,ty1:L,tx2:F,ty2:T,x1:P,y1:A,x2:O,y2:V,width:_e,color:Ve,borderDash:Ge,borderDashOffset:K,tickWidth:Q,tickColor:ee,tickBorderDash:Z,tickBorderDashOffset:G}))}return this._ticksLength=u,this._borderValue=b,f}_computeLabelItems(t){let i=this.axis,n=this.options,{position:r,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=o,h=Cx(n.grid),f=h+d,p=u?-d:f,v=-_d(this.labelRotation),m=[],g,b,w,x,R,_,L,F,T,P,A,O,V="middle";if(r==="top")_=this.bottom-p,L=this._getXAxisLabelAlignment();else if(r==="bottom")_=this.top+p,L=this._getXAxisLabelAlignment();else if(r==="left"){let ae=this._getYAxisLabelAlignment(h);L=ae.textAlign,R=ae.x}else if(r==="right"){let ae=this._getYAxisLabelAlignment(h);L=ae.textAlign,R=ae.x}else if(i==="x"){if(r==="center")_=(t.top+t.bottom)/2+f;else if(Cr(r)){let ae=Object.keys(r)[0],ne=r[ae];_=this.chart.scales[ae].getPixelForValue(ne)+f}L=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")R=(t.left+t.right)/2-f;else if(Cr(r)){let ae=Object.keys(r)[0],ne=r[ae];R=this.chart.scales[ae].getPixelForValue(ne)}L=this._getYAxisLabelAlignment(h).textAlign}i==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));let U=this._getLabelSizes();for(g=0,b=a.length;g<b;++g){w=a[g],x=w.label;let ae=o.setContext(this.getContext(g));F=this.getPixelForTick(g)+o.labelOffset,T=this._resolveTickFontOptions(g),P=T.lineHeight,A=Uo(x)?x.length:1;let ne=A/2,ue=ae.color,se=ae.textStrokeColor,_e=ae.textStrokeWidth,Ve=L;s?(R=F,L==="inner"&&(g===b-1?Ve=this.options.reverse?"left":"right":g===0?Ve=this.options.reverse?"right":"left":Ve="center"),r==="top"?c==="near"||v!==0?O=-A*P+P/2:c==="center"?O=-U.highest.height/2-ne*P+P:O=-U.highest.height+P/2:c==="near"||v!==0?O=P/2:c==="center"?O=U.highest.height/2-ne*P:O=U.highest.height-A*P,u&&(O*=-1),v!==0&&!ae.showLabelBackdrop&&(R+=P/2*Math.sin(v))):(_=F,O=(1-A)*P/2);let Ge;if(ae.showLabelBackdrop){let K=ba(ae.backdropPadding),Q=U.heights[g],ee=U.widths[g],Z=O-K.top,G=0-K.left;switch(V){case"middle":Z-=Q/2;break;case"bottom":Z-=Q;break}switch(L){case"center":G-=ee/2;break;case"right":G-=ee;break;case"inner":g===b-1?G-=ee:g>0&&(G-=ee/2);break}Ge={left:G,top:Z,width:ee+K.width,height:Q+K.height,color:ae.backdropColor}}m.push({label:x,font:T,textOffset:O,options:{rotation:v,color:ue,strokeColor:se,strokeWidth:_e,textAlign:Ve,textBaseline:V,translation:[R,_],backdrop:Ge}})}return m}_getXAxisLabelAlignment(){let{position:t,ticks:i}=this.options;if(-_d(this.labelRotation))return t==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:i,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=t+o,l=s.widest.width,c,d;return i==="left"?r?(d=this.right+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):i==="right"?r?(d=this.left+o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:i},left:n,top:r,width:o,height:s}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,r,o,s),t.restore())}getLineWidthForValue(t){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let r=this.ticks.findIndex(o=>o.value===t);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,s,a=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(i.display)for(o=0,s=r.length;o<s;++o){let l=r[o];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:i,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,h;this.isHorizontal()?(c=gp(t,this.left,s)-s/2,d=gp(t,this.right,a)+a/2,u=h=l):(u=gp(t,this.top,s)-s/2,h=gp(t,this.bottom,a)+a/2,c=d=l),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(c,u),i.lineTo(d,h),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&K_(n,r);let o=this.getLabelItems(t);for(let s of o){let a=s.options,l=s.font,c=s.label,d=s.textOffset;vp(n,c,0,d,l,a)}r&&Z_(n)}drawTitle(){let{ctx:t,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;let o=Ps(n.font),s=ba(n.padding),a=n.align,l=o.lineHeight/2;i==="bottom"||i==="center"||Cr(i)?(l+=s.bottom,Uo(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:u,rotation:h}=gFe(this,l,i,a);vp(t,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:h,textAlign:mFe(a,i,r),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,i=t.ticks&&t.ticks.z||0,n=Qn(t.grid&&t.grid.z,-1),r=Qn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let i=this.options.ticks.setContext(this.getContext(t));return Ps(i.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},J_=class{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let i=Object.getPrototypeOf(t),n;_Fe(i)&&(n=this.register(i));let r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,vFe(t,s,n),this.override&&ko.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let i=this.items,n=t.id,r=this.scope;n in i&&delete i[n],r&&n in ko[r]&&(delete ko[r][n],this.override&&delete ag[n])}};function vFe(e,t,i){let n=bd(Object.create(null),[i?ko.get(i):{},ko.get(t),e.defaults]);ko.set(t,n),e.defaultRoutes&&bFe(t,e.defaultRoutes),e.descriptors&&ko.describe(t,e.descriptors)}function bFe(e,t){Object.keys(t).forEach(i=>{let n=i.split("."),r=n.pop(),o=[e].concat(n).join("."),s=t[i].split("."),a=s.pop(),l=s.join(".");ko.route(o,r,l,a)})}function _Fe(e){return"id"in e&&"defaults"in e}var JN=class{constructor(){this.controllers=new J_(dg,"datasets",!0),this.elements=new J_($u,"elements"),this.plugins=new J_(Object,"plugins"),this.scales=new J_(av,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(r=>{let o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):eo(r,s=>{let a=n||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,i,n){let r=cx(t);mo(n["before"+r],[],n),i[t](n),mo(n["after"+r],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){let n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){let r=i.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}},Jh=new JN,e6=class{constructor(){this._init=[]}notify(t,i,n,r){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,i,n);return i==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,i,n,r){r=r||{};for(let o of t){let s=o.plugin,a=s[n],l=[i,r,o.options];if(mo(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){nr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){let n=t&&t.config,r=Qn(n.options&&n.options.plugins,{}),o=yFe(n);return r===!1&&!i?[]:CFe(t,o,r,i)}_notifyStateChanges(t){let i=this._oldCache||[],n=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(i,n),t,"stop"),this._notify(r(n,i),t,"start")}};function yFe(e){let t={},i=[],n=Object.keys(Jh.plugins.items);for(let o=0;o<n.length;o++)i.push(Jh.getPlugin(n[o]));let r=e.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];i.indexOf(s)===-1&&(i.push(s),t[s.id]=!0)}return{plugins:i,localIds:t}}function wFe(e,t){return!t&&e===!1?null:e===!0?{}:e}function CFe(e,{plugins:t,localIds:i},n,r){let o=[],s=e.getContext();for(let a of t){let l=a.id,c=wFe(n[l],r);c!==null&&o.push({plugin:a,options:xFe(e.config,{plugin:a,local:i[l]},c,s)})}return o}function xFe(e,{plugin:t,local:i},n,r){let o=e.pluginScopeKeys(t),s=e.getOptionScopes(n,o);return i&&t.defaults&&s.push(t.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function t6(e,t){let i=ko.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function SFe(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function MFe(e,t){return e===t?"_index_":"_value_"}function qQ(e){if(e==="x"||e==="y"||e==="r")return e}function EFe(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function i6(e,...t){if(qQ(e))return e;for(let i of t){let n=i.axis||EFe(i.position)||e.length>1&&qQ(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function YQ(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function DFe(e,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(i.length)return YQ(e,"x",i[0])||YQ(e,"y",i[0])}return{}}function TFe(e,t){let i=ag[e.type]||{scales:{}},n=t.scales||{},r=t6(e.type,t),o=Object.create(null);return Object.keys(n).forEach(s=>{let a=n[s];if(!Cr(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=i6(s,a,DFe(s,e),ko.scales[a.type]),c=MFe(l,r),d=i.scales||{};o[s]=J0(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(s=>{let a=s.type||e.type,l=s.indexAxis||t6(a,t),d=(ag[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=SFe(u,l),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),J0(o[f],[{axis:h},n[f],d[u]])})}),Object.keys(o).forEach(s=>{let a=o[s];J0(a,[ko.scales[a.type],ko.scale])}),o}function FJ(e){let t=e.options||(e.options={});t.plugins=Qn(t.plugins,{}),t.scales=TFe(e,t)}function OJ(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function AFe(e){return e=e||{},e.data=OJ(e.data),FJ(e),e}var $Q=new Map,LJ=new Set;function jA(e,t){let i=$Q.get(e);return i||(i=t(),$Q.set(e,i),LJ.add(i)),i}var xx=(e,t,i)=>{let n=Kh(t,i);n!==void 0&&e.add(n)},n6=class{constructor(t){this._config=AFe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=OJ(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),FJ(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return jA(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return jA(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return jA(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){let i=t.id,n=this.type;return jA(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){let n=this._scopeCache,r=n.get(t);return(!r||i)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,i,n){let{options:r,type:o}=this,s=this._cachedScopes(t,n),a=s.get(i);if(a)return a;let l=new Set;i.forEach(d=>{t&&(l.add(t),d.forEach(u=>xx(l,t,u))),d.forEach(u=>xx(l,r,u)),d.forEach(u=>xx(l,ag[o]||{},u)),d.forEach(u=>xx(l,ko,u)),d.forEach(u=>xx(l,RA,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),LJ.has(i)&&s.set(i,c),c}chartOptionScopes(){let{options:t,type:i}=this;return[t,ag[i]||{},ko.datasets[i]||{},{type:i},ko,RA]}resolveNamedOptions(t,i,n,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=XQ(this._resolverCache,t,r),l=s;if(kFe(s,i)){o.$shared=!1,n=$h(n)?n():n;let c=this.createResolver(t,n,a);l=og(s,n,c)}for(let c of i)o[c]=l[c];return o}createResolver(t,i,n=[""],r){let{resolver:o}=XQ(this._resolverCache,t,n);return Cr(i)?og(o,i,void 0,r):o}};function XQ(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));let r=i.join(),o=n.get(r);return o||(o={resolver:gx(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,o)),o}var RFe=e=>Cr(e)&&Object.getOwnPropertyNames(e).some(t=>$h(e[t]));function kFe(e,t){let{isScriptable:i,isIndexable:n}=FA(e);for(let r of t){let o=i(r),s=n(r),a=(s||o)&&e[r];if(o&&($h(a)||RFe(a))||s&&Uo(a))return!0}return!1}var IFe="4.4.8",PFe=["top","bottom","left","right","chartArea"];function KQ(e,t){return e==="top"||e==="bottom"||PFe.indexOf(e)===-1&&t==="x"}function ZQ(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function QQ(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),mo(i&&i.onComplete,[e],t)}function FFe(e){let t=e.chart,i=t.options.animation;mo(i&&i.onProgress,[e],t)}function NJ(e){return vx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var ZA={},JQ=e=>{let t=NJ(e);return Object.values(ZA).filter(i=>i.canvas===t).pop()};function OFe(e,t,i){let n=Object.keys(e);for(let r of n){let o=+r;if(o>=t){let s=e[r];delete e[r],(i>0||o>t)&&(e[o+i]=s)}}}function LFe(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}function qA(e,t,i){return e.options.clip?e[i]:t[i]}function NFe(e,t){let{xScale:i,yScale:n}=e;return i&&n?{left:qA(i,t,"left"),right:qA(i,t,"right"),top:qA(n,t,"top"),bottom:qA(n,t,"bottom")}:t}var rR=(()=>{class e{static defaults=ko;static instances=ZA;static overrides=ag;static registry=Jh;static version=IFe;static getChart=JQ;static register(...i){Jh.add(...i),eJ()}static unregister(...i){Jh.remove(...i),eJ()}constructor(i,n){let r=this.config=new n6(n),o=NJ(i),s=JQ(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||nFe(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=mN(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new e6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SN(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],ZA[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}yp.listen(this,"complete",QQ),yp.listen(this,"progress",FFe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:i,maintainAspectRatio:n},width:r,height:o,_aspectRatio:s}=this;return nr(i)?n&&s?s:o?r/o:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return Jh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kA(this.canvas,this.ctx),this}stop(){return yp.stop(this),this}resize(i,n){yp.running(this)?this._resizeBeforeDraw={width:i,height:n}:this._resize(i,n)}_resize(i,n){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,i,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,NA(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),mo(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};eo(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){let i=this.options,n=i.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];n&&(s=s.concat(Object.keys(n).map(a=>{let l=n[a],c=i6(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),eo(s,a=>{let l=a.options,c=l.id,d=i6(c,l),u=Qn(l.type,a.dtype);(l.position===void 0||KQ(l.position,d)!==KQ(a.dposition))&&(l.position=a.dposition),o[c]=!0;let h=null;if(c in r&&r[c].type===u)h=r[c];else{let f=Jh.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,i)}),eo(o,(a,l)=>{a||delete r[l]}),eo(r,a=>{Gl.configure(this,a,a.options),Gl.addBox(this,a)})}_updateMetasets(){let i=this._metasets,n=this.data.datasets.length,r=i.length;if(i.sort((o,s)=>o.index-s.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);i.splice(n,r-n)}this._sortedMetasets=i.slice(0).sort(ZQ("order","index"))}_removeUnreferencedMetasets(){let{_metasets:i,data:{datasets:n}}=this;i.length>n.length&&delete this._stacks,i.forEach((r,o)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let i=[],n=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){let s=n[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||t6(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=Jh.getController(l),{datasetElementType:d,dataElementType:u}=ko.datasets[l];Object.assign(c,{dataElementType:Jh.getElement(u),datasetElementType:d&&Jh.getElement(d)}),a.controller=new c(this,r),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){eo(this.data.datasets,(i,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||eo(s,d=>{d.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(ZQ("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){eo(this.scales,i=>{Gl.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let i=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(i.events);(!vA(n,r)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:i}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of n){let a=r==="_removeElements"?-s:s;OFe(i,o,a)}}_getUniformDataChanges(){let i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=s=>new Set(i.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<n;s++)if(!vA(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Gl.update(this,this.width,this.height,i);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],eo(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,$h(i)?i({datasetIndex:n}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,n){let r=this.getDatasetMeta(i),o={meta:r,index:i,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yp.has(this)?this.attached&&!yp.running(this)&&yp.start(this):(this.draw(),QQ({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(i=0;i<n.length&&n[i].z<=0;++i)n[i].draw(this.chartArea);for(this._drawDatasets();i<n.length;++i)n[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){let n=this._sortedMetasets,r=[],o,s;for(o=0,s=n.length;o<s;++o){let a=n[o];(!i||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let i=this.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n)this._drawDataset(i[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){let n=this.ctx,r=i._clip,o=!r.disabled,s=NFe(i,this.chartArea),a={meta:i,index:i.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&K_(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),i.controller.draw(),o&&Z_(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(i){return ju(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,n,r,o){let s=BPe.modes[n];return typeof s=="function"?s(this,i,r,o):[]}getDatasetMeta(i){let n=this.data.datasets[i],r=this._metasets,o=r.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:i,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Zh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){let n=this.data.datasets[i];if(!n)return!1;let r=this.getDatasetMeta(i);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(i,n){let r=this.getDatasetMeta(i);r.hidden=!n}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,n,r){let o=r?"show":"hide",s=this.getDatasetMeta(i),a=s.controller._resolveAnimations(void 0,o);ev(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(i,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===i?o:void 0))}hide(i,n){this._updateVisibility(i,n,!1)}show(i,n){this._updateVisibility(i,n,!0)}_destroyDatasetMeta(i){let n=this._metasets[i];n&&n.controller&&n.controller._destroy(),delete this._metasets[i]}_stop(){let i,n;for(this.stop(),yp.remove(this),i=0,n=this.data.datasets.length;i<n;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:i,ctx:n}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),kA(i,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ZA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),i[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};eo(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),i[c]=d},o=(c,d)=>{i[c]&&(n.removeEventListener(this,c,d),delete i[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){eo(this._listeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._listeners={},eo(this._responsiveListeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,n,r){let o=r?"set":"remove",s,a,l,c;for(n==="dataset"&&(s=this.getDatasetMeta(i[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=i.length;l<c;++l){a=i[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){let n=this._active||[],r=i.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!X_(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(i,n,r){return this._plugins.notify(this,i,n,r)}isPluginEnabled(i){return this._plugins._cache.filter(n=>n.plugin.id===i).length===1}_updateHoverStyles(i,n,r){let o=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=s(n,i),l=r?i:s(i,n);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(i,n){let r={event:i,replay:n,cancelable:!0,inChartArea:this.isPointInArea(i)},o=a=>(a.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(i,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(i,n,r){let{_active:o=[],options:s}=this,a=n,l=this._getActiveElements(i,o,r,a),c=vN(i),d=LFe(i,this._lastEvent,r,c);r&&(this._lastEvent=null,mo(s.onHover,[i,l,this],this),c&&mo(s.onClick,[i,l,this],this));let u=!X_(l,o);return(u||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=d,u}_getActiveElements(i,n,r,o){if(i.type==="mouseout")return[];if(!r)return n;let s=this.options.hover;return this.getElementsAtEventForMode(i,s.mode,s,o)}}return e})();function eJ(){return eo(rR.instances,e=>e._plugins.invalidate())}function BFe(e,t,i){let{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=t,c=r/a;e.beginPath(),e.arc(o,s,a,n-c,i+c),l>r?(c=r/l,e.arc(o,s,l,i+c,n-c,!0)):e.arc(o,s,r,i+Is,n-Is),e.closePath(),e.clip()}function VFe(e){return mx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function zFe(e,t,i,n){let r=VFe(e.options.borderRadius),o=(i-t)/2,s=Math.min(o,n*t/2),a=l=>{let c=(i-Math.min(o,l))*n/2;return va(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:va(r.innerStart,0,s),innerEnd:va(r.innerEnd,0,s)}}function Q_(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function tR(e,t,i,n,r,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+i-c,0),h=d>0?d+n+i+c:0,f=0,p=r-l;if(n){let ae=d>0?d-n:0,ne=u>0?u-n:0,ue=(ae+ne)/2,se=ue!==0?p*ue/(ue+n):p;f=(p-se)/2}let v=Math.max(.001,p*u-i/Go)/u,m=(p-v)/2,g=l+m+f,b=r-m-f,{outerStart:w,outerEnd:x,innerStart:R,innerEnd:_}=zFe(t,h,u,b-g),L=u-w,F=u-x,T=g+w/L,P=b-x/F,A=h+R,O=h+_,V=g+R/A,U=b-_/O;if(e.beginPath(),o){let ae=(T+P)/2;if(e.arc(s,a,u,T,ae),e.arc(s,a,u,ae,P),x>0){let _e=Q_(F,P,s,a);e.arc(_e.x,_e.y,x,P,b+Is)}let ne=Q_(O,b,s,a);if(e.lineTo(ne.x,ne.y),_>0){let _e=Q_(O,U,s,a);e.arc(_e.x,_e.y,_,b+Is,U+Math.PI)}let ue=(b-_/h+(g+R/h))/2;if(e.arc(s,a,h,b-_/h,ue,!0),e.arc(s,a,h,ue,g+R/h,!0),R>0){let _e=Q_(A,V,s,a);e.arc(_e.x,_e.y,R,V+Math.PI,g-Is)}let se=Q_(L,g,s,a);if(e.lineTo(se.x,se.y),w>0){let _e=Q_(L,T,s,a);e.arc(_e.x,_e.y,w,g-Is,T)}}else{e.moveTo(s,a);let ae=Math.cos(T)*u+s,ne=Math.sin(T)*u+a;e.lineTo(ae,ne);let ue=Math.cos(P)*u+s,se=Math.sin(P)*u+a;e.lineTo(ue,se)}e.closePath()}function HFe(e,t,i,n,r){let{fullCircles:o,startAngle:s,circumference:a}=t,l=t.endAngle;if(o){tR(e,t,i,n,l,r);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=s+(a%Wo||Wo))}return tR(e,t,i,n,l,r),e.fill(),l}function UFe(e,t,i,n,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,f?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(o){tR(e,t,i,n,p,r);for(let v=0;v<o;++v)e.stroke();isNaN(a)||(p=s+(a%Wo||Wo))}f&&BFe(e,t,p),o||(tR(e,t,i,n,p,r),e.stroke())}var Dx=class extends $u{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,n){let r=this.getProps(["x","y"],n),{angle:o,distance:s}=wA(r,{x:t,y:i}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,f=Qn(u,l-a),p=iv(o,a,l)&&a!==l,v=f>=Wo||p,m=Yu(s,c+h,d+h);return v&&m}getCenterPoint(t){let{x:i,y:n,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,d=(r+o)/2,u=(s+a+c+l)/2;return{x:i+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:i,circumference:n}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,s=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>Wo?Math.floor(n/Wo):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Go,n||0)),c=r*l;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,HFe(t,this,c,o,s),UFe(t,this,c,o,s),t.restore()}};function BJ(e,t,i=t){e.lineCap=Qn(i.borderCapStyle,t.borderCapStyle),e.setLineDash(Qn(i.borderDash,t.borderDash)),e.lineDashOffset=Qn(i.borderDashOffset,t.borderDashOffset),e.lineJoin=Qn(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Qn(i.borderWidth,t.borderWidth),e.strokeStyle=Qn(i.borderColor,t.borderColor)}function GFe(e,t,i){e.lineTo(i.x,i.y)}function WFe(e){return e.stepped?DN:e.tension||e.cubicInterpolationMode==="monotone"?TN:GFe}function VJ(e,t,i={}){let n=e.length,{start:r=0,end:o=n-1}=i,{start:s,end:a}=t,l=Math.max(r,s),c=Math.min(o,a),d=r<s&&o<s||r>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function jFe(e,t,i,n){let{points:r,options:o}=t,{count:s,start:a,loop:l,ilen:c}=VJ(r,i,n),d=WFe(o),{move:u=!0,reverse:h}=n||{},f,p,v;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%s],!p.skip&&(u?(e.moveTo(p.x,p.y),u=!1):d(e,v,p,h,o.stepped),v=p);return l&&(p=r[(a+(h?c:0))%s],d(e,v,p,h,o.stepped)),!!l}function qFe(e,t,i,n){let r=t.points,{count:o,start:s,ilen:a}=VJ(r,i,n),{move:l=!0,reverse:c}=n||{},d=0,u=0,h,f,p,v,m,g,b=x=>(s+(c?a-x:x))%o,w=()=>{v!==m&&(e.lineTo(d,m),e.lineTo(d,v),e.lineTo(d,g))};for(l&&(f=r[b(0)],e.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[b(h)],f.skip)continue;let x=f.x,R=f.y,_=x|0;_===p?(R<v?v=R:R>m&&(m=R),d=(u*d+x)/++u):(w(),e.lineTo(x,R),p=_,u=0,v=m=R),g=R}w()}function r6(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?qFe:jFe}function YFe(e){return e.stepped?ON:e.tension||e.cubicInterpolationMode==="monotone"?LN:mp}function $Fe(e,t,i,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,i,n)&&r.closePath()),BJ(e,t.options),e.stroke(r)}function XFe(e,t,i,n){let{segments:r,options:o}=t,s=r6(t);for(let a of r)BJ(e,o,a.style),e.beginPath(),s(e,t,a,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}var KFe=typeof Path2D=="function";function ZFe(e,t,i,n){KFe&&!t.options.segment?$Fe(e,t,i,n):XFe(e,t,i,n)}var oR=(()=>{class e extends $u{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;IN(this._points,r,i,o,n),this._pointsUpdated=!0}}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=NN(this,this.options.segment))}first(){let i=this.segments,n=this.points;return i.length&&n[i[0].start]}last(){let i=this.segments,n=this.points,r=i.length;return r&&n[i[r-1].end]}interpolate(i,n){let r=this.options,o=i[n],s=this.points,a=UA(this,{property:n,start:o,end:o});if(!a.length)return;let l=[],c=YFe(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:f}=a[d],p=s[h],v=s[f];if(p===v){l.push(p);continue}let m=Math.abs((o-p[n])/(v[n]-p[n])),g=c(p,v,m,r.stepped);g[n]=i[n],l.push(g)}return l.length===1?l[0]:l}pathSegment(i,n,r){return r6(this)(i,this,n,r)}path(i,n,r){let o=this.segments,s=r6(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let l of o)a&=s(i,this,l,{start:n,end:n+r-1});return!!a}draw(i,n,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(i.save(),ZFe(i,this,r,o),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function tJ(e,t,i,n){let r=e.options,{[i]:o}=e.getProps([i],n);return Math.abs(t-o)<r.radius+r.hitRadius}var p6=(()=>{class e extends $u{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(i-s,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(i,n){return tJ(this,i,"x",n)}inYRange(i,n){return tJ(this,i,"y",n)}getCenterPoint(i){let{x:n,y:r}=this.getProps(["x","y"],i);return{x:n,y:r}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);let r=n&&i.borderWidth||0;return(n+r)*2}draw(i,n){let r=this.options;this.skip||r.radius<.1||!ju(this,n,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,px(i,r,this.x,this.y))}getRange(){let i=this.options||{};return i.radius+i.hitRadius}}return e})();function zJ(e,t){let{x:i,y:n,base:r,width:o,height:s}=e.getProps(["x","y","base","width","height"],t),a,l,c,d,u;return e.horizontal?(u=s/2,a=Math.min(i,r),l=Math.max(i,r),c=n-u,d=n+u):(u=o/2,a=i-u,l=i+u,c=Math.min(n,r),d=Math.max(n,r)),{left:a,top:c,right:l,bottom:d}}function cg(e,t,i,n){return e?0:va(t,i,n)}function QFe(e,t,i){let n=e.options.borderWidth,r=e.borderSkipped,o=PA(n);return{t:cg(r.top,o.top,0,i),r:cg(r.right,o.right,0,t),b:cg(r.bottom,o.bottom,0,i),l:cg(r.left,o.left,0,t)}}function JFe(e,t,i){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=bp(r),s=Math.min(t,i),a=e.borderSkipped,l=n||Cr(r);return{topLeft:cg(!l||a.top||a.left,o.topLeft,0,s),topRight:cg(!l||a.top||a.right,o.topRight,0,s),bottomLeft:cg(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:cg(!l||a.bottom||a.right,o.bottomRight,0,s)}}function e5e(e){let t=zJ(e),i=t.right-t.left,n=t.bottom-t.top,r=QFe(e,i/2,n/2),o=JFe(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function jN(e,t,i,n){let r=t===null,o=i===null,a=e&&!(r&&o)&&zJ(e,n);return a&&(r||Yu(t,a.left,a.right))&&(o||Yu(i,a.top,a.bottom))}function t5e(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function i5e(e,t){e.rect(t.x,t.y,t.w,t.h)}function qN(e,t,i={}){let n=e.x!==i.x?-t:0,r=e.y!==i.y?-t:0,o=(e.x+e.w!==i.x+i.w?t:0)-n,s=(e.y+e.h!==i.y+i.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+o,h:e.h+s,radius:e.radius}}var Tx=class extends $u{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:s}=e5e(this),a=t5e(s.radius)?rv:i5e;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,qN(s,i,o)),t.clip(),a(t,qN(o,-i,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,qN(o,i)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,i,n){return jN(this,t,i,n)}inXRange(t,i){return jN(this,t,null,i)}inYRange(t,i){return jN(this,null,t,i)}getCenterPoint(t){let{x:i,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(i+r)/2:i,y:o?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},n5e=Object.freeze({__proto__:null,ArcElement:Dx,BarElement:Tx,LineElement:oR,PointElement:p6}),o6=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],iJ=o6.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function HJ(e){return o6[e%o6.length]}function UJ(e){return iJ[e%iJ.length]}function r5e(e,t){return e.borderColor=HJ(t),e.backgroundColor=UJ(t),++t}function o5e(e,t){return e.backgroundColor=e.data.map(()=>HJ(t++)),t}function s5e(e,t){return e.backgroundColor=e.data.map(()=>UJ(t++)),t}function a5e(e){let t=0;return(i,n)=>{let r=e.getDatasetMeta(n).controller;r instanceof f6?t=o5e(i,t):r instanceof AJ?t=s5e(i,t):r&&(t=r5e(i,t))}}function nJ(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function l5e(e){return e&&(e.borderColor||e.backgroundColor)}function c5e(){return ko.borderColor!=="rgba(0,0,0,0.1)"||ko.backgroundColor!=="rgba(0,0,0,0.1)"}var d5e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;let{data:{datasets:n},options:r}=e.config,{elements:o}=r,s=nJ(n)||l5e(r)||o&&nJ(o)||c5e();if(!i.forceOverride&&s)return;let a=a5e(e);n.forEach(a)}};function u5e(e,t,i,n,r){let o=r.samples||n;if(o>=i)return e.slice(t,t+i);let s=[],a=(i-2)/(o-2),l=0,c=t+i-1,d=t,u,h,f,p,v;for(s[l++]=e[d],u=0;u<o-2;u++){let m=0,g=0,b,w=Math.floor((u+1)*a)+1+t,x=Math.min(Math.floor((u+2)*a)+1,i)+t,R=x-w;for(b=w;b<x;b++)m+=e[b].x,g+=e[b].y;m/=R,g/=R;let _=Math.floor(u*a)+1+t,L=Math.min(Math.floor((u+1)*a)+1,i)+t,{x:F,y:T}=e[d];for(f=p=-1,b=_;b<L;b++)p=.5*Math.abs((F-m)*(e[b].y-T)-(F-e[b].x)*(g-T)),p>f&&(f=p,h=e[b],v=b);s[l++]=h,d=v}return s[l++]=e[c],s}function h5e(e,t,i,n){let r=0,o=0,s,a,l,c,d,u,h,f,p,v,m=[],g=t+i-1,b=e[t].x,x=e[g].x-b;for(s=t;s<t+i;++s){a=e[s],l=(a.x-b)/x*n,c=a.y;let R=l|0;if(R===d)c<p?(p=c,u=s):c>v&&(v=c,h=s),r=(o*r+a.x)/++o;else{let _=s-1;if(!nr(u)&&!nr(h)){let L=Math.min(u,h),F=Math.max(u,h);L!==f&&L!==_&&m.push(Zt(Ie({},e[L]),{x:r})),F!==f&&F!==_&&m.push(Zt(Ie({},e[F]),{x:r}))}s>0&&_!==f&&m.push(e[_]),m.push(a),d=R,o=0,p=v=c,u=h=f=s}}return m}function GJ(e){if(e._decimated){let t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function rJ(e){e.data.datasets.forEach(t=>{GJ(t)})}function f5e(e,t){let i=t.length,n=0,r,{iScale:o}=e,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=va(Wu(t,o.axis,s).lo,0,i-1)),c?r=va(Wu(t,o.axis,a).hi+1,n,i)-n:r=i-n,{start:n,count:r}}var p5e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled){rJ(e);return}let n=e.width;e.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=e.getDatasetMeta(o),c=s||r.data;if(Io([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:u,count:h}=f5e(l,c),f=i.threshold||4*n;if(h<=f){GJ(r);return}nr(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let p;switch(i.algorithm){case"lttb":p=u5e(c,u,h,n,i);break;case"min-max":p=h5e(c,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}r._decimated=p})},destroy(e){rJ(e)}};function m5e(e,t,i){let n=e.segments,r=e.points,o=t.points,s=[];for(let a of n){let{start:l,end:c}=a;c=m6(l,c,r);let d=s6(i,r[l],r[c],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[l],end:r[c]});continue}let u=UA(t,d);for(let h of u){let f=s6(i,o[h.start],o[h.end],h.loop),p=HA(a,r,f);for(let v of p)s.push({source:v,target:h,start:{[i]:oJ(d,f,"start",Math.max)},end:{[i]:oJ(d,f,"end",Math.min)}})}}return s}function s6(e,t,i,n){if(n)return;let r=t[e],o=i[e];return e==="angle"&&(r=uc(r),o=uc(o)),{property:e,start:r,end:o}}function g5e(e,t){let{x:i=null,y:n=null}=e||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=m6(s,a,r);let l=r[s],c=r[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):i!==null&&(o.push({x:i,y:l.y}),o.push({x:i,y:c.y}))}),o}function m6(e,t,i){for(;t>e;t--){let n=i[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function oJ(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}function WJ(e,t){let i=[],n=!1;return Uo(e)?(n=!0,i=e):i=g5e(e,t),i.length?new oR({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function sJ(e){return e&&e.fill!==!1}function v5e(e,t,i){let r=e[t].fill,o=[t],s;if(!i)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Ss(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function b5e(e,t,i){let n=C5e(e);if(Cr(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Ss(r)&&Math.floor(r)===r?_5e(n[0],t,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function _5e(e,t,i,n){return(e==="-"||e==="+")&&(i=t+i),i===t||i<0||i>=n?!1:i}function y5e(e,t){let i=null;return e==="start"?i=t.bottom:e==="end"?i=t.top:Cr(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function w5e(e,t,i){let n;return e==="start"?n=i:e==="end"?n=t.options.reverse?t.min:t.max:Cr(e)?n=e.value:n=t.getBaseValue(),n}function C5e(e){let t=e.options,i=t.fill,n=Qn(i&&i.target,i);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function x5e(e){let{scale:t,index:i,line:n}=e,r=[],o=n.segments,s=n.points,a=S5e(t,i);a.push(WJ({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){let c=o[l];for(let d=c.start;d<=c.end;d++)M5e(r,s[d],a)}return new oR({points:r,options:{}})}function S5e(e,t){let i=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let o=n[r];if(o.index===t)break;o.hidden||i.unshift(o.dataset)}return i}function M5e(e,t,i){let n=[];for(let r=0;r<i.length;r++){let o=i[r],{first:s,last:a,point:l}=E5e(o,t,"x");if(!(!l||s&&a)){if(s)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function E5e(e,t,i){let n=e.interpolate(t,i);if(!n)return{};let r=n[i],o=e.segments,s=e.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let d=o[c],u=s[d.start][i],h=s[d.end][i];if(Yu(r,u,h)){a=r===u,l=r===h;break}}return{first:a,last:l,point:n}}var iR=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,n){let{x:r,y:o,radius:s}=this;return i=i||{start:0,end:Wo},t.arc(r,o,s,i.end,i.start,!0),!n.bounds}interpolate(t){let{x:i,y:n,radius:r}=this,o=t.angle;return{x:i+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}};function D5e(e){let{chart:t,fill:i,line:n}=e;if(Ss(i))return T5e(t,i);if(i==="stack")return x5e(e);if(i==="shape")return!0;let r=A5e(e);return r instanceof iR?r:WJ(r,n)}function T5e(e,t){let i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function A5e(e){return(e.scale||{}).getPointPositionForValue?k5e(e):R5e(e)}function R5e(e){let{scale:t={},fill:i}=e,n=y5e(i,t);if(Ss(n)){let r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function k5e(e){let{scale:t,fill:i}=e,n=t.options,r=t.getLabels().length,o=n.reverse?t.max:t.min,s=w5e(i,t,o),a=[];if(n.grid.circular){let l=t.getPointPositionForValue(0,o);return new iR({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,s));return a}function YN(e,t,i){let n=D5e(t),{line:r,scale:o,axis:s}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};n&&r.points.length&&(K_(e,i),I5e(e,{line:r,target:n,above:d,below:u,area:i,scale:o,axis:s}),Z_(e))}function I5e(e,t){let{line:i,target:n,above:r,below:o,area:s,scale:a}=t,l=i._loop?"angle":t.axis;e.save(),l==="x"&&o!==r&&(aJ(e,n,s.top),lJ(e,{line:i,target:n,color:r,scale:a,property:l}),e.restore(),e.save(),aJ(e,n,s.bottom)),lJ(e,{line:i,target:n,color:o,scale:a,property:l}),e.restore()}function aJ(e,t,i){let{segments:n,points:r}=t,o=!0,s=!1;e.beginPath();for(let a of n){let{start:l,end:c}=a,d=r[l],u=r[m6(l,c,r)];o?(e.moveTo(d.x,d.y),o=!1):(e.lineTo(d.x,i),e.lineTo(d.x,d.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(u.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function lJ(e,t){let{line:i,target:n,property:r,color:o,scale:s}=t,a=m5e(i,n,r);for(let{source:l,target:c,start:d,end:u}of a){let{style:{backgroundColor:h=o}={}}=l,f=n!==!0;e.save(),e.fillStyle=h,P5e(e,s,f&&s6(r,d,u)),e.beginPath();let p=!!i.pathSegment(e,l),v;if(f){p?e.closePath():cJ(e,n,u,r);let m=!!n.pathSegment(e,c,{move:p,reverse:!0});v=p&&m,v||cJ(e,n,d,r)}e.closePath(),e.fill(v?"evenodd":"nonzero"),e.restore()}}function P5e(e,t,i){let{top:n,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=i||{};o==="x"&&(e.beginPath(),e.rect(s,n,a-s,r-n),e.clip())}function cJ(e,t,i,n){let r=t.interpolate(i,n);r&&e.lineTo(r.x,r.y)}var F5e={id:"filler",afterDatasetsUpdate(e,t,i){let n=(e.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<n;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof oR&&(l={visible:e.isDatasetVisible(s),index:s,fill:b5e(a,s,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<n;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=v5e(r,s,i.propagate))},beforeDraw(e,t,i){let n=i.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&YN(e.ctx,a,o))}},beforeDatasetsDraw(e,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;let n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let o=n[r].$filler;sJ(o)&&YN(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,i){let n=t.meta.$filler;!sJ(n)||i.drawTime!=="beforeDatasetDraw"||YN(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},dJ=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}},O5e=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index,nR=class extends $u{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,n){this.maxWidth=t,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},i=mo(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(n=>t.filter(n,this.chart.data))),t.sort&&(i=i.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,r=Ps(n.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=dJ(n,o),c,d;i.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,i,n,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+a,u=t;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-d;return this.legendItems.forEach((p,v)=>{let m=n+i/2+o.measureText(p.text).width;(v===0||c[c.length-1]+m+2*a>s)&&(u+=d,c[c.length-(v>0?0:1)]=0,f+=d,h++),l[v]={left:0,top:f,row:h,width:m,height:r},c[c.length-1]+=m+a}),u}_fitCols(t,i,n,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-t,u=a,h=0,f=0,p=0,v=0;return this.legendItems.forEach((m,g)=>{let{itemWidth:b,itemHeight:w}=L5e(n,i,o,m,r);g>0&&f+w+2*a>d&&(u+=h+a,c.push({width:h,height:f}),p+=h+a,v++,h=f=0),l[g]={left:p,top:f,col:v,width:b,height:w},h=Math.max(h,b),f+=w+a}),u+=h,c.push({width:h,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:o}}=this,s=lg(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=el(n,this.left+r,this.right-this.lineWidths[a]);for(let c of i)a!==c.row&&(a=c.row,l=el(n,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=el(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let c of i)c.col!==a&&(a=c.col,l=el(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;K_(t,this),this._draw(),Z_(t)}}_draw(){let{options:t,columnSizes:i,lineWidths:n,ctx:r}=this,{align:o,labels:s}=t,a=ko.color,l=lg(t.rtl,this.left,this.width),c=Ps(s.font),{padding:d}=s,u=c.size,h=u/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:p,boxHeight:v,itemHeight:m}=dJ(s,u),g=function(_,L,F){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;r.save();let T=Qn(F.lineWidth,1);if(r.fillStyle=Qn(F.fillStyle,a),r.lineCap=Qn(F.lineCap,"butt"),r.lineDashOffset=Qn(F.lineDashOffset,0),r.lineJoin=Qn(F.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=Qn(F.strokeStyle,a),r.setLineDash(Qn(F.lineDash,[])),s.usePointStyle){let P={radius:v*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:T},A=l.xPlus(_,p/2),O=L+h;IA(r,P,A,O,s.pointStyleWidth&&p)}else{let P=L+Math.max((u-v)/2,0),A=l.leftForLtr(_,p),O=bp(F.borderRadius);r.beginPath(),Object.values(O).some(V=>V!==0)?rv(r,{x:A,y:P,w:p,h:v,radius:O}):r.rect(A,P,p,v),r.fill(),T!==0&&r.stroke()}r.restore()},b=function(_,L,F){vp(r,F.text,_,L+m/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:el(o,this.left+d,this.right-n[0]),y:this.top+d+x,line:0}:f={x:this.left+d,y:el(o,this.top+x+d,this.bottom-i[0].height),line:0},VA(this.ctx,t.textDirection);let R=m+d;this.legendItems.forEach((_,L)=>{r.strokeStyle=_.fontColor,r.fillStyle=_.fontColor;let F=r.measureText(_.text).width,T=l.textAlign(_.textAlign||(_.textAlign=s.textAlign)),P=p+h+F,A=f.x,O=f.y;l.setWidth(this.width),w?L>0&&A+P+d>this.right&&(O=f.y+=R,f.line++,A=f.x=el(o,this.left+d,this.right-n[f.line])):L>0&&O+R>this.bottom&&(A=f.x=A+i[f.line].width+d,f.line++,O=f.y=el(o,this.top+x+d,this.bottom-i[f.line].height));let V=l.x(A);if(g(V,O,_),A=MN(T,A+p+h,w?A+P:this.right,t.rtl),b(l.x(A),O,_),w)f.x+=P+d;else if(typeof _.text!="string"){let U=c.lineHeight;f.y+=jJ(_,U)+d}else f.y+=R}),zA(this.ctx,t.textDirection)}drawTitle(){let t=this.options,i=t.title,n=Ps(i.font),r=ba(i.padding);if(!i.display)return;let o=lg(t.rtl,this.left,this.width),s=this.ctx,a=i.position,l=n.size/2,c=r.top+l,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=el(t.align,u,this.right-h);else{let p=this.columnSizes.reduce((v,m)=>Math.max(v,m.height),0);d=c+el(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}let f=el(a,u,u+h);s.textAlign=o.textAlign(hx(a)),s.textBaseline="middle",s.strokeStyle=i.color,s.fillStyle=i.color,s.font=n.string,vp(s,i.text,f,d,n)}_computeTitleHeight(){let t=this.options.title,i=Ps(t.font),n=ba(t.padding);return t.display?i.lineHeight+n.height:0}_getLegendItemAt(t,i){let n,r,o;if(Yu(t,this.left,this.right)&&Yu(i,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],Yu(t,r.left,r.left+r.width)&&Yu(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){let i=this.options;if(!V5e(t.type,i))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,o=O5e(r,n);r&&!o&&mo(i.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&mo(i.onHover,[t,n,this],this)}else n&&mo(i.onClick,[t,n,this],this)}};function L5e(e,t,i,n,r){let o=N5e(n,e,t,i),s=B5e(r,n,t.lineHeight);return{itemWidth:o,itemHeight:s}}function N5e(e,t,i,n){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+i.size/2+n.measureText(r).width}function B5e(e,t,i){let n=e;return typeof t.text!="string"&&(n=jJ(t,i)),n}function jJ(e,t){let i=e.text?e.text.length:0;return t*i}function V5e(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var z5e={id:"legend",_element:nR,start(e,t,i){let n=e.legend=new nR({ctx:e.ctx,options:i,chart:e});Gl.configure(e,n,i),Gl.addBox(e,n)},stop(e){Gl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){let n=e.legend;Gl.configure(e,n,i),n.options=i},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){let n=t.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(i?0:void 0),d=ba(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},Ax=class extends $u{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;let r=Uo(n.text)?n.text.length:1;this._padding=ba(n.padding);let o=r*Ps(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:i,left:n,bottom:r,right:o,options:s}=this,a=s.align,l=0,c,d,u;return this.isHorizontal()?(d=el(a,n,o),u=i+t,c=o-n):(s.position==="left"?(d=n+t,u=el(a,r,i),l=Go*-.5):(d=o-t,u=el(a,i,r),l=Go*.5),c=r-i),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){let t=this.ctx,i=this.options;if(!i.display)return;let n=Ps(i.font),o=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);vp(t,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:c,textAlign:hx(i.align),textBaseline:"middle",translation:[s,a]})}};function H5e(e,t){let i=new Ax({ctx:e.ctx,options:t,chart:e});Gl.configure(e,i,t),Gl.addBox(e,i),e.titleBlock=i}var U5e={id:"title",_element:Ax,start(e,t,i){H5e(e,i)},stop(e){let t=e.titleBlock;Gl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){let n=e.titleBlock;Gl.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},YA=new WeakMap,G5e={id:"subtitle",start(e,t,i){let n=new Ax({ctx:e.ctx,options:i,chart:e});Gl.configure(e,n,i),Gl.addBox(e,n),YA.set(e,n)},stop(e){Gl.removeBox(e,YA.get(e)),YA.delete(e)},beforeUpdate(e,t,i){let n=YA.get(e);Gl.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Mx={average(e){if(!e.length)return!1;let t,i,n=new Set,r=0,o=0;for(t=0,i=e.length;t<i;++t){let a=e[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();n.add(l.x),r+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:r/o}},nearest(e,t){if(!e.length)return!1;let i=t.x,n=t.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=e.length;o<s;++o){let l=e[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=lx(t,c);d<r&&(r=d,a=l)}}if(a){let l=a.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function Qh(e,t){return t&&(Uo(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function wp(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function W5e(e,t){let{element:i,datasetIndex:n,index:r}=t,o=e.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:e,label:s,parsed:o.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function uJ(e,t){let i=e.chart.ctx,{body:n,footer:r,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=Ps(t.bodyFont),c=Ps(t.titleFont),d=Ps(t.footerFont),u=o.length,h=r.length,f=n.length,p=ba(t.padding),v=p.height,m=0,g=n.reduce((x,R)=>x+R.before.length+R.lines.length+R.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(v+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){let x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=f*x+(g-f)*l.lineHeight+(g-1)*t.bodySpacing}h&&(v+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0,w=function(x){m=Math.max(m,i.measureText(x).width+b)};return i.save(),i.font=c.string,eo(e.title,w),i.font=l.string,eo(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?s+2+t.boxPadding:0,eo(n,x=>{eo(x.before,w),eo(x.lines,w),eo(x.after,w)}),b=0,i.font=d.string,eo(e.footer,w),i.restore(),m+=p.width,{width:m,height:v}}function j5e(e,t){let{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}function q5e(e,t,i,n){let{x:r,width:o}=n,s=i.caretSize+i.caretPadding;if(e==="left"&&r+o+s>t.width||e==="right"&&r-o-s<0)return!0}function Y5e(e,t,i,n){let{x:r,width:o}=i,{width:s,chartArea:{left:a,right:l}}=e,c="center";return n==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),q5e(c,e,t,i)&&(c="center"),c}function hJ(e,t,i){let n=i.yAlign||t.yAlign||j5e(e,i);return{xAlign:i.xAlign||t.xAlign||Y5e(e,t,i,n),yAlign:n}}function $5e(e,t){let{x:i,width:n}=e;return t==="right"?i-=n:t==="center"&&(i-=n/2),i}function X5e(e,t,i){let{y:n,height:r}=e;return t==="top"?n+=i:t==="bottom"?n-=r+i:n-=r/2,n}function fJ(e,t,i,n){let{caretSize:r,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=i,c=r+o,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=bp(s),p=$5e(t,a),v=X5e(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(d,h)+r:a==="right"&&(p+=Math.max(u,f)+r),{x:va(p,0,n.width-t.width),y:va(v,0,n.height-t.height)}}function $A(e,t,i){let n=ba(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function pJ(e){return Qh([],wp(e))}function K5e(e,t,i){return Zh(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function mJ(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}var qJ={beforeTitle:qu,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:qu,beforeBody:qu,beforeLabel:qu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return nr(i)||(t+=i),t},labelColor(e){let i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:qu,afterBody:qu,beforeFooter:qu,footer:qu,afterFooter:qu};function Fc(e,t,i,n){let r=e[t].call(i,n);return typeof r>"u"?qJ[t].call(i,n):r}var gJ=(()=>{class e extends $u{static positioners=Mx;constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let i=this._cachedAnimations;if(i)return i;let n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,s=new QA(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=K5e(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,n){let{callbacks:r}=n,o=Fc(r,"beforeTitle",this,i),s=Fc(r,"title",this,i),a=Fc(r,"afterTitle",this,i),l=[];return l=Qh(l,wp(o)),l=Qh(l,wp(s)),l=Qh(l,wp(a)),l}getBeforeBody(i,n){return pJ(Fc(n.callbacks,"beforeBody",this,i))}getBody(i,n){let{callbacks:r}=n,o=[];return eo(i,s=>{let a={before:[],lines:[],after:[]},l=mJ(r,s);Qh(a.before,wp(Fc(l,"beforeLabel",this,s))),Qh(a.lines,Fc(l,"label",this,s)),Qh(a.after,wp(Fc(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(i,n){return pJ(Fc(n.callbacks,"afterBody",this,i))}getFooter(i,n){let{callbacks:r}=n,o=Fc(r,"beforeFooter",this,i),s=Fc(r,"footer",this,i),a=Fc(r,"afterFooter",this,i),l=[];return l=Qh(l,wp(o)),l=Qh(l,wp(s)),l=Qh(l,wp(a)),l}_createItems(i){let n=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(W5e(this.chart,n[c]));return i.filter&&(l=l.filter((u,h,f)=>i.filter(u,h,f,r))),i.itemSort&&(l=l.sort((u,h)=>i.itemSort(u,h,r))),eo(l,u=>{let h=mJ(i.callbacks,u);o.push(Fc(h,"labelColor",this,u)),s.push(Fc(h,"labelPointStyle",this,u)),a.push(Fc(h,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(i,n){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Mx[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=uJ(this,r),d=Object.assign({},l,c),u=hJ(this.chart,r,d),h=fJ(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),i&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(i,n,r,o){let s=this.getCaretPosition(i,r,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(i,n,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=bp(l),{x:f,y:p}=i,{width:v,height:m}=n,g,b,w,x,R,_;return s==="center"?(R=p+m/2,o==="left"?(g=f,b=g-a,x=R+a,_=R-a):(g=f+v,b=g+a,x=R-a,_=R+a),w=g):(o==="left"?b=f+Math.max(c,u)+a:o==="right"?b=f+v-Math.max(d,h)-a:b=this.caretX,s==="top"?(x=p,R=x-a,g=b-a,w=b+a):(x=p+m,R=x+a,g=b+a,w=b-a),_=x),{x1:g,x2:b,x3:w,y1:x,y2:R,y3:_}}drawTitle(i,n,r){let o=this.title,s=o.length,a,l,c;if(s){let d=lg(r.rtl,this.x,this.width);for(i.x=$A(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=Ps(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<s;++c)n.fillText(o[c],d.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+l,c+1===s&&(i.y+=r.titleMarginBottom-l)}}_drawColorBox(i,n,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,u=Ps(s.bodyFont),h=$A(this,"left",s),f=o.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,v=n.y+p;if(s.usePointStyle){let m={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=o.leftForLtr(f,d)+d/2,b=v+c/2;i.strokeStyle=s.multiKeyBackground,i.fillStyle=s.multiKeyBackground,px(i,m,g,b),i.strokeStyle=a.borderColor,i.fillStyle=a.backgroundColor,px(i,m,g,b)}else{i.lineWidth=Cr(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,i.strokeStyle=a.borderColor,i.setLineDash(a.borderDash||[]),i.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,d),g=o.leftForLtr(o.xPlus(f,1),d-2),b=bp(a.borderRadius);Object.values(b).some(w=>w!==0)?(i.beginPath(),i.fillStyle=s.multiKeyBackground,rv(i,{x:m,y:v,w:d,h:c,radius:b}),i.fill(),i.stroke(),i.fillStyle=a.backgroundColor,i.beginPath(),rv(i,{x:g,y:v+1,w:d-2,h:c-2,radius:b}),i.fill()):(i.fillStyle=s.multiKeyBackground,i.fillRect(m,v,d,c),i.strokeRect(m,v,d,c),i.fillStyle=a.backgroundColor,i.fillRect(g,v+1,d-2,c-2))}i.fillStyle=this.labelTextColors[r]}drawBody(i,n,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,h=Ps(r.bodyFont),f=h.lineHeight,p=0,v=lg(r.rtl,this.x,this.width),m=function(T){n.fillText(T,v.x(i.x+p),i.y+f/2),i.y+=f+s},g=v.textAlign(a),b,w,x,R,_,L,F;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,i.x=$A(this,g,r),n.fillStyle=r.bodyColor,eo(this.beforeBody,m),p=l&&g!=="right"?a==="center"?d/2+u:d+2+u:0,R=0,L=o.length;R<L;++R){for(b=o[R],w=this.labelTextColors[R],n.fillStyle=w,eo(b.before,m),x=b.lines,l&&x.length&&(this._drawColorBox(n,i,R,v,r),f=Math.max(h.lineHeight,c)),_=0,F=x.length;_<F;++_)m(x[_]),f=h.lineHeight;eo(b.after,m)}p=0,f=h.lineHeight,eo(this.afterBody,m),i.y-=s}drawFooter(i,n,r){let o=this.footer,s=o.length,a,l;if(s){let c=lg(r.rtl,this.x,this.width);for(i.x=$A(this,r.footerAlign,r),i.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Ps(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(o[l],c.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+r.footerSpacing}}drawBackground(i,n,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=i,{width:d,height:u}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=bp(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(i,n,r,o),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),a==="center"&&s==="right"&&this.drawCaret(i,n,r,o),n.lineTo(l+d,c+u-v),n.quadraticCurveTo(l+d,c+u,l+d-v,c+u),a==="bottom"&&this.drawCaret(i,n,r,o),n.lineTo(l+p,c+u),n.quadraticCurveTo(l,c+u,l,c+u-p),a==="center"&&s==="left"&&this.drawCaret(i,n,r,o),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(i){let n=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=Mx[i.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=uJ(this,i),c=Object.assign({},a,this._size),d=hJ(n,i,c),u=fJ(i,c,d,n);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(i){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=ba(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(i.save(),i.globalAlpha=r,this.drawBackground(s,i,o,n),VA(i,n.textDirection),s.y+=a.top,this.drawTitle(s,i,n),this.drawBody(s,i,n),this.drawFooter(s,i,n),zA(i,n.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,n){let r=this._active,o=i.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!X_(r,o),a=this._positionChanged(o,n);(s||a)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(i,s,n,r),l=this._positionChanged(a,i),c=n||!X_(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,n))),c}_getActiveElements(i,n,r,o){let s=this.options;if(i.type==="mouseout")return[];if(!o)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(i,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(i,n){let{caretX:r,caretY:o,options:s}=this,a=Mx[s.position].call(this,i,n);return a!==!1&&(r!==a.x||o!==a.y)}}return e})(),Z5e={id:"tooltip",_element:gJ,positioners:Mx,afterInit(e,t,i){i&&(e.tooltip=new gJ({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",Zt(Ie({},i),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){let i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Q5e=Object.freeze({__proto__:null,Colors:d5e,Decimation:p5e,Filler:F5e,Legend:z5e,SubTitle:G5e,Title:U5e,Tooltip:Z5e}),J5e=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function eOe(e,t,i,n){let r=e.indexOf(t);if(r===-1)return J5e(e,t,i,n);let o=e.lastIndexOf(t);return r!==o?i:r}var tOe=(e,t)=>e===null?null:va(Math.round(e),0,t);function vJ(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var iOe=(()=>{class e extends av{static id="category";static defaults={ticks:{callback:vJ}};constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:o,label:s}of n)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(i)}parse(i,n){if(nr(i))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===i?n:eOe(r,i,Qn(n,i),this._addedLabels),tOe(n,r.length-1)}determineDataLimits(){let{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let i=this.min,n=this.max,r=this.options.offset,o=[],s=this.getLabels();s=i===0&&n===s.length-1?s:s.slice(i,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=i;a<=n;a++)o.push({value:a});return o}getLabelForValue(i){return vJ.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){let n=this.ticks;return i<0||i>n.length-1?null:this.getPixelForValue(n[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function nOe(e,t){let i=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=e,f=o||1,p=d-1,{min:v,max:m}=t,g=!nr(s),b=!nr(a),w=!nr(c),x=(m-v)/(u+1),R=bA((m-v)/p/f)*f,_,L,F,T;if(R<1e-14&&!g&&!b)return[{value:v},{value:m}];T=Math.ceil(m/R)-Math.floor(v/R),T>p&&(R=bA(T*R/p/f)*f),nr(l)||(_=Math.pow(10,l),R=Math.ceil(R*_)/_),r==="ticks"?(L=Math.floor(v/R)*R,F=Math.ceil(m/R)*R):(L=v,F=m),g&&b&&o&&_N((a-s)/o,R/1e3)?(T=Math.round(Math.min((a-s)/R,d)),R=(a-s)/T,L=s,F=a):w?(L=g?s:L,F=b?a:F,T=c-1,R=(F-L)/T):(T=(F-L)/R,tv(T,Math.round(T),R/1e3)?T=Math.round(T):T=Math.ceil(T));let P=Math.max(yA(R),yA(L));_=Math.pow(10,nr(l)?P:l),L=Math.round(L*_)/_,F=Math.round(F*_)/_;let A=0;for(g&&(h&&L!==s?(i.push({value:s}),L<s&&A++,tv(Math.round((L+A*R)*_)/_,s,bJ(s,x,e))&&A++):L<s&&A++);A<T;++A){let O=Math.round((L+A*R)*_)/_;if(b&&O>a)break;i.push({value:O})}return b&&h&&F!==a?i.length&&tv(i[i.length-1].value,a,bJ(a,x,e))?i[i.length-1].value=a:i.push({value:a}):(!b||F===a)&&i.push({value:F}),i}function bJ(e,t,{horizontal:i,minRotation:n}){let r=_d(n),o=(i?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}var ey=class extends av{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return nr(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=i?r:l,a=l=>o=n?o:l;if(t){let l=ou(r),c=ou(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||s(r-l)}this.min=r,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:i,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,i=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,s=nOe(r,o);return t.bounds==="ticks"&&_A(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let r=(n-i)/Math.max(t.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return nv(t,this.chart.options.locale,this.options.ticks.format)}},a6=class extends ey{static id="linear";static defaults={ticks:{callback:fx.formatters.numeric}};determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=Ss(t)?t:0,this.max=Ss(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),i=t?this.width:this.height,n=_d(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Rx=e=>Math.floor(Xh(e)),sv=(e,t)=>Math.pow(10,Rx(e)+t);function _J(e){return e/Math.pow(10,Rx(e))===1}function yJ(e,t,i){let n=Math.pow(10,i),r=Math.floor(e/n);return Math.ceil(t/n)-r}function rOe(e,t){let i=t-e,n=Rx(i);for(;yJ(e,t,n)>10;)n++;for(;yJ(e,t,n)<10;)n--;return Math.min(n,Rx(e))}function oOe(e,{min:t,max:i}){t=hc(e.min,t);let n=[],r=Rx(t),o=rOe(t,i),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((t-l)*s)/s,d=Math.floor((t-l)/a/10)*a*10,u=Math.floor((c-d)/Math.pow(10,o)),h=hc(e.min,Math.round((l+d+u*Math.pow(10,o))*s)/s);for(;h<i;)n.push({value:h,major:_J(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),h=Math.round((l+d+u*Math.pow(10,o))*s)/s;let f=hc(e.max,h);return n.push({value:f,major:_J(f),significand:u}),n}var l6=class extends av{static id="logarithmic";static defaults={ticks:{callback:fx.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){let n=ey.prototype.parse.apply(this,[t,i]);if(n===0){this._zero=!0;return}return Ss(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=Ss(t)?Math.max(0,t):null,this.max=Ss(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ss(this._userMin)&&(this.min=t===sv(this.min,0)?sv(this.min,-1):sv(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),n=this.min,r=this.max,o=a=>n=t?n:a,s=a=>r=i?r:a;n===r&&(n<=0?(o(1),s(10)):(o(sv(n,-1)),s(sv(r,1)))),n<=0&&o(sv(r,-1)),r<=0&&s(sv(n,1)),this.min=n,this.max=r}buildTicks(){let t=this.options,i={min:this._userMin,max:this._userMax},n=oOe(i,this);return t.bounds==="ticks"&&_A(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":nv(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Xh(t),this._valueRange=Xh(this.max)-Xh(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xh(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}};function c6(e){let t=e.ticks;if(t.display&&e.display){let i=ba(t.backdropPadding);return Qn(t.font&&t.font.size,ko.font.size)+i.height}return 0}function sOe(e,t,i){return i=Uo(i)?i:[i],{w:EN(e,t.string,i),h:i.length*t.lineHeight}}function wJ(e,t,i,n,r){return e===n||e===r?{start:t-i/2,end:t+i/2}:e<n||e>r?{start:t-i,end:t}:{start:t,end:t+i}}function aOe(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],r=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?Go/o:0;for(let l=0;l<o;l++){let c=s.setContext(e.getPointLabelContext(l));r[l]=c.padding;let d=e.getPointPosition(l,e.drawingArea+r[l],a),u=Ps(c.font),h=sOe(e.ctx,u,e._pointLabels[l]);n[l]=h;let f=uc(e.getIndexAngle(l)+a),p=Math.round(dx(f)),v=wJ(p,d.x,h.w,0,180),m=wJ(p,d.y,h.h,90,270);lOe(i,t,f,v,m)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=uOe(e,n,r)}function lOe(e,t,i,n,r){let o=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/s,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function cOe(e,t,i){let n=e.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=i,l=e.getPointPosition(t,n+r+s,o),c=Math.round(dx(uc(l.angle+Is))),d=pOe(l.y,a.h,c),u=hOe(c),h=fOe(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function dOe(e,t){if(!t)return!0;let{left:i,top:n,right:r,bottom:o}=e;return!(ju({x:i,y:n},t)||ju({x:i,y:o},t)||ju({x:r,y:n},t)||ju({x:r,y:o},t))}function uOe(e,t,i){let n=[],r=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:c6(o)/2,additionalAngle:s?Go/r:0},c;for(let d=0;d<r;d++){l.padding=i[d],l.size=t[d];let u=cOe(e,d,l);n.push(u),a==="auto"&&(u.visible=dOe(u,c),u.visible&&(c=u))}return n}function hOe(e){return e===0||e===180?"center":e<180?"left":"right"}function fOe(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function pOe(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function mOe(e,t,i){let{left:n,top:r,right:o,bottom:s}=i,{backdropColor:a}=t;if(!nr(a)){let l=bp(t.borderRadius),c=ba(t.backdropPadding);e.fillStyle=a;let d=n-c.left,u=r-c.top,h=o-n+c.width,f=s-r+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),rv(e,{x:d,y:u,w:h,h:f,radius:l}),e.fill()):e.fillRect(d,u,h,f)}}function gOe(e,t){let{ctx:i,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){let o=e._pointLabelItems[r];if(!o.visible)continue;let s=n.setContext(e.getPointLabelContext(r));mOe(i,s,o);let a=Ps(s.font),{x:l,y:c,textAlign:d}=o;vp(i,e._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function YJ(e,t,i,n){let{ctx:r}=e;if(i)r.arc(e.xCenter,e.yCenter,t,0,Wo);else{let o=e.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<n;s++)o=e.getPointPosition(s,t),r.lineTo(o.x,o.y)}}function vOe(e,t,i,n,r){let o=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!n||!a||!l||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),YJ(e,i,s,n),o.closePath(),o.stroke(),o.restore())}function bOe(e,t,i){return Zh(e,{label:i,index:t,type:"pointLabel"})}var d6=class extends ey{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=ba(c6(this.options)/2),i=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!1);this.min=Ss(t)&&!isNaN(t)?t:0,this.max=Ss(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/c6(this.options))}generateTickLabels(t){ey.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,n)=>{let r=mo(this.options.pointLabels.callback,[i,n],this);return r||r===0?r:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?aOe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,n,r){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,n,r))}getIndexAngle(t){let i=Wo/(this._pointLabels.length||1),n=this.options.startAngle||0;return uc(t*i+_d(n))}getDistanceFromCenterForValue(t){if(nr(t))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(nr(t))return NaN;let i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){let i=this._pointLabels||[];if(t>=0&&t<i.length){let n=i[t];return bOe(this.getContext(),t,n)}}getPointPosition(t,i,n=0){let r=this.getIndexAngle(t)-Is+n;return{x:Math.cos(r)*i+this.xCenter,y:Math.sin(r)*i+this.yCenter,angle:r}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:i,top:n,right:r,bottom:o}=this._pointLabelItems[t];return{left:i,top:n,right:r,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:i}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),YJ(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,i=this.options,{angleLines:n,grid:r,border:o}=i,s=this._pointLabels.length,a,l,c;if(i.pointLabels.display&&gOe(this,s),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),f=r.setContext(h),p=o.setContext(h);vOe(this,f,l,s,p)}}),n.display){for(t.save(),a=s-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;let r=this.getIndexAngle(0),o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;let c=n.setContext(this.getContext(l)),d=Ps(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let u=ba(c.backdropPadding);t.fillRect(-s/2-u.left,-o-d.size/2-u.top,s+u.width,d.size+u.height)}vp(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},sR={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oc=Object.keys(sR);function CJ(e,t){return e-t}function xJ(e,t){if(nr(t))return null;let i=e._adapter,{parser:n,round:r,isoWeekday:o}=e._parseOpts,s=t;return typeof n=="function"&&(s=n(s)),Ss(s)||(s=typeof n=="string"?i.parse(s,n):i.parse(s)),s===null?null:(r&&(s=r==="week"&&(sg(o)||o===!0)?i.startOf(s,"isoWeek",o):i.startOf(s,r)),+s)}function SJ(e,t,i,n){let r=Oc.length;for(let o=Oc.indexOf(e);o<r-1;++o){let s=sR[Oc[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((i-t)/(a*s.size))<=n)return Oc[o]}return Oc[r-1]}function _Oe(e,t,i,n,r){for(let o=Oc.length-1;o>=Oc.indexOf(i);o--){let s=Oc[o];if(sR[s].common&&e._adapter.diff(r,n,s)>=t-1)return s}return Oc[i?Oc.indexOf(i):0]}function yOe(e){for(let t=Oc.indexOf(e)+1,i=Oc.length;t<i;++t)if(sR[Oc[t]].common)return Oc[t]}function MJ(e,t,i){if(!i)e[t]=!0;else if(i.length){let{lo:n,hi:r}=ux(i,t),o=i[n]>=t?i[n]:i[r];e[o]=!0}}function wOe(e,t,i,n){let r=e._adapter,o=+r.startOf(t[0].value,n),s=t[t.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,n))l=i[a],l>=0&&(t[l].major=!0);return t}function EJ(e,t,i){let n=[],r={},o=t.length,s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,n.push({value:a,major:!1});return o===0||!i?n:wOe(e,n,r,i)}var u6=(()=>{class e extends av{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,n={}){let r=i.time||(i.time={}),o=this._adapter=new PPe._date(i.adapters.date);o.init(n),J0(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(i),this._normalized=n.normalized}parse(i,n){return i===void 0?null:xJ(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let i=this.options,n=this._adapter,r=i.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Ss(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),s=Ss(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let i=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return i.length&&(n=i[0],r=i[i.length-1]),{min:n,max:r}}buildTicks(){let i=this.options,n=i.time,r=i.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=CN(o,s,a);return this._unit=n.unit||(r.autoSkip?SJ(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):_Oe(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:yOe(this._unit),this.initOffsets(o),i.reverse&&l.reverse(),EJ(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let n=0,r=0,o,s;this.options.offset&&i.length&&(o=this.getDecimalForValue(i[0]),i.length===1?n=1-o:n=(this.getDecimalForValue(i[1])-o)/2,s=this.getDecimalForValue(i[i.length-1]),i.length===1?r=s:r=(s-this.getDecimalForValue(i[i.length-2]))/2);let a=i.length<3?.5:.25;n=va(n,0,a),r=va(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let i=this._adapter,n=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||SJ(s.minUnit,n,r,this._getLabelCapacity(n)),l=Qn(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=sg(c)||c===!0,u={},h=n,f,p;if(d&&(h=+i.startOf(h,"isoWeek",c)),h=+i.startOf(h,d?"day":a),i.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);let v=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+i.add(f,l,a),p++)MJ(u,f,v);return(f===r||o.bounds==="ticks"||p===1)&&MJ(u,f,v),Object.keys(u).sort(CJ).map(m=>+m)}getLabelForValue(i){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(i,r.tooltipFormat):n.format(i,r.displayFormats.datetime)}format(i,n){let o=this.options.time.displayFormats,s=this._unit,a=n||o[s];return this._adapter.format(i,a)}_tickFormatFunction(i,n,r,o){let s=this.options,a=s.ticks.callback;if(a)return mo(a,[i,n,r],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=r[n],p=d&&h&&f&&f.major;return this._adapter.format(i,o||(p?h:u))}generateTickLabels(i){let n,r,o;for(n=0,r=i.length;n<r;++n)o=i[n],o.label=this._tickFormatFunction(o.value,n,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){let n=this._offsets,r=this.getDecimalForValue(i);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(i){let n=this._offsets,r=this.getDecimalForPixel(i)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(i){let n=this.options.ticks,r=this.ctx.measureText(i).width,o=_d(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(i){let n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,s=this._tickFormatFunction(i,0,EJ(this,[i],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i=this._cache.data||[],n,r;if(i.length)return i;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)i=i.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let i=this._cache.labels||[],n,r;if(i.length)return i;let o=this.getLabels();for(n=0,r=o.length;n<r;++n)i.push(xJ(this,o[n]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return xA(i.sort(CJ))}}return e})();function XA(e,t,i){let n=0,r=e.length-1,o,s,a,l;i?(t>=e[n].pos&&t<=e[r].pos&&({lo:n,hi:r}=Wu(e,"pos",t)),{pos:o,time:a}=e[n],{pos:s,time:l}=e[r]):(t>=e[n].time&&t<=e[r].time&&({lo:n,hi:r}=Wu(e,"time",t)),{time:o,pos:a}=e[n],{time:s,pos:l}=e[r]);let c=s-o;return c?a+(l-a)*(t-o)/c:a}var h6=class extends u6{static id="timeseries";static defaults=u6.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=XA(i,this.min),this._tableRange=XA(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:i,max:n}=this,r=[],o=[],s,a,l,c,d;for(s=0,a=t.length;s<a;++s)c=t[s],c>=i&&c<=n&&r.push(c);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],c=r[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let t=this.min,i=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(XA(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return XA(this._table,n*this._tableRange+this._minPos,!0)}},COe=Object.freeze({__proto__:null,CategoryScale:iOe,LinearScale:a6,LogarithmicScale:l6,RadialLinearScale:d6,TimeScale:u6,TimeSeriesScale:h6}),$J=[IPe,n5e,Q5e,COe];var XJ=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),Px={toTextLines:function(e){var t=[],i;for(e=[].concat(e);e.length;)i=e.pop(),typeof i=="string"?t.unshift.apply(t,i.split(`
`)):Array.isArray(i)?e.push.apply(e,i):nr(e)||t.unshift(""+i);return t},textSize:function(e,t,i){var n=[].concat(t),r=n.length,o=e.font,s=0,a;for(e.font=i.string,a=0;a<r;++a)s=Math.max(e.measureText(n[a]).width,s);return e.font=o,{height:r*i.lineHeight,width:s}},bound:function(e,t,i){return Math.max(e,Math.min(t,i))},arrayDiff:function(e,t){var i=e.slice(),n=[],r,o,s,a;for(r=0,s=t.length;r<s;++r)a=t[r],o=i.indexOf(a),o===-1?n.push([a,1]):i.splice(o,1);for(r=0,s=i.length;r<s;++r)n.push([i[r],-1]);return n},rasterize:function(e){return Math.round(e*XJ)/XJ}};function g6(e,t){var i=t.x,n=t.y;if(i===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var r=e.x-i,o=e.y-n,s=Math.sqrt(r*r+o*o);return{x:s?r/s:0,y:s?o/s:-1}}function xOe(e,t,i,n,r){switch(r){case"center":i=n=0;break;case"bottom":i=0,n=1;break;case"right":i=1,n=0;break;case"left":i=-1,n=0;break;case"top":i=0,n=-1;break;case"start":i=-i,n=-n;break;case"end":break;default:r*=Math.PI/180,i=Math.cos(r),n=Math.sin(r);break}return{x:e,y:t,vx:i,vy:n}}var SOe=0,ZJ=1,QJ=2,JJ=4,eee=8;function aR(e,t,i){var n=SOe;return e<i.left?n|=ZJ:e>i.right&&(n|=QJ),t<i.top?n|=eee:t>i.bottom&&(n|=JJ),n}function MOe(e,t){for(var i=e.x0,n=e.y0,r=e.x1,o=e.y1,s=aR(i,n,t),a=aR(r,o,t),l,c,d;!(!(s|a)||s&a);)l=s||a,l&eee?(c=i+(r-i)*(t.top-n)/(o-n),d=t.top):l&JJ?(c=i+(r-i)*(t.bottom-n)/(o-n),d=t.bottom):l&QJ?(d=n+(o-n)*(t.right-i)/(r-i),c=t.right):l&ZJ&&(d=n+(o-n)*(t.left-i)/(r-i),c=t.left),l===s?(i=c,n=d,s=aR(i,n,t)):(r=c,o=d,a=aR(r,o,t));return{x0:i,x1:r,y0:n,y1:o}}function lR(e,t){var i=t.anchor,n=e,r,o;return t.clamp&&(n=MOe(n,t.area)),i==="start"?(r=n.x0,o=n.y0):i==="end"?(r=n.x1,o=n.y1):(r=(n.x0+n.x1)/2,o=(n.y0+n.y1)/2),xOe(r,o,e.vx,e.vy,t.align)}var cR={arc:function(e,t){var i=(e.startAngle+e.endAngle)/2,n=Math.cos(i),r=Math.sin(i),o=e.innerRadius,s=e.outerRadius;return lR({x0:e.x+n*o,y0:e.y+r*o,x1:e.x+n*s,y1:e.y+r*s,vx:n,vy:r},t)},point:function(e,t){var i=g6(e,t.origin),n=i.x*e.options.radius,r=i.y*e.options.radius;return lR({x0:e.x-n,y0:e.y-r,x1:e.x+n,y1:e.y+r,vx:i.x,vy:i.y},t)},bar:function(e,t){var i=g6(e,t.origin),n=e.x,r=e.y,o=0,s=0;return e.horizontal?(n=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(r=Math.min(e.y,e.base),s=Math.abs(e.base-e.y)),lR({x0:n,y0:r+s,x1:n+o,y1:r,vx:i.x,vy:i.y},t)},fallback:function(e,t){var i=g6(e,t.origin);return lR({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:i.x,vy:i.y},t)}},Cp=Px.rasterize;function EOe(e){var t=e.borderWidth||0,i=e.padding,n=e.size.height,r=e.size.width,o=-r/2,s=-n/2;return{frame:{x:o-i.left-t,y:s-i.top-t,w:r+i.width+t*2,h:n+i.height+t*2},text:{x:o,y:s,w:r,h:n}}}function DOe(e,t){var i=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!i)return null;if(i.xCenter!==void 0&&i.yCenter!==void 0)return{x:i.xCenter,y:i.yCenter};var n=i.getBasePixel();return e.horizontal?{x:n,y:null}:{x:null,y:n}}function TOe(e){return e instanceof Dx?cR.arc:e instanceof p6?cR.point:e instanceof Tx?cR.bar:cR.fallback}function AOe(e,t,i,n,r,o){var s=Math.PI/2;if(o){var a=Math.min(o,r/2,n/2),l=t+a,c=i+a,d=t+n-a,u=i+r-a;e.moveTo(t,c),l<d&&c<u?(e.arc(l,c,a,-Math.PI,-s),e.arc(d,c,a,-s,0),e.arc(d,u,a,0,s),e.arc(l,u,a,s,Math.PI)):l<d?(e.moveTo(l,i),e.arc(d,c,a,-s,s),e.arc(l,c,a,s,Math.PI+s)):c<u?(e.arc(l,c,a,-Math.PI,0),e.arc(l,u,a,0,Math.PI)):e.arc(l,c,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,i)}else e.rect(t,i,n,r)}function ROe(e,t,i){var n=i.backgroundColor,r=i.borderColor,o=i.borderWidth;!n&&(!r||!o)||(e.beginPath(),AOe(e,Cp(t.x)+o/2,Cp(t.y)+o/2,Cp(t.w)-o,Cp(t.h)-o,i.borderRadius),e.closePath(),n&&(e.fillStyle=n,e.fill()),r&&o&&(e.strokeStyle=r,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}function kOe(e,t,i){var n=i.lineHeight,r=e.w,o=e.x,s=e.y+n/2;return t==="center"?o+=r/2:(t==="end"||t==="right")&&(o+=r),{h:n,w:r,x:o,y:s}}function IOe(e,t,i){var n=e.shadowBlur,r=i.stroked,o=Cp(i.x),s=Cp(i.y),a=Cp(i.w);r&&e.strokeText(t,o,s,a),i.filled&&(n&&r&&(e.shadowBlur=0),e.fillText(t,o,s,a),n&&r&&(e.shadowBlur=n))}function POe(e,t,i,n){var r=n.textAlign,o=n.color,s=!!o,a=n.font,l=t.length,c=n.textStrokeColor,d=n.textStrokeWidth,u=c&&d,h;if(!(!l||!s&&!u))for(i=kOe(i,r,a),e.font=a.string,e.textAlign=r,e.textBaseline="middle",e.shadowBlur=n.textShadowBlur,e.shadowColor=n.textShadowColor,s&&(e.fillStyle=o),u&&(e.lineJoin="round",e.lineWidth=d,e.strokeStyle=c),h=0,l=t.length;h<l;++h)IOe(e,t[h],{stroked:u,filled:s,w:i.w,x:i.x,y:i.y+i.h*h})}var tee=function(e,t,i,n){var r=this;r._config=e,r._index=n,r._model=null,r._rects=null,r._ctx=t,r._el=i};bd(tee.prototype,{_modelize:function(e,t,i,n){var r=this,o=r._index,s=Ps(Io([i.font,{}],n,o)),a=Io([i.color,ko.color],n,o);return{align:Io([i.align,"center"],n,o),anchor:Io([i.anchor,"center"],n,o),area:n.chart.chartArea,backgroundColor:Io([i.backgroundColor,null],n,o),borderColor:Io([i.borderColor,null],n,o),borderRadius:Io([i.borderRadius,0],n,o),borderWidth:Io([i.borderWidth,0],n,o),clamp:Io([i.clamp,!1],n,o),clip:Io([i.clip,!1],n,o),color:a,display:e,font:s,lines:t,offset:Io([i.offset,4],n,o),opacity:Io([i.opacity,1],n,o),origin:DOe(r._el,n),padding:ba(Io([i.padding,4],n,o)),positioner:TOe(r._el),rotation:Io([i.rotation,0],n,o)*(Math.PI/180),size:Px.textSize(r._ctx,t,s),textAlign:Io([i.textAlign,"start"],n,o),textShadowBlur:Io([i.textShadowBlur,0],n,o),textShadowColor:Io([i.textShadowColor,a],n,o),textStrokeColor:Io([i.textStrokeColor,a],n,o),textStrokeWidth:Io([i.textStrokeWidth,0],n,o)}},update:function(e){var t=this,i=null,n=null,r=t._index,o=t._config,s,a,l,c=Io([o.display,!0],e,r);c&&(s=e.dataset.data[r],a=Qn(mo(o.formatter,[s,e]),s),l=nr(a)?[]:Px.toTextLines(a),l.length&&(i=t._modelize(c,l,o,e),n=EOe(i))),t._model=i,t._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var i=this,n=e.ctx,r=i._model,o=i._rects,s;this.visible()&&(n.save(),r.clip&&(s=r.area,n.beginPath(),n.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),n.clip()),n.globalAlpha=Px.bound(0,r.opacity,1),n.translate(Cp(t.x),Cp(t.y)),n.rotate(r.rotation),ROe(n,o.frame,r),POe(n,r.lines,o.text,r),n.restore())}});var FOe=Number.MIN_SAFE_INTEGER||-9007199254740991,OOe=Number.MAX_SAFE_INTEGER||9007199254740991;function Ix(e,t,i){var n=Math.cos(i),r=Math.sin(i),o=t.x,s=t.y;return{x:o+n*(e.x-o)-r*(e.y-s),y:s+r*(e.x-o)+n*(e.y-s)}}function KJ(e,t){var i=OOe,n=FOe,r=t.origin,o,s,a,l,c;for(o=0;o<e.length;++o)s=e[o],a=s.x-r.x,l=s.y-r.y,c=t.vx*a+t.vy*l,i=Math.min(i,c),n=Math.max(n,c);return{min:i,max:n}}function dR(e,t){var i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n);return{vx:(t.x-e.x)/r,vy:(t.y-e.y)/r,origin:e,ln:r}}var iee=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};bd(iee.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,i){this._rotation=i,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,i=1,n=t._rect;return e=Ix(e,t.center(),-t._rotation),!(e.x<n.x-i||e.y<n.y-i||e.x>n.x+n.w+i*2||e.y>n.y+n.h+i*2)},intersects:function(e){var t=this._points(),i=e._points(),n=[dR(t[0],t[1]),dR(t[0],t[3])],r,o,s;for(this._rotation!==e._rotation&&n.push(dR(i[0],i[1]),dR(i[0],i[3])),r=0;r<n.length;++r)if(o=KJ(t,n[r]),s=KJ(i,n[r]),o.max<s.min||s.max<o.min)return!1;return!0},_points:function(){var e=this,t=e._rect,i=e._rotation,n=e.center();return[Ix({x:t.x,y:t.y},n,i),Ix({x:t.x+t.w,y:t.y},n,i),Ix({x:t.x+t.w,y:t.y+t.h},n,i),Ix({x:t.x,y:t.y+t.h},n,i)]}});function nee(e,t,i){var n=t.positioner(e,t),r=n.vx,o=n.vy;if(!r&&!o)return{x:n.x,y:n.y};var s=i.w,a=i.h,l=t.rotation,c=Math.abs(s/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),d=Math.abs(s/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),u=1/Math.max(Math.abs(r),Math.abs(o));return c*=r*u,d*=o*u,c+=t.offset*r,d+=t.offset*o,{x:n.x+c,y:n.y+d}}function LOe(e,t){var i,n,r,o;for(i=e.length-1;i>=0;--i)for(r=e[i].$layout,n=i-1;n>=0&&r._visible;--n)o=e[n].$layout,o._visible&&r._box.intersects(o._box)&&t(r,o);return e}function NOe(e){var t,i,n,r,o,s,a;for(t=0,i=e.length;t<i;++t)n=e[t],r=n.$layout,r._visible&&(a=new Proxy(n._el,{get:(l,c)=>l.getProps([c],!0)[c]}),o=n.geometry(),s=nee(a,n.model(),o),r._box.update(s,o,n.rotation()));return LOe(e,function(l,c){var d=l._hidable,u=c._hidable;d&&u||u?c._visible=!1:d&&(l._visible=!1)})}var Fx={prepare:function(e){var t=[],i,n,r,o,s;for(i=0,r=e.length;i<r;++i)for(n=0,o=e[i].length;n<o;++n)s=e[i][n],t.push(s),s.$layout={_box:new iee,_hidable:!1,_visible:!0,_set:i,_idx:s._index};return t.sort(function(a,l){var c=a.$layout,d=l.$layout;return c._idx===d._idx?d._set-c._set:d._idx-c._idx}),this.update(t),t},update:function(e){var t=!1,i,n,r,o,s;for(i=0,n=e.length;i<n;++i)r=e[i],o=r.model(),s=r.$layout,s._hidable=o&&o.display==="auto",s._visible=r.visible(),t|=s._hidable;t&&NOe(e)},lookup:function(e,t){var i,n;for(i=e.length-1;i>=0;--i)if(n=e[i].$layout,n&&n._visible&&n._box.contains(t))return e[i];return null},draw:function(e,t){var i,n,r,o,s,a;for(i=0,n=t.length;i<n;++i)r=t[i],o=r.$layout,o._visible&&(s=r.geometry(),a=nee(r._el,r.model(),s),o._box.update(a,s,r.rotation()),r.draw(e,a))}},BOe=function(e){if(nr(e))return null;var t=e,i,n,r;if(Cr(e))if(!nr(e.label))t=e.label;else if(!nr(e.r))t=e.r;else for(t="",i=Object.keys(e),r=0,n=i.length;r<n;++r)t+=(r!==0?", ":"")+i[r]+": "+e[i[r]];return""+t},VOe={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:BOe,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Lc="$datalabels",ree="$default";function zOe(e,t){var i=e.datalabels,n={},r=[],o,s;return i===!1?null:(i===!0&&(i={}),t=bd({},[t,i]),o=t.labels||{},s=Object.keys(o),delete t.labels,s.length?s.forEach(function(a){o[a]&&r.push(bd({},[t,o[a],{_key:a}]))}):r.push(t),n=r.reduce(function(a,l){return eo(l.listeners||{},function(c,d){a[d]=a[d]||{},a[d][l._key||ree]=c}),delete l.listeners,a},{}),{labels:r,listeners:n})}function v6(e,t,i,n){if(t){var r=i.$context,o=i.$groups,s;t[o._set]&&(s=t[o._set][o._key],s&&mo(s,[r,n])===!0&&(e[Lc]._dirty=!0,i.update(r)))}}function HOe(e,t,i,n,r){var o,s;!i&&!n||(i?n?i!==n&&(s=o=!0):s=!0:o=!0,s&&v6(e,t.leave,i,r),o&&v6(e,t.enter,n,r))}function UOe(e,t){var i=e[Lc],n=i._listeners,r,o;if(!(!n.enter&&!n.leave)){if(t.type==="mousemove")o=Fx.lookup(i._labels,t);else if(t.type!=="mouseout")return;r=i._hovered,i._hovered=o,HOe(e,n,r,o,t)}}function GOe(e,t){var i=e[Lc],n=i._listeners.click,r=n&&Fx.lookup(i._labels,t);r&&v6(e,n,r,t)}var b6={id:"datalabels",defaults:VOe,beforeInit:function(e){e[Lc]={_actives:[]}},beforeUpdate:function(e){var t=e[Lc];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,i){var n=t.index,r=e[Lc],o=r._datasets[n]=[],s=e.isDatasetVisible(n),a=e.data.datasets[n],l=zOe(a,i),c=t.meta.data||[],d=e.ctx,u,h,f,p,v,m,g,b;for(d.save(),u=0,f=c.length;u<f;++u)if(g=c[u],g[Lc]=[],s&&g&&e.getDataVisibility(u)&&!g.skip)for(h=0,p=l.labels.length;h<p;++h)v=l.labels[h],m=v._key,b=new tee(v,d,g,u),b.$groups={_set:n,_key:m||ree},b.$context={active:!1,chart:e,dataIndex:u,dataset:a,datasetIndex:n},b.update(b.$context),g[Lc].push(b),o.push(b);d.restore(),bd(r._listeners,l.listeners,{merger:function(w,x,R){x[w]=x[w]||{},x[w][t.index]=R[w],r._listened=!0}})},afterUpdate:function(e){e[Lc]._labels=Fx.prepare(e[Lc]._datasets)},afterDatasetsDraw:function(e){Fx.draw(e,e[Lc]._labels)},beforeEvent:function(e,t){if(e[Lc]._listened){var i=t.event;switch(i.type){case"mousemove":case"mouseout":UOe(e,i);break;case"click":GOe(e,i);break}}},afterEvent:function(e){var t=e[Lc],i=t._actives,n=t._actives=e.getActiveElements(),r=Px.arrayDiff(i,n),o,s,a,l,c,d,u;for(o=0,s=r.length;o<s;++o)if(c=r[o],c[1])for(u=c[0].element[Lc]||[],a=0,l=u.length;a<l;++a)d=u[a],d.$context.active=c[1]===1,d.update(d.$context);(t._dirty||r.length)&&(Fx.update(t._labels),e.render()),delete t._dirty}};var WOe=aD.withParams({accentColor:"#087AD1",backgroundColor:"#FFFFFF",borderColor:"#D7E2E6",borderRadius:2,browserColorScheme:"light",cellHorizontalPaddingScale:.7,chromeBackgroundColor:{ref:"backgroundColor"},columnBorder:!0,fontSize:13,foregroundColor:"#555B62",headerBackgroundColor:"#fff",headerFontSize:13,headerFontWeight:500,headerTextColor:"#000",rowBorder:!0,rowVerticalPaddingScale:.8,sidePanelBorder:!0,spacing:6,wrapperBorder:!0,wrapperBorderRadius:2}),hR=class e{constructor(t,i,n,r){this.route=t;this.notification=i;this.datePipe=n;this.dialog=r}doughnutChartPlugins=[b6];columnDefs;gridApi;gridColumnApi;gridOptions;rowData=[{"SR#":1,"District Name":"District_01","Part Distributor":"KTMS01 - Kartik Auto",Jan_Order:"8/10",Jan_Billing:"8/10",Jan_Retail:"8/10",Feb_Order:"8/10",Feb_Billing:"8/10",Feb_Retail:"8/10",Mar_Order:"8/10",Mar_Billing:"8/10",Mar_Retail:"8/10",Apr_Order:"8/10",Apr_Billing:"8/10",Apr_Retail:"8/10",May_Order:"8/10",May_Billing:"8/10",May_Retail:"8/10",Jun_Order:"8/10",Jun_Billing:"8/10",Jun_Retail:"8/10"},{"SR#":2,"District Name":"District_01","Part Distributor":"KTMS02 - Kartik Auto Service",Jan_Order:"9/12",Jan_Billing:"8/12",Jan_Retail:"8/12",Feb_Order:"9/12",Feb_Billing:"8/12",Feb_Retail:"8/12",Mar_Order:"9/12",Mar_Billing:"8/12",Mar_Retail:"8/12",Apr_Order:"9/12",Apr_Billing:"8/12",Apr_Retail:"8/12",May_Order:"9/12",May_Billing:"8/12",May_Retail:"8/12",Jun_Order:"9/12",Jun_Billing:"8/12",Jun_Retail:"8/12"},{"SR#":3,"District Name":"District_01","Part Distributor":"KTMS03 - Kartik Service",Jan_Order:"8/14",Jan_Billing:"6/14",Jan_Retail:"6/14",Feb_Order:"8/14",Feb_Billing:"6/14",Feb_Retail:"6/14",Mar_Order:"8/14",Mar_Billing:"6/14",Mar_Retail:"6/14",Apr_Order:"8/14",Apr_Billing:"6/14",Apr_Retail:"6/14",May_Order:"8/14",May_Billing:"6/14",May_Retail:"6/14",Jun_Order:"8/14",Jun_Billing:"6/14",Jun_Retail:"6/14"},{"SR#":4,"District Name":"District_01","Part Distributor":"ABCD01 - ABCD Auto",Jan_Order:"8/10",Jan_Billing:"8/10",Jan_Retail:"8/10",Feb_Order:"8/10",Feb_Billing:"8/10",Feb_Retail:"8/10",Mar_Order:"8/10",Mar_Billing:"8/10",Mar_Retail:"8/10",Apr_Order:"8/10",Apr_Billing:"8/10",Apr_Retail:"8/10",May_Order:"8/10",May_Billing:"8/10",May_Retail:"8/10",Jun_Order:"8/10",Jun_Billing:"8/10",Jun_Retail:"8/10"},{"SR#":5,"District Name":"District_01","Part Distributor":"ABCD02 - ABCD Auto Service",Jan_Order:"9/12",Jan_Billing:"8/12",Jan_Retail:"8/12",Feb_Order:"9/12",Feb_Billing:"8/12",Feb_Retail:"8/12",Mar_Order:"9/12",Mar_Billing:"8/12",Mar_Retail:"8/12",Apr_Order:"9/12",Apr_Billing:"8/12",Apr_Retail:"8/12",May_Order:"9/12",May_Billing:"8/12",May_Retail:"8/12",Jun_Order:"9/12",Jun_Billing:"8/12",Jun_Retail:"8/12"},{"SR#":6,"District Name":"District_01","Part Distributor":"ABCD03 - ABCD Service",Jan_Order:"8/14",Jan_Billing:"6/14",Jan_Retail:"6/14",Feb_Order:"8/14",Feb_Billing:"6/14",Feb_Retail:"6/14",Mar_Order:"8/14",Mar_Billing:"6/14",Mar_Retail:"6/14",Apr_Order:"8/14",Apr_Billing:"6/14",Apr_Retail:"6/14",May_Order:"8/14",May_Billing:"6/14",May_Retail:"6/14",Jun_Order:"8/14",Jun_Billing:"6/14",Jun_Retail:"6/14"},{"SR#":7,"District Name":"District_01","Part Distributor":"EFGH01 - EFGH Auto",Jan_Order:"8/10",Jan_Billing:"8/10",Jan_Retail:"8/10",Feb_Order:"8/10",Feb_Billing:"8/10",Feb_Retail:"8/10",Mar_Order:"8/10",Mar_Billing:"8/10",Mar_Retail:"8/10",Apr_Order:"8/10",Apr_Billing:"8/10",Apr_Retail:"8/10",May_Order:"8/10",May_Billing:"8/10",May_Retail:"8/10",Jun_Order:"8/10",Jun_Billing:"8/10",Jun_Retail:"8/10"},{"SR#":8,"District Name":"District_01","Part Distributor":"EFGH02 - EFGH Auto Service",Jan_Order:"9/12",Jan_Billing:"8/12",Jan_Retail:"8/12",Feb_Order:"9/12",Feb_Billing:"8/12",Feb_Retail:"8/12",Mar_Order:"9/12",Mar_Billing:"8/12",Mar_Retail:"8/12",Apr_Order:"9/12",Apr_Billing:"8/12",Apr_Retail:"8/12",May_Order:"9/12",May_Billing:"8/12",May_Retail:"8/12",Jun_Order:"9/12",Jun_Billing:"8/12",Jun_Retail:"8/12"},{"SR#":9,"District Name":"District_01","Part Distributor":"EFGH03 - EFGH Service",Jan_Order:"8/14",Jan_Billing:"6/14",Jan_Retail:"6/14",Feb_Order:"8/14",Feb_Billing:"6/14",Feb_Retail:"6/14",Mar_Order:"8/14",Mar_Billing:"6/14",Mar_Retail:"6/14",Apr_Order:"8/14",Apr_Billing:"6/14",Apr_Retail:"6/14",May_Order:"8/14",May_Billing:"6/14",May_Retail:"6/14",Jun_Order:"8/14",Jun_Billing:"6/14",Jun_Retail:"6/14"}];pagesize=10;frameworkComponents={};noRowsTemplate='<div class="gridNoData mt-5"><img  style="margin-top:10px;height:calc(100vh - 460px)" src="assets/images/no-data.svg" class="grid_image_admin img-fluid" max-width="200px" alt=""><h5 class="tag_heading txt_grid_no mt-2" >No Data List Ceated Yet! </h5></div>';search_Template='<div class="gridNoData mt-5"><img style="margin-top:10px;height:calc(100vh - 460px)" src="assets/images/no-data.svg" class="grid_image_admin img-fluid" max-width="200px" alt=""><h5 class="tag_heading txt_grid_no mt-2" >No Data List Found With This Name!</h5></div>';startDate;endDate;month_range="";dateformat="mm-dd-yyyy";dateRange={startDate:(0,uR.default)(),endDate:(0,uR.default)()};pickerDirective;donutChartLabel=[];donutChartData=[];currencysymbol="";userdata;userid="";plannedOverAllData=[];actualOverAllData=[];roleRightData=[];ngOnInit(){this.ResetDate(),this.initializeGrid()}ngAfterViewInit(){setTimeout(()=>{this.onResize()},300)}pieChartOptions={responsive:!0,plugins:{legend:{display:!1,position:"bottom"}}};pieChartData={labels:["District_01","District_02","District_03","District_04","District_05","District_06","District_07","District_08","District_09"],datasets:[{data:[12,12,12,12,12,12,12,12,12],backgroundColor:["#F28B8B","#F5B087","#F7CD8C","#FAED8E","#AABFE4","#A8BBD3","#8AC6C3","#8ED3BD","#C3E6A1"],borderWidth:0,hoverOffset:4}]};doughnutChartType="doughnut";doughnutChartData={labels:this.donutChartLabel,datasets:[{data:this.donutChartData,backgroundColor:["#D5D1E9","#F5A7A6","#D0E4EE","#F3F5A9","#F5CF9F"],borderWidth:0}]};doughnutChartOptions={responsive:!0,maintainAspectRatio:!0,layout:{padding:40},plugins:{legend:{display:!1},datalabels:{color:"#444444",font:{weight:"bold",size:10},anchor:"end",align:"end",formatter:(t,i)=>{let n=i.dataIndex,r=i.chart.data.datasets[0].data,o=i.chart.data.labels?.[n],s=r?.[n];return s==0?"":s+`
`+o},display:!1}}};barChartData={labels:["Jan 24","Feb 24","Mar 24","Apr 24","May 24","Jun 24"],datasets:[{data:[95,120,135,150,125,155],label:"Plan",backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:0,barPercentage:.4},{data:[75,85,80,80,85,70],label:"Order",backgroundColor:"rgba(75, 192, 75, 0.7)",borderColor:"rgba(75, 192, 75, 1)",borderWidth:0,barPercentage:.4},{data:[78,80,55,75,45,40],label:"Billing",backgroundColor:"rgba(255, 205, 86, 0.7)",borderColor:"rgba(255, 205, 86, 1)",borderWidth:0,barPercentage:.4},{data:[60,80,65,85,60,65],label:"Retail",backgroundColor:"rgba(153, 153, 153, 0.7)",borderColor:"rgba(153, 153, 153, 1)",borderWidth:0,barPercentage:.4}]};barChartOptions={responsive:!0,scales:{y:{min:0,max:200,ticks:{stepSize:40},grid:{color:"rgba(200, 200, 200, 0.3)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{boxWidth:20,padding:10}},title:{display:!0,text:"Months",position:"bottom",padding:{top:10}}}};ngModelChange(t){t.start.$d?(this.startDate=new Date(t.start.$y+"-"+(t.start.$M+1)+"-"+t.start.$D),this.endDate=new Date(t.end.$y+"-"+(t.end.$M+1)+"-"+t.end.$D)):(this.startDate=t.start,this.endDate=t.end)}openClock(t){this.pickerDirective.open(t)}Search(){this.donutChartLabel=[],this.donutChartData=[],this.plannedOverAllData=[]}getDateString(t){return uR.default.isMoment(t)?t.toDate().getFullYear()+"-"+(t.toDate().getMonth()+1)+"-"+t.toDate().getDate():t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}Reset(){}doughnutChartType_west="doughnut";doughnutChartData_west={labels:["Order","Billing","Retail"],datasets:[{data:[36,38,50],backgroundColor:["#A9DE87","#F8C68E","#E4E5A0"],borderWidth:0}]};doughnutChartOptions_west={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1,position:"bottom",labels:{boxWidth:20,font:{size:12}}},title:{display:!1,text:"Order",align:"center",font:{size:16}}}};barChartData_west={labels:["Jan 24","Feb 24","Mar 24","Apr 24","May 24","Jun 24"],datasets:[{data:[10,20,9,5,6,10],label:"Plan",backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:0,barPercentage:.4},{data:[10,20,9,5,6,10],label:"Order",backgroundColor:"rgba(75, 192, 75, 0.7)",borderColor:"rgba(75, 192, 75, 1)",borderWidth:0,barPercentage:.4},{data:[10,20,9,5,6,50],label:"Billing",backgroundColor:"rgba(255, 205, 86, 0.7)",borderColor:"rgba(255, 205, 86, 1)",borderWidth:0,barPercentage:.4},{data:[10,20,9,5,5,10],label:"Retail",backgroundColor:"rgba(153, 153, 153, 0.7)",borderColor:"rgba(153, 153, 153, 1)",borderWidth:0,barPercentage:.4}]};barChartOptions_west={responsive:!0,scales:{y:{min:0,max:50,ticks:{stepSize:10},grid:{color:"rgba(200, 200, 200, 0.3)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{boxWidth:20,padding:10}},title:{display:!0,text:"Months",position:"bottom",padding:{top:10}}}};barChartData_westdis={labels:["Jan 24","Feb 24","Mar 24","Apr 24","May 24","Jun 24"],datasets:[{data:[10,20,9,5,6,10],label:"Plan",backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:0,barPercentage:.4},{data:[10,20,9,5,6,10],label:"Order",backgroundColor:"rgba(75, 192, 75, 0.7)",borderColor:"rgba(75, 192, 75, 1)",borderWidth:0,barPercentage:.4},{data:[10,20,9,5,6,40],label:"Billing",backgroundColor:"rgba(255, 205, 86, 0.7)",borderColor:"rgba(255, 205, 86, 1)",borderWidth:0,barPercentage:.4},{data:[10,20,9,50,5,10],label:"Retail",backgroundColor:"rgba(153, 153, 153, 0.7)",borderColor:"rgba(153, 153, 153, 1)",borderWidth:0,barPercentage:.4}]};barChartOptions_westdis={responsive:!0,scales:{y:{min:0,max:50,ticks:{stepSize:10},grid:{color:"rgba(200, 200, 200, 0.3)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{boxWidth:20,padding:10}},title:{display:!0,text:"Months",position:"bottom",padding:{top:10}}}};onResize(){this.ResizeHC()}screenH;gridH;right_height;ResizeHC(){let t=0,i=document.getElementById("left_div");i&&(t=i.clientHeight),t!=null&&t!=null?this.right_height=t:this.right_height=350;let n=window.innerHeight,r=document.getElementById("header_main"),o=document.getElementById("grid_head"),s=r?r.clientHeight:0,a=o?o.clientHeight:0,l=0;this.screenH=window.innerHeight-(s+55);let c=window.innerWidth;if(c<768){let d=n-(s+a+l+63);this.gridH=d}else if(c>768&&c<1500){let d=n-(s+a+l+63);this.gridH=d}else{let d=n-(s+a+l+63);this.gridH=d}}logRange(t){this.month_range=t,this.startDate="1 "+t.split(" to ")[0],this.endDate="1 "+t.split(" to ")[1],this.endDate=new Date(new Date(this.endDate).getFullYear(),new Date(this.endDate).getMonth()+1,0).getDate()+" "+t.split(" to ")[1]}ResetDate(){this.dateRange={startDate:null,endDate:null};var t=new Date;this.startDate=new Date(t.getFullYear(),t.getMonth(),1),this.endDate=new Date,this.month_range=this.monthArray[this.startDate.getMonth()]+" "+this.startDate.getFullYear()+" to "+this.monthArray[this.endDate.getMonth()]+" "+this.endDate.getFullYear()}monthArray=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];onGridReady(t){this.gridApi=t.api,setTimeout(()=>{t.api.sizeColumnsToFit()},0)}grdRowClicked(t){}totalRecordCount;onFilterChanged(t){document.getElementById("removefill_btn")!=null&&(this.gridApi.isAnyFilterPresent()?document.getElementById("removefill_btn").style.display="block":document.getElementById("removefill_btn").style.display="none"),this.totalRecordCount==0?(this.gridOptions.overlayNoRowsTemplate=this.noRowsTemplate,t.afterFloatingFilter==!0&&(this.gridOptions.overlayNoRowsTemplate=this.search_Template),this.gridApi.showNoRowsOverlay()):this.gridApi.hideOverlay()}initializeGrid(){this.setColumnDef(),this.gridOptions={theme:WOe,enableColResize:!0,suppressDragLeaveHidesColumns:!0},this.gridOptions.columnDefs=this.columnDefs,this.gridOptions.pagination=!0,this.gridOptions.rowData=[],this.gridOptions.rowSelection="multiple",this.gridOptions.onGridSizeChanged=this.onGridResize,this.gridOptions.rowHeight=40,this.gridOptions.headerHeight=35,this.gridOptions.floatingFiltersHeight=35,this.gridOptions.overlayNoRowsTemplate=this.noRowsTemplate,this.gridApi&&this.gridApi.showNoRowsOverlay()}onPageSizeChanged(t){var i=t;t=="-1"&&this.gridApi.paginationSetPageSize(Number(i))}onGridResize(t){t.api&&setTimeout(()=>{t.api.sizeColumnsToFit()},0)}Export(){}setColumnDef(){this.columnDefs=[{field:"",headerName:" ",suppressMenu:!0,suppressSorting:!0,suppressFilter:!1,width:50,minWidth:50,maxWidth:50,headerCheckboxSelection:!0,checkboxSelection:!0,hide:!1,cellStyle:{"text-align":"center"},headerCheckboxSelectionFilteredOnly:!0,pinned:"left",lockPinned:!0,filter:!0,floatingFilter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},floatingFilterComponent:Eb},{headerName:"ID",field:"id",hide:!0,sortable:!0,suppressMenu:!0},{headerName:"SR#",suppressSorting:!0,valueGetter:"node.rowIndex  +1",headerClass:"text-center_grid",cellStyle:{display:"flex","justify-content":"center"},lockPosition:!0,sortable:!1,suppressMenu:!0,minWidth:60,maxWidth:60},{headerName:"District Name",field:"category",tooltipField:"category",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:190,maxWidth:190},{headerName:"Part Distributor",field:"category",tooltipField:"category",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:190,maxWidth:190},{headerName:"Jan (Actual/Plan)",headerClass:"cen-header-txt",children:[{field:"Jan_Order",headerName:"Order",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Jan_Billing",headerName:"Billing",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Jan_Retail",headerName:"Retail",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80}]},{headerName:"Feb (Actual/Plan)",headerClass:"cen-header-txt",children:[{field:"Feb_Order",headerName:"Order",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Feb_Billing",headerName:"Billing",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Feb_Retail",headerName:"Retail",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80}]},{headerName:"Mar (Actual/Plan)",headerClass:"cen-header-txt",children:[{field:"Mar_Order",headerName:"Order",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Mar_Billing",headerName:"Billing",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Mar_Retail",headerName:"Retail",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80}]},{headerName:"Apr (Actual/Plan)",headerClass:"cen-header-txt",children:[{field:"Apr_Order",headerName:"Order",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Apr_Billing",headerName:"Billing",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Apr_Retail",headerName:"Retail",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80}]},{headerName:"May (Actual/Plan)",headerClass:"cen-header-txt",children:[{field:"May_Order",headerName:"Order",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"May_Billing",headerName:"Billing",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"May_Retail",headerName:"Retail",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80}]},{headerName:"Jun (Actual/Plan)",headerClass:"cen-header-txt",children:[{field:"Jun_Order",headerName:"Order",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Jun_Billing",headerName:"Billing",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80},{field:"Jun_Retail",headerName:"Retail",sortable:!0,filter:!0,floatingFilter:!0,suppressMenu:!0,minWidth:80,maxWidth:80}]}]}static \u0275fac=function(i){return new(i||e)(ri(Ua),ri(Gm),ri(Pw),ri(kc))};static \u0275cmp=ti({type:e,selectors:[["app-dashboard"]],viewQuery:function(i,n){if(i&1&&ln(WZ,7),i&2){let r;ui(r=hi())&&(n.pickerDirective=r.first)}},hostBindings:function(i,n){i&1&&Ot("resize",function(o){return n.onResize(o)},!1,am)},standalone:!1,decls:0,vars:0,template:function(i,n){},styles:[".heading_txt[_ngcontent-%COMP%]{color:var(--brand-bg);font-family:Roboto;font-weight:500;font-size:14px}.sub_txt[_ngcontent-%COMP%]{font-family:Roboto;font-weight:500;font-size:14px}.dougnut_sec[_ngcontent-%COMP%]{padding:10px 15px}.table_chart[_ngcontent-%COMP%]{border-collapse:separate;border-top-left-radius:10px;border-top-right-radius:10px;border-spacing:0;width:500px;max-width:100%;border:1px solid #ddd}.table_chart[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px 4px;text-align:center;font-size:13px;font-weight:500;border-bottom:1px solid #ddd}.table_chart[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 4px;text-align:center;border-bottom:1px solid #ddd;font-size:12px}.table_chart[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#d00;font-weight:400}.table_chart[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f0f0f0}.table_chart[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#ffebee}.char_label_do_re[_ngcontent-%COMP%]{position:absolute;top:47%;left:42%;font-size:16px;font-weight:500}.char_label_report[_ngcontent-%COMP%]{position:absolute;top:45%;left:41%;font-size:20px;font-weight:500!important;text-align:center}"]})};var Ox=class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ti({type:e,selectors:[["app-login"]],standalone:!1,decls:35,vars:0,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-left"],["src","assets/login.jpg","alt","Login Illustration"],[1,"login-right"],[1,"signup-text"],["href","#"],[1,"input-group"],["type","text","placeholder","Email or Username"],["type","password","placeholder","Password"],[1,"options"],["type","checkbox"],[1,"login-btn"],[1,"divider"],[1,"social-login"],[1,"google"],["src","https://www.svgrepo.com/show/475656/google-color.svg"],[1,"facebook"],["src","https://www.svgrepo.com/show/475647/facebook-color.svg"]],template:function(i,n){i&1&&(Se(0,"div",0)(1,"div",1)(2,"div",2),Dt(3,"img",3),Pe(),Se(4,"div",4)(5,"h2"),Lt(6,"Hello,"),Dt(7,"br"),Lt(8,"Welcome Back"),Pe(),Se(9,"p",5),Lt(10," New user? "),Se(11,"a",6),Lt(12,"Sign Up Here"),Pe()(),Se(13,"form")(14,"div",7),Dt(15,"input",8),Pe(),Se(16,"div",7),Dt(17,"input",9),Pe(),Se(18,"div",10)(19,"label"),Dt(20,"input",11),Lt(21," Remember me "),Pe(),Se(22,"a",6),Lt(23,"Forgot Password?"),Pe()(),Se(24,"button",12),Lt(25,"LOGIN NOW"),Pe(),Se(26,"div",13),Lt(27,"or login with"),Pe(),Se(28,"div",14)(29,"button",15),Dt(30,"img",16),Lt(31," Google "),Pe(),Se(32,"button",17),Dt(33,"img",18),Lt(34," Facebook "),Pe()()()()()())},dependencies:[UK,LK,G0],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Poppins,sans-serif}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(180deg,#f8f9fa,#c774ff54);display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{background:#fff;width:1100px;max-width:95%;border-radius:16px;display:flex;box-shadow:0 20px 50px #00000026;overflow:hidden}.login-left[_ngcontent-%COMP%]{flex:1;background:#fff;display:flex;align-items:center;justify-content:center;padding:40px}.login-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.login-right[_ngcontent-%COMP%]{flex:1;padding:60px 50px}.login-right[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a1a3c;margin-bottom:10px}.login-right[_ngcontent-%COMP%]   .signup-text[_ngcontent-%COMP%]{color:#777;margin-bottom:30px}.login-right[_ngcontent-%COMP%]   .signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7b6cf6;text-decoration:none;font-weight:500}.login-right[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 18px;border-radius:30px;border:1px solid #ddd;outline:none;font-size:14px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#7b6cf6}.options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:13px;margin-bottom:25px}.options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#666}.options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7b6cf6;text-decoration:none}.login-btn[_ngcontent-%COMP%]{width:100%;background:#8c7cf0;border:none;padding:14px;border-radius:30px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;margin-bottom:25px}.login-btn[_ngcontent-%COMP%]:hover{background:#7666e8}.divider[_ngcontent-%COMP%]{text-align:center;color:#aaa;font-size:13px;margin-bottom:20px}.social-login[_ngcontent-%COMP%]{display:flex;gap:15px}.social-login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;border-radius:30px;border:1px solid #ddd;background:#fff;padding:10px;font-size:14px;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer}.social-login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}.social-login[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]{border-color:#f1c7c7}.social-login[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{border-color:#c7d3f1}@media (max-width: 900px){.login-container[_ngcontent-%COMP%]{flex-direction:column}.login-left[_ngcontent-%COMP%]{display:none}.login-right[_ngcontent-%COMP%]{padding:40px 25px}}"]})};var fR=class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ti({type:e,selectors:[["app-voice"]],standalone:!1,decls:2,vars:0,template:function(i,n){i&1&&(Se(0,"p"),Lt(1,"voice works!"),Pe())},encapsulation:2})};var ok="176";var Wee=0,c8=1,jee=2;var d8=1,qee=2,lf=3,Cd=0,Js=1,rl=2,Bp=0,fv=1,u8=2,h8=3,f8=4,Yee=5,vg=100,$ee=101,Xee=102,Kee=103,Zee=104,Qee=200,Jee=201,ete=202,tte=203,GR=204,WR=205,ite=206,nte=207,rte=208,ote=209,ste=210,ate=211,lte=212,cte=213,dte=214,sk=0,ak=1,lk=2,pv=3,ck=4,dk=5,uk=6,hk=7,uS=0,ute=1,hte=2,Vp=0,fte=1,pte=2,mte=3,gte=4,vte=5,bte=6,_te=7,q6="attached",yte="detached",Y6=300,Rv=301,kv=302,Dy=303,fk=304,hS=306,as=1e3,Ms=1001,mv=1002,xl=1003,wte=1004;var fS=1005;var Ia=1006,pk=1007;var Vc=1008;var eh=1009,p8=1010,m8=1011,Ty=1012,mk=1013,Sg=1014,th=1015,Ay=1016,gk=1017,vk=1018,Ry=1020,g8=35902,v8=1021,b8=1022,Md=1023,gy=1026,ky=1027,_8=1028,bk=1029,y8=1030,_k=1031;var yk=1033,pS=33776,mS=33777,gS=33778,vS=33779,wk=35840,Ck=35841,xk=35842,Sk=35843,Mk=36196,Ek=37492,Dk=37496,Tk=37808,Ak=37809,Rk=37810,kk=37811,Ik=37812,Pk=37813,Fk=37814,Ok=37815,Lk=37816,Nk=37817,Bk=37818,Vk=37819,zk=37820,Hk=37821,bS=36492,Uk=36494,Gk=36495,w8=36283,Wk=36284,jk=36285,qk=36286;var Wx=2300,jR=2301,UR=2302,$6=2400,X6=2401,K6=2402,Cte=2500;var xte=3200,Ste=3201;var _S=0,Mte=1,zp="",Hn="srgb",Qu="srgb-linear",jx="linear",So="srgb";var hv=7680;var Z6=519,Ete=512,Dte=513,Tte=514,C8=515,Ate=516,Rte=517,kte=518,Ite=519,Q6=35044;var x8="300 es",tf=2e3,qx=2001;var kp=class{addEventListener(t,i){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(i)===-1&&n[t].push(i)}hasEventListener(t,i){let n=this._listeners;return n===void 0?!1:n[t]!==void 0&&n[t].indexOf(i)!==-1}removeEventListener(t,i){let n=this._listeners;if(n===void 0)return;let r=n[t];if(r!==void 0){let o=r.indexOf(i);o!==-1&&r.splice(o,1)}}dispatchEvent(t){let i=this._listeners;if(i===void 0)return;let n=i[t.type];if(n!==void 0){t.target=this;let r=n.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,t);t.target=null}}},Wl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],oee=1234567,py=Math.PI/180,gv=180/Math.PI;function Mg(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Wl[e&255]+Wl[e>>8&255]+Wl[e>>16&255]+Wl[e>>24&255]+"-"+Wl[t&255]+Wl[t>>8&255]+"-"+Wl[t>>16&15|64]+Wl[t>>24&255]+"-"+Wl[i&63|128]+Wl[i>>8&255]+"-"+Wl[i>>16&255]+Wl[i>>24&255]+Wl[n&255]+Wl[n>>8&255]+Wl[n>>16&255]+Wl[n>>24&255]).toLowerCase()}function Or(e,t,i){return Math.max(t,Math.min(i,e))}function S8(e,t){return(e%t+t)%t}function jOe(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)}function qOe(e,t,i){return e!==t?(i-e)/(t-e):0}function Gx(e,t,i){return(1-i)*e+i*t}function YOe(e,t,i,n){return Gx(e,t,1-Math.exp(-i*n))}function $Oe(e,t=1){return t-Math.abs(S8(e,t*2)-t)}function XOe(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))}function KOe(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(e*6-15)+10))}function ZOe(e,t){return e+Math.floor(Math.random()*(t-e+1))}function QOe(e,t){return e+Math.random()*(t-e)}function JOe(e){return e*(.5-Math.random())}function eLe(e){e!==void 0&&(oee=e);let t=oee+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function tLe(e){return e*py}function iLe(e){return e*gv}function nLe(e){return(e&e-1)===0&&e!==0}function rLe(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function oLe(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function sLe(e,t,i,n,r){let o=Math.cos,s=Math.sin,a=o(i/2),l=s(i/2),c=o((t+n)/2),d=s((t+n)/2),u=o((t-n)/2),h=s((t-n)/2),f=o((n-t)/2),p=s((n-t)/2);switch(r){case"XYX":e.set(a*d,l*u,l*h,a*c);break;case"YZY":e.set(l*h,a*d,l*u,a*c);break;case"ZXZ":e.set(l*u,l*h,a*d,a*c);break;case"XZX":e.set(a*d,l*p,l*f,a*c);break;case"YXY":e.set(l*f,a*d,l*p,a*c);break;case"ZYZ":e.set(l*p,l*f,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function fy(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function fc(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var Ls={DEG2RAD:py,RAD2DEG:gv,generateUUID:Mg,clamp:Or,euclideanModulo:S8,mapLinear:jOe,inverseLerp:qOe,lerp:Gx,damp:YOe,pingpong:$Oe,smoothstep:XOe,smootherstep:KOe,randInt:ZOe,randFloat:QOe,randFloatSpread:JOe,seededRandom:eLe,degToRad:tLe,radToDeg:iLe,isPowerOfTwo:nLe,ceilPowerOfTwo:rLe,floorPowerOfTwo:oLe,setQuaternionFromProperEuler:sLe,normalize:fc,denormalize:fy},On=class e{constructor(t=0,i=0){e.prototype.isVector2=!0,this.x=t,this.y=i}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,i){return this.x=t,this.y=i,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let i=this.x,n=this.y,r=t.elements;return this.x=r[0]*i+r[3]*n+r[6],this.y=r[1]*i+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,i){return this.x=Or(this.x,t.x,i.x),this.y=Or(this.y,t.y,i.y),this}clampScalar(t,i){return this.x=Or(this.x,t,i),this.y=Or(this.y,t,i),this}clampLength(t,i){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Or(n,t,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){let i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;let n=this.dot(t)/i;return Math.acos(Or(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let i=this.x-t.x,n=this.y-t.y;return i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this}lerpVectors(t,i,n){return this.x=t.x+(i.x-t.x)*n,this.y=t.y+(i.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this}rotateAround(t,i){let n=Math.cos(i),r=Math.sin(i),o=this.x-t.x,s=this.y-t.y;return this.x=o*n-s*r+t.x,this.y=o*r+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},sr=class e{constructor(t,i,n,r,o,s,a,l,c){e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,i,n,r,o,s,a,l,c)}set(t,i,n,r,o,s,a,l,c){let d=this.elements;return d[0]=t,d[1]=r,d[2]=a,d[3]=i,d[4]=o,d[5]=l,d[6]=n,d[7]=s,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){let i=this.elements,n=t.elements;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],this}extractBasis(t,i,n){return t.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){let i=t.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){let n=t.elements,r=i.elements,o=this.elements,s=n[0],a=n[3],l=n[6],c=n[1],d=n[4],u=n[7],h=n[2],f=n[5],p=n[8],v=r[0],m=r[3],g=r[6],b=r[1],w=r[4],x=r[7],R=r[2],_=r[5],L=r[8];return o[0]=s*v+a*b+l*R,o[3]=s*m+a*w+l*_,o[6]=s*g+a*x+l*L,o[1]=c*v+d*b+u*R,o[4]=c*m+d*w+u*_,o[7]=c*g+d*x+u*L,o[2]=h*v+f*b+p*R,o[5]=h*m+f*w+p*_,o[8]=h*g+f*x+p*L,this}multiplyScalar(t){let i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this}determinant(){let t=this.elements,i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8];return i*s*d-i*a*c-n*o*d+n*a*l+r*o*c-r*s*l}invert(){let t=this.elements,i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=d*s-a*c,h=a*l-d*o,f=c*o-s*l,p=i*u+n*h+r*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let v=1/p;return t[0]=u*v,t[1]=(r*c-d*n)*v,t[2]=(a*n-r*s)*v,t[3]=h*v,t[4]=(d*i-r*l)*v,t[5]=(r*o-a*i)*v,t[6]=f*v,t[7]=(n*l-c*i)*v,t[8]=(s*i-n*o)*v,this}transpose(){let t,i=this.elements;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){let i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this}setUvTransform(t,i,n,r,o,s,a){let l=Math.cos(o),c=Math.sin(o);return this.set(n*l,n*c,-n*(l*s+c*a)+s+t,-r*c,r*l,-r*(-c*s+l*a)+a+i,0,0,1),this}scale(t,i){return this.premultiply(y6.makeScale(t,i)),this}rotate(t){return this.premultiply(y6.makeRotation(-t)),this}translate(t,i){return this.premultiply(y6.makeTranslation(t,i)),this}makeTranslation(t,i){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,i,0,0,1),this}makeRotation(t){let i=Math.cos(t),n=Math.sin(t);return this.set(i,-n,0,n,i,0,0,0,1),this}makeScale(t,i){return this.set(t,0,0,0,i,0,0,0,1),this}equals(t){let i=this.elements,n=t.elements;for(let r=0;r<9;r++)if(i[r]!==n[r])return!1;return!0}fromArray(t,i=0){for(let n=0;n<9;n++)this.elements[n]=t[n+i];return this}toArray(t=[],i=0){let n=this.elements;return t[i]=n[0],t[i+1]=n[1],t[i+2]=n[2],t[i+3]=n[3],t[i+4]=n[4],t[i+5]=n[5],t[i+6]=n[6],t[i+7]=n[7],t[i+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}},y6=new sr;function M8(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function vy(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Pte(){let e=vy("canvas");return e.style.display="block",e}var see={};function yS(e){e in see||(see[e]=!0,console.warn(e))}function Fte(e,t,i){return new Promise(function(n,r){function o(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:r();break;case e.TIMEOUT_EXPIRED:setTimeout(o,i);break;default:n()}}setTimeout(o,i)})}function Ote(e){let t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function Lte(e){let t=e.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}var aee=new sr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),lee=new sr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function aLe(){let e={enabled:!0,workingColorSpace:Qu,spaces:{},convert:function(r,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===So&&(r.r=Rp(r.r),r.g=Rp(r.g),r.b=Rp(r.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===So&&(r.r=my(r.r),r.g=my(r.g),r.b=my(r.b))),r},fromWorkingColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},toWorkingColorSpace:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===zp?jx:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,s){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],n=[.3127,.329];return e.define({[Qu]:{primaries:t,whitePoint:n,transfer:jx,toXYZ:aee,fromXYZ:lee,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:Hn},outputColorSpaceConfig:{drawingBufferColorSpace:Hn}},[Hn]:{primaries:t,whitePoint:n,transfer:So,toXYZ:aee,fromXYZ:lee,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:Hn}}}),e}var Fn=aLe();function Rp(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function my(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var ty,vv=class{static getDataURL(t,i="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{ty===void 0&&(ty=vy("canvas")),ty.width=t.width,ty.height=t.height;let r=ty.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=ty}return n.toDataURL(i)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){let i=vy("canvas");i.width=t.width,i.height=t.height;let n=i.getContext("2d");n.drawImage(t,0,0,t.width,t.height);let r=n.getImageData(0,0,t.width,t.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=Rp(o[s]/255)*255;return n.putImageData(r,0,0),i}else if(t.data){let i=t.data.slice(0);for(let n=0;n<i.length;n++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[n]=Math.floor(Rp(i[n]/255)*255):i[n]=Rp(i[n]);return{data:i,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}},lLe=0,by=class{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lLe++}),this.uuid=Mg(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){let i=t===void 0||typeof t=="string";if(!i&&t.images[this.uuid]!==void 0)return t.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(w6(r[s].image)):o.push(w6(r[s]))}else o=w6(r);n.url=o}return i||(t.images[this.uuid]=n),n}};function w6(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?vv.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var cLe=0,hu=(()=>{class e extends kp{constructor(i=e.DEFAULT_IMAGE,n=e.DEFAULT_MAPPING,r=Ms,o=Ms,s=Ia,a=Vc,l=Md,c=eh,d=e.DEFAULT_ANISOTROPY,u=zp){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:cLe++}),this.uuid=Mg(),this.name="",this.source=new by(i),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new On(0,0),this.repeat=new On(1,1),this.center=new On(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(i=null){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.channel=i.channel,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.colorSpace=i.colorSpace,this.renderTarget=i.renderTarget,this.isRenderTargetTexture=i.isRenderTargetTexture,this.isTextureArray=i.isTextureArray,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){let n=i===void 0||typeof i=="string";if(!n&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];let r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(i.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(this.mapping!==Y6)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case as:i.x=i.x-Math.floor(i.x);break;case Ms:i.x=i.x<0?0:1;break;case mv:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case as:i.y=i.y-Math.floor(i.y);break;case Ms:i.y=i.y<0?0:1;break;case mv:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){i===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(i){i===!0&&this.pmremVersion++}}return e.DEFAULT_IMAGE=null,e.DEFAULT_MAPPING=Y6,e.DEFAULT_ANISOTROPY=1,e})(),xr=class e{constructor(t=0,i=0,n=0,r=1){e.prototype.isVector4=!0,this.x=t,this.y=i,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,i,n,r){return this.x=t,this.y=i,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this.w=t.w+i.w,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this.w+=t.w*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this.w=t.w-i.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){let i=this.x,n=this.y,r=this.z,o=this.w,s=t.elements;return this.x=s[0]*i+s[4]*n+s[8]*r+s[12]*o,this.y=s[1]*i+s[5]*n+s[9]*r+s[13]*o,this.z=s[2]*i+s[6]*n+s[10]*r+s[14]*o,this.w=s[3]*i+s[7]*n+s[11]*r+s[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);let i=Math.sqrt(1-t.w*t.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/i,this.y=t.y/i,this.z=t.z/i),this}setAxisAngleFromRotationMatrix(t){let i,n,r,o,l=t.elements,c=l[0],d=l[4],u=l[8],h=l[1],f=l[5],p=l[9],v=l[2],m=l[6],g=l[10];if(Math.abs(d-h)<.01&&Math.abs(u-v)<.01&&Math.abs(p-m)<.01){if(Math.abs(d+h)<.1&&Math.abs(u+v)<.1&&Math.abs(p+m)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;let w=(c+1)/2,x=(f+1)/2,R=(g+1)/2,_=(d+h)/4,L=(u+v)/4,F=(p+m)/4;return w>x&&w>R?w<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(w),r=_/n,o=L/n):x>R?x<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(x),n=_/r,o=F/r):R<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(R),n=L/o,r=F/o),this.set(n,r,o,i),this}let b=Math.sqrt((m-p)*(m-p)+(u-v)*(u-v)+(h-d)*(h-d));return Math.abs(b)<.001&&(b=1),this.x=(m-p)/b,this.y=(u-v)/b,this.z=(h-d)/b,this.w=Math.acos((c+f+g-1)/2),this}setFromMatrixPosition(t){let i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this.w=i[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,i){return this.x=Or(this.x,t.x,i.x),this.y=Or(this.y,t.y,i.y),this.z=Or(this.z,t.z,i.z),this.w=Or(this.w,t.w,i.w),this}clampScalar(t,i){return this.x=Or(this.x,t,i),this.y=Or(this.y,t,i),this.z=Or(this.z,t,i),this.w=Or(this.w,t,i),this}clampLength(t,i){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Or(n,t,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this.w+=(t.w-this.w)*i,this}lerpVectors(t,i,n){return this.x=t.x+(i.x-t.x)*n,this.y=t.y+(i.y-t.y)*n,this.z=t.z+(i.z-t.z)*n,this.w=t.w+(i.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this.w=t[i+3],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t[i+3]=this.w,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this.w=t.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},qR=class extends kp{constructor(t=1,i=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=i,this.depth=n.depth?n.depth:1,this.scissor=new xr(0,0,t,i),this.scissorTest=!1,this.viewport=new xr(0,0,t,i);let r={width:t,height:i,depth:this.depth};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ia,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},n);let o=new hu(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);o.flipY=!1,o.generateMipmaps=n.generateMipmaps,o.internalFormat=n.internalFormat,this.textures=[];let s=n.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,i,n=1){if(this.width!==t||this.height!==i||this.depth!==n){this.width=t,this.height=i,this.depth=n;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=t,this.textures[r].image.height=i,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,t,i),this.scissor.set(0,0,t,i)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,n=t.textures.length;i<n;i++){this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;let r=Object.assign({},t.textures[i].image);this.textures[i].source=new by(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},nf=class extends qR{constructor(t=1,i=1,n={}){super(t,i,n),this.isWebGLRenderTarget=!0}},Yx=class extends hu{constructor(t=null,i=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:i,height:n,depth:r},this.magFilter=xl,this.minFilter=xl,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}};var YR=class extends hu{constructor(t=null,i=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:i,height:n,depth:r},this.magFilter=xl,this.minFilter=xl,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var ls=class{constructor(t=0,i=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=i,this._z=n,this._w=r}static slerpFlat(t,i,n,r,o,s,a){let l=n[r+0],c=n[r+1],d=n[r+2],u=n[r+3],h=o[s+0],f=o[s+1],p=o[s+2],v=o[s+3];if(a===0){t[i+0]=l,t[i+1]=c,t[i+2]=d,t[i+3]=u;return}if(a===1){t[i+0]=h,t[i+1]=f,t[i+2]=p,t[i+3]=v;return}if(u!==v||l!==h||c!==f||d!==p){let m=1-a,g=l*h+c*f+d*p+u*v,b=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){let R=Math.sqrt(w),_=Math.atan2(R,g*b);m=Math.sin(m*_)/R,a=Math.sin(a*_)/R}let x=a*b;if(l=l*m+h*x,c=c*m+f*x,d=d*m+p*x,u=u*m+v*x,m===1-a){let R=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=R,c*=R,d*=R,u*=R}}t[i]=l,t[i+1]=c,t[i+2]=d,t[i+3]=u}static multiplyQuaternionsFlat(t,i,n,r,o,s){let a=n[r],l=n[r+1],c=n[r+2],d=n[r+3],u=o[s],h=o[s+1],f=o[s+2],p=o[s+3];return t[i]=a*p+d*u+l*f-c*h,t[i+1]=l*p+d*h+c*u-a*f,t[i+2]=c*p+d*f+a*h-l*u,t[i+3]=d*p-a*u-l*h-c*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,i,n,r){return this._x=t,this._y=i,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,i=!0){let n=t._x,r=t._y,o=t._z,s=t._order,a=Math.cos,l=Math.sin,c=a(n/2),d=a(r/2),u=a(o/2),h=l(n/2),f=l(r/2),p=l(o/2);switch(s){case"XYZ":this._x=h*d*u+c*f*p,this._y=c*f*u-h*d*p,this._z=c*d*p+h*f*u,this._w=c*d*u-h*f*p;break;case"YXZ":this._x=h*d*u+c*f*p,this._y=c*f*u-h*d*p,this._z=c*d*p-h*f*u,this._w=c*d*u+h*f*p;break;case"ZXY":this._x=h*d*u-c*f*p,this._y=c*f*u+h*d*p,this._z=c*d*p+h*f*u,this._w=c*d*u-h*f*p;break;case"ZYX":this._x=h*d*u-c*f*p,this._y=c*f*u+h*d*p,this._z=c*d*p-h*f*u,this._w=c*d*u+h*f*p;break;case"YZX":this._x=h*d*u+c*f*p,this._y=c*f*u+h*d*p,this._z=c*d*p-h*f*u,this._w=c*d*u-h*f*p;break;case"XZY":this._x=h*d*u-c*f*p,this._y=c*f*u-h*d*p,this._z=c*d*p+h*f*u,this._w=c*d*u+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,i){let n=i/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){let i=t.elements,n=i[0],r=i[4],o=i[8],s=i[1],a=i[5],l=i[9],c=i[2],d=i[6],u=i[10],h=n+a+u;if(h>0){let f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(d-l)*f,this._y=(o-c)*f,this._z=(s-r)*f}else if(n>a&&n>u){let f=2*Math.sqrt(1+n-a-u);this._w=(d-l)/f,this._x=.25*f,this._y=(r+s)/f,this._z=(o+c)/f}else if(a>u){let f=2*Math.sqrt(1+a-n-u);this._w=(o-c)/f,this._x=(r+s)/f,this._y=.25*f,this._z=(l+d)/f}else{let f=2*Math.sqrt(1+u-n-a);this._w=(s-r)/f,this._x=(o+c)/f,this._y=(l+d)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,i){let n=t.dot(i)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*i.z-t.z*i.y,this._y=t.z*i.x-t.x*i.z,this._z=t.x*i.y-t.y*i.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Or(this.dot(t),-1,1)))}rotateTowards(t,i){let n=this.angleTo(t);if(n===0)return this;let r=Math.min(1,i/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,i){let n=t._x,r=t._y,o=t._z,s=t._w,a=i._x,l=i._y,c=i._z,d=i._w;return this._x=n*d+s*a+r*c-o*l,this._y=r*d+s*l+o*a-n*c,this._z=o*d+s*c+n*l-r*a,this._w=s*d-n*a-r*l-o*c,this._onChangeCallback(),this}slerp(t,i){if(i===0)return this;if(i===1)return this.copy(t);let n=this._x,r=this._y,o=this._z,s=this._w,a=s*t._w+n*t._x+r*t._y+o*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=n,this._y=r,this._z=o,this;let l=1-a*a;if(l<=Number.EPSILON){let f=1-i;return this._w=f*s+i*this._w,this._x=f*n+i*this._x,this._y=f*r+i*this._y,this._z=f*o+i*this._z,this.normalize(),this}let c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-i)*d)/c,h=Math.sin(i*d)/c;return this._w=s*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=o*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,i,n){return this.copy(t).slerp(i,n)}random(){let t=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(r*Math.sin(t),r*Math.cos(t),o*Math.sin(i),o*Math.cos(i))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,i=0){return this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t}fromBufferAttribute(t,i){return this._x=t.getX(i),this._y=t.getY(i),this._z=t.getZ(i),this._w=t.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Qe=class e{constructor(t=0,i=0,n=0){e.prototype.isVector3=!0,this.x=t,this.y=i,this.z=n}set(t,i,n){return n===void 0&&(n=this.z),this.x=t,this.y=i,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}applyEuler(t){return this.applyQuaternion(cee.setFromEuler(t))}applyAxisAngle(t,i){return this.applyQuaternion(cee.setFromAxisAngle(t,i))}applyMatrix3(t){let i=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*i+o[3]*n+o[6]*r,this.y=o[1]*i+o[4]*n+o[7]*r,this.z=o[2]*i+o[5]*n+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let i=this.x,n=this.y,r=this.z,o=t.elements,s=1/(o[3]*i+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*i+o[4]*n+o[8]*r+o[12])*s,this.y=(o[1]*i+o[5]*n+o[9]*r+o[13])*s,this.z=(o[2]*i+o[6]*n+o[10]*r+o[14])*s,this}applyQuaternion(t){let i=this.x,n=this.y,r=this.z,o=t.x,s=t.y,a=t.z,l=t.w,c=2*(s*r-a*n),d=2*(a*i-o*r),u=2*(o*n-s*i);return this.x=i+l*c+s*u-a*d,this.y=n+l*d+a*c-o*u,this.z=r+l*u+o*d-s*c,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){let i=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*i+o[4]*n+o[8]*r,this.y=o[1]*i+o[5]*n+o[9]*r,this.z=o[2]*i+o[6]*n+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,i){return this.x=Or(this.x,t.x,i.x),this.y=Or(this.y,t.y,i.y),this.z=Or(this.z,t.z,i.z),this}clampScalar(t,i){return this.x=Or(this.x,t,i),this.y=Or(this.y,t,i),this.z=Or(this.z,t,i),this}clampLength(t,i){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Or(n,t,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}lerpVectors(t,i,n){return this.x=t.x+(i.x-t.x)*n,this.y=t.y+(i.y-t.y)*n,this.z=t.z+(i.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,i){let n=t.x,r=t.y,o=t.z,s=i.x,a=i.y,l=i.z;return this.x=r*l-o*a,this.y=o*s-n*l,this.z=n*a-r*s,this}projectOnVector(t){let i=t.lengthSq();if(i===0)return this.set(0,0,0);let n=t.dot(this)/i;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return C6.copy(this).projectOnVector(t),this.sub(C6)}reflect(t){return this.sub(C6.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;let n=this.dot(t)/i;return Math.acos(Or(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let i=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return i*i+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,i,n){let r=Math.sin(i)*t;return this.x=r*Math.sin(n),this.y=Math.cos(i)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,i,n){return this.x=t*Math.sin(i),this.y=n,this.z=t*Math.cos(i),this}setFromMatrixPosition(t){let i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(t){let i=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=n,this.z=r,this}setFromMatrixColumn(t,i){return this.fromArray(t.elements,i*4)}setFromMatrix3Column(t,i){return this.fromArray(t.elements,i*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=Math.random()*Math.PI*2,i=Math.random()*2-1,n=Math.sqrt(1-i*i);return this.x=n*Math.cos(t),this.y=i,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},C6=new Qe,cee=new ls,au=class{constructor(t=new Qe(1/0,1/0,1/0),i=new Qe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=i}set(t,i){return this.min.copy(t),this.max.copy(i),this}setFromArray(t){this.makeEmpty();for(let i=0,n=t.length;i<n;i+=3)this.expandByPoint(Xu.fromArray(t,i));return this}setFromBufferAttribute(t){this.makeEmpty();for(let i=0,n=t.count;i<n;i++)this.expandByPoint(Xu.fromBufferAttribute(t,i));return this}setFromPoints(t){this.makeEmpty();for(let i=0,n=t.length;i<n;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,i){let n=Xu.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,i=!1){return this.makeEmpty(),this.expandByObject(t,i)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,i=!1){t.updateWorldMatrix(!1,!1);let n=t.geometry;if(n!==void 0){let o=n.getAttribute("position");if(i===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)t.isMesh===!0?t.getVertexPosition(s,Xu):Xu.fromBufferAttribute(o,s),Xu.applyMatrix4(t.matrixWorld),this.expandByPoint(Xu);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),pR.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),pR.copy(n.boundingBox)),pR.applyMatrix4(t.matrixWorld),this.union(pR)}let r=t.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],i);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Xu),Xu.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let i,n;return t.normal.x>0?(i=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(i=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(i+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(i+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),i<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Lx),mR.subVectors(this.max,Lx),iy.subVectors(t.a,Lx),ny.subVectors(t.b,Lx),ry.subVectors(t.c,Lx),ug.subVectors(ny,iy),hg.subVectors(ry,ny),lv.subVectors(iy,ry);let i=[0,-ug.z,ug.y,0,-hg.z,hg.y,0,-lv.z,lv.y,ug.z,0,-ug.x,hg.z,0,-hg.x,lv.z,0,-lv.x,-ug.y,ug.x,0,-hg.y,hg.x,0,-lv.y,lv.x,0];return!x6(i,iy,ny,ry,mR)||(i=[1,0,0,0,1,0,0,0,1],!x6(i,iy,ny,ry,mR))?!1:(gR.crossVectors(ug,hg),i=[gR.x,gR.y,gR.z],x6(i,iy,ny,ry,mR))}clampPoint(t,i){return i.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Xu).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Xu).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(xp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),xp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),xp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),xp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),xp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),xp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),xp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),xp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(xp),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},xp=[new Qe,new Qe,new Qe,new Qe,new Qe,new Qe,new Qe,new Qe],Xu=new Qe,pR=new au,iy=new Qe,ny=new Qe,ry=new Qe,ug=new Qe,hg=new Qe,lv=new Qe,Lx=new Qe,mR=new Qe,gR=new Qe,cv=new Qe;function x6(e,t,i,n,r){for(let o=0,s=e.length-3;o<=s;o+=3){cv.fromArray(e,o);let a=r.x*Math.abs(cv.x)+r.y*Math.abs(cv.y)+r.z*Math.abs(cv.z),l=t.dot(cv),c=i.dot(cv),d=n.dot(cv);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}var dLe=new au,Nx=new Qe,S6=new Qe,lu=class{constructor(t=new Qe,i=-1){this.isSphere=!0,this.center=t,this.radius=i}set(t,i){return this.center.copy(t),this.radius=i,this}setFromPoints(t,i){let n=this.center;i!==void 0?n.copy(i):dLe.setFromPoints(t).getCenter(n);let r=0;for(let o=0,s=t.length;o<s;o++)r=Math.max(r,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){let i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,i){let n=this.center.distanceToSquared(t);return i.copy(t),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Nx.subVectors(t,this.center);let i=Nx.lengthSq();if(i>this.radius*this.radius){let n=Math.sqrt(i),r=(n-this.radius)*.5;this.center.addScaledVector(Nx,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(S6.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Nx.copy(t.center).add(S6)),this.expandByPoint(Nx.copy(t.center).sub(S6))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}},Sp=new Qe,M6=new Qe,vR=new Qe,fg=new Qe,E6=new Qe,bR=new Qe,D6=new Qe,bg=class{constructor(t=new Qe,i=new Qe(0,0,-1)){this.origin=t,this.direction=i}set(t,i){return this.origin.copy(t),this.direction.copy(i),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,i){return i.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Sp)),this}closestPointToPoint(t,i){i.subVectors(t,this.origin);let n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){let i=Sp.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(Sp.copy(this.origin).addScaledVector(this.direction,i),Sp.distanceToSquared(t))}distanceSqToSegment(t,i,n,r){M6.copy(t).add(i).multiplyScalar(.5),vR.copy(i).sub(t).normalize(),fg.copy(this.origin).sub(M6);let o=t.distanceTo(i)*.5,s=-this.direction.dot(vR),a=fg.dot(this.direction),l=-fg.dot(vR),c=fg.lengthSq(),d=Math.abs(1-s*s),u,h,f,p;if(d>0)if(u=s*l-a,h=s*a-l,p=o*d,u>=0)if(h>=-p)if(h<=p){let v=1/d;u*=v,h*=v,f=u*(u+s*h+2*a)+h*(s*u+h+2*l)+c}else h=o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*l)+c;else h=-o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*l)+c;else h<=-p?(u=Math.max(0,-(-s*o+a)),h=u>0?-o:Math.min(Math.max(-o,-l),o),f=-u*u+h*(h+2*l)+c):h<=p?(u=0,h=Math.min(Math.max(-o,-l),o),f=h*(h+2*l)+c):(u=Math.max(0,-(s*o+a)),h=u>0?o:Math.min(Math.max(-o,-l),o),f=-u*u+h*(h+2*l)+c);else h=s>0?-o:o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(M6).addScaledVector(vR,h),f}intersectSphere(t,i){Sp.subVectors(t.center,this.origin);let n=Sp.dot(this.direction),r=Sp.dot(Sp)-n*n,o=t.radius*t.radius;if(r>o)return null;let s=Math.sqrt(o-r),a=n-s,l=n+s;return l<0?null:a<0?this.at(l,i):this.at(a,i)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){let i=t.normal.dot(this.direction);if(i===0)return t.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(t.normal)+t.constant)/i;return n>=0?n:null}intersectPlane(t,i){let n=this.distanceToPlane(t);return n===null?null:this.at(n,i)}intersectsPlane(t){let i=t.distanceToPoint(this.origin);return i===0||t.normal.dot(this.direction)*i<0}intersectBox(t,i){let n,r,o,s,a,l,c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),d>=0?(o=(t.min.y-h.y)*d,s=(t.max.y-h.y)*d):(o=(t.max.y-h.y)*d,s=(t.min.y-h.y)*d),n>s||o>r||((o>n||isNaN(n))&&(n=o),(s<r||isNaN(r))&&(r=s),u>=0?(a=(t.min.z-h.z)*u,l=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,l=(t.min.z-h.z)*u),n>l||a>r)||((a>n||n!==n)&&(n=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,i)}intersectsBox(t){return this.intersectBox(t,Sp)!==null}intersectTriangle(t,i,n,r,o){E6.subVectors(i,t),bR.subVectors(n,t),D6.crossVectors(E6,bR);let s=this.direction.dot(D6),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;fg.subVectors(this.origin,t);let l=a*this.direction.dot(bR.crossVectors(fg,bR));if(l<0)return null;let c=a*this.direction.dot(E6.cross(fg));if(c<0||l+c>s)return null;let d=-a*fg.dot(D6);return d<0?null:this.at(d/s,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ki=class e{constructor(t,i,n,r,o,s,a,l,c,d,u,h,f,p,v,m){e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,i,n,r,o,s,a,l,c,d,u,h,f,p,v,m)}set(t,i,n,r,o,s,a,l,c,d,u,h,f,p,v,m){let g=this.elements;return g[0]=t,g[4]=i,g[8]=n,g[12]=r,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=c,g[6]=d,g[10]=u,g[14]=h,g[3]=f,g[7]=p,g[11]=v,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new e().fromArray(this.elements)}copy(t){let i=this.elements,n=t.elements;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this}copyPosition(t){let i=this.elements,n=t.elements;return i[12]=n[12],i[13]=n[13],i[14]=n[14],this}setFromMatrix3(t){let i=t.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(t,i,n){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,i,n){return this.set(t.x,i.x,n.x,0,t.y,i.y,n.y,0,t.z,i.z,n.z,0,0,0,0,1),this}extractRotation(t){let i=this.elements,n=t.elements,r=1/oy.setFromMatrixColumn(t,0).length(),o=1/oy.setFromMatrixColumn(t,1).length(),s=1/oy.setFromMatrixColumn(t,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[3]=0,i[4]=n[4]*o,i[5]=n[5]*o,i[6]=n[6]*o,i[7]=0,i[8]=n[8]*s,i[9]=n[9]*s,i[10]=n[10]*s,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(t){let i=this.elements,n=t.x,r=t.y,o=t.z,s=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),d=Math.cos(o),u=Math.sin(o);if(t.order==="XYZ"){let h=s*d,f=s*u,p=a*d,v=a*u;i[0]=l*d,i[4]=-l*u,i[8]=c,i[1]=f+p*c,i[5]=h-v*c,i[9]=-a*l,i[2]=v-h*c,i[6]=p+f*c,i[10]=s*l}else if(t.order==="YXZ"){let h=l*d,f=l*u,p=c*d,v=c*u;i[0]=h+v*a,i[4]=p*a-f,i[8]=s*c,i[1]=s*u,i[5]=s*d,i[9]=-a,i[2]=f*a-p,i[6]=v+h*a,i[10]=s*l}else if(t.order==="ZXY"){let h=l*d,f=l*u,p=c*d,v=c*u;i[0]=h-v*a,i[4]=-s*u,i[8]=p+f*a,i[1]=f+p*a,i[5]=s*d,i[9]=v-h*a,i[2]=-s*c,i[6]=a,i[10]=s*l}else if(t.order==="ZYX"){let h=s*d,f=s*u,p=a*d,v=a*u;i[0]=l*d,i[4]=p*c-f,i[8]=h*c+v,i[1]=l*u,i[5]=v*c+h,i[9]=f*c-p,i[2]=-c,i[6]=a*l,i[10]=s*l}else if(t.order==="YZX"){let h=s*l,f=s*c,p=a*l,v=a*c;i[0]=l*d,i[4]=v-h*u,i[8]=p*u+f,i[1]=u,i[5]=s*d,i[9]=-a*d,i[2]=-c*d,i[6]=f*u+p,i[10]=h-v*u}else if(t.order==="XZY"){let h=s*l,f=s*c,p=a*l,v=a*c;i[0]=l*d,i[4]=-u,i[8]=c*d,i[1]=h*u+v,i[5]=s*d,i[9]=f*u-p,i[2]=p*u-f,i[6]=a*d,i[10]=v*u+h}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(t){return this.compose(uLe,t,hLe)}lookAt(t,i,n){let r=this.elements;return yd.subVectors(t,i),yd.lengthSq()===0&&(yd.z=1),yd.normalize(),pg.crossVectors(n,yd),pg.lengthSq()===0&&(Math.abs(n.z)===1?yd.x+=1e-4:yd.z+=1e-4,yd.normalize(),pg.crossVectors(n,yd)),pg.normalize(),_R.crossVectors(yd,pg),r[0]=pg.x,r[4]=_R.x,r[8]=yd.x,r[1]=pg.y,r[5]=_R.y,r[9]=yd.y,r[2]=pg.z,r[6]=_R.z,r[10]=yd.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){let n=t.elements,r=i.elements,o=this.elements,s=n[0],a=n[4],l=n[8],c=n[12],d=n[1],u=n[5],h=n[9],f=n[13],p=n[2],v=n[6],m=n[10],g=n[14],b=n[3],w=n[7],x=n[11],R=n[15],_=r[0],L=r[4],F=r[8],T=r[12],P=r[1],A=r[5],O=r[9],V=r[13],U=r[2],ae=r[6],ne=r[10],ue=r[14],se=r[3],_e=r[7],Ve=r[11],Ge=r[15];return o[0]=s*_+a*P+l*U+c*se,o[4]=s*L+a*A+l*ae+c*_e,o[8]=s*F+a*O+l*ne+c*Ve,o[12]=s*T+a*V+l*ue+c*Ge,o[1]=d*_+u*P+h*U+f*se,o[5]=d*L+u*A+h*ae+f*_e,o[9]=d*F+u*O+h*ne+f*Ve,o[13]=d*T+u*V+h*ue+f*Ge,o[2]=p*_+v*P+m*U+g*se,o[6]=p*L+v*A+m*ae+g*_e,o[10]=p*F+v*O+m*ne+g*Ve,o[14]=p*T+v*V+m*ue+g*Ge,o[3]=b*_+w*P+x*U+R*se,o[7]=b*L+w*A+x*ae+R*_e,o[11]=b*F+w*O+x*ne+R*Ve,o[15]=b*T+w*V+x*ue+R*Ge,this}multiplyScalar(t){let i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this}determinant(){let t=this.elements,i=t[0],n=t[4],r=t[8],o=t[12],s=t[1],a=t[5],l=t[9],c=t[13],d=t[2],u=t[6],h=t[10],f=t[14],p=t[3],v=t[7],m=t[11],g=t[15];return p*(+o*l*u-r*c*u-o*a*h+n*c*h+r*a*f-n*l*f)+v*(+i*l*f-i*c*h+o*s*h-r*s*f+r*c*d-o*l*d)+m*(+i*c*u-i*a*f-o*s*u+n*s*f+o*a*d-n*c*d)+g*(-r*a*d-i*l*u+i*a*h+r*s*u-n*s*h+n*l*d)}transpose(){let t=this.elements,i;return i=t[1],t[1]=t[4],t[4]=i,i=t[2],t[2]=t[8],t[8]=i,i=t[6],t[6]=t[9],t[9]=i,i=t[3],t[3]=t[12],t[12]=i,i=t[7],t[7]=t[13],t[13]=i,i=t[11],t[11]=t[14],t[14]=i,this}setPosition(t,i,n){let r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=i,r[14]=n),this}invert(){let t=this.elements,i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],h=t[10],f=t[11],p=t[12],v=t[13],m=t[14],g=t[15],b=u*m*c-v*h*c+v*l*f-a*m*f-u*l*g+a*h*g,w=p*h*c-d*m*c-p*l*f+s*m*f+d*l*g-s*h*g,x=d*v*c-p*u*c+p*a*f-s*v*f-d*a*g+s*u*g,R=p*u*l-d*v*l-p*a*h+s*v*h+d*a*m-s*u*m,_=i*b+n*w+r*x+o*R;if(_===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let L=1/_;return t[0]=b*L,t[1]=(v*h*o-u*m*o-v*r*f+n*m*f+u*r*g-n*h*g)*L,t[2]=(a*m*o-v*l*o+v*r*c-n*m*c-a*r*g+n*l*g)*L,t[3]=(u*l*o-a*h*o-u*r*c+n*h*c+a*r*f-n*l*f)*L,t[4]=w*L,t[5]=(d*m*o-p*h*o+p*r*f-i*m*f-d*r*g+i*h*g)*L,t[6]=(p*l*o-s*m*o-p*r*c+i*m*c+s*r*g-i*l*g)*L,t[7]=(s*h*o-d*l*o+d*r*c-i*h*c-s*r*f+i*l*f)*L,t[8]=x*L,t[9]=(p*u*o-d*v*o-p*n*f+i*v*f+d*n*g-i*u*g)*L,t[10]=(s*v*o-p*a*o+p*n*c-i*v*c-s*n*g+i*a*g)*L,t[11]=(d*a*o-s*u*o-d*n*c+i*u*c+s*n*f-i*a*f)*L,t[12]=R*L,t[13]=(d*v*r-p*u*r+p*n*h-i*v*h-d*n*m+i*u*m)*L,t[14]=(p*a*r-s*v*r-p*n*l+i*v*l+s*n*m-i*a*m)*L,t[15]=(s*u*r-d*a*r+d*n*l-i*u*l-s*n*h+i*a*h)*L,this}scale(t){let i=this.elements,n=t.x,r=t.y,o=t.z;return i[0]*=n,i[4]*=r,i[8]*=o,i[1]*=n,i[5]*=r,i[9]*=o,i[2]*=n,i[6]*=r,i[10]*=o,i[3]*=n,i[7]*=r,i[11]*=o,this}getMaxScaleOnAxis(){let t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,n,r))}makeTranslation(t,i,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,i,0,0,1,n,0,0,0,1),this}makeRotationX(t){let i=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1),this}makeRotationY(t){let i=Math.cos(t),n=Math.sin(t);return this.set(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1),this}makeRotationZ(t){let i=Math.cos(t),n=Math.sin(t);return this.set(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,i){let n=Math.cos(i),r=Math.sin(i),o=1-n,s=t.x,a=t.y,l=t.z,c=o*s,d=o*a;return this.set(c*s+n,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+n,d*l-r*s,0,c*l-r*a,d*l+r*s,o*l*l+n,0,0,0,0,1),this}makeScale(t,i,n){return this.set(t,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,i,n,r,o,s){return this.set(1,n,o,0,t,1,s,0,i,r,1,0,0,0,0,1),this}compose(t,i,n){let r=this.elements,o=i._x,s=i._y,a=i._z,l=i._w,c=o+o,d=s+s,u=a+a,h=o*c,f=o*d,p=o*u,v=s*d,m=s*u,g=a*u,b=l*c,w=l*d,x=l*u,R=n.x,_=n.y,L=n.z;return r[0]=(1-(v+g))*R,r[1]=(f+x)*R,r[2]=(p-w)*R,r[3]=0,r[4]=(f-x)*_,r[5]=(1-(h+g))*_,r[6]=(m+b)*_,r[7]=0,r[8]=(p+w)*L,r[9]=(m-b)*L,r[10]=(1-(h+v))*L,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,i,n){let r=this.elements,o=oy.set(r[0],r[1],r[2]).length(),s=oy.set(r[4],r[5],r[6]).length(),a=oy.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],Ku.copy(this);let c=1/o,d=1/s,u=1/a;return Ku.elements[0]*=c,Ku.elements[1]*=c,Ku.elements[2]*=c,Ku.elements[4]*=d,Ku.elements[5]*=d,Ku.elements[6]*=d,Ku.elements[8]*=u,Ku.elements[9]*=u,Ku.elements[10]*=u,i.setFromRotationMatrix(Ku),n.x=o,n.y=s,n.z=a,this}makePerspective(t,i,n,r,o,s,a=tf){let l=this.elements,c=2*o/(i-t),d=2*o/(n-r),u=(i+t)/(i-t),h=(n+r)/(n-r),f,p;if(a===tf)f=-(s+o)/(s-o),p=-2*s*o/(s-o);else if(a===qx)f=-s/(s-o),p=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=d,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,i,n,r,o,s,a=tf){let l=this.elements,c=1/(i-t),d=1/(n-r),u=1/(s-o),h=(i+t)*c,f=(n+r)*d,p,v;if(a===tf)p=(s+o)*u,v=-2*u;else if(a===qx)p=o*u,v=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=v,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){let i=this.elements,n=t.elements;for(let r=0;r<16;r++)if(i[r]!==n[r])return!1;return!0}fromArray(t,i=0){for(let n=0;n<16;n++)this.elements[n]=t[n+i];return this}toArray(t=[],i=0){let n=this.elements;return t[i]=n[0],t[i+1]=n[1],t[i+2]=n[2],t[i+3]=n[3],t[i+4]=n[4],t[i+5]=n[5],t[i+6]=n[6],t[i+7]=n[7],t[i+8]=n[8],t[i+9]=n[9],t[i+10]=n[10],t[i+11]=n[11],t[i+12]=n[12],t[i+13]=n[13],t[i+14]=n[14],t[i+15]=n[15],t}},oy=new Qe,Ku=new Ki,uLe=new Qe(0,0,0),hLe=new Qe(1,1,1),pg=new Qe,_R=new Qe,yd=new Qe,dee=new Ki,uee=new ls,nl=(()=>{class e{constructor(i=0,n=0,r=0,o=e.DEFAULT_ORDER){this.isEuler=!0,this._x=i,this._y=n,this._z=r,this._order=o}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,n,r,o=this._order){return this._x=i,this._y=n,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,n=this._order,r=!0){let o=i.elements,s=o[0],a=o[4],l=o[8],c=o[1],d=o[5],u=o[9],h=o[2],f=o[6],p=o[10];switch(n){case"XYZ":this._y=Math.asin(Or(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Or(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Or(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Or(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Or(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-Or(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,d),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(i,n,r){return dee.makeRotationFromQuaternion(i),this.setFromRotationMatrix(dee,n,r)}setFromVector3(i,n=this._order){return this.set(i.x,i.y,i.z,n)}reorder(i){return uee.setFromEuler(this),this.setFromQuaternion(uee,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],n=0){return i[n]=this._x,i[n+1]=this._y,i[n+2]=this._z,i[n+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return e.DEFAULT_ORDER="XYZ",e})(),_y=class{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}},fLe=0,hee=new Qe,sy=new ls,Mp=new Ki,yR=new Qe,Bx=new Qe,pLe=new Qe,mLe=new ls,fee=new Qe(1,0,0),pee=new Qe(0,1,0),mee=new Qe(0,0,1),gee={type:"added"},gLe={type:"removed"},ay={type:"childadded",child:null},T6={type:"childremoved",child:null},Po=(()=>{class e extends kp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fLe++}),this.uuid=Mg(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=e.DEFAULT_UP.clone();let i=new Qe,n=new nl,r=new ls,o=new Qe(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Ki},normalMatrix:{value:new sr}}),this.matrix=new Ki,this.matrixWorld=new Ki,this.matrixAutoUpdate=e.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=e.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _y,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,n){this.quaternion.setFromAxisAngle(i,n)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,n){return sy.setFromAxisAngle(i,n),this.quaternion.multiply(sy),this}rotateOnWorldAxis(i,n){return sy.setFromAxisAngle(i,n),this.quaternion.premultiply(sy),this}rotateX(i){return this.rotateOnAxis(fee,i)}rotateY(i){return this.rotateOnAxis(pee,i)}rotateZ(i){return this.rotateOnAxis(mee,i)}translateOnAxis(i,n){return hee.copy(i).applyQuaternion(this.quaternion),this.position.add(hee.multiplyScalar(n)),this}translateX(i){return this.translateOnAxis(fee,i)}translateY(i){return this.translateOnAxis(pee,i)}translateZ(i){return this.translateOnAxis(mee,i)}localToWorld(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(Mp.copy(this.matrixWorld).invert())}lookAt(i,n,r){i.isVector3?yR.copy(i):yR.set(i,n,r);let o=this.parent;this.updateWorldMatrix(!0,!1),Bx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mp.lookAt(Bx,yR,this.up):Mp.lookAt(yR,Bx,this.up),this.quaternion.setFromRotationMatrix(Mp),o&&(Mp.extractRotation(o.matrixWorld),sy.setFromRotationMatrix(Mp),this.quaternion.premultiply(sy.invert()))}add(i){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.removeFromParent(),i.parent=this,this.children.push(i),i.dispatchEvent(gee),ay.child=i,this.dispatchEvent(ay),ay.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let n=this.children.indexOf(i);return n!==-1&&(i.parent=null,this.children.splice(n,1),i.dispatchEvent(gLe),T6.child=i,this.dispatchEvent(T6),T6.child=null),this}removeFromParent(){let i=this.parent;return i!==null&&i.remove(this),this}clear(){return this.remove(...this.children)}attach(i){return this.updateWorldMatrix(!0,!1),Mp.copy(this.matrixWorld).invert(),i.parent!==null&&(i.parent.updateWorldMatrix(!0,!1),Mp.multiply(i.parent.matrixWorld)),i.applyMatrix4(Mp),i.removeFromParent(),i.parent=this,this.children.push(i),i.updateWorldMatrix(!1,!0),i.dispatchEvent(gee),ay.child=i,this.dispatchEvent(ay),ay.child=null,this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,n){if(this[i]===n)return this;for(let r=0,o=this.children.length;r<o;r++){let a=this.children[r].getObjectByProperty(i,n);if(a!==void 0)return a}}getObjectsByProperty(i,n,r=[]){this[i]===n&&r.push(this);let o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(i,n,r);return r}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bx,i,pLe),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bx,mLe,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return i.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(i){i(this);let n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverse(i)}traverseVisible(i){if(this.visible===!1)return;i(this);let n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverseVisible(i)}traverseAncestors(i){let n=this.parent;n!==null&&(i(n),n.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,i=!0);let n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].updateMatrixWorld(i)}updateWorldMatrix(i,n){let r=this.parent;if(i===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){let o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(i){let n=i===void 0||typeof i=="string",r={};n&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.geometryInfo=this._geometryInfo.map(l=>Zt(Ie({},l),{boundingBox:l.boundingBox?{min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}:void 0,boundingSphere:l.boundingSphere?{radius:l.boundingSphere.radius,center:l.boundingSphere.center.toArray()}:void 0})),o.instanceInfo=this._instanceInfo.map(l=>Ie({},l)),o.availableInstanceIds=this._availableInstanceIds.slice(),o.availableGeometryIds=this._availableGeometryIds.slice(),o.nextIndexStart=this._nextIndexStart,o.nextVertexStart=this._nextVertexStart,o.geometryCount=this._geometryCount,o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.matricesTexture=this._matricesTexture.toJSON(i),o.indirectTexture=this._indirectTexture.toJSON(i),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(i)),this.boundingSphere!==null&&(o.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(i)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(i.geometries,this.geometry);let l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){let c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){let h=c[d];s(i.shapes,h)}else s(i.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(i.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(s(i.materials,this.material[c]));o.material=l}else o.material=s(i.materials,this.material);if(this.children.length>0){o.children=[];for(let l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(i).object)}if(this.animations.length>0){o.animations=[];for(let l=0;l<this.animations.length;l++){let c=this.animations[l];o.animations.push(s(i.animations,c))}}if(n){let l=a(i.geometries),c=a(i.materials),d=a(i.textures),u=a(i.images),h=a(i.shapes),f=a(i.skeletons),p=a(i.animations),v=a(i.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),d.length>0&&(r.textures=d),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),v.length>0&&(r.nodes=v)}return r.object=o,r;function a(l){let c=[];for(let d in l){let u=l[d];delete u.metadata,c.push(u)}return c}}clone(i){return new this.constructor().copy(this,i)}copy(i,n=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldAutoUpdate=i.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.animations=i.animations.slice(),this.userData=JSON.parse(JSON.stringify(i.userData)),n===!0)for(let r=0;r<i.children.length;r++){let o=i.children[r];this.add(o.clone())}return this}}return e.DEFAULT_UP=new Qe(0,1,0),e.DEFAULT_MATRIX_AUTO_UPDATE=!0,e.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,e})(),Zu=new Qe,Ep=new Qe,A6=new Qe,Dp=new Qe,ly=new Qe,cy=new Qe,vee=new Qe,R6=new Qe,k6=new Qe,I6=new Qe,P6=new xr,F6=new xr,O6=new xr,Ap=class e{constructor(t=new Qe,i=new Qe,n=new Qe){this.a=t,this.b=i,this.c=n}static getNormal(t,i,n,r){r.subVectors(n,i),Zu.subVectors(t,i),r.cross(Zu);let o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,i,n,r,o){Zu.subVectors(r,i),Ep.subVectors(n,i),A6.subVectors(t,i);let s=Zu.dot(Zu),a=Zu.dot(Ep),l=Zu.dot(A6),c=Ep.dot(Ep),d=Ep.dot(A6),u=s*c-a*a;if(u===0)return o.set(0,0,0),null;let h=1/u,f=(c*l-a*d)*h,p=(s*d-a*l)*h;return o.set(1-f-p,p,f)}static containsPoint(t,i,n,r){return this.getBarycoord(t,i,n,r,Dp)===null?!1:Dp.x>=0&&Dp.y>=0&&Dp.x+Dp.y<=1}static getInterpolation(t,i,n,r,o,s,a,l){return this.getBarycoord(t,i,n,r,Dp)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Dp.x),l.addScaledVector(s,Dp.y),l.addScaledVector(a,Dp.z),l)}static getInterpolatedAttribute(t,i,n,r,o,s){return P6.setScalar(0),F6.setScalar(0),O6.setScalar(0),P6.fromBufferAttribute(t,i),F6.fromBufferAttribute(t,n),O6.fromBufferAttribute(t,r),s.setScalar(0),s.addScaledVector(P6,o.x),s.addScaledVector(F6,o.y),s.addScaledVector(O6,o.z),s}static isFrontFacing(t,i,n,r){return Zu.subVectors(n,i),Ep.subVectors(t,i),Zu.cross(Ep).dot(r)<0}set(t,i,n){return this.a.copy(t),this.b.copy(i),this.c.copy(n),this}setFromPointsAndIndices(t,i,n,r){return this.a.copy(t[i]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,i,n,r){return this.a.fromBufferAttribute(t,i),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Zu.subVectors(this.c,this.b),Ep.subVectors(this.a,this.b),Zu.cross(Ep).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return e.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,i){return e.getBarycoord(t,this.a,this.b,this.c,i)}getInterpolation(t,i,n,r,o){return e.getInterpolation(t,this.a,this.b,this.c,i,n,r,o)}containsPoint(t){return e.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return e.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,i){let n=this.a,r=this.b,o=this.c,s,a;ly.subVectors(r,n),cy.subVectors(o,n),R6.subVectors(t,n);let l=ly.dot(R6),c=cy.dot(R6);if(l<=0&&c<=0)return i.copy(n);k6.subVectors(t,r);let d=ly.dot(k6),u=cy.dot(k6);if(d>=0&&u<=d)return i.copy(r);let h=l*u-d*c;if(h<=0&&l>=0&&d<=0)return s=l/(l-d),i.copy(n).addScaledVector(ly,s);I6.subVectors(t,o);let f=ly.dot(I6),p=cy.dot(I6);if(p>=0&&f<=p)return i.copy(o);let v=f*c-l*p;if(v<=0&&c>=0&&p<=0)return a=c/(c-p),i.copy(n).addScaledVector(cy,a);let m=d*p-f*u;if(m<=0&&u-d>=0&&f-p>=0)return vee.subVectors(o,r),a=(u-d)/(u-d+(f-p)),i.copy(r).addScaledVector(vee,a);let g=1/(m+v+h);return s=v*g,a=h*g,i.copy(n).addScaledVector(ly,s).addScaledVector(cy,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},Nte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mg={h:0,s:0,l:0},wR={h:0,s:0,l:0};function L6(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*6*(2/3-i):e}var Ji=class{constructor(t,i,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,i,n)}set(t,i,n){if(i===void 0&&n===void 0){let r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,i,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,i=Hn){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Fn.toWorkingColorSpace(this,i),this}setRGB(t,i,n,r=Fn.workingColorSpace){return this.r=t,this.g=i,this.b=n,Fn.toWorkingColorSpace(this,r),this}setHSL(t,i,n,r=Fn.workingColorSpace){if(t=S8(t,1),i=Or(i,0,1),n=Or(n,0,1),i===0)this.r=this.g=this.b=n;else{let o=n<=.5?n*(1+i):n+i-n*i,s=2*n-o;this.r=L6(s,o,t+1/3),this.g=L6(s,o,t),this.b=L6(s,o,t-1/3)}return Fn.toWorkingColorSpace(this,r),this}setStyle(t,i=Hn){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let o,s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,i);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,i);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){let o=r[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,i);if(s===6)return this.setHex(parseInt(o,16),i);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,i);return this}setColorName(t,i=Hn){let n=Nte[t.toLowerCase()];return n!==void 0?this.setHex(n,i):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Rp(t.r),this.g=Rp(t.g),this.b=Rp(t.b),this}copyLinearToSRGB(t){return this.r=my(t.r),this.g=my(t.g),this.b=my(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Hn){return Fn.fromWorkingColorSpace(jl.copy(this),t),Math.round(Or(jl.r*255,0,255))*65536+Math.round(Or(jl.g*255,0,255))*256+Math.round(Or(jl.b*255,0,255))}getHexString(t=Hn){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,i=Fn.workingColorSpace){Fn.fromWorkingColorSpace(jl.copy(this),i);let n=jl.r,r=jl.g,o=jl.b,s=Math.max(n,r,o),a=Math.min(n,r,o),l,c,d=(a+s)/2;if(a===s)l=0,c=0;else{let u=s-a;switch(c=d<=.5?u/(s+a):u/(2-s-a),s){case n:l=(r-o)/u+(r<o?6:0);break;case r:l=(o-n)/u+2;break;case o:l=(n-r)/u+4;break}l/=6}return t.h=l,t.s=c,t.l=d,t}getRGB(t,i=Fn.workingColorSpace){return Fn.fromWorkingColorSpace(jl.copy(this),i),t.r=jl.r,t.g=jl.g,t.b=jl.b,t}getStyle(t=Hn){Fn.fromWorkingColorSpace(jl.copy(this),t);let i=jl.r,n=jl.g,r=jl.b;return t!==Hn?`color(${t} ${i.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(t,i,n){return this.getHSL(mg),this.setHSL(mg.h+t,mg.s+i,mg.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this}lerpColors(t,i,n){return this.r=t.r+(i.r-t.r)*n,this.g=t.g+(i.g-t.g)*n,this.b=t.b+(i.b-t.b)*n,this}lerpHSL(t,i){this.getHSL(mg),t.getHSL(wR);let n=Gx(mg.h,wR.h,i),r=Gx(mg.s,wR.s,i),o=Gx(mg.l,wR.l,i);return this.setHSL(n,r,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){let i=this.r,n=this.g,r=this.b,o=t.elements;return this.r=o[0]*i+o[3]*n+o[6]*r,this.g=o[1]*i+o[4]*n+o[7]*r,this.b=o[2]*i+o[5]*n+o[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,i=0){return this.r=t[i],this.g=t[i+1],this.b=t[i+2],this}toArray(t=[],i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}fromBufferAttribute(t,i){return this.r=t.getX(i),this.g=t.getY(i),this.b=t.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},jl=new Ji;Ji.NAMES=Nte;var vLe=0,cu=class extends kp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vLe++}),this.uuid=Mg(),this.name="",this.type="Material",this.blending=fv,this.side=Cd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=GR,this.blendDst=WR,this.blendEquation=vg,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ji(0,0,0),this.blendAlpha=0,this.depthFunc=pv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Z6,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hv,this.stencilZFail=hv,this.stencilZPass=hv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(let i in t){let n=t[i];if(n===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}let r=this[i];if(r===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[i]=n}}toJSON(t){let i=t===void 0||typeof t=="string";i&&(t={textures:{},images:{}});let n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==fv&&(n.blending=this.blending),this.side!==Cd&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==GR&&(n.blendSrc=this.blendSrc),this.blendDst!==WR&&(n.blendDst=this.blendDst),this.blendEquation!==vg&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==pv&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Z6&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==hv&&(n.stencilFail=this.stencilFail),this.stencilZFail!==hv&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==hv&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){let s=[];for(let a in o){let l=o[a];delete l.metadata,s.push(l)}return s}if(i){let o=r(t.textures),s=r(t.images);o.length>0&&(n.textures=o),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;let i=t.clippingPlanes,n=null;if(i!==null){let r=i.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=i[o].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}},xd=class extends cu{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ji(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nl,this.combine=uS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}};var _a=new Qe,CR=new On,bLe=0,il=class{constructor(t,i,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:bLe++}),this.name="",this.array=t,this.itemSize=i,this.count=t!==void 0?t.length/i:0,this.normalized=n,this.usage=Q6,this.updateRanges=[],this.gpuType=th,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,i){this.updateRanges.push({start:t,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,i,n){t*=this.itemSize,n*=i.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[t+r]=i.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let i=0,n=this.count;i<n;i++)CR.fromBufferAttribute(this,i),CR.applyMatrix3(t),this.setXY(i,CR.x,CR.y);else if(this.itemSize===3)for(let i=0,n=this.count;i<n;i++)_a.fromBufferAttribute(this,i),_a.applyMatrix3(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}applyMatrix4(t){for(let i=0,n=this.count;i<n;i++)_a.fromBufferAttribute(this,i),_a.applyMatrix4(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}applyNormalMatrix(t){for(let i=0,n=this.count;i<n;i++)_a.fromBufferAttribute(this,i),_a.applyNormalMatrix(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}transformDirection(t){for(let i=0,n=this.count;i<n;i++)_a.fromBufferAttribute(this,i),_a.transformDirection(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}set(t,i=0){return this.array.set(t,i),this}getComponent(t,i){let n=this.array[t*this.itemSize+i];return this.normalized&&(n=fy(n,this.array)),n}setComponent(t,i,n){return this.normalized&&(n=fc(n,this.array)),this.array[t*this.itemSize+i]=n,this}getX(t){let i=this.array[t*this.itemSize];return this.normalized&&(i=fy(i,this.array)),i}setX(t,i){return this.normalized&&(i=fc(i,this.array)),this.array[t*this.itemSize]=i,this}getY(t){let i=this.array[t*this.itemSize+1];return this.normalized&&(i=fy(i,this.array)),i}setY(t,i){return this.normalized&&(i=fc(i,this.array)),this.array[t*this.itemSize+1]=i,this}getZ(t){let i=this.array[t*this.itemSize+2];return this.normalized&&(i=fy(i,this.array)),i}setZ(t,i){return this.normalized&&(i=fc(i,this.array)),this.array[t*this.itemSize+2]=i,this}getW(t){let i=this.array[t*this.itemSize+3];return this.normalized&&(i=fy(i,this.array)),i}setW(t,i){return this.normalized&&(i=fc(i,this.array)),this.array[t*this.itemSize+3]=i,this}setXY(t,i,n){return t*=this.itemSize,this.normalized&&(i=fc(i,this.array),n=fc(n,this.array)),this.array[t+0]=i,this.array[t+1]=n,this}setXYZ(t,i,n,r){return t*=this.itemSize,this.normalized&&(i=fc(i,this.array),n=fc(n,this.array),r=fc(r,this.array)),this.array[t+0]=i,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,i,n,r,o){return t*=this.itemSize,this.normalized&&(i=fc(i,this.array),n=fc(n,this.array),r=fc(r,this.array),o=fc(o,this.array)),this.array[t+0]=i,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Q6&&(t.usage=this.usage),t}};var bv=class extends il{constructor(t,i,n){super(new Uint16Array(t),i,n)}};var $x=class extends il{constructor(t,i,n){super(new Uint32Array(t),i,n)}};var nn=class extends il{constructor(t,i,n){super(new Float32Array(t),i,n)}},_Le=0,su=new Ki,N6=new Po,dy=new Qe,wd=new au,Vx=new au,tl=new Qe,Wr=class e extends kp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_Le++}),this.uuid=Mg(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(M8(t)?$x:bv)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,i){return this.attributes[t]=i,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,i,n=0){this.groups.push({start:t,count:i,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,i){this.drawRange.start=t,this.drawRange.count=i}applyMatrix4(t){let i=this.attributes.position;i!==void 0&&(i.applyMatrix4(t),i.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let o=new sr().getNormalMatrix(t);n.applyNormalMatrix(o),n.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return su.makeRotationFromQuaternion(t),this.applyMatrix4(su),this}rotateX(t){return su.makeRotationX(t),this.applyMatrix4(su),this}rotateY(t){return su.makeRotationY(t),this.applyMatrix4(su),this}rotateZ(t){return su.makeRotationZ(t),this.applyMatrix4(su),this}translate(t,i,n){return su.makeTranslation(t,i,n),this.applyMatrix4(su),this}scale(t,i,n){return su.makeScale(t,i,n),this.applyMatrix4(su),this}lookAt(t){return N6.lookAt(t),N6.updateMatrix(),this.applyMatrix4(N6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dy).negate(),this.translate(dy.x,dy.y,dy.z),this}setFromPoints(t){let i=this.getAttribute("position");if(i===void 0){let n=[];for(let r=0,o=t.length;r<o;r++){let s=t[r];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new nn(n,3))}else{let n=Math.min(t.length,i.count);for(let r=0;r<n;r++){let o=t[r];i.setXYZ(r,o.x,o.y,o.z||0)}t.length>i.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),i.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new au);let t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Qe(-1/0,-1/0,-1/0),new Qe(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),i)for(let n=0,r=i.length;n<r;n++){let o=i[n];wd.setFromBufferAttribute(o),this.morphTargetsRelative?(tl.addVectors(this.boundingBox.min,wd.min),this.boundingBox.expandByPoint(tl),tl.addVectors(this.boundingBox.max,wd.max),this.boundingBox.expandByPoint(tl)):(this.boundingBox.expandByPoint(wd.min),this.boundingBox.expandByPoint(wd.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lu);let t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Qe,1/0);return}if(t){let n=this.boundingSphere.center;if(wd.setFromBufferAttribute(t),i)for(let o=0,s=i.length;o<s;o++){let a=i[o];Vx.setFromBufferAttribute(a),this.morphTargetsRelative?(tl.addVectors(wd.min,Vx.min),wd.expandByPoint(tl),tl.addVectors(wd.max,Vx.max),wd.expandByPoint(tl)):(wd.expandByPoint(Vx.min),wd.expandByPoint(Vx.max))}wd.getCenter(n);let r=0;for(let o=0,s=t.count;o<s;o++)tl.fromBufferAttribute(t,o),r=Math.max(r,n.distanceToSquared(tl));if(i)for(let o=0,s=i.length;o<s;o++){let a=i[o],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)tl.fromBufferAttribute(a,c),l&&(dy.fromBufferAttribute(t,c),tl.add(dy)),r=Math.max(r,n.distanceToSquared(tl))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let t=this.index,i=this.attributes;if(t===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=i.position,r=i.normal,o=i.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new il(new Float32Array(4*n.count),4));let s=this.getAttribute("tangent"),a=[],l=[];for(let F=0;F<n.count;F++)a[F]=new Qe,l[F]=new Qe;let c=new Qe,d=new Qe,u=new Qe,h=new On,f=new On,p=new On,v=new Qe,m=new Qe;function g(F,T,P){c.fromBufferAttribute(n,F),d.fromBufferAttribute(n,T),u.fromBufferAttribute(n,P),h.fromBufferAttribute(o,F),f.fromBufferAttribute(o,T),p.fromBufferAttribute(o,P),d.sub(c),u.sub(c),f.sub(h),p.sub(h);let A=1/(f.x*p.y-p.x*f.y);isFinite(A)&&(v.copy(d).multiplyScalar(p.y).addScaledVector(u,-f.y).multiplyScalar(A),m.copy(u).multiplyScalar(f.x).addScaledVector(d,-p.x).multiplyScalar(A),a[F].add(v),a[T].add(v),a[P].add(v),l[F].add(m),l[T].add(m),l[P].add(m))}let b=this.groups;b.length===0&&(b=[{start:0,count:t.count}]);for(let F=0,T=b.length;F<T;++F){let P=b[F],A=P.start,O=P.count;for(let V=A,U=A+O;V<U;V+=3)g(t.getX(V+0),t.getX(V+1),t.getX(V+2))}let w=new Qe,x=new Qe,R=new Qe,_=new Qe;function L(F){R.fromBufferAttribute(r,F),_.copy(R);let T=a[F];w.copy(T),w.sub(R.multiplyScalar(R.dot(T))).normalize(),x.crossVectors(_,T);let A=x.dot(l[F])<0?-1:1;s.setXYZW(F,w.x,w.y,w.z,A)}for(let F=0,T=b.length;F<T;++F){let P=b[F],A=P.start,O=P.count;for(let V=A,U=A+O;V<U;V+=3)L(t.getX(V+0)),L(t.getX(V+1)),L(t.getX(V+2))}}computeVertexNormals(){let t=this.index,i=this.getAttribute("position");if(i!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new il(new Float32Array(i.count*3),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);let r=new Qe,o=new Qe,s=new Qe,a=new Qe,l=new Qe,c=new Qe,d=new Qe,u=new Qe;if(t)for(let h=0,f=t.count;h<f;h+=3){let p=t.getX(h+0),v=t.getX(h+1),m=t.getX(h+2);r.fromBufferAttribute(i,p),o.fromBufferAttribute(i,v),s.fromBufferAttribute(i,m),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),a.add(d),l.add(d),c.add(d),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,f=i.count;h<f;h+=3)r.fromBufferAttribute(i,h+0),o.fromBufferAttribute(i,h+1),s.fromBufferAttribute(i,h+2),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),n.setXYZ(h+0,d.x,d.y,d.z),n.setXYZ(h+1,d.x,d.y,d.z),n.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){let t=this.attributes.normal;for(let i=0,n=t.count;i<n;i++)tl.fromBufferAttribute(t,i),tl.normalize(),t.setXYZ(i,tl.x,tl.y,tl.z)}toNonIndexed(){function t(a,l){let c=a.array,d=a.itemSize,u=a.normalized,h=new c.constructor(l.length*d),f=0,p=0;for(let v=0,m=l.length;v<m;v++){a.isInterleavedBufferAttribute?f=l[v]*a.data.stride+a.offset:f=l[v]*d;for(let g=0;g<d;g++)h[p++]=c[f++]}return new il(h,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let i=new e,n=this.index.array,r=this.attributes;for(let a in r){let l=r[a],c=t(l,n);i.setAttribute(a,c)}let o=this.morphAttributes;for(let a in o){let l=[],c=o[a];for(let d=0,u=c.length;d<u;d++){let h=c[d],f=t(h,n);l.push(f)}i.morphAttributes[a]=l}i.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let a=0,l=s.length;a<l;a++){let c=s[a];i.addGroup(c.start,c.count,c.materialIndex)}return i}toJSON(){let t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let c in l)l[c]!==void 0&&(t[c]=l[c]);return t}t.data={attributes:{}};let i=this.index;i!==null&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});let n=this.attributes;for(let l in n){let c=n[l];t.data.attributes[l]=c.toJSON(t.data)}let r={},o=!1;for(let l in this.morphAttributes){let c=this.morphAttributes[l],d=[];for(let u=0,h=c.length;u<h;u++){let f=c[u];d.push(f.toJSON(t.data))}d.length>0&&(r[l]=d,o=!0)}o&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return a!==null&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let i={};this.name=t.name;let n=t.index;n!==null&&this.setIndex(n.clone());let r=t.attributes;for(let c in r){let d=r[c];this.setAttribute(c,d.clone(i))}let o=t.morphAttributes;for(let c in o){let d=[],u=o[c];for(let h=0,f=u.length;h<f;h++)d.push(u[h].clone(i));this.morphAttributes[c]=d}this.morphTargetsRelative=t.morphTargetsRelative;let s=t.groups;for(let c=0,d=s.length;c<d;c++){let u=s[c];this.addGroup(u.start,u.count,u.materialIndex)}let a=t.boundingBox;a!==null&&(this.boundingBox=a.clone());let l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},bee=new Ki,dv=new bg,xR=new lu,_ee=new Qe,SR=new Qe,MR=new Qe,ER=new Qe,B6=new Qe,DR=new Qe,yee=new Qe,TR=new Qe,go=class extends Po{constructor(t=new Wr,i=new xd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=i,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){let i=this.geometry.morphAttributes,n=Object.keys(i);if(n.length>0){let r=i[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(t,i){let n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,s=n.morphTargetsRelative;i.fromBufferAttribute(r,t);let a=this.morphTargetInfluences;if(o&&a){DR.set(0,0,0);for(let l=0,c=o.length;l<c;l++){let d=a[l],u=o[l];d!==0&&(B6.fromBufferAttribute(u,t),s?DR.addScaledVector(B6,d):DR.addScaledVector(B6.sub(i),d))}i.add(DR)}return i}raycast(t,i){let n=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),xR.copy(n.boundingSphere),xR.applyMatrix4(o),dv.copy(t.ray).recast(t.near),!(xR.containsPoint(dv.origin)===!1&&(dv.intersectSphere(xR,_ee)===null||dv.origin.distanceToSquared(_ee)>(t.far-t.near)**2))&&(bee.copy(o).invert(),dv.copy(t.ray).applyMatrix4(bee),!(n.boundingBox!==null&&dv.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,i,dv)))}_computeIntersections(t,i,n){let r,o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,d=o.attributes.uv1,u=o.attributes.normal,h=o.groups,f=o.drawRange;if(a!==null)if(Array.isArray(s))for(let p=0,v=h.length;p<v;p++){let m=h[p],g=s[m.materialIndex],b=Math.max(m.start,f.start),w=Math.min(a.count,Math.min(m.start+m.count,f.start+f.count));for(let x=b,R=w;x<R;x+=3){let _=a.getX(x),L=a.getX(x+1),F=a.getX(x+2);r=AR(this,g,t,n,c,d,u,_,L,F),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=m.materialIndex,i.push(r))}}else{let p=Math.max(0,f.start),v=Math.min(a.count,f.start+f.count);for(let m=p,g=v;m<g;m+=3){let b=a.getX(m),w=a.getX(m+1),x=a.getX(m+2);r=AR(this,s,t,n,c,d,u,b,w,x),r&&(r.faceIndex=Math.floor(m/3),i.push(r))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,v=h.length;p<v;p++){let m=h[p],g=s[m.materialIndex],b=Math.max(m.start,f.start),w=Math.min(l.count,Math.min(m.start+m.count,f.start+f.count));for(let x=b,R=w;x<R;x+=3){let _=x,L=x+1,F=x+2;r=AR(this,g,t,n,c,d,u,_,L,F),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=m.materialIndex,i.push(r))}}else{let p=Math.max(0,f.start),v=Math.min(l.count,f.start+f.count);for(let m=p,g=v;m<g;m+=3){let b=m,w=m+1,x=m+2;r=AR(this,s,t,n,c,d,u,b,w,x),r&&(r.faceIndex=Math.floor(m/3),i.push(r))}}}};function yLe(e,t,i,n,r,o,s,a){let l;if(t.side===Js?l=n.intersectTriangle(s,o,r,!0,a):l=n.intersectTriangle(r,o,s,t.side===Cd,a),l===null)return null;TR.copy(a),TR.applyMatrix4(e.matrixWorld);let c=i.ray.origin.distanceTo(TR);return c<i.near||c>i.far?null:{distance:c,point:TR.clone(),object:e}}function AR(e,t,i,n,r,o,s,a,l,c){e.getVertexPosition(a,SR),e.getVertexPosition(l,MR),e.getVertexPosition(c,ER);let d=yLe(e,t,i,n,SR,MR,ER,yee);if(d){let u=new Qe;Ap.getBarycoord(yee,SR,MR,ER,u),r&&(d.uv=Ap.getInterpolatedAttribute(r,a,l,c,u,new On)),o&&(d.uv1=Ap.getInterpolatedAttribute(o,a,l,c,u,new On)),s&&(d.normal=Ap.getInterpolatedAttribute(s,a,l,c,u,new Qe),d.normal.dot(n.direction)>0&&d.normal.multiplyScalar(-1));let h={a,b:l,c,normal:new Qe,materialIndex:0};Ap.getNormal(SR,MR,ER,h.normal),d.face=h,d.barycoord=u}return d}var _g=class e extends Wr{constructor(t=1,i=1,n=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:i,depth:n,widthSegments:r,heightSegments:o,depthSegments:s};let a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);let l=[],c=[],d=[],u=[],h=0,f=0;p("z","y","x",-1,-1,n,i,t,s,o,0),p("z","y","x",1,-1,n,i,-t,s,o,1),p("x","z","y",1,1,t,n,i,r,s,2),p("x","z","y",1,-1,t,n,-i,r,s,3),p("x","y","z",1,-1,t,i,n,r,o,4),p("x","y","z",-1,-1,t,i,-n,r,o,5),this.setIndex(l),this.setAttribute("position",new nn(c,3)),this.setAttribute("normal",new nn(d,3)),this.setAttribute("uv",new nn(u,2));function p(v,m,g,b,w,x,R,_,L,F,T){let P=x/L,A=R/F,O=x/2,V=R/2,U=_/2,ae=L+1,ne=F+1,ue=0,se=0,_e=new Qe;for(let Ve=0;Ve<ne;Ve++){let Ge=Ve*A-V;for(let K=0;K<ae;K++){let Q=K*P-O;_e[v]=Q*b,_e[m]=Ge*w,_e[g]=U,c.push(_e.x,_e.y,_e.z),_e[v]=0,_e[m]=0,_e[g]=_>0?1:-1,d.push(_e.x,_e.y,_e.z),u.push(K/L),u.push(1-Ve/F),ue+=1}}for(let Ve=0;Ve<F;Ve++)for(let Ge=0;Ge<L;Ge++){let K=h+Ge+ae*Ve,Q=h+Ge+ae*(Ve+1),ee=h+(Ge+1)+ae*(Ve+1),Z=h+(Ge+1)+ae*Ve;l.push(K,Q,Z),l.push(Q,ee,Z),se+=6}a.addGroup(f,se,T),f+=se,h+=ue}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new e(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}};function Iv(e){let t={};for(let i in e){t[i]={};for(let n in e[i]){let r=e[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[i][n]=null):t[i][n]=r.clone():Array.isArray(r)?t[i][n]=r.slice():t[i][n]=r}}return t}function ql(e){let t={};for(let i=0;i<e.length;i++){let n=Iv(e[i]);for(let r in n)t[r]=n[r]}return t}function wLe(e){let t=[];for(let i=0;i<e.length;i++)t.push(e[i].clone());return t}function E8(e){let t=e.getRenderTarget();return t===null?e.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Fn.workingColorSpace}var Bte={clone:Iv,merge:ql},CLe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xLe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Ju=class extends cu{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=CLe,this.fragmentShader=xLe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Iv(t.uniforms),this.uniformsGroups=wLe(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){let i=super.toJSON(t);i.glslVersion=this.glslVersion,i.uniforms={};for(let r in this.uniforms){let s=this.uniforms[r].value;s&&s.isTexture?i.uniforms[r]={type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?i.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?i.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?i.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?i.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?i.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?i.uniforms[r]={type:"m4",value:s.toArray()}:i.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;let n={};for(let r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(i.extensions=n),i}},Xx=class extends Po{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ki,this.projectionMatrix=new Ki,this.projectionMatrixInverse=new Ki,this.coordinateSystem=tf}copy(t,i){return super.copy(t,i),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,i){super.updateWorldMatrix(t,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},gg=new Qe,wee=new On,Cee=new On,ss=class extends Xx{constructor(t=50,i=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,i){return super.copy(t,i),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let i=.5*this.getFilmHeight()/t;this.fov=gv*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(py*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return gv*2*Math.atan(Math.tan(py*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,i,n){gg.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(gg.x,gg.y).multiplyScalar(-t/gg.z),gg.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(gg.x,gg.y).multiplyScalar(-t/gg.z)}getViewSize(t,i){return this.getViewBounds(t,wee,Cee),i.subVectors(Cee,wee)}setViewOffset(t,i,n,r,o,s){this.aspect=t/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,i=t*Math.tan(py*.5*this.fov)/this.zoom,n=2*i,r=this.aspect*n,o=-.5*r,s=this.view;if(this.view!==null&&this.view.enabled){let l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*r/l,i-=s.offsetY*n/c,r*=s.width/l,n*=s.height/c}let a=this.filmOffset;a!==0&&(o+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,i,i-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let i=super.toJSON(t);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}},uy=-90,hy=1,$R=class extends Po{constructor(t,i,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;let r=new ss(uy,hy,t,i);r.layers=this.layers,this.add(r);let o=new ss(uy,hy,t,i);o.layers=this.layers,this.add(o);let s=new ss(uy,hy,t,i);s.layers=this.layers,this.add(s);let a=new ss(uy,hy,t,i);a.layers=this.layers,this.add(a);let l=new ss(uy,hy,t,i);l.layers=this.layers,this.add(l);let c=new ss(uy,hy,t,i);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){let t=this.coordinateSystem,i=this.children.concat(),[n,r,o,s,a,l]=i;for(let c of i)this.remove(c);if(t===tf)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(t===qx)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(let c of i)this.add(c),c.updateMatrixWorld()}update(t,i){this.parent===null&&this.updateMatrixWorld();let{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());let[o,s,a,l,c,d]=this.children,u=t.getRenderTarget(),h=t.getActiveCubeFace(),f=t.getActiveMipmapLevel(),p=t.xr.enabled;t.xr.enabled=!1;let v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(i,o),t.setRenderTarget(n,1,r),t.render(i,s),t.setRenderTarget(n,2,r),t.render(i,a),t.setRenderTarget(n,3,r),t.render(i,l),t.setRenderTarget(n,4,r),t.render(i,c),n.texture.generateMipmaps=v,t.setRenderTarget(n,5,r),t.render(i,d),t.setRenderTarget(u,h,f),t.xr.enabled=p,n.texture.needsPMREMUpdate=!0}},yy=class extends hu{constructor(t=[],i=Rv,n,r,o,s,a,l,c,d){super(t,i,n,r,o,s,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}},XR=class extends nf{constructor(t=1,i={}){super(t,t,i),this.isWebGLCubeRenderTarget=!0;let n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new yy(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Ia}fromEquirectangularTexture(t,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _g(5,5,5),o=new Ju({name:"CubemapFromEquirect",uniforms:Iv(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Js,blending:Bp});o.uniforms.tEquirect.value=i;let s=new go(r,o),a=i.minFilter;return i.minFilter===Vc&&(i.minFilter=Ia),new $R(1,10,this).update(t,s),i.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(t,i=!0,n=!0,r=!0){let o=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(i,n,r);t.setRenderTarget(o)}},Os=class extends Po{constructor(){super(),this.isGroup=!0,this.type="Group"}},SLe={type:"move"},wy=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Os,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Os,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Qe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Qe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Os,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Qe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Qe),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){let i=this._hand;if(i)for(let n of t.hand.values())this._getHandJoint(i,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,i,n){let r=null,o=null,s=null,a=this._targetRay,l=this._grip,c=this._hand;if(t&&i.session.visibilityState!=="visible-blurred"){if(c&&t.hand){s=!0;for(let v of t.hand.values()){let m=i.getJointPose(v,n),g=this._getHandJoint(c,v);m!==null&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=m.radius),g.visible=m!==null}let d=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],h=d.position.distanceTo(u.position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(o=i.getPose(t.gripSpace,n),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=i.getPose(t.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(SLe)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(t,i){if(t.joints[i.jointName]===void 0){let n=new Os;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[i.jointName]=n,t.add(n)}return t.joints[i.jointName]}};var rf=class extends Po{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new nl,this.environmentIntensity=1,this.environmentRotation=new nl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,i){return super.copy(t,i),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){let i=super.toJSON(t);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(i.object.environmentIntensity=this.environmentIntensity),i.object.environmentRotation=this.environmentRotation.toArray(),i}};var xee=new Qe,See=new xr,Mee=new xr,MLe=new Qe,Eee=new Ki,RR=new Qe,V6=new lu,Dee=new Ki,z6=new bg,_v=class extends go{constructor(t,i){super(t,i),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=q6,this.bindMatrix=new Ki,this.bindMatrixInverse=new Ki,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let t=this.geometry;this.boundingBox===null&&(this.boundingBox=new au),this.boundingBox.makeEmpty();let i=t.getAttribute("position");for(let n=0;n<i.count;n++)this.getVertexPosition(n,RR),this.boundingBox.expandByPoint(RR)}computeBoundingSphere(){let t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new lu),this.boundingSphere.makeEmpty();let i=t.getAttribute("position");for(let n=0;n<i.count;n++)this.getVertexPosition(n,RR),this.boundingSphere.expandByPoint(RR)}copy(t,i){return super.copy(t,i),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,i){let n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),V6.copy(this.boundingSphere),V6.applyMatrix4(r),t.ray.intersectsSphere(V6)!==!1&&(Dee.copy(r).invert(),z6.copy(t.ray).applyMatrix4(Dee),!(this.boundingBox!==null&&z6.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,i,z6)))}getVertexPosition(t,i){return super.getVertexPosition(t,i),this.applyBoneTransform(t,i),i}bind(t,i){this.skeleton=t,i===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let t=new xr,i=this.geometry.attributes.skinWeight;for(let n=0,r=i.count;n<r;n++){t.fromBufferAttribute(i,n);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),i.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===q6?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yte?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,i){let n=this.skeleton,r=this.geometry;See.fromBufferAttribute(r.attributes.skinIndex,t),Mee.fromBufferAttribute(r.attributes.skinWeight,t),xee.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let o=0;o<4;o++){let s=Mee.getComponent(o);if(s!==0){let a=See.getComponent(o);Eee.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),i.addScaledVector(MLe.copy(xee).applyMatrix4(Eee),s)}}return i.applyMatrix4(this.bindMatrixInverse)}},Ip=class extends Po{constructor(){super(),this.isBone=!0,this.type="Bone"}},yv=class extends hu{constructor(t=null,i=1,n=1,r,o,s,a,l,c=xl,d=xl,u,h){super(null,s,a,l,c,d,r,o,u,h),this.isDataTexture=!0,this.image={data:t,width:i,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Tee=new Ki,ELe=new Ki,wv=class e{constructor(t=[],i=[]){this.uuid=Mg(),this.bones=t.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){let t=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),i.length===0)this.calculateInverses();else if(t.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ki)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,i=this.bones.length;t<i;t++){let n=new Ki;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,i=this.bones.length;t<i;t++){let n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,i=this.bones.length;t<i;t++){let n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let t=this.bones,i=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,s=t.length;o<s;o++){let a=t[o]?t[o].matrixWorld:ELe;Tee.multiplyMatrices(a,i[o]),Tee.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new e(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);let i=new Float32Array(t*t*4);i.set(this.boneMatrices);let n=new yv(i,t,t,Md,th);return n.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=n,this}getBoneByName(t){for(let i=0,n=this.bones.length;i<n;i++){let r=this.bones[i];if(r.name===t)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,i){this.uuid=t.uuid;for(let n=0,r=t.bones.length;n<r;n++){let o=t.bones[n],s=i[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new Ip),this.bones.push(s),this.boneInverses.push(new Ki().fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){let t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;let i=this.bones,n=this.boneInverses;for(let r=0,o=i.length;r<o;r++){let s=i[r];t.bones.push(s.uuid);let a=n[r];t.boneInverses.push(a.toArray())}return t}};var H6=new Qe,DLe=new Qe,TLe=new sr,ef=class{constructor(t=new Qe(1,0,0),i=0){this.isPlane=!0,this.normal=t,this.constant=i}set(t,i){return this.normal.copy(t),this.constant=i,this}setComponents(t,i,n,r){return this.normal.set(t,i,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(t,i,n){let r=H6.subVectors(n,i).cross(DLe.subVectors(t,i)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){let t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,i){return i.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,i){let n=t.delta(H6),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(t.start)===0?i.copy(t.start):null;let o=-(t.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:i.copy(t.start).addScaledVector(n,o)}intersectsLine(t){let i=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return i<0&&n>0||n<0&&i>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,i){let n=i||TLe.getNormalMatrix(t),r=this.coplanarPoint(H6).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}},uv=new lu,kR=new Qe,Cy=class{constructor(t=new ef,i=new ef,n=new ef,r=new ef,o=new ef,s=new ef){this.planes=[t,i,n,r,o,s]}set(t,i,n,r,o,s){let a=this.planes;return a[0].copy(t),a[1].copy(i),a[2].copy(n),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(t){let i=this.planes;for(let n=0;n<6;n++)i[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,i=tf){let n=this.planes,r=t.elements,o=r[0],s=r[1],a=r[2],l=r[3],c=r[4],d=r[5],u=r[6],h=r[7],f=r[8],p=r[9],v=r[10],m=r[11],g=r[12],b=r[13],w=r[14],x=r[15];if(n[0].setComponents(l-o,h-c,m-f,x-g).normalize(),n[1].setComponents(l+o,h+c,m+f,x+g).normalize(),n[2].setComponents(l+s,h+d,m+p,x+b).normalize(),n[3].setComponents(l-s,h-d,m-p,x-b).normalize(),n[4].setComponents(l-a,h-u,m-v,x-w).normalize(),i===tf)n[5].setComponents(l+a,h+u,m+v,x+w).normalize();else if(i===qx)n[5].setComponents(a,u,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),uv.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{let i=t.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),uv.copy(i.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(uv)}intersectsSprite(t){return uv.center.set(0,0,0),uv.radius=.7071067811865476,uv.applyMatrix4(t.matrixWorld),this.intersectsSphere(uv)}intersectsSphere(t){let i=this.planes,n=t.center,r=-t.radius;for(let o=0;o<6;o++)if(i[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){let i=this.planes;for(let n=0;n<6;n++){let r=i[n];if(kR.x=r.normal.x>0?t.max.x:t.min.x,kR.y=r.normal.y>0?t.max.y:t.min.y,kR.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(kR)<0)return!1}return!0}containsPoint(t){let i=this.planes;for(let n=0;n<6;n++)if(i[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};var pc=class extends cu{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ji(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}},KR=new Qe,ZR=new Qe,Aee=new Ki,zx=new bg,IR=new lu,U6=new Qe,Ree=new Qe,yg=class extends Po{constructor(t=new Wr,i=new pc){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=i,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){let t=this.geometry;if(t.index===null){let i=t.attributes.position,n=[0];for(let r=1,o=i.count;r<o;r++)KR.fromBufferAttribute(i,r-1),ZR.fromBufferAttribute(i,r),n[r]=n[r-1],n[r]+=KR.distanceTo(ZR);t.setAttribute("lineDistance",new nn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,i){let n=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),IR.copy(n.boundingSphere),IR.applyMatrix4(r),IR.radius+=o,t.ray.intersectsSphere(IR)===!1)return;Aee.copy(r).invert(),zx.copy(t.ray).applyMatrix4(Aee);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=n.index,h=n.attributes.position;if(d!==null){let f=Math.max(0,s.start),p=Math.min(d.count,s.start+s.count);for(let v=f,m=p-1;v<m;v+=c){let g=d.getX(v),b=d.getX(v+1),w=PR(this,t,zx,l,g,b,v);w&&i.push(w)}if(this.isLineLoop){let v=d.getX(p-1),m=d.getX(f),g=PR(this,t,zx,l,v,m,p-1);g&&i.push(g)}}else{let f=Math.max(0,s.start),p=Math.min(h.count,s.start+s.count);for(let v=f,m=p-1;v<m;v+=c){let g=PR(this,t,zx,l,v,v+1,v);g&&i.push(g)}if(this.isLineLoop){let v=PR(this,t,zx,l,p-1,f,p-1);v&&i.push(v)}}}updateMorphTargets(){let i=this.geometry.morphAttributes,n=Object.keys(i);if(n.length>0){let r=i[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function PR(e,t,i,n,r,o,s){let a=e.geometry.attributes.position;if(KR.fromBufferAttribute(a,r),ZR.fromBufferAttribute(a,o),i.distanceSqToSegment(KR,ZR,U6,Ree)>n)return;U6.applyMatrix4(e.matrixWorld);let c=t.ray.origin.distanceTo(U6);if(!(c<t.near||c>t.far))return{distance:c,point:Ree.clone().applyMatrix4(e.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:e}}var kee=new Qe,Iee=new Qe,of=class extends yg{constructor(t,i){super(t,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let t=this.geometry;if(t.index===null){let i=t.attributes.position,n=[];for(let r=0,o=i.count;r<o;r+=2)kee.fromBufferAttribute(i,r),Iee.fromBufferAttribute(i,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+kee.distanceTo(Iee);t.setAttribute("lineDistance",new nn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}};var xy=class extends cu{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ji(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}},Pee=new Ki,J6=new bg,FR=new lu,OR=new Qe,Kx=class extends Po{constructor(t=new Wr,i=new xy){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=i,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,i){let n=this.geometry,r=this.matrixWorld,o=t.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),FR.copy(n.boundingSphere),FR.applyMatrix4(r),FR.radius+=o,t.ray.intersectsSphere(FR)===!1)return;Pee.copy(r).invert(),J6.copy(t.ray).applyMatrix4(Pee);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,u=n.attributes.position;if(c!==null){let h=Math.max(0,s.start),f=Math.min(c.count,s.start+s.count);for(let p=h,v=f;p<v;p++){let m=c.getX(p);OR.fromBufferAttribute(u,m),Fee(OR,m,l,r,t,i,this)}}else{let h=Math.max(0,s.start),f=Math.min(u.count,s.start+s.count);for(let p=h,v=f;p<v;p++)OR.fromBufferAttribute(u,p),Fee(OR,p,l,r,t,i,this)}}updateMorphTargets(){let i=this.geometry.morphAttributes,n=Object.keys(i);if(n.length>0){let r=i[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function Fee(e,t,i,n,r,o,s){let a=J6.distanceSqToPoint(e);if(a<i){let l=new Qe;J6.closestPointToPoint(e,l),l.applyMatrix4(n);let c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,faceIndex:null,barycoord:null,object:s})}}var Zx=class extends hu{constructor(t,i,n=Sg,r,o,s,a=xl,l=xl,c,d=gy){if(d!==gy&&d!==ky)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,o,s,a,l,d,n,c),this.isDepthTexture=!0,this.image={width:t,height:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new by(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){let i=super.toJSON(t);return this.compareFunction!==null&&(i.compareFunction=this.compareFunction),i}};var Sy=class e extends Wr{constructor(t=1,i=1,n=1,r=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:i,height:n,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};let c=this;r=Math.floor(r),o=Math.floor(o);let d=[],u=[],h=[],f=[],p=0,v=[],m=n/2,g=0;b(),s===!1&&(t>0&&w(!0),i>0&&w(!1)),this.setIndex(d),this.setAttribute("position",new nn(u,3)),this.setAttribute("normal",new nn(h,3)),this.setAttribute("uv",new nn(f,2));function b(){let x=new Qe,R=new Qe,_=0,L=(i-t)/n;for(let F=0;F<=o;F++){let T=[],P=F/o,A=P*(i-t)+t;for(let O=0;O<=r;O++){let V=O/r,U=V*l+a,ae=Math.sin(U),ne=Math.cos(U);R.x=A*ae,R.y=-P*n+m,R.z=A*ne,u.push(R.x,R.y,R.z),x.set(ae,L,ne).normalize(),h.push(x.x,x.y,x.z),f.push(V,1-P),T.push(p++)}v.push(T)}for(let F=0;F<r;F++)for(let T=0;T<o;T++){let P=v[T][F],A=v[T+1][F],O=v[T+1][F+1],V=v[T][F+1];(t>0||T!==0)&&(d.push(P,A,V),_+=3),(i>0||T!==o-1)&&(d.push(A,O,V),_+=3)}c.addGroup(g,_,0),g+=_}function w(x){let R=p,_=new On,L=new Qe,F=0,T=x===!0?t:i,P=x===!0?1:-1;for(let O=1;O<=r;O++)u.push(0,m*P,0),h.push(0,P,0),f.push(.5,.5),p++;let A=p;for(let O=0;O<=r;O++){let U=O/r*l+a,ae=Math.cos(U),ne=Math.sin(U);L.x=T*ne,L.y=m*P,L.z=T*ae,u.push(L.x,L.y,L.z),h.push(0,P,0),_.x=ae*.5+.5,_.y=ne*.5*P+.5,f.push(_.x,_.y),p++}for(let O=0;O<r;O++){let V=R+O,U=A+O;x===!0?d.push(U,U+1,V):d.push(U+1,U,V),F+=3}c.addGroup(g,F,x===!0?1:2),g+=F}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new e(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}},Qx=class e extends Sy{constructor(t=1,i=1,n=32,r=1,o=!1,s=0,a=Math.PI*2){super(0,t,i,n,r,o,s,a),this.type="ConeGeometry",this.parameters={radius:t,height:i,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(t){return new e(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}};var LR=new Qe,NR=new Qe,G6=new Qe,BR=new Ap,Jx=class extends Wr{constructor(t=null,i=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:i},t!==null){let r=Math.pow(10,4),o=Math.cos(py*i),s=t.getIndex(),a=t.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],d=["a","b","c"],u=new Array(3),h={},f=[];for(let p=0;p<l;p+=3){s?(c[0]=s.getX(p),c[1]=s.getX(p+1),c[2]=s.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);let{a:v,b:m,c:g}=BR;if(v.fromBufferAttribute(a,c[0]),m.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),BR.getNormal(G6),u[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,u[1]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,u[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let b=0;b<3;b++){let w=(b+1)%3,x=u[b],R=u[w],_=BR[d[b]],L=BR[d[w]],F=`${x}_${R}`,T=`${R}_${x}`;T in h&&h[T]?(G6.dot(h[T].normal)<=o&&(f.push(_.x,_.y,_.z),f.push(L.x,L.y,L.z)),h[T]=null):F in h||(h[F]={index0:c[b],index1:c[w],normal:G6.clone()})}}for(let p in h)if(h[p]){let{index0:v,index1:m}=h[p];LR.fromBufferAttribute(a,v),NR.fromBufferAttribute(a,m),f.push(LR.x,LR.y,LR.z),f.push(NR.x,NR.y,NR.z)}this.setAttribute("position",new nn(f,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}},eS=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,i){let n=this.getUtoTmapping(t);return this.getPoint(n,i)}getPoints(t=5){let i=[];for(let n=0;n<=t;n++)i.push(this.getPoint(n/t));return i}getSpacedPoints(t=5){let i=[];for(let n=0;n<=t;n++)i.push(this.getPointAt(n/t));return i}getLength(){let t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let i=[],n,r=this.getPoint(0),o=0;i.push(0);for(let s=1;s<=t;s++)n=this.getPoint(s/t),o+=n.distanceTo(r),i.push(o),r=n;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,i=null){let n=this.getLengths(),r=0,o=n.length,s;i?s=i:s=t*n[o-1];let a=0,l=o-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-s,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,n[r]===s)return r/(o-1);let d=n[r],h=n[r+1]-d,f=(s-d)/h;return(r+f)/(o-1)}getTangent(t,i){let r=t-1e-4,o=t+1e-4;r<0&&(r=0),o>1&&(o=1);let s=this.getPoint(r),a=this.getPoint(o),l=i||(s.isVector2?new On:new Qe);return l.copy(a).sub(s).normalize(),l}getTangentAt(t,i){let n=this.getUtoTmapping(t);return this.getTangent(n,i)}computeFrenetFrames(t,i=!1){let n=new Qe,r=[],o=[],s=[],a=new Qe,l=new Ki;for(let f=0;f<=t;f++){let p=f/t;r[f]=this.getTangentAt(p,new Qe)}o[0]=new Qe,s[0]=new Qe;let c=Number.MAX_VALUE,d=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),u<=c&&(c=u,n.set(0,1,0)),h<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],a),s[0].crossVectors(r[0],o[0]);for(let f=1;f<=t;f++){if(o[f]=o[f-1].clone(),s[f]=s[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();let p=Math.acos(Or(r[f-1].dot(r[f]),-1,1));o[f].applyMatrix4(l.makeRotationAxis(a,p))}s[f].crossVectors(r[f],o[f])}if(i===!0){let f=Math.acos(Or(o[0].dot(o[t]),-1,1));f/=t,r[0].dot(a.crossVectors(o[0],o[t]))>0&&(f=-f);for(let p=1;p<=t;p++)o[p].applyMatrix4(l.makeRotationAxis(r[p],f*p)),s[p].crossVectors(r[p],o[p])}return{tangents:r,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){let t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}};function ALe(e,t,i=2){let n=t&&t.length,r=n?t[0]*i:e.length,o=Vte(e,0,r,i,!0),s=[];if(!o||o.next===o.prev)return s;let a,l,c;if(n&&(o=FLe(e,t,o,i)),e.length>80*i){a=1/0,l=1/0;let d=-1/0,u=-1/0;for(let h=i;h<r;h+=i){let f=e[h],p=e[h+1];f<a&&(a=f),p<l&&(l=p),f>d&&(d=f),p>u&&(u=p)}c=Math.max(d-a,u-l),c=c!==0?32767/c:0}return tS(o,s,i,a,l,c,0),s}function Vte(e,t,i,n,r){let o;if(r===jLe(e,t,i,n)>0)for(let s=t;s<i;s+=n)o=Oee(s/n|0,e[s],e[s+1],o);else for(let s=i-n;s>=t;s-=n)o=Oee(s/n|0,e[s],e[s+1],o);return o&&My(o,o.next)&&(nS(o),o=o.next),o}function Cv(e,t){if(!e)return e;t||(t=e);let i=e,n;do if(n=!1,!i.steiner&&(My(i,i.next)||Fs(i.prev,i,i.next)===0)){if(nS(i),i=t=i.prev,i===i.next)break;n=!0}else i=i.next;while(n||i!==t);return t}function tS(e,t,i,n,r,o,s){if(!e)return;!s&&o&&VLe(e,n,r,o);let a=e;for(;e.prev!==e.next;){let l=e.prev,c=e.next;if(o?kLe(e,n,r,o):RLe(e)){t.push(l.i,e.i,c.i),nS(e),e=c.next,a=c.next;continue}if(e=c,e===a){s?s===1?(e=ILe(Cv(e),t),tS(e,t,i,n,r,o,2)):s===2&&PLe(e,t,i,n,r,o):tS(Cv(e),t,i,n,r,o,1);break}}}function RLe(e){let t=e.prev,i=e,n=e.next;if(Fs(t,i,n)>=0)return!1;let r=t.x,o=i.x,s=n.x,a=t.y,l=i.y,c=n.y,d=Math.min(r,o,s),u=Math.min(a,l,c),h=Math.max(r,o,s),f=Math.max(a,l,c),p=n.next;for(;p!==t;){if(p.x>=d&&p.x<=h&&p.y>=u&&p.y<=f&&Ux(r,a,o,l,s,c,p.x,p.y)&&Fs(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function kLe(e,t,i,n){let r=e.prev,o=e,s=e.next;if(Fs(r,o,s)>=0)return!1;let a=r.x,l=o.x,c=s.x,d=r.y,u=o.y,h=s.y,f=Math.min(a,l,c),p=Math.min(d,u,h),v=Math.max(a,l,c),m=Math.max(d,u,h),g=e8(f,p,t,i,n),b=e8(v,m,t,i,n),w=e.prevZ,x=e.nextZ;for(;w&&w.z>=g&&x&&x.z<=b;){if(w.x>=f&&w.x<=v&&w.y>=p&&w.y<=m&&w!==r&&w!==s&&Ux(a,d,l,u,c,h,w.x,w.y)&&Fs(w.prev,w,w.next)>=0||(w=w.prevZ,x.x>=f&&x.x<=v&&x.y>=p&&x.y<=m&&x!==r&&x!==s&&Ux(a,d,l,u,c,h,x.x,x.y)&&Fs(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;w&&w.z>=g;){if(w.x>=f&&w.x<=v&&w.y>=p&&w.y<=m&&w!==r&&w!==s&&Ux(a,d,l,u,c,h,w.x,w.y)&&Fs(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;x&&x.z<=b;){if(x.x>=f&&x.x<=v&&x.y>=p&&x.y<=m&&x!==r&&x!==s&&Ux(a,d,l,u,c,h,x.x,x.y)&&Fs(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function ILe(e,t){let i=e;do{let n=i.prev,r=i.next.next;!My(n,r)&&Hte(n,i,i.next,r)&&iS(n,r)&&iS(r,n)&&(t.push(n.i,i.i,r.i),nS(i),nS(i.next),i=e=r),i=i.next}while(i!==e);return Cv(i)}function PLe(e,t,i,n,r,o){let s=e;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&ULe(s,a)){let l=Ute(s,a);s=Cv(s,s.next),l=Cv(l,l.next),tS(s,t,i,n,r,o,0),tS(l,t,i,n,r,o,0);return}a=a.next}s=s.next}while(s!==e)}function FLe(e,t,i,n){let r=[];for(let o=0,s=t.length;o<s;o++){let a=t[o]*n,l=o<s-1?t[o+1]*n:e.length,c=Vte(e,a,l,n,!1);c===c.next&&(c.steiner=!0),r.push(HLe(c))}r.sort(OLe);for(let o=0;o<r.length;o++)i=LLe(r[o],i);return i}function OLe(e,t){let i=e.x-t.x;if(i===0&&(i=e.y-t.y,i===0)){let n=(e.next.y-e.y)/(e.next.x-e.x),r=(t.next.y-t.y)/(t.next.x-t.x);i=n-r}return i}function LLe(e,t){let i=NLe(e,t);if(!i)return t;let n=Ute(i,e);return Cv(n,n.next),Cv(i,i.next)}function NLe(e,t){let i=t,n=e.x,r=e.y,o=-1/0,s;if(My(e,i))return i;do{if(My(e,i.next))return i.next;if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){let u=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(u<=n&&u>o&&(o=u,s=i.x<i.next.x?i:i.next,u===n))return s}i=i.next}while(i!==t);if(!s)return null;let a=s,l=s.x,c=s.y,d=1/0;i=s;do{if(n>=i.x&&i.x>=l&&n!==i.x&&zte(r<c?n:o,r,l,c,r<c?o:n,r,i.x,i.y)){let u=Math.abs(r-i.y)/(n-i.x);iS(i,e)&&(u<d||u===d&&(i.x>s.x||i.x===s.x&&BLe(s,i)))&&(s=i,d=u)}i=i.next}while(i!==a);return s}function BLe(e,t){return Fs(e.prev,e,t.prev)<0&&Fs(t.next,e,e.next)<0}function VLe(e,t,i,n){let r=e;do r.z===0&&(r.z=e8(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,zLe(r)}function zLe(e){let t,i=1;do{let n=e,r;e=null;let o=null;for(t=0;n;){t++;let s=n,a=0;for(let c=0;c<i&&(a++,s=s.nextZ,!!s);c++);let l=i;for(;a>0||l>0&&s;)a!==0&&(l===0||!s||n.z<=s.z)?(r=n,n=n.nextZ,a--):(r=s,s=s.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=s}o.nextZ=null,i*=2}while(t>1);return e}function e8(e,t,i,n,r){return e=(e-i)*r|0,t=(t-n)*r|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function HLe(e){let t=e,i=e;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==e);return i}function zte(e,t,i,n,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(n-a)>=(i-s)*(t-a)&&(i-s)*(o-a)>=(r-s)*(n-a)}function Ux(e,t,i,n,r,o,s,a){return!(e===s&&t===a)&&zte(e,t,i,n,r,o,s,a)}function ULe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!GLe(e,t)&&(iS(e,t)&&iS(t,e)&&WLe(e,t)&&(Fs(e.prev,e,t.prev)||Fs(e,t.prev,t))||My(e,t)&&Fs(e.prev,e,e.next)>0&&Fs(t.prev,t,t.next)>0)}function Fs(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function My(e,t){return e.x===t.x&&e.y===t.y}function Hte(e,t,i,n){let r=zR(Fs(e,t,i)),o=zR(Fs(e,t,n)),s=zR(Fs(i,n,e)),a=zR(Fs(i,n,t));return!!(r!==o&&s!==a||r===0&&VR(e,i,t)||o===0&&VR(e,n,t)||s===0&&VR(i,e,n)||a===0&&VR(i,t,n))}function VR(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function zR(e){return e>0?1:e<0?-1:0}function GLe(e,t){let i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&Hte(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function iS(e,t){return Fs(e.prev,e,e.next)<0?Fs(e,t,e.next)>=0&&Fs(e,e.prev,t)>=0:Fs(e,t,e.prev)<0||Fs(e,e.next,t)<0}function WLe(e,t){let i=e,n=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==e);return n}function Ute(e,t){let i=t8(e.i,e.x,e.y),n=t8(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function Oee(e,t,i,n){let r=t8(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function nS(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function t8(e,t,i){return{i:e,x:t,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function jLe(e,t,i,n){let r=0;for(let o=t,s=i-n;o<i;o+=n)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}var i8=class{static triangulate(t,i,n=2){return ALe(t,i,n)}},xv=class e{static area(t){let i=t.length,n=0;for(let r=i-1,o=0;o<i;r=o++)n+=t[r].x*t[o].y-t[o].x*t[r].y;return n*.5}static isClockWise(t){return e.area(t)<0}static triangulateShape(t,i){let n=[],r=[],o=[];Lee(t),Nee(n,t);let s=t.length;i.forEach(Lee);for(let l=0;l<i.length;l++)r.push(s),s+=i[l].length,Nee(n,i[l]);let a=i8.triangulate(n,r);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}};function Lee(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Nee(e,t){for(let i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}var Sv=class e extends Wr{constructor(t=1,i=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:i,widthSegments:n,heightSegments:r};let o=t/2,s=i/2,a=Math.floor(n),l=Math.floor(r),c=a+1,d=l+1,u=t/a,h=i/l,f=[],p=[],v=[],m=[];for(let g=0;g<d;g++){let b=g*h-s;for(let w=0;w<c;w++){let x=w*u-o;p.push(x,-b,0),v.push(0,0,1),m.push(w/a),m.push(1-g/l)}}for(let g=0;g<l;g++)for(let b=0;b<a;b++){let w=b+c*g,x=b+c*(g+1),R=b+1+c*(g+1),_=b+1+c*g;f.push(w,x,_),f.push(x,R,_)}this.setIndex(f),this.setAttribute("position",new nn(p,3)),this.setAttribute("normal",new nn(v,3)),this.setAttribute("uv",new nn(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new e(t.width,t.height,t.widthSegments,t.heightSegments)}};var Mv=class e extends Wr{constructor(t=1,i=32,n=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:i,heightSegments:n,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},i=Math.max(3,Math.floor(i)),n=Math.max(2,Math.floor(n));let l=Math.min(s+a,Math.PI),c=0,d=[],u=new Qe,h=new Qe,f=[],p=[],v=[],m=[];for(let g=0;g<=n;g++){let b=[],w=g/n,x=0;g===0&&s===0?x=.5/i:g===n&&l===Math.PI&&(x=-.5/i);for(let R=0;R<=i;R++){let _=R/i;u.x=-t*Math.cos(r+_*o)*Math.sin(s+w*a),u.y=t*Math.cos(s+w*a),u.z=t*Math.sin(r+_*o)*Math.sin(s+w*a),p.push(u.x,u.y,u.z),h.copy(u).normalize(),v.push(h.x,h.y,h.z),m.push(_+x,1-w),b.push(c++)}d.push(b)}for(let g=0;g<n;g++)for(let b=0;b<i;b++){let w=d[g][b+1],x=d[g][b],R=d[g+1][b],_=d[g+1][b+1];(g!==0||s>0)&&f.push(w,x,_),(g!==n-1||l<Math.PI)&&f.push(x,R,_)}this.setIndex(f),this.setAttribute("position",new nn(p,3)),this.setAttribute("normal",new nn(v,3)),this.setAttribute("uv",new nn(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new e(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}};var wg=class extends cu{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ji(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ji(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_S,this.normalScale=new On(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}};var cs=class extends cu{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ji(16777215),this.specular=new Ji(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ji(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_S,this.normalScale=new On(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nl,this.combine=uS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}};var Ev=class extends cu{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ji(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ji(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_S,this.normalScale=new On(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nl,this.combine=uS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}},QR=class extends cu{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xte,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}},JR=class extends cu{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}};function HR(e,t){return!e||e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function qLe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YLe(e){function t(r,o){return e[r]-e[o]}let i=e.length,n=new Array(i);for(let r=0;r!==i;++r)n[r]=r;return n.sort(t),n}function Bee(e,t,i){let n=e.length,r=new e.constructor(n);for(let o=0,s=0;s!==n;++o){let a=i[o]*t;for(let l=0;l!==t;++l)r[s++]=e[a+l]}return r}function Gte(e,t,i,n){let r=1,o=e[0];for(;o!==void 0&&o[n]===void 0;)o=e[r++];if(o===void 0)return;let s=o[n];if(s!==void 0)if(Array.isArray(s))do s=o[n],s!==void 0&&(t.push(o.time),i.push(...s)),o=e[r++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[n],s!==void 0&&(t.push(o.time),s.toArray(i,i.length)),o=e[r++];while(o!==void 0);else do s=o[n],s!==void 0&&(t.push(o.time),i.push(s)),o=e[r++];while(o!==void 0)}var Dv=class{constructor(t,i,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new i.constructor(n),this.sampleValues=i,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){let i=this.parameterPositions,n=this._cachedIndex,r=i[n],o=i[n-1];e:{t:{let s;i:{r:if(!(t<r)){for(let a=n+2;;){if(r===void 0){if(t<o)break r;return n=i.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(o=r,r=i[++n],t<r)break t}s=i.length;break i}if(!(t>=o)){let a=i[1];t<a&&(n=2,o=a);for(let l=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=o,o=i[--n-1],t>=o)break t}s=n,n=0;break i}break e}for(;n<s;){let a=n+s>>>1;t<i[a]?s=a:n=a+1}if(r=i[n],o=i[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=i.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){let i=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r;for(let s=0;s!==r;++s)i[s]=n[o+s];return i}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},ek=class extends Dv{constructor(t,i,n,r){super(t,i,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:$6,endingEnd:$6}}intervalChanged_(t,i,n){let r=this.parameterPositions,o=t-2,s=t+1,a=r[o],l=r[s];if(a===void 0)switch(this.getSettings_().endingStart){case X6:o=t,a=2*i-n;break;case K6:o=r.length-2,a=i+r[o]-r[o+1];break;default:o=t,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case X6:s=t,l=2*n-i;break;case K6:s=1,l=n+r[1]-r[0];break;default:s=t-1,l=i}let c=(n-i)*.5,d=this.valueSize;this._weightPrev=c/(i-a),this._weightNext=c/(l-n),this._offsetPrev=o*d,this._offsetNext=s*d}interpolate_(t,i,n,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-i)/(r-i),v=p*p,m=v*p,g=-h*m+2*h*v-h*p,b=(1+h)*m+(-1.5-2*h)*v+(-.5+h)*p+1,w=(-1-f)*m+(1.5+f)*v+.5*p,x=f*m-f*v;for(let R=0;R!==a;++R)o[R]=g*s[d+R]+b*s[c+R]+w*s[l+R]+x*s[u+R];return o}},tk=class extends Dv{constructor(t,i,n,r){super(t,i,n,r)}interpolate_(t,i,n,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,d=(n-i)/(r-i),u=1-d;for(let h=0;h!==a;++h)o[h]=s[c+h]*u+s[l+h]*d;return o}},ik=class extends Dv{constructor(t,i,n,r){super(t,i,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}},Nc=class{constructor(t,i,n,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(i===void 0||i.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=HR(i,this.TimeBufferType),this.values=HR(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){let i=t.constructor,n;if(i.toJSON!==this.toJSON)n=i.toJSON(t);else{n={name:t.name,times:HR(t.times,Array),values:HR(t.values,Array)};let r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new ik(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new tk(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new ek(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let i;switch(t){case Wx:i=this.InterpolantFactoryMethodDiscrete;break;case jR:i=this.InterpolantFactoryMethodLinear;break;case UR:i=this.InterpolantFactoryMethodSmooth;break}if(i===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Wx;case this.InterpolantFactoryMethodLinear:return jR;case this.InterpolantFactoryMethodSmooth:return UR}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){let i=this.times;for(let n=0,r=i.length;n!==r;++n)i[n]+=t}return this}scale(t){if(t!==1){let i=this.times;for(let n=0,r=i.length;n!==r;++n)i[n]*=t}return this}trim(t,i){let n=this.times,r=n.length,o=0,s=r-1;for(;o!==r&&n[o]<t;)++o;for(;s!==-1&&n[s]>i;)--s;if(++s,o!==0||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);let a=this.getValueSize();this.times=n.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let t=!0,i=this.getValueSize();i-Math.floor(i)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);let n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let a=0;a!==o;a++){let l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),t=!1;break}s=l}if(r!==void 0&&qLe(r))for(let a=0,l=r.length;a!==l;++a){let c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){let t=this.times.slice(),i=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===UR,o=t.length-1,s=1;for(let a=1;a<o;++a){let l=!1,c=t[a],d=t[a+1];if(c!==d&&(a!==1||c!==t[0]))if(r)l=!0;else{let u=a*n,h=u-n,f=u+n;for(let p=0;p!==n;++p){let v=i[u+p];if(v!==i[h+p]||v!==i[f+p]){l=!0;break}}}if(l){if(a!==s){t[s]=t[a];let u=a*n,h=s*n;for(let f=0;f!==n;++f)i[h+f]=i[u+f]}++s}}if(o>0){t[s]=t[o];for(let a=o*n,l=s*n,c=0;c!==n;++c)i[l+c]=i[a+c];++s}return s!==t.length?(this.times=t.slice(0,s),this.values=i.slice(0,s*n)):(this.times=t,this.values=i),this}clone(){let t=this.times.slice(),i=this.values.slice(),n=this.constructor,r=new n(this.name,t,i);return r.createInterpolant=this.createInterpolant,r}};Nc.prototype.ValueTypeName="";Nc.prototype.TimeBufferType=Float32Array;Nc.prototype.ValueBufferType=Float32Array;Nc.prototype.DefaultInterpolation=jR;var Pp=class extends Nc{constructor(t,i,n){super(t,i,n)}};Pp.prototype.ValueTypeName="bool";Pp.prototype.ValueBufferType=Array;Pp.prototype.DefaultInterpolation=Wx;Pp.prototype.InterpolantFactoryMethodLinear=void 0;Pp.prototype.InterpolantFactoryMethodSmooth=void 0;var rS=class extends Nc{constructor(t,i,n,r){super(t,i,n,r)}};rS.prototype.ValueTypeName="color";var Fp=class extends Nc{constructor(t,i,n,r){super(t,i,n,r)}};Fp.prototype.ValueTypeName="number";var nk=class extends Dv{constructor(t,i,n,r){super(t,i,n,r)}interpolate_(t,i,n,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(n-i)/(r-i),c=t*a;for(let d=c+a;c!==d;c+=4)ls.slerpFlat(o,0,s,c-a,s,c,l);return o}},du=class extends Nc{constructor(t,i,n,r){super(t,i,n,r)}InterpolantFactoryMethodLinear(t){return new nk(this.times,this.values,this.getValueSize(),t)}};du.prototype.ValueTypeName="quaternion";du.prototype.InterpolantFactoryMethodSmooth=void 0;var Op=class extends Nc{constructor(t,i,n){super(t,i,n)}};Op.prototype.ValueTypeName="string";Op.prototype.ValueBufferType=Array;Op.prototype.DefaultInterpolation=Wx;Op.prototype.InterpolantFactoryMethodLinear=void 0;Op.prototype.InterpolantFactoryMethodSmooth=void 0;var uu=class extends Nc{constructor(t,i,n,r){super(t,i,n,r)}};uu.prototype.ValueTypeName="vector";var Cg=class{constructor(t="",i=-1,n=[],r=Cte){this.name=t,this.tracks=n,this.duration=i,this.blendMode=r,this.uuid=Mg(),this.duration<0&&this.resetDuration()}static parse(t){let i=[],n=t.tracks,r=1/(t.fps||1);for(let s=0,a=n.length;s!==a;++s)i.push(XLe(n[s]).scale(r));let o=new this(t.name,t.duration,i,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){let i=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:i,uuid:t.uuid,blendMode:t.blendMode};for(let o=0,s=n.length;o!==s;++o)i.push(Nc.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(t,i,n,r){let o=i.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);let d=YLe(l);l=Bee(l,1,d),c=Bee(c,1,d),!r&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new Fp(".morphTargetInfluences["+i[a].name+"]",l,c).scale(1/n))}return new this(t,-1,s)}static findByName(t,i){let n=t;if(!Array.isArray(t)){let r=t;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===i)return n[r];return null}static CreateClipsFromMorphTargetSequences(t,i,n){let r={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){let c=t[a],d=c.name.match(o);if(d&&d.length>1){let u=d[1],h=r[u];h||(r[u]=h=[]),h.push(c)}}let s=[];for(let a in r)s.push(this.CreateFromMorphTargetSequence(a,r[a],i,n));return s}static parseAnimation(t,i){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(u,h,f,p,v){if(f.length!==0){let m=[],g=[];Gte(f,m,g,p),m.length!==0&&v.push(new u(h,m,g))}},r=[],o=t.name||"default",s=t.fps||30,a=t.blendMode,l=t.length||-1,c=t.hierarchy||[];for(let u=0;u<c.length;u++){let h=c[u].keys;if(!(!h||h.length===0))if(h[0].morphTargets){let f={},p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let v=0;v<h[p].morphTargets.length;v++)f[h[p].morphTargets[v]]=-1;for(let v in f){let m=[],g=[];for(let b=0;b!==h[p].morphTargets.length;++b){let w=h[p];m.push(w.time),g.push(w.morphTarget===v?1:0)}r.push(new Fp(".morphTargetInfluence["+v+"]",m,g))}l=f.length*s}else{let f=".bones["+i[u].name+"]";n(uu,f+".position",h,"pos",r),n(du,f+".quaternion",h,"rot",r),n(uu,f+".scale",h,"scl",r)}}return r.length===0?null:new this(o,l,r,a)}resetDuration(){let t=this.tracks,i=0;for(let n=0,r=t.length;n!==r;++n){let o=this.tracks[n];i=Math.max(i,o.times[o.times.length-1])}return this.duration=i,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){let t=[];for(let i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function $Le(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Fp;case"vector":case"vector2":case"vector3":case"vector4":return uu;case"color":return rS;case"quaternion":return du;case"bool":case"boolean":return Pp;case"string":return Op}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function XLe(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=$Le(e.type);if(e.times===void 0){let i=[],n=[];Gte(e.keys,i,n,"value"),e.times=i,e.values=n}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var oS={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ey=class{constructor(t,i,n){let r=this,o=!1,s=0,a=0,l,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=i,this.onError=n,this.itemStart=function(d){a++,o===!1&&r.onStart!==void 0&&r.onStart(d,s,a),o=!0},this.itemEnd=function(d){s++,r.onProgress!==void 0&&r.onProgress(d,s,a),s===a&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){let u=c.indexOf(d);return u!==-1&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,h=c.length;u<h;u+=2){let f=c[u],p=c[u+1];if(f.global&&(f.lastIndex=0),f.test(d))return p}return null}}},Wte=new Ey,qo=(()=>{class e{constructor(i){this.manager=i!==void 0?i:Wte,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,n){let r=this;return new Promise(function(o,s){r.load(i,o,n,s)})}parse(){}setCrossOrigin(i){return this.crossOrigin=i,this}setWithCredentials(i){return this.withCredentials=i,this}setPath(i){return this.path=i,this}setResourcePath(i){return this.resourcePath=i,this}setRequestHeader(i){return this.requestHeader=i,this}}return e.DEFAULT_MATERIAL_NAME="__DEFAULT",e})(),Tp={},n8=class extends Error{constructor(t,i){super(t),this.response=i}},Bc=class extends qo{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,i,n,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);let o=oS.get(t);if(o!==void 0)return this.manager.itemStart(t),setTimeout(()=>{i&&i(o),this.manager.itemEnd(t)},0),o;if(Tp[t]!==void 0){Tp[t].push({onLoad:i,onProgress:n,onError:r});return}Tp[t]=[],Tp[t].push({onLoad:i,onProgress:n,onError:r});let s=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;let d=Tp[t],u=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),f=h?parseInt(h):0,p=f!==0,v=0,m=new ReadableStream({start(g){b();function b(){u.read().then(({done:w,value:x})=>{if(w)g.close();else{v+=x.byteLength;let R=new ProgressEvent("progress",{lengthComputable:p,loaded:v,total:f});for(let _=0,L=d.length;_<L;_++){let F=d[_];F.onProgress&&F.onProgress(R)}g.enqueue(x),b()}},w=>{g.error(w)})}}});return new Response(m)}else throw new n8(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a==="")return c.text();{let u=/charset="?([^;"\s]*)"?/i.exec(a),h=u&&u[1]?u[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{oS.add(t,c);let d=Tp[t];delete Tp[t];for(let u=0,h=d.length;u<h;u++){let f=d[u];f.onLoad&&f.onLoad(c)}}).catch(c=>{let d=Tp[t];if(d===void 0)throw this.manager.itemError(t),c;delete Tp[t];for(let u=0,h=d.length;u<h;u++){let f=d[u];f.onError&&f.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}};var sS=class extends qo{constructor(t){super(t)}load(t,i,n,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);let o=this,s=oS.get(t);if(s!==void 0)return o.manager.itemStart(t),setTimeout(function(){i&&i(s),o.manager.itemEnd(t)},0),s;let a=vy("img");function l(){d(),oS.add(t,this),i&&i(this),o.manager.itemEnd(t)}function c(u){d(),r&&r(u),o.manager.itemError(t),o.manager.itemEnd(t)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(t),a.src=t,a}},aS=class extends qo{constructor(t){super(t)}load(t,i,n,r){let o=new yy;o.colorSpace=Hn;let s=new sS(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(t[c],function(d){o.images[c]=d,a++,a===6&&(o.needsUpdate=!0,i&&i(o))},void 0,r)}for(let c=0;c<t.length;++c)l(c);return o}},lS=class extends qo{constructor(t){super(t)}load(t,i,n,r){let o=this,s=new yv,a=new Bc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(t,function(l){let c;try{c=o.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Ms,s.wrapT=c.wrapT!==void 0?c.wrapT:Ms,s.magFilter=c.magFilter!==void 0?c.magFilter:Ia,s.minFilter=c.minFilter!==void 0?c.minFilter:Ia,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Vc),c.mipmapCount===1&&(s.minFilter=Ia),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,i&&i(s,c)},n,r),s}},Sd=class extends qo{constructor(t){super(t)}load(t,i,n,r){let o=new hu,s=new sS(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,function(a){o.image=a,o.needsUpdate=!0,i!==void 0&&i(o)},n,r),o}},Tv=class extends Po{constructor(t,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Ji(t),this.intensity=i}dispose(){}copy(t,i){return super.copy(t,i),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){let i=super.toJSON(t);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(i.object.target=this.target.uuid),i}};var W6=new Ki,Vee=new Qe,zee=new Qe,cS=class{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new On(512,512),this.mapType=eh,this.map=null,this.mapPass=null,this.matrix=new Ki,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cy,this._frameExtents=new On(1,1),this._viewportCount=1,this._viewports=[new xr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){let i=this.camera,n=this.matrix;Vee.setFromMatrixPosition(t.matrixWorld),i.position.copy(Vee),zee.setFromMatrixPosition(t.target.matrixWorld),i.lookAt(zee),i.updateMatrixWorld(),W6.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(W6),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(W6)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}},r8=class extends cS{constructor(){super(new ss(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){let i=this.camera,n=gv*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=t.distance||i.far;(n!==i.fov||r!==i.aspect||o!==i.far)&&(i.fov=n,i.aspect=r,i.far=o,i.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}},Av=class extends Tv{constructor(t,i,n=0,r=Math.PI/3,o=0,s=2){super(t,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Po.DEFAULT_UP),this.updateMatrix(),this.target=new Po,this.distance=n,this.angle=r,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new r8}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,i){return super.copy(t,i),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}},Hee=new Ki,Hx=new Qe,j6=new Qe,o8=class extends cS{constructor(){super(new ss(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new On(4,2),this._viewportCount=6,this._viewports=[new xr(2,1,1,1),new xr(0,1,1,1),new xr(3,1,1,1),new xr(1,1,1,1),new xr(3,0,1,1),new xr(1,0,1,1)],this._cubeDirections=[new Qe(1,0,0),new Qe(-1,0,0),new Qe(0,0,1),new Qe(0,0,-1),new Qe(0,1,0),new Qe(0,-1,0)],this._cubeUps=[new Qe(0,1,0),new Qe(0,1,0),new Qe(0,1,0),new Qe(0,1,0),new Qe(0,0,1),new Qe(0,0,-1)]}updateMatrices(t,i=0){let n=this.camera,r=this.matrix,o=t.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),Hx.setFromMatrixPosition(t.matrixWorld),n.position.copy(Hx),j6.copy(n.position),j6.add(this._cubeDirections[i]),n.up.copy(this._cubeUps[i]),n.lookAt(j6),n.updateMatrixWorld(),r.makeTranslation(-Hx.x,-Hx.y,-Hx.z),Hee.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Hee)}},xg=class extends Tv{constructor(t,i,n=0,r=2){super(t,i),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new o8}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,i){return super.copy(t,i),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}},Lp=class extends Xx{constructor(t=-1,i=1,n=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=i,this.top=n,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(t,i){return super.copy(t,i),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,i,n,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,o=n-t,s=n+t,a=r+i,l=r-i;if(this.view!==null&&this.view.enabled){let c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let i=super.toJSON(t);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}},s8=class extends cS{constructor(){super(new Lp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},sf=class extends Tv{constructor(t,i){super(t,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Po.DEFAULT_UP),this.updateMatrix(),this.target=new Po,this.shadow=new s8}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}},af=class extends Tv{constructor(t,i){super(t,i),this.isAmbientLight=!0,this.type="AmbientLight"}};var Np=class{static extractUrlBase(t){let i=t.lastIndexOf("/");return i===-1?"./":t.slice(0,i+1)}static resolveURL(t,i){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(i)&&/^\//.test(t)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:i+t)}};var rk=class extends ss{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}};var D8="\\[\\]\\.:\\/",KLe=new RegExp("["+D8+"]","g"),T8="[^"+D8+"]",ZLe="[^"+D8.replace("\\.","")+"]",QLe=/((?:WC+[\/:])*)/.source.replace("WC",T8),JLe=/(WCOD+)?/.source.replace("WCOD",ZLe),e4e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",T8),t4e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",T8),i4e=new RegExp("^"+QLe+JLe+e4e+t4e+"$"),n4e=["material","materials","bones","map"],a8=class{constructor(t,i,n){let r=n||jo.parseTrackName(i);this._targetGroup=t,this._bindings=t.subscribe_(i,r)}getValue(t,i){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(t,i)}setValue(t,i){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(t,i)}bind(){let t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,n=t.length;i!==n;++i)t[i].bind()}unbind(){let t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,n=t.length;i!==n;++i)t[i].unbind()}},jo=(()=>{class e{constructor(i,n,r){this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(i,this.parsedPath.nodeName),this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,n,r){return i&&i.isAnimationObjectGroup?new e.Composite(i,n,r):new e(i,n,r)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(KLe,"")}static parseTrackName(i){let n=i4e.exec(i);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+i);let r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){let s=r.nodeName.substring(o+1);n4e.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return r}static findNode(i,n){if(n===void 0||n===""||n==="."||n===-1||n===i.name||n===i.uuid)return i;if(i.skeleton){let r=i.skeleton.getBoneByName(n);if(r!==void 0)return r}if(i.children){let r=function(s){for(let a=0;a<s.length;a++){let l=s[a];if(l.name===n||l.uuid===n)return l;let c=r(l.children);if(c)return c}return null},o=r(i.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,n){i[n]=this.targetObject[this.propertyName]}_getValue_array(i,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)i[n++]=r[o]}_getValue_arrayElement(i,n){i[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,n){this.resolvedProperty.toArray(i,n)}_setValue_direct(i,n){this.targetObject[this.propertyName]=i[n]}_setValue_direct_setNeedsUpdate(i,n){this.targetObject[this.propertyName]=i[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,n){this.targetObject[this.propertyName]=i[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=i[n++]}_setValue_array_setNeedsUpdate(i,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=i[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=i[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,n){this.resolvedProperty[this.propertyIndex]=i[n]}_setValue_arrayElement_setNeedsUpdate(i,n){this.resolvedProperty[this.propertyIndex]=i[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,n){this.resolvedProperty[this.propertyIndex]=i[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,n){this.resolvedProperty.fromArray(i,n)}_setValue_fromArray_setNeedsUpdate(i,n){this.resolvedProperty.fromArray(i,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,n){this.resolvedProperty.fromArray(i,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,n){this.bind(),this.getValue(i,n)}_setValue_unbound(i,n){this.bind(),this.setValue(i,n)}bind(){let i=this.node,n=this.parsedPath,r=n.objectName,o=n.propertyName,s=n.propertyIndex;if(i||(i=e.findNode(this.rootNode,n.nodeName),this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=n.objectIndex;switch(r){case"materials":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}i=i.material.materials;break;case"bones":if(!i.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}i=i.skeleton.bones;for(let u=0;u<i.length;u++)if(i[u].name===d){d=u;break}break;case"map":if("map"in i){i=i.map;break}if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}i=i.material.map;break;default:if(i[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}i=i[r]}if(d!==void 0){if(i[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);return}i=i[d]}}let a=i[o];if(a===void 0){let d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+o+" but it wasn't found.",i);return}let l=this.Versioning.None;this.targetObject=i,i.isMaterial===!0?l=this.Versioning.NeedsUpdate:i.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!i.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!i.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}i.morphTargetDictionary[s]!==void 0&&(s=i.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return e.Composite=a8,e})();jo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};jo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};jo.prototype.GetterByBindingType=[jo.prototype._getValue_direct,jo.prototype._getValue_array,jo.prototype._getValue_arrayElement,jo.prototype._getValue_toArray];jo.prototype.SetterByBindingTypeAndVersioning=[[jo.prototype._setValue_direct,jo.prototype._setValue_direct_setNeedsUpdate,jo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jo.prototype._setValue_array,jo.prototype._setValue_array_setNeedsUpdate,jo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jo.prototype._setValue_arrayElement,jo.prototype._setValue_arrayElement_setNeedsUpdate,jo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jo.prototype._setValue_fromArray,jo.prototype._setValue_fromArray_setNeedsUpdate,jo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Zut=new Float32Array(1);var Uee=new Ki,dS=class{constructor(t,i,n=0,r=1/0){this.ray=new bg(t,i),this.near=n,this.far=r,this.camera=null,this.layers=new _y,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,i){this.ray.set(t,i)}setFromCamera(t,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}setFromXRController(t){return Uee.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Uee),this}intersectObject(t,i=!0,n=[]){return l8(t,this,n,i),n.sort(Gee),n}intersectObjects(t,i=!0,n=[]){for(let r=0,o=t.length;r<o;r++)l8(t[r],this,n,i);return n.sort(Gee),n}};function Gee(e,t){return e.distance-t.distance}function l8(e,t,i,n){let r=!0;if(e.layers.test(t.layers)&&e.raycast(t,i)===!1&&(r=!1),r===!0&&n===!0){let o=e.children;for(let s=0,a=o.length;s<a;s++)l8(o[s],t,i,!0)}}function A8(e,t,i,n){let r=r4e(n);switch(i){case v8:return e*t;case _8:return e*t/r.components*r.byteLength;case bk:return e*t/r.components*r.byteLength;case y8:return e*t*2/r.components*r.byteLength;case _k:return e*t*2/r.components*r.byteLength;case b8:return e*t*3/r.components*r.byteLength;case Md:return e*t*4/r.components*r.byteLength;case yk:return e*t*4/r.components*r.byteLength;case pS:case mS:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case gS:case vS:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Ck:case Sk:return Math.max(e,16)*Math.max(t,8)/4;case wk:case xk:return Math.max(e,8)*Math.max(t,8)/2;case Mk:case Ek:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Dk:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Tk:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Ak:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case Rk:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case kk:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Ik:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case Pk:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Fk:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case Ok:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Lk:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Nk:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Bk:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Vk:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case zk:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Hk:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case bS:case Uk:case Gk:return Math.ceil(e/4)*Math.ceil(t/4)*16;case w8:case Wk:return Math.ceil(e/4)*Math.ceil(t/4)*8;case jk:case qk:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function r4e(e){switch(e){case eh:case p8:return{byteLength:1,components:1};case Ty:case m8:case Ay:return{byteLength:2,components:1};case gk:case vk:return{byteLength:2,components:4};case Sg:case mk:case th:return{byteLength:4,components:1};case g8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ok}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ok);function pie(){let e=null,t=!1,i=null,n=null;function r(o,s){i(o,s),n=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&i!==null&&(n=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(o){i=o},setContext:function(o){e=o}}}function s4e(e){let t=new WeakMap;function i(a,l){let c=a.array,d=a.usage,u=c.byteLength,h=e.createBuffer();e.bindBuffer(l,h),e.bufferData(l,c,d),a.onUploadCallback();let f;if(c instanceof Float32Array)f=e.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?f=e.HALF_FLOAT:f=e.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=e.SHORT;else if(c instanceof Uint32Array)f=e.UNSIGNED_INT;else if(c instanceof Int32Array)f=e.INT;else if(c instanceof Int8Array)f=e.BYTE;else if(c instanceof Uint8Array)f=e.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)f=e.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:u}}function n(a,l,c){let d=l.array,u=l.updateRanges;if(e.bindBuffer(c,a),u.length===0)e.bufferSubData(c,0,d);else{u.sort((f,p)=>f.start-p.start);let h=0;for(let f=1;f<u.length;f++){let p=u[h],v=u[f];v.start<=p.start+p.count+1?p.count=Math.max(p.count,v.start+v.count-p.start):(++h,u[h]=v)}u.length=h+1;for(let f=0,p=u.length;f<p;f++){let v=u[f];e.bufferSubData(c,v.start*d.BYTES_PER_ELEMENT,d,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),t.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);let l=t.get(a);l&&(e.deleteBuffer(l.buffer),t.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){let d=t.get(a);(!d||d.version<a.version)&&t.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}let c=t.get(a);if(c===void 0)t.set(a,i(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,a,l),c.version=a.version}}return{get:r,remove:o,update:s}}var a4e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,l4e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,c4e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,d4e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,u4e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,h4e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,f4e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,p4e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,m4e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,g4e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,v4e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,b4e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_4e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,y4e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,w4e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,C4e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,x4e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,S4e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,M4e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,E4e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,D4e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,T4e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,A4e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,R4e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,k4e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,I4e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,P4e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,F4e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,O4e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,L4e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,N4e="gl_FragColor = linearToOutputTexel( gl_FragColor );",B4e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,V4e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,z4e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,H4e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,U4e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,G4e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,W4e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,j4e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,q4e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Y4e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$4e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,X4e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,K4e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Z4e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Q4e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,J4e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,eNe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tNe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iNe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,nNe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,rNe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,oNe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,sNe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,aNe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lNe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,cNe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dNe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,uNe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hNe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,fNe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,pNe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gNe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vNe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bNe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_Ne=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,yNe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wNe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,CNe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,xNe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,SNe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,MNe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ENe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,TNe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ANe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,RNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,kNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,INe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,PNe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FNe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ONe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,LNe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,NNe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,BNe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,VNe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zNe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HNe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,UNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,GNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,WNe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,jNe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qNe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YNe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$Ne=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XNe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,KNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZNe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,QNe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,JNe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,e6e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,t6e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,i6e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,n6e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,r6e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,o6e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,s6e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,a6e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,l6e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,c6e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,d6e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,u6e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,h6e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,f6e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,p6e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,m6e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,g6e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,v6e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,b6e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_6e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,y6e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,w6e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C6e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x6e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S6e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,M6e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E6e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,D6e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,T6e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,A6e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R6e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,k6e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I6e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,P6e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F6e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,O6e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,L6e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,N6e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,B6e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,V6e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Sr={alphahash_fragment:a4e,alphahash_pars_fragment:l4e,alphamap_fragment:c4e,alphamap_pars_fragment:d4e,alphatest_fragment:u4e,alphatest_pars_fragment:h4e,aomap_fragment:f4e,aomap_pars_fragment:p4e,batching_pars_vertex:m4e,batching_vertex:g4e,begin_vertex:v4e,beginnormal_vertex:b4e,bsdfs:_4e,iridescence_fragment:y4e,bumpmap_pars_fragment:w4e,clipping_planes_fragment:C4e,clipping_planes_pars_fragment:x4e,clipping_planes_pars_vertex:S4e,clipping_planes_vertex:M4e,color_fragment:E4e,color_pars_fragment:D4e,color_pars_vertex:T4e,color_vertex:A4e,common:R4e,cube_uv_reflection_fragment:k4e,defaultnormal_vertex:I4e,displacementmap_pars_vertex:P4e,displacementmap_vertex:F4e,emissivemap_fragment:O4e,emissivemap_pars_fragment:L4e,colorspace_fragment:N4e,colorspace_pars_fragment:B4e,envmap_fragment:V4e,envmap_common_pars_fragment:z4e,envmap_pars_fragment:H4e,envmap_pars_vertex:U4e,envmap_physical_pars_fragment:J4e,envmap_vertex:G4e,fog_vertex:W4e,fog_pars_vertex:j4e,fog_fragment:q4e,fog_pars_fragment:Y4e,gradientmap_pars_fragment:$4e,lightmap_pars_fragment:X4e,lights_lambert_fragment:K4e,lights_lambert_pars_fragment:Z4e,lights_pars_begin:Q4e,lights_toon_fragment:eNe,lights_toon_pars_fragment:tNe,lights_phong_fragment:iNe,lights_phong_pars_fragment:nNe,lights_physical_fragment:rNe,lights_physical_pars_fragment:oNe,lights_fragment_begin:sNe,lights_fragment_maps:aNe,lights_fragment_end:lNe,logdepthbuf_fragment:cNe,logdepthbuf_pars_fragment:dNe,logdepthbuf_pars_vertex:uNe,logdepthbuf_vertex:hNe,map_fragment:fNe,map_pars_fragment:pNe,map_particle_fragment:mNe,map_particle_pars_fragment:gNe,metalnessmap_fragment:vNe,metalnessmap_pars_fragment:bNe,morphinstance_vertex:_Ne,morphcolor_vertex:yNe,morphnormal_vertex:wNe,morphtarget_pars_vertex:CNe,morphtarget_vertex:xNe,normal_fragment_begin:SNe,normal_fragment_maps:MNe,normal_pars_fragment:ENe,normal_pars_vertex:DNe,normal_vertex:TNe,normalmap_pars_fragment:ANe,clearcoat_normal_fragment_begin:RNe,clearcoat_normal_fragment_maps:kNe,clearcoat_pars_fragment:INe,iridescence_pars_fragment:PNe,opaque_fragment:FNe,packing:ONe,premultiplied_alpha_fragment:LNe,project_vertex:NNe,dithering_fragment:BNe,dithering_pars_fragment:VNe,roughnessmap_fragment:zNe,roughnessmap_pars_fragment:HNe,shadowmap_pars_fragment:UNe,shadowmap_pars_vertex:GNe,shadowmap_vertex:WNe,shadowmask_pars_fragment:jNe,skinbase_vertex:qNe,skinning_pars_vertex:YNe,skinning_vertex:$Ne,skinnormal_vertex:XNe,specularmap_fragment:KNe,specularmap_pars_fragment:ZNe,tonemapping_fragment:QNe,tonemapping_pars_fragment:JNe,transmission_fragment:e6e,transmission_pars_fragment:t6e,uv_pars_fragment:i6e,uv_pars_vertex:n6e,uv_vertex:r6e,worldpos_vertex:o6e,background_vert:s6e,background_frag:a6e,backgroundCube_vert:l6e,backgroundCube_frag:c6e,cube_vert:d6e,cube_frag:u6e,depth_vert:h6e,depth_frag:f6e,distanceRGBA_vert:p6e,distanceRGBA_frag:m6e,equirect_vert:g6e,equirect_frag:v6e,linedashed_vert:b6e,linedashed_frag:_6e,meshbasic_vert:y6e,meshbasic_frag:w6e,meshlambert_vert:C6e,meshlambert_frag:x6e,meshmatcap_vert:S6e,meshmatcap_frag:M6e,meshnormal_vert:E6e,meshnormal_frag:D6e,meshphong_vert:T6e,meshphong_frag:A6e,meshphysical_vert:R6e,meshphysical_frag:k6e,meshtoon_vert:I6e,meshtoon_frag:P6e,points_vert:F6e,points_frag:O6e,shadow_vert:L6e,shadow_frag:N6e,sprite_vert:B6e,sprite_frag:V6e},qi={common:{diffuse:{value:new Ji(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new sr},alphaMap:{value:null},alphaMapTransform:{value:new sr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new sr}},envmap:{envMap:{value:null},envMapRotation:{value:new sr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new sr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new sr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new sr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new sr},normalScale:{value:new On(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new sr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new sr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new sr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new sr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ji(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ji(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new sr},alphaTest:{value:0},uvTransform:{value:new sr}},sprite:{diffuse:{value:new Ji(16777215)},opacity:{value:1},center:{value:new On(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new sr},alphaMap:{value:null},alphaMapTransform:{value:new sr},alphaTest:{value:0}}},cf={basic:{uniforms:ql([qi.common,qi.specularmap,qi.envmap,qi.aomap,qi.lightmap,qi.fog]),vertexShader:Sr.meshbasic_vert,fragmentShader:Sr.meshbasic_frag},lambert:{uniforms:ql([qi.common,qi.specularmap,qi.envmap,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.fog,qi.lights,{emissive:{value:new Ji(0)}}]),vertexShader:Sr.meshlambert_vert,fragmentShader:Sr.meshlambert_frag},phong:{uniforms:ql([qi.common,qi.specularmap,qi.envmap,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.fog,qi.lights,{emissive:{value:new Ji(0)},specular:{value:new Ji(1118481)},shininess:{value:30}}]),vertexShader:Sr.meshphong_vert,fragmentShader:Sr.meshphong_frag},standard:{uniforms:ql([qi.common,qi.envmap,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.roughnessmap,qi.metalnessmap,qi.fog,qi.lights,{emissive:{value:new Ji(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Sr.meshphysical_vert,fragmentShader:Sr.meshphysical_frag},toon:{uniforms:ql([qi.common,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.gradientmap,qi.fog,qi.lights,{emissive:{value:new Ji(0)}}]),vertexShader:Sr.meshtoon_vert,fragmentShader:Sr.meshtoon_frag},matcap:{uniforms:ql([qi.common,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.fog,{matcap:{value:null}}]),vertexShader:Sr.meshmatcap_vert,fragmentShader:Sr.meshmatcap_frag},points:{uniforms:ql([qi.points,qi.fog]),vertexShader:Sr.points_vert,fragmentShader:Sr.points_frag},dashed:{uniforms:ql([qi.common,qi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Sr.linedashed_vert,fragmentShader:Sr.linedashed_frag},depth:{uniforms:ql([qi.common,qi.displacementmap]),vertexShader:Sr.depth_vert,fragmentShader:Sr.depth_frag},normal:{uniforms:ql([qi.common,qi.bumpmap,qi.normalmap,qi.displacementmap,{opacity:{value:1}}]),vertexShader:Sr.meshnormal_vert,fragmentShader:Sr.meshnormal_frag},sprite:{uniforms:ql([qi.sprite,qi.fog]),vertexShader:Sr.sprite_vert,fragmentShader:Sr.sprite_frag},background:{uniforms:{uvTransform:{value:new sr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Sr.background_vert,fragmentShader:Sr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new sr}},vertexShader:Sr.backgroundCube_vert,fragmentShader:Sr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Sr.cube_vert,fragmentShader:Sr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Sr.equirect_vert,fragmentShader:Sr.equirect_frag},distanceRGBA:{uniforms:ql([qi.common,qi.displacementmap,{referencePosition:{value:new Qe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sr.distanceRGBA_vert,fragmentShader:Sr.distanceRGBA_frag},shadow:{uniforms:ql([qi.lights,qi.fog,{color:{value:new Ji(0)},opacity:{value:1}}]),vertexShader:Sr.shadow_vert,fragmentShader:Sr.shadow_frag}};cf.physical={uniforms:ql([cf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new sr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new sr},clearcoatNormalScale:{value:new On(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new sr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new sr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new sr},sheen:{value:0},sheenColor:{value:new Ji(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new sr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new sr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new sr},transmissionSamplerSize:{value:new On},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new sr},attenuationDistance:{value:0},attenuationColor:{value:new Ji(0)},specularColor:{value:new Ji(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new sr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new sr},anisotropyVector:{value:new On},anisotropyMap:{value:null},anisotropyMapTransform:{value:new sr}}]),vertexShader:Sr.meshphysical_vert,fragmentShader:Sr.meshphysical_frag};var Yk={r:0,b:0,g:0},Pv=new nl,z6e=new Ki;function H6e(e,t,i,n,r,o,s){let a=new Ji(0),l=o===!0?0:1,c,d,u=null,h=0,f=null;function p(w){let x=w.isScene===!0?w.background:null;return x&&x.isTexture&&(x=(w.backgroundBlurriness>0?i:t).get(x)),x}function v(w){let x=!1,R=p(w);R===null?g(a,l):R&&R.isColor&&(g(R,1),x=!0);let _=e.xr.getEnvironmentBlendMode();_==="additive"?n.buffers.color.setClear(0,0,0,1,s):_==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(e.autoClear||x)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))}function m(w,x){let R=p(x);R&&(R.isCubeTexture||R.mapping===hS)?(d===void 0&&(d=new go(new _g(1,1,1),new Ju({name:"BackgroundCubeMaterial",uniforms:Iv(cf.backgroundCube.uniforms),vertexShader:cf.backgroundCube.vertexShader,fragmentShader:cf.backgroundCube.fragmentShader,side:Js,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(_,L,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),Pv.copy(x.backgroundRotation),Pv.x*=-1,Pv.y*=-1,Pv.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Pv.y*=-1,Pv.z*=-1),d.material.uniforms.envMap.value=R,d.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(z6e.makeRotationFromEuler(Pv)),d.material.toneMapped=Fn.getTransfer(R.colorSpace)!==So,(u!==R||h!==R.version||f!==e.toneMapping)&&(d.material.needsUpdate=!0,u=R,h=R.version,f=e.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null)):R&&R.isTexture&&(c===void 0&&(c=new go(new Sv(2,2),new Ju({name:"BackgroundMaterial",uniforms:Iv(cf.background.uniforms),vertexShader:cf.background.vertexShader,fragmentShader:cf.background.fragmentShader,side:Cd,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=R,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=Fn.getTransfer(R.colorSpace)!==So,R.matrixAutoUpdate===!0&&R.updateMatrix(),c.material.uniforms.uvTransform.value.copy(R.matrix),(u!==R||h!==R.version||f!==e.toneMapping)&&(c.material.needsUpdate=!0,u=R,h=R.version,f=e.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function g(w,x){w.getRGB(Yk,E8(e)),n.buffers.color.setClear(Yk.r,Yk.g,Yk.b,x,s)}function b(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(w,x=1){a.set(w),l=x,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,g(a,l)},render:v,addToRenderList:m,dispose:b}}function U6e(e,t){let i=e.getParameter(e.MAX_VERTEX_ATTRIBS),n={},r=h(null),o=r,s=!1;function a(P,A,O,V,U){let ae=!1,ne=u(V,O,A);o!==ne&&(o=ne,c(o.object)),ae=f(P,V,O,U),ae&&p(P,V,O,U),U!==null&&t.update(U,e.ELEMENT_ARRAY_BUFFER),(ae||s)&&(s=!1,x(P,A,O,V),U!==null&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(U).buffer))}function l(){return e.createVertexArray()}function c(P){return e.bindVertexArray(P)}function d(P){return e.deleteVertexArray(P)}function u(P,A,O){let V=O.wireframe===!0,U=n[P.id];U===void 0&&(U={},n[P.id]=U);let ae=U[A.id];ae===void 0&&(ae={},U[A.id]=ae);let ne=ae[V];return ne===void 0&&(ne=h(l()),ae[V]=ne),ne}function h(P){let A=[],O=[],V=[];for(let U=0;U<i;U++)A[U]=0,O[U]=0,V[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:A,enabledAttributes:O,attributeDivisors:V,object:P,attributes:{},index:null}}function f(P,A,O,V){let U=o.attributes,ae=A.attributes,ne=0,ue=O.getAttributes();for(let se in ue)if(ue[se].location>=0){let Ve=U[se],Ge=ae[se];if(Ge===void 0&&(se==="instanceMatrix"&&P.instanceMatrix&&(Ge=P.instanceMatrix),se==="instanceColor"&&P.instanceColor&&(Ge=P.instanceColor)),Ve===void 0||Ve.attribute!==Ge||Ge&&Ve.data!==Ge.data)return!0;ne++}return o.attributesNum!==ne||o.index!==V}function p(P,A,O,V){let U={},ae=A.attributes,ne=0,ue=O.getAttributes();for(let se in ue)if(ue[se].location>=0){let Ve=ae[se];Ve===void 0&&(se==="instanceMatrix"&&P.instanceMatrix&&(Ve=P.instanceMatrix),se==="instanceColor"&&P.instanceColor&&(Ve=P.instanceColor));let Ge={};Ge.attribute=Ve,Ve&&Ve.data&&(Ge.data=Ve.data),U[se]=Ge,ne++}o.attributes=U,o.attributesNum=ne,o.index=V}function v(){let P=o.newAttributes;for(let A=0,O=P.length;A<O;A++)P[A]=0}function m(P){g(P,0)}function g(P,A){let O=o.newAttributes,V=o.enabledAttributes,U=o.attributeDivisors;O[P]=1,V[P]===0&&(e.enableVertexAttribArray(P),V[P]=1),U[P]!==A&&(e.vertexAttribDivisor(P,A),U[P]=A)}function b(){let P=o.newAttributes,A=o.enabledAttributes;for(let O=0,V=A.length;O<V;O++)A[O]!==P[O]&&(e.disableVertexAttribArray(O),A[O]=0)}function w(P,A,O,V,U,ae,ne){ne===!0?e.vertexAttribIPointer(P,A,O,U,ae):e.vertexAttribPointer(P,A,O,V,U,ae)}function x(P,A,O,V){v();let U=V.attributes,ae=O.getAttributes(),ne=A.defaultAttributeValues;for(let ue in ae){let se=ae[ue];if(se.location>=0){let _e=U[ue];if(_e===void 0&&(ue==="instanceMatrix"&&P.instanceMatrix&&(_e=P.instanceMatrix),ue==="instanceColor"&&P.instanceColor&&(_e=P.instanceColor)),_e!==void 0){let Ve=_e.normalized,Ge=_e.itemSize,K=t.get(_e);if(K===void 0)continue;let Q=K.buffer,ee=K.type,Z=K.bytesPerElement,G=ee===e.INT||ee===e.UNSIGNED_INT||_e.gpuType===mk;if(_e.isInterleavedBufferAttribute){let W=_e.data,ce=W.stride,me=_e.offset;if(W.isInstancedInterleavedBuffer){for(let Me=0;Me<se.locationSize;Me++)g(se.location+Me,W.meshPerAttribute);P.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let Me=0;Me<se.locationSize;Me++)m(se.location+Me);e.bindBuffer(e.ARRAY_BUFFER,Q);for(let Me=0;Me<se.locationSize;Me++)w(se.location+Me,Ge/se.locationSize,ee,Ve,ce*Z,(me+Ge/se.locationSize*Me)*Z,G)}else{if(_e.isInstancedBufferAttribute){for(let W=0;W<se.locationSize;W++)g(se.location+W,_e.meshPerAttribute);P.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let W=0;W<se.locationSize;W++)m(se.location+W);e.bindBuffer(e.ARRAY_BUFFER,Q);for(let W=0;W<se.locationSize;W++)w(se.location+W,Ge/se.locationSize,ee,Ve,Ge*Z,Ge/se.locationSize*W*Z,G)}}else if(ne!==void 0){let Ve=ne[ue];if(Ve!==void 0)switch(Ve.length){case 2:e.vertexAttrib2fv(se.location,Ve);break;case 3:e.vertexAttrib3fv(se.location,Ve);break;case 4:e.vertexAttrib4fv(se.location,Ve);break;default:e.vertexAttrib1fv(se.location,Ve)}}}}b()}function R(){F();for(let P in n){let A=n[P];for(let O in A){let V=A[O];for(let U in V)d(V[U].object),delete V[U];delete A[O]}delete n[P]}}function _(P){if(n[P.id]===void 0)return;let A=n[P.id];for(let O in A){let V=A[O];for(let U in V)d(V[U].object),delete V[U];delete A[O]}delete n[P.id]}function L(P){for(let A in n){let O=n[A];if(O[P.id]===void 0)continue;let V=O[P.id];for(let U in V)d(V[U].object),delete V[U];delete O[P.id]}}function F(){T(),s=!0,o!==r&&(o=r,c(o.object))}function T(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:F,resetDefaultState:T,dispose:R,releaseStatesOfGeometry:_,releaseStatesOfProgram:L,initAttributes:v,enableAttribute:m,disableUnusedAttributes:b}}function G6e(e,t,i){let n;function r(c){n=c}function o(c,d){e.drawArrays(n,c,d),i.update(d,n,1)}function s(c,d,u){u!==0&&(e.drawArraysInstanced(n,c,d,u),i.update(d,n,u))}function a(c,d,u){if(u===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,d,0,u);let f=0;for(let p=0;p<u;p++)f+=d[p];i.update(f,n,1)}function l(c,d,u,h){if(u===0)return;let f=t.get("WEBGL_multi_draw");if(f===null)for(let p=0;p<c.length;p++)s(c[p],d[p],h[p]);else{f.multiDrawArraysInstancedWEBGL(n,c,0,d,0,h,0,u);let p=0;for(let v=0;v<u;v++)p+=d[v]*h[v];i.update(p,n,1)}}this.setMode=r,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function W6e(e,t,i,n){let r;function o(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){let L=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){return!(L!==Md&&n.convert(L)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(L){let F=L===Ay&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(L!==eh&&n.convert(L)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==th&&!F)}function l(L){if(L==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=i.precision!==void 0?i.precision:"highp",d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);let u=i.logarithmicDepthBuffer===!0,h=i.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),f=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=e.getParameter(e.MAX_TEXTURE_SIZE),m=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),g=e.getParameter(e.MAX_VERTEX_ATTRIBS),b=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),w=e.getParameter(e.MAX_VARYING_VECTORS),x=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),R=p>0,_=e.getParameter(e.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:h,maxTextures:f,maxVertexTextures:p,maxTextureSize:v,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:b,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:R,maxSamples:_}}function j6e(e){let t=this,i=null,n=0,r=!1,o=!1,s=new ef,a=new sr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){let f=u.length!==0||h||n!==0||r;return r=h,n=u.length,f},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,h){i=d(u,h,0)},this.setState=function(u,h,f){let p=u.clippingPlanes,v=u.clipIntersection,m=u.clipShadows,g=e.get(u);if(!r||p===null||p.length===0||o&&!m)o?d(null):c();else{let b=o?0:n,w=b*4,x=g.clippingState||null;l.value=x,x=d(p,h,w,f);for(let R=0;R!==w;++R)x[R]=i[R];g.clippingState=x,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==i&&(l.value=i,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function d(u,h,f,p){let v=u!==null?u.length:0,m=null;if(v!==0){if(m=l.value,p!==!0||m===null){let g=f+v*4,b=h.matrixWorldInverse;a.getNormalMatrix(b),(m===null||m.length<g)&&(m=new Float32Array(g));for(let w=0,x=f;w!==v;++w,x+=4)s.copy(u[w]).applyMatrix4(b,a),s.normal.toArray(m,x),m[x+3]=s.constant}l.value=m,l.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,m}}function q6e(e){let t=new WeakMap;function i(s,a){return a===Dy?s.mapping=Rv:a===fk&&(s.mapping=kv),s}function n(s){if(s&&s.isTexture){let a=s.mapping;if(a===Dy||a===fk)if(t.has(s)){let l=t.get(s).texture;return i(l,s.mapping)}else{let l=s.image;if(l&&l.height>0){let c=new XR(l.height);return c.fromEquirectangularTexture(e,s),t.set(s,c),s.addEventListener("dispose",r),i(c.texture,s.mapping)}else return null}}return s}function r(s){let a=s.target;a.removeEventListener("dispose",r);let l=t.get(a);l!==void 0&&(t.delete(a),l.dispose())}function o(){t=new WeakMap}return{get:n,dispose:o}}var Py=4,jte=[.125,.215,.35,.446,.526,.582],Lv=20,R8=new Lp,qte=new Ji,k8=null,I8=0,P8=0,F8=!1,Ov=(1+Math.sqrt(5))/2,Iy=1/Ov,Yte=[new Qe(-Ov,Iy,0),new Qe(Ov,Iy,0),new Qe(-Iy,0,Ov),new Qe(Iy,0,Ov),new Qe(0,Ov,-Iy),new Qe(0,Ov,Iy),new Qe(-1,1,-1),new Qe(1,1,-1),new Qe(-1,1,1),new Qe(1,1,1)],Y6e=new Qe,Kk=class{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,i=0,n=.1,r=100,o={}){let{size:s=256,position:a=Y6e}=o;k8=this._renderer.getRenderTarget(),I8=this._renderer.getActiveCubeFace(),P8=this._renderer.getActiveMipmapLevel(),F8=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);let l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(t,n,r,l,a),i>0&&this._blur(l,0,0,i),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(t,i=null){return this._fromTexture(t,i)}fromCubemap(t,i=null){return this._fromTexture(t,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Kte(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Xte(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(k8,I8,P8),this._renderer.xr.enabled=F8,t.scissorTest=!1,$k(t,0,0,t.width,t.height)}_fromTexture(t,i){t.mapping===Rv||t.mapping===kv?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),k8=this._renderer.getRenderTarget(),I8=this._renderer.getActiveCubeFace(),P8=this._renderer.getActiveMipmapLevel(),F8=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let n=i||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let t=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,n={magFilter:Ia,minFilter:Ia,generateMipmaps:!1,type:Ay,format:Md,colorSpace:Qu,depthBuffer:!1},r=$te(t,i,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$te(t,i,n);let{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$6e(o)),this._blurMaterial=X6e(o,t,i)}return r}_compileMaterial(t){let i=new go(this._lodPlanes[0],t);this._renderer.compile(i,R8)}_sceneToCubeUV(t,i,n,r,o){let l=new ss(90,1,i,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(qte),u.toneMapping=Vp,u.autoClear=!1;let p=new xd({name:"PMREM.Background",side:Js,depthWrite:!1,depthTest:!1}),v=new go(new _g,p),m=!1,g=t.background;g?g.isColor&&(p.color.copy(g),t.background=null,m=!0):(p.color.copy(qte),m=!0);for(let b=0;b<6;b++){let w=b%3;w===0?(l.up.set(0,c[b],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x+d[b],o.y,o.z)):w===1?(l.up.set(0,0,c[b]),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y+d[b],o.z)):(l.up.set(0,c[b],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y,o.z+d[b]));let x=this._cubeSize;$k(r,w*x,b>2?x:0,x,x),u.setRenderTarget(r),m&&u.render(v,l),u.render(t,l)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=f,u.autoClear=h,t.background=g}_textureToCubeUV(t,i){let n=this._renderer,r=t.mapping===Rv||t.mapping===kv;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Kte()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Xte());let o=r?this._cubemapMaterial:this._equirectMaterial,s=new go(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=t;let l=this._cubeSize;$k(i,0,0,3*l,2*l),n.setRenderTarget(i),n.render(s,R8)}_applyPMREM(t){let i=this._renderer,n=i.autoClear;i.autoClear=!1;let r=this._lodPlanes.length;for(let o=1;o<r;o++){let s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=Yte[(r-o-1)%Yte.length];this._blur(t,o-1,o,s,a)}i.autoClear=n}_blur(t,i,n,r,o){let s=this._pingPongRenderTarget;this._halfBlur(t,s,i,n,r,"latitudinal",o),this._halfBlur(s,t,n,n,r,"longitudinal",o)}_halfBlur(t,i,n,r,o,s,a){let l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let d=3,u=new go(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[n]-1,p=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*Lv-1),v=o/p,m=isFinite(o)?1+Math.floor(d*v):Lv;m>Lv&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Lv}`);let g=[],b=0;for(let L=0;L<Lv;++L){let F=L/v,T=Math.exp(-F*F/2);g.push(T),L===0?b+=T:L<m&&(b+=2*T)}for(let L=0;L<g.length;L++)g[L]=g[L]/b;h.envMap.value=t.texture,h.samples.value=m,h.weights.value=g,h.latitudinal.value=s==="latitudinal",a&&(h.poleAxis.value=a);let{_lodMax:w}=this;h.dTheta.value=p,h.mipInt.value=w-n;let x=this._sizeLods[r],R=3*x*(r>w-Py?r-w+Py:0),_=4*(this._cubeSize-x);$k(i,R,_,3*x,2*x),l.setRenderTarget(i),l.render(u,R8)}};function $6e(e){let t=[],i=[],n=[],r=e,o=e-Py+1+jte.length;for(let s=0;s<o;s++){let a=Math.pow(2,r);i.push(a);let l=1/a;s>e-Py?l=jte[s-e+Py-1]:s===0&&(l=0),n.push(l);let c=1/(a-2),d=-c,u=1+c,h=[d,d,u,d,u,u,d,d,u,u,d,u],f=6,p=6,v=3,m=2,g=1,b=new Float32Array(v*p*f),w=new Float32Array(m*p*f),x=new Float32Array(g*p*f);for(let _=0;_<f;_++){let L=_%3*2/3-1,F=_>2?0:-1,T=[L,F,0,L+2/3,F,0,L+2/3,F+1,0,L,F,0,L+2/3,F+1,0,L,F+1,0];b.set(T,v*p*_),w.set(h,m*p*_);let P=[_,_,_,_,_,_];x.set(P,g*p*_)}let R=new Wr;R.setAttribute("position",new il(b,v)),R.setAttribute("uv",new il(w,m)),R.setAttribute("faceIndex",new il(x,g)),t.push(R),r>Py&&r--}return{lodPlanes:t,sizeLods:i,sigmas:n}}function $te(e,t,i){let n=new nf(e,t,i);return n.texture.mapping=hS,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function $k(e,t,i,n,r){e.viewport.set(t,i,n,r),e.scissor.set(t,i,n,r)}function X6e(e,t,i){let n=new Float32Array(Lv),r=new Qe(0,1,0);return new Ju({name:"SphericalGaussianBlur",defines:{n:Lv,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:W8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bp,depthTest:!1,depthWrite:!1})}function Xte(){return new Ju({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:W8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bp,depthTest:!1,depthWrite:!1})}function Kte(){return new Ju({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:W8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bp,depthTest:!1,depthWrite:!1})}function W8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function K6e(e){let t=new WeakMap,i=null;function n(a){if(a&&a.isTexture){let l=a.mapping,c=l===Dy||l===fk,d=l===Rv||l===kv;if(c||d){let u=t.get(a),h=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return i===null&&(i=new Kk(e)),u=c?i.fromEquirectangular(a,u):i.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,t.set(a,u),u.texture;if(u!==void 0)return u.texture;{let f=a.image;return c&&f&&f.height>0||d&&f&&r(f)?(i===null&&(i=new Kk(e)),u=c?i.fromEquirectangular(a):i.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,t.set(a,u),a.addEventListener("dispose",o),u.texture):null}}}return a}function r(a){let l=0,c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function o(a){let l=a.target;l.removeEventListener("dispose",o);let c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function s(){t=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:n,dispose:s}}function Z6e(e){let t={};function i(n){if(t[n]!==void 0)return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(n){return i(n)!==null},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(n){let r=i(n);return r===null&&yS("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Q6e(e,t,i,n){let r={},o=new WeakMap;function s(u){let h=u.target;h.index!==null&&t.remove(h.index);for(let p in h.attributes)t.remove(h.attributes[p]);h.removeEventListener("dispose",s),delete r[h.id];let f=o.get(h);f&&(t.remove(f),o.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,i.memory.geometries--}function a(u,h){return r[h.id]===!0||(h.addEventListener("dispose",s),r[h.id]=!0,i.memory.geometries++),h}function l(u){let h=u.attributes;for(let f in h)t.update(h[f],e.ARRAY_BUFFER)}function c(u){let h=[],f=u.index,p=u.attributes.position,v=0;if(f!==null){let b=f.array;v=f.version;for(let w=0,x=b.length;w<x;w+=3){let R=b[w+0],_=b[w+1],L=b[w+2];h.push(R,_,_,L,L,R)}}else if(p!==void 0){let b=p.array;v=p.version;for(let w=0,x=b.length/3-1;w<x;w+=3){let R=w+0,_=w+1,L=w+2;h.push(R,_,_,L,L,R)}}else return;let m=new(M8(h)?$x:bv)(h,1);m.version=v;let g=o.get(u);g&&t.remove(g),o.set(u,m)}function d(u){let h=o.get(u);if(h){let f=u.index;f!==null&&h.version<f.version&&c(u)}else c(u);return o.get(u)}return{get:a,update:l,getWireframeAttribute:d}}function J6e(e,t,i){let n;function r(h){n=h}let o,s;function a(h){o=h.type,s=h.bytesPerElement}function l(h,f){e.drawElements(n,f,o,h*s),i.update(f,n,1)}function c(h,f,p){p!==0&&(e.drawElementsInstanced(n,f,o,h*s,p),i.update(f,n,p))}function d(h,f,p){if(p===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,f,0,o,h,0,p);let m=0;for(let g=0;g<p;g++)m+=f[g];i.update(m,n,1)}function u(h,f,p,v){if(p===0)return;let m=t.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<h.length;g++)c(h[g]/s,f[g],v[g]);else{m.multiDrawElementsInstancedWEBGL(n,f,0,o,h,0,v,0,p);let g=0;for(let b=0;b<p;b++)g+=f[b]*v[b];i.update(g,n,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=u}function e8e(e){let t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,s,a){switch(i.calls++,s){case e.TRIANGLES:i.triangles+=a*(o/3);break;case e.LINES:i.lines+=a*(o/2);break;case e.LINE_STRIP:i.lines+=a*(o-1);break;case e.LINE_LOOP:i.lines+=a*o;break;case e.POINTS:i.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:r,update:n}}function t8e(e,t,i){let n=new WeakMap,r=new xr;function o(s,a,l){let c=s.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=d!==void 0?d.length:0,h=n.get(a);if(h===void 0||h.count!==u){let P=function(){F.dispose(),n.delete(a),a.removeEventListener("dispose",P)};var f=P;h!==void 0&&h.texture.dispose();let p=a.morphAttributes.position!==void 0,v=a.morphAttributes.normal!==void 0,m=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],b=a.morphAttributes.normal||[],w=a.morphAttributes.color||[],x=0;p===!0&&(x=1),v===!0&&(x=2),m===!0&&(x=3);let R=a.attributes.position.count*x,_=1;R>t.maxTextureSize&&(_=Math.ceil(R/t.maxTextureSize),R=t.maxTextureSize);let L=new Float32Array(R*_*4*u),F=new Yx(L,R,_,u);F.type=th,F.needsUpdate=!0;let T=x*4;for(let A=0;A<u;A++){let O=g[A],V=b[A],U=w[A],ae=R*_*4*A;for(let ne=0;ne<O.count;ne++){let ue=ne*T;p===!0&&(r.fromBufferAttribute(O,ne),L[ae+ue+0]=r.x,L[ae+ue+1]=r.y,L[ae+ue+2]=r.z,L[ae+ue+3]=0),v===!0&&(r.fromBufferAttribute(V,ne),L[ae+ue+4]=r.x,L[ae+ue+5]=r.y,L[ae+ue+6]=r.z,L[ae+ue+7]=0),m===!0&&(r.fromBufferAttribute(U,ne),L[ae+ue+8]=r.x,L[ae+ue+9]=r.y,L[ae+ue+10]=r.z,L[ae+ue+11]=U.itemSize===4?r.w:1)}}h={count:u,texture:F,size:new On(R,_)},n.set(a,h),a.addEventListener("dispose",P)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(e,"morphTexture",s.morphTexture,i);else{let p=0;for(let m=0;m<c.length;m++)p+=c[m];let v=a.morphTargetsRelative?1:1-p;l.getUniforms().setValue(e,"morphTargetBaseInfluence",v),l.getUniforms().setValue(e,"morphTargetInfluences",c)}l.getUniforms().setValue(e,"morphTargetsTexture",h.texture,i),l.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}return{update:o}}function i8e(e,t,i,n){let r=new WeakMap;function o(l){let c=n.render.frame,d=l.geometry,u=t.get(l,d);if(r.get(u)!==c&&(t.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(i.update(l.instanceMatrix,e.ARRAY_BUFFER),l.instanceColor!==null&&i.update(l.instanceColor,e.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){let h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return u}function s(){r=new WeakMap}function a(l){let c=l.target;c.removeEventListener("dispose",a),i.remove(c.instanceMatrix),c.instanceColor!==null&&i.remove(c.instanceColor)}return{update:o,dispose:s}}var mie=new hu,Zte=new Zx(1,1),gie=new Yx,vie=new YR,bie=new yy,Qte=[],Jte=[],eie=new Float32Array(16),tie=new Float32Array(9),iie=new Float32Array(4);function Oy(e,t,i){let n=e[0];if(n<=0||n>0)return e;let r=t*i,o=Qte[r];if(o===void 0&&(o=new Float32Array(r),Qte[r]=o),t!==0){n.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=i,e[s].toArray(o,a)}return o}function Pa(e,t){if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Fa(e,t){for(let i=0,n=t.length;i<n;i++)e[i]=t[i]}function Zk(e,t){let i=Jte[t];i===void 0&&(i=new Int32Array(t),Jte[t]=i);for(let n=0;n!==t;++n)i[n]=e.allocateTextureUnit();return i}function n8e(e,t){let i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function r8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Pa(i,t))return;e.uniform2fv(this.addr,t),Fa(i,t)}}function o8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(t.r!==void 0)(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Pa(i,t))return;e.uniform3fv(this.addr,t),Fa(i,t)}}function s8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Pa(i,t))return;e.uniform4fv(this.addr,t),Fa(i,t)}}function a8e(e,t){let i=this.cache,n=t.elements;if(n===void 0){if(Pa(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),Fa(i,t)}else{if(Pa(i,n))return;iie.set(n),e.uniformMatrix2fv(this.addr,!1,iie),Fa(i,n)}}function l8e(e,t){let i=this.cache,n=t.elements;if(n===void 0){if(Pa(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),Fa(i,t)}else{if(Pa(i,n))return;tie.set(n),e.uniformMatrix3fv(this.addr,!1,tie),Fa(i,n)}}function c8e(e,t){let i=this.cache,n=t.elements;if(n===void 0){if(Pa(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),Fa(i,t)}else{if(Pa(i,n))return;eie.set(n),e.uniformMatrix4fv(this.addr,!1,eie),Fa(i,n)}}function d8e(e,t){let i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function u8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Pa(i,t))return;e.uniform2iv(this.addr,t),Fa(i,t)}}function h8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(Pa(i,t))return;e.uniform3iv(this.addr,t),Fa(i,t)}}function f8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Pa(i,t))return;e.uniform4iv(this.addr,t),Fa(i,t)}}function p8e(e,t){let i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function m8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Pa(i,t))return;e.uniform2uiv(this.addr,t),Fa(i,t)}}function g8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(Pa(i,t))return;e.uniform3uiv(this.addr,t),Fa(i,t)}}function v8e(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Pa(i,t))return;e.uniform4uiv(this.addr,t),Fa(i,t)}}function b8e(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r);let o;this.type===e.SAMPLER_2D_SHADOW?(Zte.compareFunction=C8,o=Zte):o=mie,i.setTexture2D(t||o,r)}function _8e(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(t||vie,r)}function y8e(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTextureCube(t||bie,r)}function w8e(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture2DArray(t||gie,r)}function C8e(e){switch(e){case 5126:return n8e;case 35664:return r8e;case 35665:return o8e;case 35666:return s8e;case 35674:return a8e;case 35675:return l8e;case 35676:return c8e;case 5124:case 35670:return d8e;case 35667:case 35671:return u8e;case 35668:case 35672:return h8e;case 35669:case 35673:return f8e;case 5125:return p8e;case 36294:return m8e;case 36295:return g8e;case 36296:return v8e;case 35678:case 36198:case 36298:case 36306:case 35682:return b8e;case 35679:case 36299:case 36307:return _8e;case 35680:case 36300:case 36308:case 36293:return y8e;case 36289:case 36303:case 36311:case 36292:return w8e}}function x8e(e,t){e.uniform1fv(this.addr,t)}function S8e(e,t){let i=Oy(t,this.size,2);e.uniform2fv(this.addr,i)}function M8e(e,t){let i=Oy(t,this.size,3);e.uniform3fv(this.addr,i)}function E8e(e,t){let i=Oy(t,this.size,4);e.uniform4fv(this.addr,i)}function D8e(e,t){let i=Oy(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,i)}function T8e(e,t){let i=Oy(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,i)}function A8e(e,t){let i=Oy(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,i)}function R8e(e,t){e.uniform1iv(this.addr,t)}function k8e(e,t){e.uniform2iv(this.addr,t)}function I8e(e,t){e.uniform3iv(this.addr,t)}function P8e(e,t){e.uniform4iv(this.addr,t)}function F8e(e,t){e.uniform1uiv(this.addr,t)}function O8e(e,t){e.uniform2uiv(this.addr,t)}function L8e(e,t){e.uniform3uiv(this.addr,t)}function N8e(e,t){e.uniform4uiv(this.addr,t)}function B8e(e,t,i){let n=this.cache,r=t.length,o=Zk(i,r);Pa(n,o)||(e.uniform1iv(this.addr,o),Fa(n,o));for(let s=0;s!==r;++s)i.setTexture2D(t[s]||mie,o[s])}function V8e(e,t,i){let n=this.cache,r=t.length,o=Zk(i,r);Pa(n,o)||(e.uniform1iv(this.addr,o),Fa(n,o));for(let s=0;s!==r;++s)i.setTexture3D(t[s]||vie,o[s])}function z8e(e,t,i){let n=this.cache,r=t.length,o=Zk(i,r);Pa(n,o)||(e.uniform1iv(this.addr,o),Fa(n,o));for(let s=0;s!==r;++s)i.setTextureCube(t[s]||bie,o[s])}function H8e(e,t,i){let n=this.cache,r=t.length,o=Zk(i,r);Pa(n,o)||(e.uniform1iv(this.addr,o),Fa(n,o));for(let s=0;s!==r;++s)i.setTexture2DArray(t[s]||gie,o[s])}function U8e(e){switch(e){case 5126:return x8e;case 35664:return S8e;case 35665:return M8e;case 35666:return E8e;case 35674:return D8e;case 35675:return T8e;case 35676:return A8e;case 5124:case 35670:return R8e;case 35667:case 35671:return k8e;case 35668:case 35672:return I8e;case 35669:case 35673:return P8e;case 5125:return F8e;case 36294:return O8e;case 36295:return L8e;case 36296:return N8e;case 35678:case 36198:case 36298:case 36306:case 35682:return B8e;case 35679:case 36299:case 36307:return V8e;case 35680:case 36300:case 36308:case 36293:return z8e;case 36289:case 36303:case 36311:case 36292:return H8e}}var L8=class{constructor(t,i,n){this.id=t,this.addr=n,this.cache=[],this.type=i.type,this.setValue=C8e(i.type)}},N8=class{constructor(t,i,n){this.id=t,this.addr=n,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=U8e(i.type)}},B8=class{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,i,n){let r=this.seq;for(let o=0,s=r.length;o!==s;++o){let a=r[o];a.setValue(t,i[a.id],n)}}},O8=/(\w+)(\])?(\[|\.)?/g;function nie(e,t){e.seq.push(t),e.map[t.id]=t}function G8e(e,t,i){let n=e.name,r=n.length;for(O8.lastIndex=0;;){let o=O8.exec(n),s=O8.lastIndex,a=o[1],l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===r){nie(i,c===void 0?new L8(a,e,t):new N8(a,e,t));break}else{let u=i.map[a];u===void 0&&(u=new B8(a),nie(i,u)),i=u}}}var Fy=class{constructor(t,i){this.seq=[],this.map={};let n=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){let o=t.getActiveUniform(i,r),s=t.getUniformLocation(i,o.name);G8e(o,s,this)}}setValue(t,i,n,r){let o=this.map[i];o!==void 0&&o.setValue(t,n,r)}setOptional(t,i,n){let r=i[n];r!==void 0&&this.setValue(t,n,r)}static upload(t,i,n,r){for(let o=0,s=i.length;o!==s;++o){let a=i[o],l=n[a.id];l.needsUpdate!==!1&&a.setValue(t,l.value,r)}}static seqWithValue(t,i){let n=[];for(let r=0,o=t.length;r!==o;++r){let s=t[r];s.id in i&&n.push(s)}return n}};function rie(e,t,i){let n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),n}var W8e=37297,j8e=0;function q8e(e,t){let i=e.split(`
`),n=[],r=Math.max(t-6,0),o=Math.min(t+6,i.length);for(let s=r;s<o;s++){let a=s+1;n.push(`${a===t?">":" "} ${a}: ${i[s]}`)}return n.join(`
`)}var oie=new sr;function Y8e(e){Fn._getMatrix(oie,Fn.workingColorSpace,e);let t=`mat3( ${oie.elements.map(i=>i.toFixed(4))} )`;switch(Fn.getTransfer(e)){case jx:return[t,"LinearTransferOETF"];case So:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}function sie(e,t,i){let n=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(n&&r==="")return"";let o=/ERROR: 0:(\d+)/.exec(r);if(o){let s=parseInt(o[1]);return i.toUpperCase()+`

`+r+`

`+q8e(e.getShaderSource(t),s)}else return r}function $8e(e,t){let i=Y8e(t);return[`vec4 ${e}( vec4 value ) {`,`	return ${i[1]}( vec4( value.rgb * ${i[0]}, value.a ) );`,"}"].join(`
`)}function X8e(e,t){let i;switch(t){case fte:i="Linear";break;case pte:i="Reinhard";break;case mte:i="Cineon";break;case gte:i="ACESFilmic";break;case bte:i="AgX";break;case _te:i="Neutral";break;case vte:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}var Xk=new Qe;function K8e(){Fn.getLuminanceCoefficients(Xk);let e=Xk.x.toFixed(4),t=Xk.y.toFixed(4),i=Xk.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${e}, ${t}, ${i} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Z8e(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(wS).join(`
`)}function Q8e(e){let t=[];for(let i in e){let n=e[i];n!==!1&&t.push("#define "+i+" "+n)}return t.join(`
`)}function J8e(e,t){let i={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){let o=e.getActiveAttrib(t,r),s=o.name,a=1;o.type===e.FLOAT_MAT2&&(a=2),o.type===e.FLOAT_MAT3&&(a=3),o.type===e.FLOAT_MAT4&&(a=4),i[s]={type:o.type,location:e.getAttribLocation(t,s),locationSize:a}}return i}function wS(e){return e!==""}function aie(e,t){let i=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function lie(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var eBe=/^[ \t]*#include +<([\w\d./]+)>/gm;function V8(e){return e.replace(eBe,iBe)}var tBe=new Map;function iBe(e,t){let i=Sr[t];if(i===void 0){let n=tBe.get(t);if(n!==void 0)i=Sr[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n);else throw new Error("Can not resolve #include <"+t+">")}return V8(i)}var nBe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cie(e){return e.replace(nBe,rBe)}function rBe(e,t,i,n){let r="";for(let o=parseInt(t);o<parseInt(i);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function die(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function oBe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===d8?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===qee?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===lf&&(t="SHADOWMAP_TYPE_VSM"),t}function sBe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Rv:case kv:t="ENVMAP_TYPE_CUBE";break;case hS:t="ENVMAP_TYPE_CUBE_UV";break}return t}function aBe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case kv:t="ENVMAP_MODE_REFRACTION";break}return t}function lBe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case uS:t="ENVMAP_BLENDING_MULTIPLY";break;case ute:t="ENVMAP_BLENDING_MIX";break;case hte:t="ENVMAP_BLENDING_ADD";break}return t}function cBe(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let i=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:n,maxMip:i}}function dBe(e,t,i,n){let r=e.getContext(),o=i.defines,s=i.vertexShader,a=i.fragmentShader,l=oBe(i),c=sBe(i),d=aBe(i),u=lBe(i),h=cBe(i),f=Z8e(i),p=Q8e(o),v=r.createProgram(),m,g,b=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(m=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,p].filter(wS).join(`
`),m.length>0&&(m+=`
`),g=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,p].filter(wS).join(`
`),g.length>0&&(g+=`
`)):(m=[die(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,p,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.batchingColor?"#define USE_BATCHING_COLOR":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wS).join(`
`),g=[die(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,p,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+d:"",i.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor||i.batchingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==Vp?"#define TONE_MAPPING":"",i.toneMapping!==Vp?Sr.tonemapping_pars_fragment:"",i.toneMapping!==Vp?X8e("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Sr.colorspace_pars_fragment,$8e("linearToOutputTexel",i.outputColorSpace),K8e(),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(wS).join(`
`)),s=V8(s),s=aie(s,i),s=lie(s,i),a=V8(a),a=aie(a,i),a=lie(a,i),s=cie(s),a=cie(a),i.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,m=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,g=["#define varying in",i.glslVersion===x8?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===x8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);let w=b+m+s,x=b+g+a,R=rie(r,r.VERTEX_SHADER,w),_=rie(r,r.FRAGMENT_SHADER,x);r.attachShader(v,R),r.attachShader(v,_),i.index0AttributeName!==void 0?r.bindAttribLocation(v,0,i.index0AttributeName):i.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v);function L(A){if(e.debug.checkShaderErrors){let O=r.getProgramInfoLog(v).trim(),V=r.getShaderInfoLog(R).trim(),U=r.getShaderInfoLog(_).trim(),ae=!0,ne=!0;if(r.getProgramParameter(v,r.LINK_STATUS)===!1)if(ae=!1,typeof e.debug.onShaderError=="function")e.debug.onShaderError(r,v,R,_);else{let ue=sie(r,R,"vertex"),se=sie(r,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,r.VALIDATE_STATUS)+`

Material Name: `+A.name+`
Material Type: `+A.type+`

Program Info Log: `+O+`
`+ue+`
`+se)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(V===""||U==="")&&(ne=!1);ne&&(A.diagnostics={runnable:ae,programLog:O,vertexShader:{log:V,prefix:m},fragmentShader:{log:U,prefix:g}})}r.deleteShader(R),r.deleteShader(_),F=new Fy(r,v),T=J8e(r,v)}let F;this.getUniforms=function(){return F===void 0&&L(this),F};let T;this.getAttributes=function(){return T===void 0&&L(this),T};let P=i.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=r.getProgramParameter(v,W8e)),P},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=j8e++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=R,this.fragmentShader=_,this}var uBe=0,z8=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){let i=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(i),o=this._getShaderStage(n),s=this._getShaderCacheForMaterial(t);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(t){let i=this.materialCache.get(t);for(let n of i)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){let i=this.materialCache,n=i.get(t);return n===void 0&&(n=new Set,i.set(t,n)),n}_getShaderStage(t){let i=this.shaderCache,n=i.get(t);return n===void 0&&(n=new H8(t),i.set(t,n)),n}},H8=class{constructor(t){this.id=uBe++,this.code=t,this.usedTimes=0}};function hBe(e,t,i,n,r,o,s){let a=new _y,l=new z8,c=new Set,d=[],u=r.logarithmicDepthBuffer,h=r.vertexTextures,f=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T){return c.add(T),T===0?"uv":`uv${T}`}function m(T,P,A,O,V){let U=O.fog,ae=V.geometry,ne=T.isMeshStandardMaterial?O.environment:null,ue=(T.isMeshStandardMaterial?i:t).get(T.envMap||ne),se=ue&&ue.mapping===hS?ue.image.height:null,_e=p[T.type];T.precision!==null&&(f=r.getMaxPrecision(T.precision),f!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",f,"instead."));let Ve=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,Ge=Ve!==void 0?Ve.length:0,K=0;ae.morphAttributes.position!==void 0&&(K=1),ae.morphAttributes.normal!==void 0&&(K=2),ae.morphAttributes.color!==void 0&&(K=3);let Q,ee,Z,G;if(_e){let At=cf[_e];Q=At.vertexShader,ee=At.fragmentShader}else Q=T.vertexShader,ee=T.fragmentShader,l.update(T),Z=l.getVertexShaderID(T),G=l.getFragmentShaderID(T);let W=e.getRenderTarget(),ce=e.state.buffers.depth.getReversed(),me=V.isInstancedMesh===!0,Me=V.isBatchedMesh===!0,He=!!T.map,$e=!!T.matcap,Je=!!ue,ve=!!T.aoMap,ge=!!T.lightMap,pt=!!T.bumpMap,vt=!!T.normalMap,Pt=!!T.displacementMap,ft=!!T.emissiveMap,kt=!!T.metalnessMap,be=!!T.roughnessMap,oe=T.anisotropy>0,re=T.clearcoat>0,J=T.dispersion>0,pe=T.iridescence>0,Ee=T.sheen>0,ke=T.transmission>0,Le=oe&&!!T.anisotropyMap,Ne=re&&!!T.clearcoatMap,Ye=re&&!!T.clearcoatNormalMap,Be=re&&!!T.clearcoatRoughnessMap,ct=pe&&!!T.iridescenceMap,gt=pe&&!!T.iridescenceThicknessMap,Tt=Ee&&!!T.sheenColorMap,Ft=Ee&&!!T.sheenRoughnessMap,wi=!!T.specularMap,Vt=!!T.specularColorMap,li=!!T.specularIntensityMap,Ue=ke&&!!T.transmissionMap,yt=ke&&!!T.thicknessMap,dt=!!T.gradientMap,ht=!!T.alphaMap,nt=T.alphaTest>0,It=!!T.alphaHash,Ei=!!T.extensions,Yi=Vp;T.toneMapped&&(W===null||W.isXRRenderTarget===!0)&&(Yi=e.toneMapping);let Li={shaderID:_e,shaderType:T.type,shaderName:T.name,vertexShader:Q,fragmentShader:ee,defines:T.defines,customVertexShaderID:Z,customFragmentShaderID:G,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:f,batching:Me,batchingColor:Me&&V._colorsTexture!==null,instancing:me,instancingColor:me&&V.instanceColor!==null,instancingMorph:me&&V.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:W===null?e.outputColorSpace:W.isXRRenderTarget===!0?W.texture.colorSpace:Qu,alphaToCoverage:!!T.alphaToCoverage,map:He,matcap:$e,envMap:Je,envMapMode:Je&&ue.mapping,envMapCubeUVHeight:se,aoMap:ve,lightMap:ge,bumpMap:pt,normalMap:vt,displacementMap:h&&Pt,emissiveMap:ft,normalMapObjectSpace:vt&&T.normalMapType===Mte,normalMapTangentSpace:vt&&T.normalMapType===_S,metalnessMap:kt,roughnessMap:be,anisotropy:oe,anisotropyMap:Le,clearcoat:re,clearcoatMap:Ne,clearcoatNormalMap:Ye,clearcoatRoughnessMap:Be,dispersion:J,iridescence:pe,iridescenceMap:ct,iridescenceThicknessMap:gt,sheen:Ee,sheenColorMap:Tt,sheenRoughnessMap:Ft,specularMap:wi,specularColorMap:Vt,specularIntensityMap:li,transmission:ke,transmissionMap:Ue,thicknessMap:yt,gradientMap:dt,opaque:T.transparent===!1&&T.blending===fv&&T.alphaToCoverage===!1,alphaMap:ht,alphaTest:nt,alphaHash:It,combine:T.combine,mapUv:He&&v(T.map.channel),aoMapUv:ve&&v(T.aoMap.channel),lightMapUv:ge&&v(T.lightMap.channel),bumpMapUv:pt&&v(T.bumpMap.channel),normalMapUv:vt&&v(T.normalMap.channel),displacementMapUv:Pt&&v(T.displacementMap.channel),emissiveMapUv:ft&&v(T.emissiveMap.channel),metalnessMapUv:kt&&v(T.metalnessMap.channel),roughnessMapUv:be&&v(T.roughnessMap.channel),anisotropyMapUv:Le&&v(T.anisotropyMap.channel),clearcoatMapUv:Ne&&v(T.clearcoatMap.channel),clearcoatNormalMapUv:Ye&&v(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Be&&v(T.clearcoatRoughnessMap.channel),iridescenceMapUv:ct&&v(T.iridescenceMap.channel),iridescenceThicknessMapUv:gt&&v(T.iridescenceThicknessMap.channel),sheenColorMapUv:Tt&&v(T.sheenColorMap.channel),sheenRoughnessMapUv:Ft&&v(T.sheenRoughnessMap.channel),specularMapUv:wi&&v(T.specularMap.channel),specularColorMapUv:Vt&&v(T.specularColorMap.channel),specularIntensityMapUv:li&&v(T.specularIntensityMap.channel),transmissionMapUv:Ue&&v(T.transmissionMap.channel),thicknessMapUv:yt&&v(T.thicknessMap.channel),alphaMapUv:ht&&v(T.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(vt||oe),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!ae.attributes.uv&&(He||ht),fog:!!U,useFog:T.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:ce,skinning:V.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:Ge,morphTextureStride:K,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:e.shadowMap.enabled&&A.length>0,shadowMapType:e.shadowMap.type,toneMapping:Yi,decodeVideoTexture:He&&T.map.isVideoTexture===!0&&Fn.getTransfer(T.map.colorSpace)===So,decodeVideoTextureEmissive:ft&&T.emissiveMap.isVideoTexture===!0&&Fn.getTransfer(T.emissiveMap.colorSpace)===So,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===rl,flipSided:T.side===Js,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:Ei&&T.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ei&&T.extensions.multiDraw===!0||Me)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Li.vertexUv1s=c.has(1),Li.vertexUv2s=c.has(2),Li.vertexUv3s=c.has(3),c.clear(),Li}function g(T){let P=[];if(T.shaderID?P.push(T.shaderID):(P.push(T.customVertexShaderID),P.push(T.customFragmentShaderID)),T.defines!==void 0)for(let A in T.defines)P.push(A),P.push(T.defines[A]);return T.isRawShaderMaterial===!1&&(b(P,T),w(P,T),P.push(e.outputColorSpace)),P.push(T.customProgramCacheKey),P.join()}function b(T,P){T.push(P.precision),T.push(P.outputColorSpace),T.push(P.envMapMode),T.push(P.envMapCubeUVHeight),T.push(P.mapUv),T.push(P.alphaMapUv),T.push(P.lightMapUv),T.push(P.aoMapUv),T.push(P.bumpMapUv),T.push(P.normalMapUv),T.push(P.displacementMapUv),T.push(P.emissiveMapUv),T.push(P.metalnessMapUv),T.push(P.roughnessMapUv),T.push(P.anisotropyMapUv),T.push(P.clearcoatMapUv),T.push(P.clearcoatNormalMapUv),T.push(P.clearcoatRoughnessMapUv),T.push(P.iridescenceMapUv),T.push(P.iridescenceThicknessMapUv),T.push(P.sheenColorMapUv),T.push(P.sheenRoughnessMapUv),T.push(P.specularMapUv),T.push(P.specularColorMapUv),T.push(P.specularIntensityMapUv),T.push(P.transmissionMapUv),T.push(P.thicknessMapUv),T.push(P.combine),T.push(P.fogExp2),T.push(P.sizeAttenuation),T.push(P.morphTargetsCount),T.push(P.morphAttributeCount),T.push(P.numDirLights),T.push(P.numPointLights),T.push(P.numSpotLights),T.push(P.numSpotLightMaps),T.push(P.numHemiLights),T.push(P.numRectAreaLights),T.push(P.numDirLightShadows),T.push(P.numPointLightShadows),T.push(P.numSpotLightShadows),T.push(P.numSpotLightShadowsWithMaps),T.push(P.numLightProbes),T.push(P.shadowMapType),T.push(P.toneMapping),T.push(P.numClippingPlanes),T.push(P.numClipIntersection),T.push(P.depthPacking)}function w(T,P){a.disableAll(),P.supportsVertexTextures&&a.enable(0),P.instancing&&a.enable(1),P.instancingColor&&a.enable(2),P.instancingMorph&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),P.dispersion&&a.enable(20),P.batchingColor&&a.enable(21),T.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.reverseDepthBuffer&&a.enable(4),P.skinning&&a.enable(5),P.morphTargets&&a.enable(6),P.morphNormals&&a.enable(7),P.morphColors&&a.enable(8),P.premultipliedAlpha&&a.enable(9),P.shadowMapEnabled&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),P.decodeVideoTexture&&a.enable(19),P.decodeVideoTextureEmissive&&a.enable(20),P.alphaToCoverage&&a.enable(21),T.push(a.mask)}function x(T){let P=p[T.type],A;if(P){let O=cf[P];A=Bte.clone(O.uniforms)}else A=T.uniforms;return A}function R(T,P){let A;for(let O=0,V=d.length;O<V;O++){let U=d[O];if(U.cacheKey===P){A=U,++A.usedTimes;break}}return A===void 0&&(A=new dBe(e,P,T,o),d.push(A)),A}function _(T){if(--T.usedTimes===0){let P=d.indexOf(T);d[P]=d[d.length-1],d.pop(),T.destroy()}}function L(T){l.remove(T)}function F(){l.dispose()}return{getParameters:m,getProgramCacheKey:g,getUniforms:x,acquireProgram:R,releaseProgram:_,releaseShaderCache:L,programs:d,dispose:F}}function fBe(){let e=new WeakMap;function t(s){return e.has(s)}function i(s){let a=e.get(s);return a===void 0&&(a={},e.set(s,a)),a}function n(s){e.delete(s)}function r(s,a,l){e.get(s)[a]=l}function o(){e=new WeakMap}return{has:t,get:i,remove:n,update:r,dispose:o}}function pBe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function uie(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function hie(){let e=[],t=0,i=[],n=[],r=[];function o(){t=0,i.length=0,n.length=0,r.length=0}function s(u,h,f,p,v,m){let g=e[t];return g===void 0?(g={id:u.id,object:u,geometry:h,material:f,groupOrder:p,renderOrder:u.renderOrder,z:v,group:m},e[t]=g):(g.id=u.id,g.object=u,g.geometry=h,g.material=f,g.groupOrder=p,g.renderOrder=u.renderOrder,g.z=v,g.group=m),t++,g}function a(u,h,f,p,v,m){let g=s(u,h,f,p,v,m);f.transmission>0?n.push(g):f.transparent===!0?r.push(g):i.push(g)}function l(u,h,f,p,v,m){let g=s(u,h,f,p,v,m);f.transmission>0?n.unshift(g):f.transparent===!0?r.unshift(g):i.unshift(g)}function c(u,h){i.length>1&&i.sort(u||pBe),n.length>1&&n.sort(h||uie),r.length>1&&r.sort(h||uie)}function d(){for(let u=t,h=e.length;u<h;u++){let f=e[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:i,transmissive:n,transparent:r,init:o,push:a,unshift:l,finish:d,sort:c}}function mBe(){let e=new WeakMap;function t(n,r){let o=e.get(n),s;return o===void 0?(s=new hie,e.set(n,[s])):r>=o.length?(s=new hie,o.push(s)):s=o[r],s}function i(){e=new WeakMap}return{get:t,dispose:i}}function gBe(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new Qe,color:new Ji};break;case"SpotLight":i={position:new Qe,direction:new Qe,color:new Ji,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new Qe,color:new Ji,distance:0,decay:0};break;case"HemisphereLight":i={direction:new Qe,skyColor:new Ji,groundColor:new Ji};break;case"RectAreaLight":i={color:new Ji,position:new Qe,halfWidth:new Qe,halfHeight:new Qe};break}return e[t.id]=i,i}}}function vBe(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new On};break;case"SpotLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new On};break;case"PointLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new On,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=i,i}}}var bBe=0;function _Be(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function yBe(e){let t=new gBe,i=vBe(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new Qe);let r=new Qe,o=new Ki,s=new Ki;function a(c){let d=0,u=0,h=0;for(let T=0;T<9;T++)n.probe[T].set(0,0,0);let f=0,p=0,v=0,m=0,g=0,b=0,w=0,x=0,R=0,_=0,L=0;c.sort(_Be);for(let T=0,P=c.length;T<P;T++){let A=c[T],O=A.color,V=A.intensity,U=A.distance,ae=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)d+=O.r*V,u+=O.g*V,h+=O.b*V;else if(A.isLightProbe){for(let ne=0;ne<9;ne++)n.probe[ne].addScaledVector(A.sh.coefficients[ne],V);L++}else if(A.isDirectionalLight){let ne=t.get(A);if(ne.color.copy(A.color).multiplyScalar(A.intensity),A.castShadow){let ue=A.shadow,se=i.get(A);se.shadowIntensity=ue.intensity,se.shadowBias=ue.bias,se.shadowNormalBias=ue.normalBias,se.shadowRadius=ue.radius,se.shadowMapSize=ue.mapSize,n.directionalShadow[f]=se,n.directionalShadowMap[f]=ae,n.directionalShadowMatrix[f]=A.shadow.matrix,b++}n.directional[f]=ne,f++}else if(A.isSpotLight){let ne=t.get(A);ne.position.setFromMatrixPosition(A.matrixWorld),ne.color.copy(O).multiplyScalar(V),ne.distance=U,ne.coneCos=Math.cos(A.angle),ne.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),ne.decay=A.decay,n.spot[v]=ne;let ue=A.shadow;if(A.map&&(n.spotLightMap[R]=A.map,R++,ue.updateMatrices(A),A.castShadow&&_++),n.spotLightMatrix[v]=ue.matrix,A.castShadow){let se=i.get(A);se.shadowIntensity=ue.intensity,se.shadowBias=ue.bias,se.shadowNormalBias=ue.normalBias,se.shadowRadius=ue.radius,se.shadowMapSize=ue.mapSize,n.spotShadow[v]=se,n.spotShadowMap[v]=ae,x++}v++}else if(A.isRectAreaLight){let ne=t.get(A);ne.color.copy(O).multiplyScalar(V),ne.halfWidth.set(A.width*.5,0,0),ne.halfHeight.set(0,A.height*.5,0),n.rectArea[m]=ne,m++}else if(A.isPointLight){let ne=t.get(A);if(ne.color.copy(A.color).multiplyScalar(A.intensity),ne.distance=A.distance,ne.decay=A.decay,A.castShadow){let ue=A.shadow,se=i.get(A);se.shadowIntensity=ue.intensity,se.shadowBias=ue.bias,se.shadowNormalBias=ue.normalBias,se.shadowRadius=ue.radius,se.shadowMapSize=ue.mapSize,se.shadowCameraNear=ue.camera.near,se.shadowCameraFar=ue.camera.far,n.pointShadow[p]=se,n.pointShadowMap[p]=ae,n.pointShadowMatrix[p]=A.shadow.matrix,w++}n.point[p]=ne,p++}else if(A.isHemisphereLight){let ne=t.get(A);ne.skyColor.copy(A.color).multiplyScalar(V),ne.groundColor.copy(A.groundColor).multiplyScalar(V),n.hemi[g]=ne,g++}}m>0&&(e.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=qi.LTC_FLOAT_1,n.rectAreaLTC2=qi.LTC_FLOAT_2):(n.rectAreaLTC1=qi.LTC_HALF_1,n.rectAreaLTC2=qi.LTC_HALF_2)),n.ambient[0]=d,n.ambient[1]=u,n.ambient[2]=h;let F=n.hash;(F.directionalLength!==f||F.pointLength!==p||F.spotLength!==v||F.rectAreaLength!==m||F.hemiLength!==g||F.numDirectionalShadows!==b||F.numPointShadows!==w||F.numSpotShadows!==x||F.numSpotMaps!==R||F.numLightProbes!==L)&&(n.directional.length=f,n.spot.length=v,n.rectArea.length=m,n.point.length=p,n.hemi.length=g,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=w,n.pointShadowMap.length=w,n.spotShadow.length=x,n.spotShadowMap.length=x,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=w,n.spotLightMatrix.length=x+R-_,n.spotLightMap.length=R,n.numSpotLightShadowsWithMaps=_,n.numLightProbes=L,F.directionalLength=f,F.pointLength=p,F.spotLength=v,F.rectAreaLength=m,F.hemiLength=g,F.numDirectionalShadows=b,F.numPointShadows=w,F.numSpotShadows=x,F.numSpotMaps=R,F.numLightProbes=L,n.version=bBe++)}function l(c,d){let u=0,h=0,f=0,p=0,v=0,m=d.matrixWorldInverse;for(let g=0,b=c.length;g<b;g++){let w=c[g];if(w.isDirectionalLight){let x=n.directional[u];x.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),x.direction.sub(r),x.direction.transformDirection(m),u++}else if(w.isSpotLight){let x=n.spot[f];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(m),x.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),x.direction.sub(r),x.direction.transformDirection(m),f++}else if(w.isRectAreaLight){let x=n.rectArea[p];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(m),s.identity(),o.copy(w.matrixWorld),o.premultiply(m),s.extractRotation(o),x.halfWidth.set(w.width*.5,0,0),x.halfHeight.set(0,w.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),p++}else if(w.isPointLight){let x=n.point[h];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(m),h++}else if(w.isHemisphereLight){let x=n.hemi[v];x.direction.setFromMatrixPosition(w.matrixWorld),x.direction.transformDirection(m),v++}}}return{setup:a,setupView:l,state:n}}function fie(e){let t=new yBe(e),i=[],n=[];function r(d){c.camera=d,i.length=0,n.length=0}function o(d){i.push(d)}function s(d){n.push(d)}function a(){t.setup(i)}function l(d){t.setupView(i,d)}let c={lightsArray:i,shadowsArray:n,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function wBe(e){let t=new WeakMap;function i(r,o=0){let s=t.get(r),a;return s===void 0?(a=new fie(e),t.set(r,[a])):o>=s.length?(a=new fie(e),s.push(a)):a=s[o],a}function n(){t=new WeakMap}return{get:i,dispose:n}}var CBe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xBe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function SBe(e,t,i){let n=new Cy,r=new On,o=new On,s=new xr,a=new QR({depthPacking:Ste}),l=new JR,c={},d=i.maxTextureSize,u={[Cd]:Js,[Js]:Cd,[rl]:rl},h=new Ju({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new On},radius:{value:4}},vertexShader:CBe,fragmentShader:xBe}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let p=new Wr;p.setAttribute("position",new il(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let v=new go(p,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d8;let g=this.type;this.render=function(_,L,F){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||_.length===0)return;let T=e.getRenderTarget(),P=e.getActiveCubeFace(),A=e.getActiveMipmapLevel(),O=e.state;O.setBlending(Bp),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);let V=g!==lf&&this.type===lf,U=g===lf&&this.type!==lf;for(let ae=0,ne=_.length;ae<ne;ae++){let ue=_[ae],se=ue.shadow;if(se===void 0){console.warn("THREE.WebGLShadowMap:",ue,"has no shadow.");continue}if(se.autoUpdate===!1&&se.needsUpdate===!1)continue;r.copy(se.mapSize);let _e=se.getFrameExtents();if(r.multiply(_e),o.copy(se.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(o.x=Math.floor(d/_e.x),r.x=o.x*_e.x,se.mapSize.x=o.x),r.y>d&&(o.y=Math.floor(d/_e.y),r.y=o.y*_e.y,se.mapSize.y=o.y)),se.map===null||V===!0||U===!0){let Ge=this.type!==lf?{minFilter:xl,magFilter:xl}:{};se.map!==null&&se.map.dispose(),se.map=new nf(r.x,r.y,Ge),se.map.texture.name=ue.name+".shadowMap",se.camera.updateProjectionMatrix()}e.setRenderTarget(se.map),e.clear();let Ve=se.getViewportCount();for(let Ge=0;Ge<Ve;Ge++){let K=se.getViewport(Ge);s.set(o.x*K.x,o.y*K.y,o.x*K.z,o.y*K.w),O.viewport(s),se.updateMatrices(ue,Ge),n=se.getFrustum(),x(L,F,se.camera,ue,this.type)}se.isPointLightShadow!==!0&&this.type===lf&&b(se,F),se.needsUpdate=!1}g=this.type,m.needsUpdate=!1,e.setRenderTarget(T,P,A)};function b(_,L){let F=t.update(v);h.defines.VSM_SAMPLES!==_.blurSamples&&(h.defines.VSM_SAMPLES=_.blurSamples,f.defines.VSM_SAMPLES=_.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new nf(r.x,r.y)),h.uniforms.shadow_pass.value=_.map.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,e.setRenderTarget(_.mapPass),e.clear(),e.renderBufferDirect(L,null,F,h,v,null),f.uniforms.shadow_pass.value=_.mapPass.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,e.setRenderTarget(_.map),e.clear(),e.renderBufferDirect(L,null,F,f,v,null)}function w(_,L,F,T){let P=null,A=F.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(A!==void 0)P=A;else if(P=F.isPointLight===!0?l:a,e.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){let O=P.uuid,V=L.uuid,U=c[O];U===void 0&&(U={},c[O]=U);let ae=U[V];ae===void 0&&(ae=P.clone(),U[V]=ae,L.addEventListener("dispose",R)),P=ae}if(P.visible=L.visible,P.wireframe=L.wireframe,T===lf?P.side=L.shadowSide!==null?L.shadowSide:L.side:P.side=L.shadowSide!==null?L.shadowSide:u[L.side],P.alphaMap=L.alphaMap,P.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,P.map=L.map,P.clipShadows=L.clipShadows,P.clippingPlanes=L.clippingPlanes,P.clipIntersection=L.clipIntersection,P.displacementMap=L.displacementMap,P.displacementScale=L.displacementScale,P.displacementBias=L.displacementBias,P.wireframeLinewidth=L.wireframeLinewidth,P.linewidth=L.linewidth,F.isPointLight===!0&&P.isMeshDistanceMaterial===!0){let O=e.properties.get(P);O.light=F}return P}function x(_,L,F,T,P){if(_.visible===!1)return;if(_.layers.test(L.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&P===lf)&&(!_.frustumCulled||n.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,_.matrixWorld);let V=t.update(_),U=_.material;if(Array.isArray(U)){let ae=V.groups;for(let ne=0,ue=ae.length;ne<ue;ne++){let se=ae[ne],_e=U[se.materialIndex];if(_e&&_e.visible){let Ve=w(_,_e,T,P);_.onBeforeShadow(e,_,L,F,V,Ve,se),e.renderBufferDirect(F,null,V,Ve,_,se),_.onAfterShadow(e,_,L,F,V,Ve,se)}}}else if(U.visible){let ae=w(_,U,T,P);_.onBeforeShadow(e,_,L,F,V,ae,null),e.renderBufferDirect(F,null,V,ae,_,null),_.onAfterShadow(e,_,L,F,V,ae,null)}}let O=_.children;for(let V=0,U=O.length;V<U;V++)x(O[V],L,F,T,P)}function R(_){_.target.removeEventListener("dispose",R);for(let F in c){let T=c[F],P=_.target.uuid;P in T&&(T[P].dispose(),delete T[P])}}}var MBe={[sk]:ak,[lk]:uk,[ck]:hk,[pv]:dk,[ak]:sk,[uk]:lk,[hk]:ck,[dk]:pv};function EBe(e,t){function i(){let Ue=!1,yt=new xr,dt=null,ht=new xr(0,0,0,0);return{setMask:function(nt){dt!==nt&&!Ue&&(e.colorMask(nt,nt,nt,nt),dt=nt)},setLocked:function(nt){Ue=nt},setClear:function(nt,It,Ei,Yi,Li){Li===!0&&(nt*=Yi,It*=Yi,Ei*=Yi),yt.set(nt,It,Ei,Yi),ht.equals(yt)===!1&&(e.clearColor(nt,It,Ei,Yi),ht.copy(yt))},reset:function(){Ue=!1,dt=null,ht.set(-1,0,0,0)}}}function n(){let Ue=!1,yt=!1,dt=null,ht=null,nt=null;return{setReversed:function(It){if(yt!==It){let Ei=t.get("EXT_clip_control");It?Ei.clipControlEXT(Ei.LOWER_LEFT_EXT,Ei.ZERO_TO_ONE_EXT):Ei.clipControlEXT(Ei.LOWER_LEFT_EXT,Ei.NEGATIVE_ONE_TO_ONE_EXT),yt=It;let Yi=nt;nt=null,this.setClear(Yi)}},getReversed:function(){return yt},setTest:function(It){It?W(e.DEPTH_TEST):ce(e.DEPTH_TEST)},setMask:function(It){dt!==It&&!Ue&&(e.depthMask(It),dt=It)},setFunc:function(It){if(yt&&(It=MBe[It]),ht!==It){switch(It){case sk:e.depthFunc(e.NEVER);break;case ak:e.depthFunc(e.ALWAYS);break;case lk:e.depthFunc(e.LESS);break;case pv:e.depthFunc(e.LEQUAL);break;case ck:e.depthFunc(e.EQUAL);break;case dk:e.depthFunc(e.GEQUAL);break;case uk:e.depthFunc(e.GREATER);break;case hk:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}ht=It}},setLocked:function(It){Ue=It},setClear:function(It){nt!==It&&(yt&&(It=1-It),e.clearDepth(It),nt=It)},reset:function(){Ue=!1,dt=null,ht=null,nt=null,yt=!1}}}function r(){let Ue=!1,yt=null,dt=null,ht=null,nt=null,It=null,Ei=null,Yi=null,Li=null;return{setTest:function(At){Ue||(At?W(e.STENCIL_TEST):ce(e.STENCIL_TEST))},setMask:function(At){yt!==At&&!Ue&&(e.stencilMask(At),yt=At)},setFunc:function(At,jt,Qt){(dt!==At||ht!==jt||nt!==Qt)&&(e.stencilFunc(At,jt,Qt),dt=At,ht=jt,nt=Qt)},setOp:function(At,jt,Qt){(It!==At||Ei!==jt||Yi!==Qt)&&(e.stencilOp(At,jt,Qt),It=At,Ei=jt,Yi=Qt)},setLocked:function(At){Ue=At},setClear:function(At){Li!==At&&(e.clearStencil(At),Li=At)},reset:function(){Ue=!1,yt=null,dt=null,ht=null,nt=null,It=null,Ei=null,Yi=null,Li=null}}}let o=new i,s=new n,a=new r,l=new WeakMap,c=new WeakMap,d={},u={},h=new WeakMap,f=[],p=null,v=!1,m=null,g=null,b=null,w=null,x=null,R=null,_=null,L=new Ji(0,0,0),F=0,T=!1,P=null,A=null,O=null,V=null,U=null,ae=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),ne=!1,ue=0,se=e.getParameter(e.VERSION);se.indexOf("WebGL")!==-1?(ue=parseFloat(/^WebGL (\d)/.exec(se)[1]),ne=ue>=1):se.indexOf("OpenGL ES")!==-1&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(se)[1]),ne=ue>=2);let _e=null,Ve={},Ge=e.getParameter(e.SCISSOR_BOX),K=e.getParameter(e.VIEWPORT),Q=new xr().fromArray(Ge),ee=new xr().fromArray(K);function Z(Ue,yt,dt,ht){let nt=new Uint8Array(4),It=e.createTexture();e.bindTexture(Ue,It),e.texParameteri(Ue,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(Ue,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let Ei=0;Ei<dt;Ei++)Ue===e.TEXTURE_3D||Ue===e.TEXTURE_2D_ARRAY?e.texImage3D(yt,0,e.RGBA,1,1,ht,0,e.RGBA,e.UNSIGNED_BYTE,nt):e.texImage2D(yt+Ei,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,nt);return It}let G={};G[e.TEXTURE_2D]=Z(e.TEXTURE_2D,e.TEXTURE_2D,1),G[e.TEXTURE_CUBE_MAP]=Z(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),G[e.TEXTURE_2D_ARRAY]=Z(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),G[e.TEXTURE_3D]=Z(e.TEXTURE_3D,e.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),W(e.DEPTH_TEST),s.setFunc(pv),pt(!1),vt(c8),W(e.CULL_FACE),ve(Bp);function W(Ue){d[Ue]!==!0&&(e.enable(Ue),d[Ue]=!0)}function ce(Ue){d[Ue]!==!1&&(e.disable(Ue),d[Ue]=!1)}function me(Ue,yt){return u[Ue]!==yt?(e.bindFramebuffer(Ue,yt),u[Ue]=yt,Ue===e.DRAW_FRAMEBUFFER&&(u[e.FRAMEBUFFER]=yt),Ue===e.FRAMEBUFFER&&(u[e.DRAW_FRAMEBUFFER]=yt),!0):!1}function Me(Ue,yt){let dt=f,ht=!1;if(Ue){dt=h.get(yt),dt===void 0&&(dt=[],h.set(yt,dt));let nt=Ue.textures;if(dt.length!==nt.length||dt[0]!==e.COLOR_ATTACHMENT0){for(let It=0,Ei=nt.length;It<Ei;It++)dt[It]=e.COLOR_ATTACHMENT0+It;dt.length=nt.length,ht=!0}}else dt[0]!==e.BACK&&(dt[0]=e.BACK,ht=!0);ht&&e.drawBuffers(dt)}function He(Ue){return p!==Ue?(e.useProgram(Ue),p=Ue,!0):!1}let $e={[vg]:e.FUNC_ADD,[$ee]:e.FUNC_SUBTRACT,[Xee]:e.FUNC_REVERSE_SUBTRACT};$e[Kee]=e.MIN,$e[Zee]=e.MAX;let Je={[Qee]:e.ZERO,[Jee]:e.ONE,[ete]:e.SRC_COLOR,[GR]:e.SRC_ALPHA,[ste]:e.SRC_ALPHA_SATURATE,[rte]:e.DST_COLOR,[ite]:e.DST_ALPHA,[tte]:e.ONE_MINUS_SRC_COLOR,[WR]:e.ONE_MINUS_SRC_ALPHA,[ote]:e.ONE_MINUS_DST_COLOR,[nte]:e.ONE_MINUS_DST_ALPHA,[ate]:e.CONSTANT_COLOR,[lte]:e.ONE_MINUS_CONSTANT_COLOR,[cte]:e.CONSTANT_ALPHA,[dte]:e.ONE_MINUS_CONSTANT_ALPHA};function ve(Ue,yt,dt,ht,nt,It,Ei,Yi,Li,At){if(Ue===Bp){v===!0&&(ce(e.BLEND),v=!1);return}if(v===!1&&(W(e.BLEND),v=!0),Ue!==Yee){if(Ue!==m||At!==T){if((g!==vg||x!==vg)&&(e.blendEquation(e.FUNC_ADD),g=vg,x=vg),At)switch(Ue){case fv:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case u8:e.blendFunc(e.ONE,e.ONE);break;case h8:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case f8:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ue);break}else switch(Ue){case fv:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case u8:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case h8:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case f8:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ue);break}b=null,w=null,R=null,_=null,L.set(0,0,0),F=0,m=Ue,T=At}return}nt=nt||yt,It=It||dt,Ei=Ei||ht,(yt!==g||nt!==x)&&(e.blendEquationSeparate($e[yt],$e[nt]),g=yt,x=nt),(dt!==b||ht!==w||It!==R||Ei!==_)&&(e.blendFuncSeparate(Je[dt],Je[ht],Je[It],Je[Ei]),b=dt,w=ht,R=It,_=Ei),(Yi.equals(L)===!1||Li!==F)&&(e.blendColor(Yi.r,Yi.g,Yi.b,Li),L.copy(Yi),F=Li),m=Ue,T=!1}function ge(Ue,yt){Ue.side===rl?ce(e.CULL_FACE):W(e.CULL_FACE);let dt=Ue.side===Js;yt&&(dt=!dt),pt(dt),Ue.blending===fv&&Ue.transparent===!1?ve(Bp):ve(Ue.blending,Ue.blendEquation,Ue.blendSrc,Ue.blendDst,Ue.blendEquationAlpha,Ue.blendSrcAlpha,Ue.blendDstAlpha,Ue.blendColor,Ue.blendAlpha,Ue.premultipliedAlpha),s.setFunc(Ue.depthFunc),s.setTest(Ue.depthTest),s.setMask(Ue.depthWrite),o.setMask(Ue.colorWrite);let ht=Ue.stencilWrite;a.setTest(ht),ht&&(a.setMask(Ue.stencilWriteMask),a.setFunc(Ue.stencilFunc,Ue.stencilRef,Ue.stencilFuncMask),a.setOp(Ue.stencilFail,Ue.stencilZFail,Ue.stencilZPass)),ft(Ue.polygonOffset,Ue.polygonOffsetFactor,Ue.polygonOffsetUnits),Ue.alphaToCoverage===!0?W(e.SAMPLE_ALPHA_TO_COVERAGE):ce(e.SAMPLE_ALPHA_TO_COVERAGE)}function pt(Ue){P!==Ue&&(Ue?e.frontFace(e.CW):e.frontFace(e.CCW),P=Ue)}function vt(Ue){Ue!==Wee?(W(e.CULL_FACE),Ue!==A&&(Ue===c8?e.cullFace(e.BACK):Ue===jee?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):ce(e.CULL_FACE),A=Ue}function Pt(Ue){Ue!==O&&(ne&&e.lineWidth(Ue),O=Ue)}function ft(Ue,yt,dt){Ue?(W(e.POLYGON_OFFSET_FILL),(V!==yt||U!==dt)&&(e.polygonOffset(yt,dt),V=yt,U=dt)):ce(e.POLYGON_OFFSET_FILL)}function kt(Ue){Ue?W(e.SCISSOR_TEST):ce(e.SCISSOR_TEST)}function be(Ue){Ue===void 0&&(Ue=e.TEXTURE0+ae-1),_e!==Ue&&(e.activeTexture(Ue),_e=Ue)}function oe(Ue,yt,dt){dt===void 0&&(_e===null?dt=e.TEXTURE0+ae-1:dt=_e);let ht=Ve[dt];ht===void 0&&(ht={type:void 0,texture:void 0},Ve[dt]=ht),(ht.type!==Ue||ht.texture!==yt)&&(_e!==dt&&(e.activeTexture(dt),_e=dt),e.bindTexture(Ue,yt||G[Ue]),ht.type=Ue,ht.texture=yt)}function re(){let Ue=Ve[_e];Ue!==void 0&&Ue.type!==void 0&&(e.bindTexture(Ue.type,null),Ue.type=void 0,Ue.texture=void 0)}function J(){try{e.compressedTexImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function pe(){try{e.compressedTexImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Ee(){try{e.texSubImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function ke(){try{e.texSubImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Le(){try{e.compressedTexSubImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Ne(){try{e.compressedTexSubImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Ye(){try{e.texStorage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Be(){try{e.texStorage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function ct(){try{e.texImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function gt(){try{e.texImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Tt(Ue){Q.equals(Ue)===!1&&(e.scissor(Ue.x,Ue.y,Ue.z,Ue.w),Q.copy(Ue))}function Ft(Ue){ee.equals(Ue)===!1&&(e.viewport(Ue.x,Ue.y,Ue.z,Ue.w),ee.copy(Ue))}function wi(Ue,yt){let dt=c.get(yt);dt===void 0&&(dt=new WeakMap,c.set(yt,dt));let ht=dt.get(Ue);ht===void 0&&(ht=e.getUniformBlockIndex(yt,Ue.name),dt.set(Ue,ht))}function Vt(Ue,yt){let ht=c.get(yt).get(Ue);l.get(yt)!==ht&&(e.uniformBlockBinding(yt,ht,Ue.__bindingPointIndex),l.set(yt,ht))}function li(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),s.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},_e=null,Ve={},u={},h=new WeakMap,f=[],p=null,v=!1,m=null,g=null,b=null,w=null,x=null,R=null,_=null,L=new Ji(0,0,0),F=0,T=!1,P=null,A=null,O=null,V=null,U=null,Q.set(0,0,e.canvas.width,e.canvas.height),ee.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:W,disable:ce,bindFramebuffer:me,drawBuffers:Me,useProgram:He,setBlending:ve,setMaterial:ge,setFlipSided:pt,setCullFace:vt,setLineWidth:Pt,setPolygonOffset:ft,setScissorTest:kt,activeTexture:be,bindTexture:oe,unbindTexture:re,compressedTexImage2D:J,compressedTexImage3D:pe,texImage2D:ct,texImage3D:gt,updateUBOMapping:wi,uniformBlockBinding:Vt,texStorage2D:Ye,texStorage3D:Be,texSubImage2D:Ee,texSubImage3D:ke,compressedTexSubImage2D:Le,compressedTexSubImage3D:Ne,scissor:Tt,viewport:Ft,reset:li}}function DBe(e,t,i,n,r,o,s){let a=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new On,d=new WeakMap,u,h=new WeakMap,f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(be,oe){return f?new OffscreenCanvas(be,oe):vy("canvas")}function v(be,oe,re){let J=1,pe=kt(be);if((pe.width>re||pe.height>re)&&(J=re/Math.max(pe.width,pe.height)),J<1)if(typeof HTMLImageElement<"u"&&be instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&be instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&be instanceof ImageBitmap||typeof VideoFrame<"u"&&be instanceof VideoFrame){let Ee=Math.floor(J*pe.width),ke=Math.floor(J*pe.height);u===void 0&&(u=p(Ee,ke));let Le=oe?p(Ee,ke):u;return Le.width=Ee,Le.height=ke,Le.getContext("2d").drawImage(be,0,0,Ee,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pe.width+"x"+pe.height+") to ("+Ee+"x"+ke+")."),Le}else return"data"in be&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pe.width+"x"+pe.height+")."),be;return be}function m(be){return be.generateMipmaps}function g(be){e.generateMipmap(be)}function b(be){return be.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:be.isWebGL3DRenderTarget?e.TEXTURE_3D:be.isWebGLArrayRenderTarget||be.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function w(be,oe,re,J,pe=!1){if(be!==null){if(e[be]!==void 0)return e[be];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+be+"'")}let Ee=oe;if(oe===e.RED&&(re===e.FLOAT&&(Ee=e.R32F),re===e.HALF_FLOAT&&(Ee=e.R16F),re===e.UNSIGNED_BYTE&&(Ee=e.R8)),oe===e.RED_INTEGER&&(re===e.UNSIGNED_BYTE&&(Ee=e.R8UI),re===e.UNSIGNED_SHORT&&(Ee=e.R16UI),re===e.UNSIGNED_INT&&(Ee=e.R32UI),re===e.BYTE&&(Ee=e.R8I),re===e.SHORT&&(Ee=e.R16I),re===e.INT&&(Ee=e.R32I)),oe===e.RG&&(re===e.FLOAT&&(Ee=e.RG32F),re===e.HALF_FLOAT&&(Ee=e.RG16F),re===e.UNSIGNED_BYTE&&(Ee=e.RG8)),oe===e.RG_INTEGER&&(re===e.UNSIGNED_BYTE&&(Ee=e.RG8UI),re===e.UNSIGNED_SHORT&&(Ee=e.RG16UI),re===e.UNSIGNED_INT&&(Ee=e.RG32UI),re===e.BYTE&&(Ee=e.RG8I),re===e.SHORT&&(Ee=e.RG16I),re===e.INT&&(Ee=e.RG32I)),oe===e.RGB_INTEGER&&(re===e.UNSIGNED_BYTE&&(Ee=e.RGB8UI),re===e.UNSIGNED_SHORT&&(Ee=e.RGB16UI),re===e.UNSIGNED_INT&&(Ee=e.RGB32UI),re===e.BYTE&&(Ee=e.RGB8I),re===e.SHORT&&(Ee=e.RGB16I),re===e.INT&&(Ee=e.RGB32I)),oe===e.RGBA_INTEGER&&(re===e.UNSIGNED_BYTE&&(Ee=e.RGBA8UI),re===e.UNSIGNED_SHORT&&(Ee=e.RGBA16UI),re===e.UNSIGNED_INT&&(Ee=e.RGBA32UI),re===e.BYTE&&(Ee=e.RGBA8I),re===e.SHORT&&(Ee=e.RGBA16I),re===e.INT&&(Ee=e.RGBA32I)),oe===e.RGB&&re===e.UNSIGNED_INT_5_9_9_9_REV&&(Ee=e.RGB9_E5),oe===e.RGBA){let ke=pe?jx:Fn.getTransfer(J);re===e.FLOAT&&(Ee=e.RGBA32F),re===e.HALF_FLOAT&&(Ee=e.RGBA16F),re===e.UNSIGNED_BYTE&&(Ee=ke===So?e.SRGB8_ALPHA8:e.RGBA8),re===e.UNSIGNED_SHORT_4_4_4_4&&(Ee=e.RGBA4),re===e.UNSIGNED_SHORT_5_5_5_1&&(Ee=e.RGB5_A1)}return(Ee===e.R16F||Ee===e.R32F||Ee===e.RG16F||Ee===e.RG32F||Ee===e.RGBA16F||Ee===e.RGBA32F)&&t.get("EXT_color_buffer_float"),Ee}function x(be,oe){let re;return be?oe===null||oe===Sg||oe===Ry?re=e.DEPTH24_STENCIL8:oe===th?re=e.DEPTH32F_STENCIL8:oe===Ty&&(re=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):oe===null||oe===Sg||oe===Ry?re=e.DEPTH_COMPONENT24:oe===th?re=e.DEPTH_COMPONENT32F:oe===Ty&&(re=e.DEPTH_COMPONENT16),re}function R(be,oe){return m(be)===!0||be.isFramebufferTexture&&be.minFilter!==xl&&be.minFilter!==Ia?Math.log2(Math.max(oe.width,oe.height))+1:be.mipmaps!==void 0&&be.mipmaps.length>0?be.mipmaps.length:be.isCompressedTexture&&Array.isArray(be.image)?oe.mipmaps.length:1}function _(be){let oe=be.target;oe.removeEventListener("dispose",_),F(oe),oe.isVideoTexture&&d.delete(oe)}function L(be){let oe=be.target;oe.removeEventListener("dispose",L),P(oe)}function F(be){let oe=n.get(be);if(oe.__webglInit===void 0)return;let re=be.source,J=h.get(re);if(J){let pe=J[oe.__cacheKey];pe.usedTimes--,pe.usedTimes===0&&T(be),Object.keys(J).length===0&&h.delete(re)}n.remove(be)}function T(be){let oe=n.get(be);e.deleteTexture(oe.__webglTexture);let re=be.source,J=h.get(re);delete J[oe.__cacheKey],s.memory.textures--}function P(be){let oe=n.get(be);if(be.depthTexture&&(be.depthTexture.dispose(),n.remove(be.depthTexture)),be.isWebGLCubeRenderTarget)for(let J=0;J<6;J++){if(Array.isArray(oe.__webglFramebuffer[J]))for(let pe=0;pe<oe.__webglFramebuffer[J].length;pe++)e.deleteFramebuffer(oe.__webglFramebuffer[J][pe]);else e.deleteFramebuffer(oe.__webglFramebuffer[J]);oe.__webglDepthbuffer&&e.deleteRenderbuffer(oe.__webglDepthbuffer[J])}else{if(Array.isArray(oe.__webglFramebuffer))for(let J=0;J<oe.__webglFramebuffer.length;J++)e.deleteFramebuffer(oe.__webglFramebuffer[J]);else e.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&e.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&e.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let J=0;J<oe.__webglColorRenderbuffer.length;J++)oe.__webglColorRenderbuffer[J]&&e.deleteRenderbuffer(oe.__webglColorRenderbuffer[J]);oe.__webglDepthRenderbuffer&&e.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}let re=be.textures;for(let J=0,pe=re.length;J<pe;J++){let Ee=n.get(re[J]);Ee.__webglTexture&&(e.deleteTexture(Ee.__webglTexture),s.memory.textures--),n.remove(re[J])}n.remove(be)}let A=0;function O(){A=0}function V(){let be=A;return be>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+be+" texture units while this GPU supports only "+r.maxTextures),A+=1,be}function U(be){let oe=[];return oe.push(be.wrapS),oe.push(be.wrapT),oe.push(be.wrapR||0),oe.push(be.magFilter),oe.push(be.minFilter),oe.push(be.anisotropy),oe.push(be.internalFormat),oe.push(be.format),oe.push(be.type),oe.push(be.generateMipmaps),oe.push(be.premultiplyAlpha),oe.push(be.flipY),oe.push(be.unpackAlignment),oe.push(be.colorSpace),oe.join()}function ae(be,oe){let re=n.get(be);if(be.isVideoTexture&&Pt(be),be.isRenderTargetTexture===!1&&be.version>0&&re.__version!==be.version){let J=be.image;if(J===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(J.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ee(re,be,oe);return}}i.bindTexture(e.TEXTURE_2D,re.__webglTexture,e.TEXTURE0+oe)}function ne(be,oe){let re=n.get(be);if(be.version>0&&re.__version!==be.version){ee(re,be,oe);return}i.bindTexture(e.TEXTURE_2D_ARRAY,re.__webglTexture,e.TEXTURE0+oe)}function ue(be,oe){let re=n.get(be);if(be.version>0&&re.__version!==be.version){ee(re,be,oe);return}i.bindTexture(e.TEXTURE_3D,re.__webglTexture,e.TEXTURE0+oe)}function se(be,oe){let re=n.get(be);if(be.version>0&&re.__version!==be.version){Z(re,be,oe);return}i.bindTexture(e.TEXTURE_CUBE_MAP,re.__webglTexture,e.TEXTURE0+oe)}let _e={[as]:e.REPEAT,[Ms]:e.CLAMP_TO_EDGE,[mv]:e.MIRRORED_REPEAT},Ve={[xl]:e.NEAREST,[wte]:e.NEAREST_MIPMAP_NEAREST,[fS]:e.NEAREST_MIPMAP_LINEAR,[Ia]:e.LINEAR,[pk]:e.LINEAR_MIPMAP_NEAREST,[Vc]:e.LINEAR_MIPMAP_LINEAR},Ge={[Ete]:e.NEVER,[Ite]:e.ALWAYS,[Dte]:e.LESS,[C8]:e.LEQUAL,[Tte]:e.EQUAL,[kte]:e.GEQUAL,[Ate]:e.GREATER,[Rte]:e.NOTEQUAL};function K(be,oe){if(oe.type===th&&t.has("OES_texture_float_linear")===!1&&(oe.magFilter===Ia||oe.magFilter===pk||oe.magFilter===fS||oe.magFilter===Vc||oe.minFilter===Ia||oe.minFilter===pk||oe.minFilter===fS||oe.minFilter===Vc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(be,e.TEXTURE_WRAP_S,_e[oe.wrapS]),e.texParameteri(be,e.TEXTURE_WRAP_T,_e[oe.wrapT]),(be===e.TEXTURE_3D||be===e.TEXTURE_2D_ARRAY)&&e.texParameteri(be,e.TEXTURE_WRAP_R,_e[oe.wrapR]),e.texParameteri(be,e.TEXTURE_MAG_FILTER,Ve[oe.magFilter]),e.texParameteri(be,e.TEXTURE_MIN_FILTER,Ve[oe.minFilter]),oe.compareFunction&&(e.texParameteri(be,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(be,e.TEXTURE_COMPARE_FUNC,Ge[oe.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(oe.magFilter===xl||oe.minFilter!==fS&&oe.minFilter!==Vc||oe.type===th&&t.has("OES_texture_float_linear")===!1)return;if(oe.anisotropy>1||n.get(oe).__currentAnisotropy){let re=t.get("EXT_texture_filter_anisotropic");e.texParameterf(be,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(oe.anisotropy,r.getMaxAnisotropy())),n.get(oe).__currentAnisotropy=oe.anisotropy}}}function Q(be,oe){let re=!1;be.__webglInit===void 0&&(be.__webglInit=!0,oe.addEventListener("dispose",_));let J=oe.source,pe=h.get(J);pe===void 0&&(pe={},h.set(J,pe));let Ee=U(oe);if(Ee!==be.__cacheKey){pe[Ee]===void 0&&(pe[Ee]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,re=!0),pe[Ee].usedTimes++;let ke=pe[be.__cacheKey];ke!==void 0&&(pe[be.__cacheKey].usedTimes--,ke.usedTimes===0&&T(oe)),be.__cacheKey=Ee,be.__webglTexture=pe[Ee].texture}return re}function ee(be,oe,re){let J=e.TEXTURE_2D;(oe.isDataArrayTexture||oe.isCompressedArrayTexture)&&(J=e.TEXTURE_2D_ARRAY),oe.isData3DTexture&&(J=e.TEXTURE_3D);let pe=Q(be,oe),Ee=oe.source;i.bindTexture(J,be.__webglTexture,e.TEXTURE0+re);let ke=n.get(Ee);if(Ee.version!==ke.__version||pe===!0){i.activeTexture(e.TEXTURE0+re);let Le=Fn.getPrimaries(Fn.workingColorSpace),Ne=oe.colorSpace===zp?null:Fn.getPrimaries(oe.colorSpace),Ye=oe.colorSpace===zp||Le===Ne?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,oe.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,oe.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);let Be=v(oe.image,!1,r.maxTextureSize);Be=ft(oe,Be);let ct=o.convert(oe.format,oe.colorSpace),gt=o.convert(oe.type),Tt=w(oe.internalFormat,ct,gt,oe.colorSpace,oe.isVideoTexture);K(J,oe);let Ft,wi=oe.mipmaps,Vt=oe.isVideoTexture!==!0,li=ke.__version===void 0||pe===!0,Ue=Ee.dataReady,yt=R(oe,Be);if(oe.isDepthTexture)Tt=x(oe.format===ky,oe.type),li&&(Vt?i.texStorage2D(e.TEXTURE_2D,1,Tt,Be.width,Be.height):i.texImage2D(e.TEXTURE_2D,0,Tt,Be.width,Be.height,0,ct,gt,null));else if(oe.isDataTexture)if(wi.length>0){Vt&&li&&i.texStorage2D(e.TEXTURE_2D,yt,Tt,wi[0].width,wi[0].height);for(let dt=0,ht=wi.length;dt<ht;dt++)Ft=wi[dt],Vt?Ue&&i.texSubImage2D(e.TEXTURE_2D,dt,0,0,Ft.width,Ft.height,ct,gt,Ft.data):i.texImage2D(e.TEXTURE_2D,dt,Tt,Ft.width,Ft.height,0,ct,gt,Ft.data);oe.generateMipmaps=!1}else Vt?(li&&i.texStorage2D(e.TEXTURE_2D,yt,Tt,Be.width,Be.height),Ue&&i.texSubImage2D(e.TEXTURE_2D,0,0,0,Be.width,Be.height,ct,gt,Be.data)):i.texImage2D(e.TEXTURE_2D,0,Tt,Be.width,Be.height,0,ct,gt,Be.data);else if(oe.isCompressedTexture)if(oe.isCompressedArrayTexture){Vt&&li&&i.texStorage3D(e.TEXTURE_2D_ARRAY,yt,Tt,wi[0].width,wi[0].height,Be.depth);for(let dt=0,ht=wi.length;dt<ht;dt++)if(Ft=wi[dt],oe.format!==Md)if(ct!==null)if(Vt){if(Ue)if(oe.layerUpdates.size>0){let nt=A8(Ft.width,Ft.height,oe.format,oe.type);for(let It of oe.layerUpdates){let Ei=Ft.data.subarray(It*nt/Ft.data.BYTES_PER_ELEMENT,(It+1)*nt/Ft.data.BYTES_PER_ELEMENT);i.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,dt,0,0,It,Ft.width,Ft.height,1,ct,Ei)}oe.clearLayerUpdates()}else i.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,dt,0,0,0,Ft.width,Ft.height,Be.depth,ct,Ft.data)}else i.compressedTexImage3D(e.TEXTURE_2D_ARRAY,dt,Tt,Ft.width,Ft.height,Be.depth,0,Ft.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Vt?Ue&&i.texSubImage3D(e.TEXTURE_2D_ARRAY,dt,0,0,0,Ft.width,Ft.height,Be.depth,ct,gt,Ft.data):i.texImage3D(e.TEXTURE_2D_ARRAY,dt,Tt,Ft.width,Ft.height,Be.depth,0,ct,gt,Ft.data)}else{Vt&&li&&i.texStorage2D(e.TEXTURE_2D,yt,Tt,wi[0].width,wi[0].height);for(let dt=0,ht=wi.length;dt<ht;dt++)Ft=wi[dt],oe.format!==Md?ct!==null?Vt?Ue&&i.compressedTexSubImage2D(e.TEXTURE_2D,dt,0,0,Ft.width,Ft.height,ct,Ft.data):i.compressedTexImage2D(e.TEXTURE_2D,dt,Tt,Ft.width,Ft.height,0,Ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Vt?Ue&&i.texSubImage2D(e.TEXTURE_2D,dt,0,0,Ft.width,Ft.height,ct,gt,Ft.data):i.texImage2D(e.TEXTURE_2D,dt,Tt,Ft.width,Ft.height,0,ct,gt,Ft.data)}else if(oe.isDataArrayTexture)if(Vt){if(li&&i.texStorage3D(e.TEXTURE_2D_ARRAY,yt,Tt,Be.width,Be.height,Be.depth),Ue)if(oe.layerUpdates.size>0){let dt=A8(Be.width,Be.height,oe.format,oe.type);for(let ht of oe.layerUpdates){let nt=Be.data.subarray(ht*dt/Be.data.BYTES_PER_ELEMENT,(ht+1)*dt/Be.data.BYTES_PER_ELEMENT);i.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,ht,Be.width,Be.height,1,ct,gt,nt)}oe.clearLayerUpdates()}else i.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,Be.width,Be.height,Be.depth,ct,gt,Be.data)}else i.texImage3D(e.TEXTURE_2D_ARRAY,0,Tt,Be.width,Be.height,Be.depth,0,ct,gt,Be.data);else if(oe.isData3DTexture)Vt?(li&&i.texStorage3D(e.TEXTURE_3D,yt,Tt,Be.width,Be.height,Be.depth),Ue&&i.texSubImage3D(e.TEXTURE_3D,0,0,0,0,Be.width,Be.height,Be.depth,ct,gt,Be.data)):i.texImage3D(e.TEXTURE_3D,0,Tt,Be.width,Be.height,Be.depth,0,ct,gt,Be.data);else if(oe.isFramebufferTexture){if(li)if(Vt)i.texStorage2D(e.TEXTURE_2D,yt,Tt,Be.width,Be.height);else{let dt=Be.width,ht=Be.height;for(let nt=0;nt<yt;nt++)i.texImage2D(e.TEXTURE_2D,nt,Tt,dt,ht,0,ct,gt,null),dt>>=1,ht>>=1}}else if(wi.length>0){if(Vt&&li){let dt=kt(wi[0]);i.texStorage2D(e.TEXTURE_2D,yt,Tt,dt.width,dt.height)}for(let dt=0,ht=wi.length;dt<ht;dt++)Ft=wi[dt],Vt?Ue&&i.texSubImage2D(e.TEXTURE_2D,dt,0,0,ct,gt,Ft):i.texImage2D(e.TEXTURE_2D,dt,Tt,ct,gt,Ft);oe.generateMipmaps=!1}else if(Vt){if(li){let dt=kt(Be);i.texStorage2D(e.TEXTURE_2D,yt,Tt,dt.width,dt.height)}Ue&&i.texSubImage2D(e.TEXTURE_2D,0,0,0,ct,gt,Be)}else i.texImage2D(e.TEXTURE_2D,0,Tt,ct,gt,Be);m(oe)&&g(J),ke.__version=Ee.version,oe.onUpdate&&oe.onUpdate(oe)}be.__version=oe.version}function Z(be,oe,re){if(oe.image.length!==6)return;let J=Q(be,oe),pe=oe.source;i.bindTexture(e.TEXTURE_CUBE_MAP,be.__webglTexture,e.TEXTURE0+re);let Ee=n.get(pe);if(pe.version!==Ee.__version||J===!0){i.activeTexture(e.TEXTURE0+re);let ke=Fn.getPrimaries(Fn.workingColorSpace),Le=oe.colorSpace===zp?null:Fn.getPrimaries(oe.colorSpace),Ne=oe.colorSpace===zp||ke===Le?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,oe.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,oe.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ne);let Ye=oe.isCompressedTexture||oe.image[0].isCompressedTexture,Be=oe.image[0]&&oe.image[0].isDataTexture,ct=[];for(let ht=0;ht<6;ht++)!Ye&&!Be?ct[ht]=v(oe.image[ht],!0,r.maxCubemapSize):ct[ht]=Be?oe.image[ht].image:oe.image[ht],ct[ht]=ft(oe,ct[ht]);let gt=ct[0],Tt=o.convert(oe.format,oe.colorSpace),Ft=o.convert(oe.type),wi=w(oe.internalFormat,Tt,Ft,oe.colorSpace),Vt=oe.isVideoTexture!==!0,li=Ee.__version===void 0||J===!0,Ue=pe.dataReady,yt=R(oe,gt);K(e.TEXTURE_CUBE_MAP,oe);let dt;if(Ye){Vt&&li&&i.texStorage2D(e.TEXTURE_CUBE_MAP,yt,wi,gt.width,gt.height);for(let ht=0;ht<6;ht++){dt=ct[ht].mipmaps;for(let nt=0;nt<dt.length;nt++){let It=dt[nt];oe.format!==Md?Tt!==null?Vt?Ue&&i.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt,0,0,It.width,It.height,Tt,It.data):i.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt,wi,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Vt?Ue&&i.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt,0,0,It.width,It.height,Tt,Ft,It.data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt,wi,It.width,It.height,0,Tt,Ft,It.data)}}}else{if(dt=oe.mipmaps,Vt&&li){dt.length>0&&yt++;let ht=kt(ct[0]);i.texStorage2D(e.TEXTURE_CUBE_MAP,yt,wi,ht.width,ht.height)}for(let ht=0;ht<6;ht++)if(Be){Vt?Ue&&i.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,0,0,ct[ht].width,ct[ht].height,Tt,Ft,ct[ht].data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,wi,ct[ht].width,ct[ht].height,0,Tt,Ft,ct[ht].data);for(let nt=0;nt<dt.length;nt++){let Ei=dt[nt].image[ht].image;Vt?Ue&&i.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt+1,0,0,Ei.width,Ei.height,Tt,Ft,Ei.data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt+1,wi,Ei.width,Ei.height,0,Tt,Ft,Ei.data)}}else{Vt?Ue&&i.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,0,0,Tt,Ft,ct[ht]):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,wi,Tt,Ft,ct[ht]);for(let nt=0;nt<dt.length;nt++){let It=dt[nt];Vt?Ue&&i.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt+1,0,0,Tt,Ft,It.image[ht]):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ht,nt+1,wi,Tt,Ft,It.image[ht])}}}m(oe)&&g(e.TEXTURE_CUBE_MAP),Ee.__version=pe.version,oe.onUpdate&&oe.onUpdate(oe)}be.__version=oe.version}function G(be,oe,re,J,pe,Ee){let ke=o.convert(re.format,re.colorSpace),Le=o.convert(re.type),Ne=w(re.internalFormat,ke,Le,re.colorSpace),Ye=n.get(oe),Be=n.get(re);if(Be.__renderTarget=oe,!Ye.__hasExternalTextures){let ct=Math.max(1,oe.width>>Ee),gt=Math.max(1,oe.height>>Ee);pe===e.TEXTURE_3D||pe===e.TEXTURE_2D_ARRAY?i.texImage3D(pe,Ee,Ne,ct,gt,oe.depth,0,ke,Le,null):i.texImage2D(pe,Ee,Ne,ct,gt,0,ke,Le,null)}i.bindFramebuffer(e.FRAMEBUFFER,be),vt(oe)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,J,pe,Be.__webglTexture,0,pt(oe)):(pe===e.TEXTURE_2D||pe>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&pe<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,J,pe,Be.__webglTexture,Ee),i.bindFramebuffer(e.FRAMEBUFFER,null)}function W(be,oe,re){if(e.bindRenderbuffer(e.RENDERBUFFER,be),oe.depthBuffer){let J=oe.depthTexture,pe=J&&J.isDepthTexture?J.type:null,Ee=x(oe.stencilBuffer,pe),ke=oe.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,Le=pt(oe);vt(oe)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,Le,Ee,oe.width,oe.height):re?e.renderbufferStorageMultisample(e.RENDERBUFFER,Le,Ee,oe.width,oe.height):e.renderbufferStorage(e.RENDERBUFFER,Ee,oe.width,oe.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,ke,e.RENDERBUFFER,be)}else{let J=oe.textures;for(let pe=0;pe<J.length;pe++){let Ee=J[pe],ke=o.convert(Ee.format,Ee.colorSpace),Le=o.convert(Ee.type),Ne=w(Ee.internalFormat,ke,Le,Ee.colorSpace),Ye=pt(oe);re&&vt(oe)===!1?e.renderbufferStorageMultisample(e.RENDERBUFFER,Ye,Ne,oe.width,oe.height):vt(oe)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,Ye,Ne,oe.width,oe.height):e.renderbufferStorage(e.RENDERBUFFER,Ne,oe.width,oe.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function ce(be,oe){if(oe&&oe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(e.FRAMEBUFFER,be),!(oe.depthTexture&&oe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let J=n.get(oe.depthTexture);J.__renderTarget=oe,(!J.__webglTexture||oe.depthTexture.image.width!==oe.width||oe.depthTexture.image.height!==oe.height)&&(oe.depthTexture.image.width=oe.width,oe.depthTexture.image.height=oe.height,oe.depthTexture.needsUpdate=!0),ae(oe.depthTexture,0);let pe=J.__webglTexture,Ee=pt(oe);if(oe.depthTexture.format===gy)vt(oe)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,pe,0,Ee):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,pe,0);else if(oe.depthTexture.format===ky)vt(oe)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,pe,0,Ee):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,pe,0);else throw new Error("Unknown depthTexture format")}function me(be){let oe=n.get(be),re=be.isWebGLCubeRenderTarget===!0;if(oe.__boundDepthTexture!==be.depthTexture){let J=be.depthTexture;if(oe.__depthDisposeCallback&&oe.__depthDisposeCallback(),J){let pe=()=>{delete oe.__boundDepthTexture,delete oe.__depthDisposeCallback,J.removeEventListener("dispose",pe)};J.addEventListener("dispose",pe),oe.__depthDisposeCallback=pe}oe.__boundDepthTexture=J}if(be.depthTexture&&!oe.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");let J=be.texture.mipmaps;J&&J.length>0?ce(oe.__webglFramebuffer[0],be):ce(oe.__webglFramebuffer,be)}else if(re){oe.__webglDepthbuffer=[];for(let J=0;J<6;J++)if(i.bindFramebuffer(e.FRAMEBUFFER,oe.__webglFramebuffer[J]),oe.__webglDepthbuffer[J]===void 0)oe.__webglDepthbuffer[J]=e.createRenderbuffer(),W(oe.__webglDepthbuffer[J],be,!1);else{let pe=be.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,Ee=oe.__webglDepthbuffer[J];e.bindRenderbuffer(e.RENDERBUFFER,Ee),e.framebufferRenderbuffer(e.FRAMEBUFFER,pe,e.RENDERBUFFER,Ee)}}else{let J=be.texture.mipmaps;if(J&&J.length>0?i.bindFramebuffer(e.FRAMEBUFFER,oe.__webglFramebuffer[0]):i.bindFramebuffer(e.FRAMEBUFFER,oe.__webglFramebuffer),oe.__webglDepthbuffer===void 0)oe.__webglDepthbuffer=e.createRenderbuffer(),W(oe.__webglDepthbuffer,be,!1);else{let pe=be.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,Ee=oe.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,Ee),e.framebufferRenderbuffer(e.FRAMEBUFFER,pe,e.RENDERBUFFER,Ee)}}i.bindFramebuffer(e.FRAMEBUFFER,null)}function Me(be,oe,re){let J=n.get(be);oe!==void 0&&G(J.__webglFramebuffer,be,be.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),re!==void 0&&me(be)}function He(be){let oe=be.texture,re=n.get(be),J=n.get(oe);be.addEventListener("dispose",L);let pe=be.textures,Ee=be.isWebGLCubeRenderTarget===!0,ke=pe.length>1;if(ke||(J.__webglTexture===void 0&&(J.__webglTexture=e.createTexture()),J.__version=oe.version,s.memory.textures++),Ee){re.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(oe.mipmaps&&oe.mipmaps.length>0){re.__webglFramebuffer[Le]=[];for(let Ne=0;Ne<oe.mipmaps.length;Ne++)re.__webglFramebuffer[Le][Ne]=e.createFramebuffer()}else re.__webglFramebuffer[Le]=e.createFramebuffer()}else{if(oe.mipmaps&&oe.mipmaps.length>0){re.__webglFramebuffer=[];for(let Le=0;Le<oe.mipmaps.length;Le++)re.__webglFramebuffer[Le]=e.createFramebuffer()}else re.__webglFramebuffer=e.createFramebuffer();if(ke)for(let Le=0,Ne=pe.length;Le<Ne;Le++){let Ye=n.get(pe[Le]);Ye.__webglTexture===void 0&&(Ye.__webglTexture=e.createTexture(),s.memory.textures++)}if(be.samples>0&&vt(be)===!1){re.__webglMultisampledFramebuffer=e.createFramebuffer(),re.__webglColorRenderbuffer=[],i.bindFramebuffer(e.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let Le=0;Le<pe.length;Le++){let Ne=pe[Le];re.__webglColorRenderbuffer[Le]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,re.__webglColorRenderbuffer[Le]);let Ye=o.convert(Ne.format,Ne.colorSpace),Be=o.convert(Ne.type),ct=w(Ne.internalFormat,Ye,Be,Ne.colorSpace,be.isXRRenderTarget===!0),gt=pt(be);e.renderbufferStorageMultisample(e.RENDERBUFFER,gt,ct,be.width,be.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+Le,e.RENDERBUFFER,re.__webglColorRenderbuffer[Le])}e.bindRenderbuffer(e.RENDERBUFFER,null),be.depthBuffer&&(re.__webglDepthRenderbuffer=e.createRenderbuffer(),W(re.__webglDepthRenderbuffer,be,!0)),i.bindFramebuffer(e.FRAMEBUFFER,null)}}if(Ee){i.bindTexture(e.TEXTURE_CUBE_MAP,J.__webglTexture),K(e.TEXTURE_CUBE_MAP,oe);for(let Le=0;Le<6;Le++)if(oe.mipmaps&&oe.mipmaps.length>0)for(let Ne=0;Ne<oe.mipmaps.length;Ne++)G(re.__webglFramebuffer[Le][Ne],be,oe,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ne);else G(re.__webglFramebuffer[Le],be,oe,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);m(oe)&&g(e.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(ke){for(let Le=0,Ne=pe.length;Le<Ne;Le++){let Ye=pe[Le],Be=n.get(Ye);i.bindTexture(e.TEXTURE_2D,Be.__webglTexture),K(e.TEXTURE_2D,Ye),G(re.__webglFramebuffer,be,Ye,e.COLOR_ATTACHMENT0+Le,e.TEXTURE_2D,0),m(Ye)&&g(e.TEXTURE_2D)}i.unbindTexture()}else{let Le=e.TEXTURE_2D;if((be.isWebGL3DRenderTarget||be.isWebGLArrayRenderTarget)&&(Le=be.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),i.bindTexture(Le,J.__webglTexture),K(Le,oe),oe.mipmaps&&oe.mipmaps.length>0)for(let Ne=0;Ne<oe.mipmaps.length;Ne++)G(re.__webglFramebuffer[Ne],be,oe,e.COLOR_ATTACHMENT0,Le,Ne);else G(re.__webglFramebuffer,be,oe,e.COLOR_ATTACHMENT0,Le,0);m(oe)&&g(Le),i.unbindTexture()}be.depthBuffer&&me(be)}function $e(be){let oe=be.textures;for(let re=0,J=oe.length;re<J;re++){let pe=oe[re];if(m(pe)){let Ee=b(be),ke=n.get(pe).__webglTexture;i.bindTexture(Ee,ke),g(Ee),i.unbindTexture()}}}let Je=[],ve=[];function ge(be){if(be.samples>0){if(vt(be)===!1){let oe=be.textures,re=be.width,J=be.height,pe=e.COLOR_BUFFER_BIT,Ee=be.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,ke=n.get(be),Le=oe.length>1;if(Le)for(let Ye=0;Ye<oe.length;Ye++)i.bindFramebuffer(e.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+Ye,e.RENDERBUFFER,null),i.bindFramebuffer(e.FRAMEBUFFER,ke.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+Ye,e.TEXTURE_2D,null,0);i.bindFramebuffer(e.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer);let Ne=be.texture.mipmaps;Ne&&Ne.length>0?i.bindFramebuffer(e.DRAW_FRAMEBUFFER,ke.__webglFramebuffer[0]):i.bindFramebuffer(e.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let Ye=0;Ye<oe.length;Ye++){if(be.resolveDepthBuffer&&(be.depthBuffer&&(pe|=e.DEPTH_BUFFER_BIT),be.stencilBuffer&&be.resolveStencilBuffer&&(pe|=e.STENCIL_BUFFER_BIT)),Le){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,ke.__webglColorRenderbuffer[Ye]);let Be=n.get(oe[Ye]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,Be,0)}e.blitFramebuffer(0,0,re,J,0,0,re,J,pe,e.NEAREST),l===!0&&(Je.length=0,ve.length=0,Je.push(e.COLOR_ATTACHMENT0+Ye),be.depthBuffer&&be.resolveDepthBuffer===!1&&(Je.push(Ee),ve.push(Ee),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,ve)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,Je))}if(i.bindFramebuffer(e.READ_FRAMEBUFFER,null),i.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),Le)for(let Ye=0;Ye<oe.length;Ye++){i.bindFramebuffer(e.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+Ye,e.RENDERBUFFER,ke.__webglColorRenderbuffer[Ye]);let Be=n.get(oe[Ye]).__webglTexture;i.bindFramebuffer(e.FRAMEBUFFER,ke.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+Ye,e.TEXTURE_2D,Be,0)}i.bindFramebuffer(e.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}else if(be.depthBuffer&&be.resolveDepthBuffer===!1&&l){let oe=be.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[oe])}}}function pt(be){return Math.min(r.maxSamples,be.samples)}function vt(be){let oe=n.get(be);return be.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&oe.__useRenderToTexture!==!1}function Pt(be){let oe=s.render.frame;d.get(be)!==oe&&(d.set(be,oe),be.update())}function ft(be,oe){let re=be.colorSpace,J=be.format,pe=be.type;return be.isCompressedTexture===!0||be.isVideoTexture===!0||re!==Qu&&re!==zp&&(Fn.getTransfer(re)===So?(J!==Md||pe!==eh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),oe}function kt(be){return typeof HTMLImageElement<"u"&&be instanceof HTMLImageElement?(c.width=be.naturalWidth||be.width,c.height=be.naturalHeight||be.height):typeof VideoFrame<"u"&&be instanceof VideoFrame?(c.width=be.displayWidth,c.height=be.displayHeight):(c.width=be.width,c.height=be.height),c}this.allocateTextureUnit=V,this.resetTextureUnits=O,this.setTexture2D=ae,this.setTexture2DArray=ne,this.setTexture3D=ue,this.setTextureCube=se,this.rebindTextures=Me,this.setupRenderTarget=He,this.updateRenderTargetMipmap=$e,this.updateMultisampleRenderTarget=ge,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=G,this.useMultisampledRTT=vt}function TBe(e,t){function i(n,r=zp){let o,s=Fn.getTransfer(r);if(n===eh)return e.UNSIGNED_BYTE;if(n===gk)return e.UNSIGNED_SHORT_4_4_4_4;if(n===vk)return e.UNSIGNED_SHORT_5_5_5_1;if(n===g8)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===p8)return e.BYTE;if(n===m8)return e.SHORT;if(n===Ty)return e.UNSIGNED_SHORT;if(n===mk)return e.INT;if(n===Sg)return e.UNSIGNED_INT;if(n===th)return e.FLOAT;if(n===Ay)return e.HALF_FLOAT;if(n===v8)return e.ALPHA;if(n===b8)return e.RGB;if(n===Md)return e.RGBA;if(n===gy)return e.DEPTH_COMPONENT;if(n===ky)return e.DEPTH_STENCIL;if(n===_8)return e.RED;if(n===bk)return e.RED_INTEGER;if(n===y8)return e.RG;if(n===_k)return e.RG_INTEGER;if(n===yk)return e.RGBA_INTEGER;if(n===pS||n===mS||n===gS||n===vS)if(s===So)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===pS)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===mS)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===gS)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===vS)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===pS)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===mS)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===gS)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===vS)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===wk||n===Ck||n===xk||n===Sk)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===wk)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ck)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===xk)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Sk)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Mk||n===Ek||n===Dk)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(n===Mk||n===Ek)return s===So?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===Dk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===Tk||n===Ak||n===Rk||n===kk||n===Ik||n===Pk||n===Fk||n===Ok||n===Lk||n===Nk||n===Bk||n===Vk||n===zk||n===Hk)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(n===Tk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ak)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Rk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===kk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ik)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Pk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Fk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Ok)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Lk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Nk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Bk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Vk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===zk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Hk)return s===So?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===bS||n===Uk||n===Gk)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(n===bS)return s===So?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Uk)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Gk)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===w8||n===Wk||n===jk||n===qk)if(o=t.get("EXT_texture_compression_rgtc"),o!==null){if(n===bS)return o.COMPRESSED_RED_RGTC1_EXT;if(n===Wk)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===jk)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===qk)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Ry?e.UNSIGNED_INT_24_8:e[n]!==void 0?e[n]:null}return{convert:i}}var ABe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,RBe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,U8=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,i,n){if(this.texture===null){let r=new hu,o=t.properties.get(r);o.__webglTexture=i.texture,(i.depthNear!==n.depthNear||i.depthFar!==n.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=r}}getMesh(t){if(this.texture!==null&&this.mesh===null){let i=t.cameras[0].viewport,n=new Ju({vertexShader:ABe,fragmentShader:RBe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new go(new Sv(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}},G8=class extends kp{constructor(t,i){super();let n=this,r=null,o=1,s=null,a="local-floor",l=1,c=null,d=null,u=null,h=null,f=null,p=null,v=new U8,m=i.getContextAttributes(),g=null,b=null,w=[],x=[],R=new On,_=null,L=new ss;L.viewport=new xr;let F=new ss;F.viewport=new xr;let T=[L,F],P=new rk,A=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let Z=w[ee];return Z===void 0&&(Z=new wy,w[ee]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(ee){let Z=w[ee];return Z===void 0&&(Z=new wy,w[ee]=Z),Z.getGripSpace()},this.getHand=function(ee){let Z=w[ee];return Z===void 0&&(Z=new wy,w[ee]=Z),Z.getHandSpace()};function V(ee){let Z=x.indexOf(ee.inputSource);if(Z===-1)return;let G=w[Z];G!==void 0&&(G.update(ee.inputSource,ee.frame,c||s),G.dispatchEvent({type:ee.type,data:ee.inputSource}))}function U(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",ae);for(let ee=0;ee<w.length;ee++){let Z=x[ee];Z!==null&&(x[ee]=null,w[ee].disconnect(Z))}A=null,O=null,v.reset(),t.setRenderTarget(g),f=null,h=null,u=null,r=null,b=null,Q.stop(),n.isPresenting=!1,t.setPixelRatio(_),t.setSize(R.width,R.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){o=ee,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){a=ee,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ee){c=ee},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(ee){return Mf(this,null,function*(){if(r=ee,r!==null){if(g=t.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",U),r.addEventListener("inputsourceschange",ae),m.xrCompatible!==!0&&(yield i.makeXRCompatible()),_=t.getPixelRatio(),t.getSize(R),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let G=null,W=null,ce=null;m.depth&&(ce=m.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,G=m.stencil?ky:gy,W=m.stencil?Ry:Sg);let me={colorFormat:i.RGBA8,depthFormat:ce,scaleFactor:o};u=new XRWebGLBinding(r,i),h=u.createProjectionLayer(me),r.updateRenderState({layers:[h]}),t.setPixelRatio(1),t.setSize(h.textureWidth,h.textureHeight,!1),b=new nf(h.textureWidth,h.textureHeight,{format:Md,type:eh,depthTexture:new Zx(h.textureWidth,h.textureHeight,W,void 0,void 0,void 0,void 0,void 0,void 0,G),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{let G={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o};f=new XRWebGLLayer(r,i,G),r.updateRenderState({baseLayer:f}),t.setPixelRatio(1),t.setSize(f.framebufferWidth,f.framebufferHeight,!1),b=new nf(f.framebufferWidth,f.framebufferHeight,{format:Md,type:eh,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=yield r.requestReferenceSpace(a),Q.setContext(r),Q.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function ae(ee){for(let Z=0;Z<ee.removed.length;Z++){let G=ee.removed[Z],W=x.indexOf(G);W>=0&&(x[W]=null,w[W].disconnect(G))}for(let Z=0;Z<ee.added.length;Z++){let G=ee.added[Z],W=x.indexOf(G);if(W===-1){for(let me=0;me<w.length;me++)if(me>=x.length){x.push(G),W=me;break}else if(x[me]===null){x[me]=G,W=me;break}if(W===-1)break}let ce=w[W];ce&&ce.connect(G)}}let ne=new Qe,ue=new Qe;function se(ee,Z,G){ne.setFromMatrixPosition(Z.matrixWorld),ue.setFromMatrixPosition(G.matrixWorld);let W=ne.distanceTo(ue),ce=Z.projectionMatrix.elements,me=G.projectionMatrix.elements,Me=ce[14]/(ce[10]-1),He=ce[14]/(ce[10]+1),$e=(ce[9]+1)/ce[5],Je=(ce[9]-1)/ce[5],ve=(ce[8]-1)/ce[0],ge=(me[8]+1)/me[0],pt=Me*ve,vt=Me*ge,Pt=W/(-ve+ge),ft=Pt*-ve;if(Z.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(ft),ee.translateZ(Pt),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert(),ce[10]===-1)ee.projectionMatrix.copy(Z.projectionMatrix),ee.projectionMatrixInverse.copy(Z.projectionMatrixInverse);else{let kt=Me+Pt,be=He+Pt,oe=pt-ft,re=vt+(W-ft),J=$e*He/be*kt,pe=Je*He/be*kt;ee.projectionMatrix.makePerspective(oe,re,J,pe,kt,be),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}}function _e(ee,Z){Z===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(Z.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(r===null)return;let Z=ee.near,G=ee.far;v.texture!==null&&(v.depthNear>0&&(Z=v.depthNear),v.depthFar>0&&(G=v.depthFar)),P.near=F.near=L.near=Z,P.far=F.far=L.far=G,(A!==P.near||O!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),A=P.near,O=P.far),L.layers.mask=ee.layers.mask|2,F.layers.mask=ee.layers.mask|4,P.layers.mask=L.layers.mask|F.layers.mask;let W=ee.parent,ce=P.cameras;_e(P,W);for(let me=0;me<ce.length;me++)_e(ce[me],W);ce.length===2?se(P,L,F):P.projectionMatrix.copy(L.projectionMatrix),Ve(ee,P,W)};function Ve(ee,Z,G){G===null?ee.matrix.copy(Z.matrixWorld):(ee.matrix.copy(G.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(Z.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(Z.projectionMatrix),ee.projectionMatrixInverse.copy(Z.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=gv*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(ee){l=ee,h!==null&&(h.fixedFoveation=ee),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=ee)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(P)};let Ge=null;function K(ee,Z){if(d=Z.getViewerPose(c||s),p=Z,d!==null){let G=d.views;f!==null&&(t.setRenderTargetFramebuffer(b,f.framebuffer),t.setRenderTarget(b));let W=!1;G.length!==P.cameras.length&&(P.cameras.length=0,W=!0);for(let Me=0;Me<G.length;Me++){let He=G[Me],$e=null;if(f!==null)$e=f.getViewport(He);else{let ve=u.getViewSubImage(h,He);$e=ve.viewport,Me===0&&(t.setRenderTargetTextures(b,ve.colorTexture,ve.depthStencilTexture),t.setRenderTarget(b))}let Je=T[Me];Je===void 0&&(Je=new ss,Je.layers.enable(Me),Je.viewport=new xr,T[Me]=Je),Je.matrix.fromArray(He.transform.matrix),Je.matrix.decompose(Je.position,Je.quaternion,Je.scale),Je.projectionMatrix.fromArray(He.projectionMatrix),Je.projectionMatrixInverse.copy(Je.projectionMatrix).invert(),Je.viewport.set($e.x,$e.y,$e.width,$e.height),Me===0&&(P.matrix.copy(Je.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),W===!0&&P.cameras.push(Je)}let ce=r.enabledFeatures;if(ce&&ce.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&u){let Me=u.getDepthInformation(G[0]);Me&&Me.isValid&&Me.texture&&v.init(t,Me,r.renderState)}}for(let G=0;G<w.length;G++){let W=x[G],ce=w[G];W!==null&&ce!==void 0&&ce.update(W,Z,c||s)}Ge&&Ge(ee,Z),Z.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Z}),p=null}let Q=new pie;Q.setAnimationLoop(K),this.setAnimationLoop=function(ee){Ge=ee},this.dispose=function(){}}},Fv=new nl,kBe=new Ki;function IBe(e,t){function i(m,g){m.matrixAutoUpdate===!0&&m.updateMatrix(),g.value.copy(m.matrix)}function n(m,g){g.color.getRGB(m.fogColor.value,E8(e)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)}function r(m,g,b,w,x){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(m,g):g.isMeshToonMaterial?(o(m,g),u(m,g)):g.isMeshPhongMaterial?(o(m,g),d(m,g)):g.isMeshStandardMaterial?(o(m,g),h(m,g),g.isMeshPhysicalMaterial&&f(m,g,x)):g.isMeshMatcapMaterial?(o(m,g),p(m,g)):g.isMeshDepthMaterial?o(m,g):g.isMeshDistanceMaterial?(o(m,g),v(m,g)):g.isMeshNormalMaterial?o(m,g):g.isLineBasicMaterial?(s(m,g),g.isLineDashedMaterial&&a(m,g)):g.isPointsMaterial?l(m,g,b,w):g.isSpriteMaterial?c(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map,i(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,i(g.alphaMap,m.alphaMapTransform)),g.bumpMap&&(m.bumpMap.value=g.bumpMap,i(g.bumpMap,m.bumpMapTransform),m.bumpScale.value=g.bumpScale,g.side===Js&&(m.bumpScale.value*=-1)),g.normalMap&&(m.normalMap.value=g.normalMap,i(g.normalMap,m.normalMapTransform),m.normalScale.value.copy(g.normalScale),g.side===Js&&m.normalScale.value.negate()),g.displacementMap&&(m.displacementMap.value=g.displacementMap,i(g.displacementMap,m.displacementMapTransform),m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap,i(g.emissiveMap,m.emissiveMapTransform)),g.specularMap&&(m.specularMap.value=g.specularMap,i(g.specularMap,m.specularMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let b=t.get(g),w=b.envMap,x=b.envMapRotation;w&&(m.envMap.value=w,Fv.copy(x),Fv.x*=-1,Fv.y*=-1,Fv.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Fv.y*=-1,Fv.z*=-1),m.envMapRotation.value.setFromMatrix4(kBe.makeRotationFromEuler(Fv)),m.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap&&(m.lightMap.value=g.lightMap,m.lightMapIntensity.value=g.lightMapIntensity,i(g.lightMap,m.lightMapTransform)),g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity,i(g.aoMap,m.aoMapTransform))}function s(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,g.map&&(m.map.value=g.map,i(g.map,m.mapTransform))}function a(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}function l(m,g,b,w){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*b,m.scale.value=w*.5,g.map&&(m.map.value=g.map,i(g.map,m.uvTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,i(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}function c(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map,i(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,i(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}function d(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}function u(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}function h(m,g){m.metalness.value=g.metalness,g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap,i(g.metalnessMap,m.metalnessMapTransform)),m.roughness.value=g.roughness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap,i(g.roughnessMap,m.roughnessMapTransform)),g.envMap&&(m.envMapIntensity.value=g.envMapIntensity)}function f(m,g,b){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap,i(g.sheenColorMap,m.sheenColorMapTransform)),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap,i(g.sheenRoughnessMap,m.sheenRoughnessMapTransform))),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap,i(g.clearcoatMap,m.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,i(g.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(m.clearcoatNormalMap.value=g.clearcoatNormalMap,i(g.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Js&&m.clearcoatNormalScale.value.negate())),g.dispersion>0&&(m.dispersion.value=g.dispersion),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap,i(g.iridescenceMap,m.iridescenceMapTransform)),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap,i(g.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=b.texture,m.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap,i(g.transmissionMap,m.transmissionMapTransform)),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap,i(g.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(m.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(m.anisotropyMap.value=g.anisotropyMap,i(g.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap,i(g.specularColorMap,m.specularColorMapTransform)),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap,i(g.specularIntensityMap,m.specularIntensityMapTransform))}function p(m,g){g.matcap&&(m.matcap.value=g.matcap)}function v(m,g){let b=t.get(g).light;m.referencePosition.value.setFromMatrixPosition(b.matrixWorld),m.nearDistance.value=b.shadow.camera.near,m.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function PBe(e,t,i,n){let r={},o={},s=[],a=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,w){let x=w.program;n.uniformBlockBinding(b,x)}function c(b,w){let x=r[b.id];x===void 0&&(p(b),x=d(b),r[b.id]=x,b.addEventListener("dispose",m));let R=w.program;n.updateUBOMapping(b,R);let _=t.render.frame;o[b.id]!==_&&(h(b),o[b.id]=_)}function d(b){let w=u();b.__bindingPointIndex=w;let x=e.createBuffer(),R=b.__size,_=b.usage;return e.bindBuffer(e.UNIFORM_BUFFER,x),e.bufferData(e.UNIFORM_BUFFER,R,_),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,w,x),x}function u(){for(let b=0;b<a;b++)if(s.indexOf(b)===-1)return s.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(b){let w=r[b.id],x=b.uniforms,R=b.__cache;e.bindBuffer(e.UNIFORM_BUFFER,w);for(let _=0,L=x.length;_<L;_++){let F=Array.isArray(x[_])?x[_]:[x[_]];for(let T=0,P=F.length;T<P;T++){let A=F[T];if(f(A,_,T,R)===!0){let O=A.__offset,V=Array.isArray(A.value)?A.value:[A.value],U=0;for(let ae=0;ae<V.length;ae++){let ne=V[ae],ue=v(ne);typeof ne=="number"||typeof ne=="boolean"?(A.__data[0]=ne,e.bufferSubData(e.UNIFORM_BUFFER,O+U,A.__data)):ne.isMatrix3?(A.__data[0]=ne.elements[0],A.__data[1]=ne.elements[1],A.__data[2]=ne.elements[2],A.__data[3]=0,A.__data[4]=ne.elements[3],A.__data[5]=ne.elements[4],A.__data[6]=ne.elements[5],A.__data[7]=0,A.__data[8]=ne.elements[6],A.__data[9]=ne.elements[7],A.__data[10]=ne.elements[8],A.__data[11]=0):(ne.toArray(A.__data,U),U+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,O,A.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function f(b,w,x,R){let _=b.value,L=w+"_"+x;if(R[L]===void 0)return typeof _=="number"||typeof _=="boolean"?R[L]=_:R[L]=_.clone(),!0;{let F=R[L];if(typeof _=="number"||typeof _=="boolean"){if(F!==_)return R[L]=_,!0}else if(F.equals(_)===!1)return F.copy(_),!0}return!1}function p(b){let w=b.uniforms,x=0,R=16;for(let L=0,F=w.length;L<F;L++){let T=Array.isArray(w[L])?w[L]:[w[L]];for(let P=0,A=T.length;P<A;P++){let O=T[P],V=Array.isArray(O.value)?O.value:[O.value];for(let U=0,ae=V.length;U<ae;U++){let ne=V[U],ue=v(ne),se=x%R,_e=se%ue.boundary,Ve=se+_e;x+=_e,Ve!==0&&R-Ve<ue.storage&&(x+=R-Ve),O.__data=new Float32Array(ue.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=x,x+=ue.storage}}}let _=x%R;return _>0&&(x+=R-_),b.__size=x,b.__cache={},this}function v(b){let w={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function m(b){let w=b.target;w.removeEventListener("dispose",m);let x=s.indexOf(w.__bindingPointIndex);s.splice(x,1),e.deleteBuffer(r[w.id]),delete r[w.id],delete o[w.id]}function g(){for(let b in r)e.deleteBuffer(r[b]);s=[],r={},o={}}return{bind:l,update:c,dispose:g}}var CS=class{constructor(t={}){let{canvas:i=Pte(),context:n=null,depth:r=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:h=!1}=t;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=s;let p=new Uint32Array(4),v=new Int32Array(4),m=null,g=null,b=[],w=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Vp,this.toneMappingExposure=1,this.transmissionResolutionScale=1;let x=this,R=!1;this._outputColorSpace=Hn;let _=0,L=0,F=null,T=-1,P=null,A=new xr,O=new xr,V=null,U=new Ji(0),ae=0,ne=i.width,ue=i.height,se=1,_e=null,Ve=null,Ge=new xr(0,0,ne,ue),K=new xr(0,0,ne,ue),Q=!1,ee=new Cy,Z=!1,G=!1,W=new Ki,ce=new Ki,me=new Qe,Me=new xr,He={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},$e=!1;function Je(){return F===null?se:1}let ve=n;function ge(Te,st){return i.getContext(Te,st)}try{let Te={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${ok}`),i.addEventListener("webglcontextlost",ht,!1),i.addEventListener("webglcontextrestored",nt,!1),i.addEventListener("webglcontextcreationerror",It,!1),ve===null){let st="webgl2";if(ve=ge(st,Te),ve===null)throw ge(st)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}let pt,vt,Pt,ft,kt,be,oe,re,J,pe,Ee,ke,Le,Ne,Ye,Be,ct,gt,Tt,Ft,wi,Vt,li,Ue;function yt(){pt=new Z6e(ve),pt.init(),Vt=new TBe(ve,pt),vt=new W6e(ve,pt,t,Vt),Pt=new EBe(ve,pt),vt.reverseDepthBuffer&&h&&Pt.buffers.depth.setReversed(!0),ft=new e8e(ve),kt=new fBe,be=new DBe(ve,pt,Pt,kt,vt,Vt,ft),oe=new q6e(x),re=new K6e(x),J=new s4e(ve),li=new U6e(ve,J),pe=new Q6e(ve,J,ft,li),Ee=new i8e(ve,pe,J,ft),Tt=new t8e(ve,vt,be),Be=new j6e(kt),ke=new hBe(x,oe,re,pt,vt,li,Be),Le=new IBe(x,kt),Ne=new mBe,Ye=new wBe(pt),gt=new H6e(x,oe,re,Pt,Ee,f,l),ct=new SBe(x,Ee,vt),Ue=new PBe(ve,ft,vt,Pt),Ft=new G6e(ve,pt,ft),wi=new J6e(ve,pt,ft),ft.programs=ke.programs,x.capabilities=vt,x.extensions=pt,x.properties=kt,x.renderLists=Ne,x.shadowMap=ct,x.state=Pt,x.info=ft}yt();let dt=new G8(x,ve);this.xr=dt,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){let Te=pt.get("WEBGL_lose_context");Te&&Te.loseContext()},this.forceContextRestore=function(){let Te=pt.get("WEBGL_lose_context");Te&&Te.restoreContext()},this.getPixelRatio=function(){return se},this.setPixelRatio=function(Te){Te!==void 0&&(se=Te,this.setSize(ne,ue,!1))},this.getSize=function(Te){return Te.set(ne,ue)},this.setSize=function(Te,st,xt=!0){if(dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ne=Te,ue=st,i.width=Math.floor(Te*se),i.height=Math.floor(st*se),xt===!0&&(i.style.width=Te+"px",i.style.height=st+"px"),this.setViewport(0,0,Te,st)},this.getDrawingBufferSize=function(Te){return Te.set(ne*se,ue*se).floor()},this.setDrawingBufferSize=function(Te,st,xt){ne=Te,ue=st,se=xt,i.width=Math.floor(Te*xt),i.height=Math.floor(st*xt),this.setViewport(0,0,Te,st)},this.getCurrentViewport=function(Te){return Te.copy(A)},this.getViewport=function(Te){return Te.copy(Ge)},this.setViewport=function(Te,st,xt,Mt){Te.isVector4?Ge.set(Te.x,Te.y,Te.z,Te.w):Ge.set(Te,st,xt,Mt),Pt.viewport(A.copy(Ge).multiplyScalar(se).round())},this.getScissor=function(Te){return Te.copy(K)},this.setScissor=function(Te,st,xt,Mt){Te.isVector4?K.set(Te.x,Te.y,Te.z,Te.w):K.set(Te,st,xt,Mt),Pt.scissor(O.copy(K).multiplyScalar(se).round())},this.getScissorTest=function(){return Q},this.setScissorTest=function(Te){Pt.setScissorTest(Q=Te)},this.setOpaqueSort=function(Te){_e=Te},this.setTransparentSort=function(Te){Ve=Te},this.getClearColor=function(Te){return Te.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor(...arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha(...arguments)},this.clear=function(Te=!0,st=!0,xt=!0){let Mt=0;if(Te){let ot=!1;if(F!==null){let ci=F.texture.format;ot=ci===yk||ci===_k||ci===bk}if(ot){let ci=F.texture.type,_i=ci===eh||ci===Sg||ci===Ty||ci===Ry||ci===gk||ci===vk,Fi=gt.getClearColor(),Gi=gt.getClearAlpha(),En=Fi.r,wn=Fi.g,dn=Fi.b;_i?(p[0]=En,p[1]=wn,p[2]=dn,p[3]=Gi,ve.clearBufferuiv(ve.COLOR,0,p)):(v[0]=En,v[1]=wn,v[2]=dn,v[3]=Gi,ve.clearBufferiv(ve.COLOR,0,v))}else Mt|=ve.COLOR_BUFFER_BIT}st&&(Mt|=ve.DEPTH_BUFFER_BIT),xt&&(Mt|=ve.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ve.clear(Mt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",ht,!1),i.removeEventListener("webglcontextrestored",nt,!1),i.removeEventListener("webglcontextcreationerror",It,!1),gt.dispose(),Ne.dispose(),Ye.dispose(),kt.dispose(),oe.dispose(),re.dispose(),Ee.dispose(),li.dispose(),Ue.dispose(),ke.dispose(),dt.dispose(),dt.removeEventListener("sessionstart",Di),dt.removeEventListener("sessionend",Vi),Dn.stop()};function ht(Te){Te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function nt(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;let Te=ft.autoReset,st=ct.enabled,xt=ct.autoUpdate,Mt=ct.needsUpdate,ot=ct.type;yt(),ft.autoReset=Te,ct.enabled=st,ct.autoUpdate=xt,ct.needsUpdate=Mt,ct.type=ot}function It(Te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Te.statusMessage)}function Ei(Te){let st=Te.target;st.removeEventListener("dispose",Ei),Yi(st)}function Yi(Te){Li(Te),kt.remove(Te)}function Li(Te){let st=kt.get(Te).programs;st!==void 0&&(st.forEach(function(xt){ke.releaseProgram(xt)}),Te.isShaderMaterial&&ke.releaseShaderCache(Te))}this.renderBufferDirect=function(Te,st,xt,Mt,ot,ci){st===null&&(st=He);let _i=ot.isMesh&&ot.matrixWorld.determinant()<0,Fi=us(Te,st,xt,Mt,ot);Pt.setMaterial(Mt,_i);let Gi=xt.index,En=1;if(Mt.wireframe===!0){if(Gi=pe.getWireframeAttribute(xt),Gi===void 0)return;En=2}let wn=xt.drawRange,dn=xt.attributes.position,Ln=wn.start*En,Vn=(wn.start+wn.count)*En;ci!==null&&(Ln=Math.max(Ln,ci.start*En),Vn=Math.min(Vn,(ci.start+ci.count)*En)),Gi!==null?(Ln=Math.max(Ln,0),Vn=Math.min(Vn,Gi.count)):dn!=null&&(Ln=Math.max(Ln,0),Vn=Math.min(Vn,dn.count));let Un=Vn-Ln;if(Un<0||Un===1/0)return;li.setup(ot,Mt,Fi,xt,Gi);let kr,un=Ft;if(Gi!==null&&(kr=J.get(Gi),un=wi,un.setIndex(kr)),ot.isMesh)Mt.wireframe===!0?(Pt.setLineWidth(Mt.wireframeLinewidth*Je()),un.setMode(ve.LINES)):un.setMode(ve.TRIANGLES);else if(ot.isLine){let gn=Mt.linewidth;gn===void 0&&(gn=1),Pt.setLineWidth(gn*Je()),ot.isLineSegments?un.setMode(ve.LINES):ot.isLineLoop?un.setMode(ve.LINE_LOOP):un.setMode(ve.LINE_STRIP)}else ot.isPoints?un.setMode(ve.POINTS):ot.isSprite&&un.setMode(ve.TRIANGLES);if(ot.isBatchedMesh)if(ot._multiDrawInstances!==null)yS("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),un.renderMultiDrawInstances(ot._multiDrawStarts,ot._multiDrawCounts,ot._multiDrawCount,ot._multiDrawInstances);else if(pt.get("WEBGL_multi_draw"))un.renderMultiDraw(ot._multiDrawStarts,ot._multiDrawCounts,ot._multiDrawCount);else{let gn=ot._multiDrawStarts,Zr=ot._multiDrawCounts,Jn=ot._multiDrawCount,Qo=Gi?J.get(Gi).bytesPerElement:1,Xn=kt.get(Mt).currentProgram.getUniforms();for(let Kn=0;Kn<Jn;Kn++)Xn.setValue(ve,"_gl_DrawID",Kn),un.render(gn[Kn]/Qo,Zr[Kn])}else if(ot.isInstancedMesh)un.renderInstances(Ln,Un,ot.count);else if(xt.isInstancedBufferGeometry){let gn=xt._maxInstanceCount!==void 0?xt._maxInstanceCount:1/0,Zr=Math.min(xt.instanceCount,gn);un.renderInstances(Ln,Un,Zr)}else un.render(Ln,Un)};function At(Te,st,xt){Te.transparent===!0&&Te.side===rl&&Te.forceSinglePass===!1?(Te.side=Js,Te.needsUpdate=!0,_o(Te,st,xt),Te.side=Cd,Te.needsUpdate=!0,_o(Te,st,xt),Te.side=rl):_o(Te,st,xt)}this.compile=function(Te,st,xt=null){xt===null&&(xt=Te),g=Ye.get(xt),g.init(st),w.push(g),xt.traverseVisible(function(ot){ot.isLight&&ot.layers.test(st.layers)&&(g.pushLight(ot),ot.castShadow&&g.pushShadow(ot))}),Te!==xt&&Te.traverseVisible(function(ot){ot.isLight&&ot.layers.test(st.layers)&&(g.pushLight(ot),ot.castShadow&&g.pushShadow(ot))}),g.setupLights();let Mt=new Set;return Te.traverse(function(ot){if(!(ot.isMesh||ot.isPoints||ot.isLine||ot.isSprite))return;let ci=ot.material;if(ci)if(Array.isArray(ci))for(let _i=0;_i<ci.length;_i++){let Fi=ci[_i];At(Fi,xt,ot),Mt.add(Fi)}else At(ci,xt,ot),Mt.add(ci)}),g=w.pop(),Mt},this.compileAsync=function(Te,st,xt=null){let Mt=this.compile(Te,st,xt);return new Promise(ot=>{function ci(){if(Mt.forEach(function(_i){kt.get(_i).currentProgram.isReady()&&Mt.delete(_i)}),Mt.size===0){ot(Te);return}setTimeout(ci,10)}pt.get("KHR_parallel_shader_compile")!==null?ci():setTimeout(ci,10)})};let jt=null;function Qt(Te){jt&&jt(Te)}function Di(){Dn.stop()}function Vi(){Dn.start()}let Dn=new pie;Dn.setAnimationLoop(Qt),typeof self<"u"&&Dn.setContext(self),this.setAnimationLoop=function(Te){jt=Te,dt.setAnimationLoop(Te),Te===null?Dn.stop():Dn.start()},dt.addEventListener("sessionstart",Di),dt.addEventListener("sessionend",Vi),this.render=function(Te,st){if(st!==void 0&&st.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;if(Te.matrixWorldAutoUpdate===!0&&Te.updateMatrixWorld(),st.parent===null&&st.matrixWorldAutoUpdate===!0&&st.updateMatrixWorld(),dt.enabled===!0&&dt.isPresenting===!0&&(dt.cameraAutoUpdate===!0&&dt.updateCamera(st),st=dt.getCamera()),Te.isScene===!0&&Te.onBeforeRender(x,Te,st,F),g=Ye.get(Te,w.length),g.init(st),w.push(g),ce.multiplyMatrices(st.projectionMatrix,st.matrixWorldInverse),ee.setFromProjectionMatrix(ce),G=this.localClippingEnabled,Z=Be.init(this.clippingPlanes,G),m=Ne.get(Te,b.length),m.init(),b.push(m),dt.enabled===!0&&dt.isPresenting===!0){let ci=x.xr.getDepthSensingMesh();ci!==null&&Tn(ci,st,-1/0,x.sortObjects)}Tn(Te,st,0,x.sortObjects),m.finish(),x.sortObjects===!0&&m.sort(_e,Ve),$e=dt.enabled===!1||dt.isPresenting===!1||dt.hasDepthSensing()===!1,$e&&gt.addToRenderList(m,Te),this.info.render.frame++,Z===!0&&Be.beginShadows();let xt=g.state.shadowsArray;ct.render(xt,Te,st),Z===!0&&Be.endShadows(),this.info.autoReset===!0&&this.info.reset();let Mt=m.opaque,ot=m.transmissive;if(g.setupLights(),st.isArrayCamera){let ci=st.cameras;if(ot.length>0)for(let _i=0,Fi=ci.length;_i<Fi;_i++){let Gi=ci[_i];_r(Mt,ot,Te,Gi)}$e&&gt.render(Te);for(let _i=0,Fi=ci.length;_i<Fi;_i++){let Gi=ci[_i];rr(m,Te,Gi,Gi.viewport)}}else ot.length>0&&_r(Mt,ot,Te,st),$e&&gt.render(Te),rr(m,Te,st);F!==null&&L===0&&(be.updateMultisampleRenderTarget(F),be.updateRenderTargetMipmap(F)),Te.isScene===!0&&Te.onAfterRender(x,Te,st),li.resetDefaultState(),T=-1,P=null,w.pop(),w.length>0?(g=w[w.length-1],Z===!0&&Be.setGlobalState(x.clippingPlanes,g.state.camera)):g=null,b.pop(),b.length>0?m=b[b.length-1]:m=null};function Tn(Te,st,xt,Mt){if(Te.visible===!1)return;if(Te.layers.test(st.layers)){if(Te.isGroup)xt=Te.renderOrder;else if(Te.isLOD)Te.autoUpdate===!0&&Te.update(st);else if(Te.isLight)g.pushLight(Te),Te.castShadow&&g.pushShadow(Te);else if(Te.isSprite){if(!Te.frustumCulled||ee.intersectsSprite(Te)){Mt&&Me.setFromMatrixPosition(Te.matrixWorld).applyMatrix4(ce);let _i=Ee.update(Te),Fi=Te.material;Fi.visible&&m.push(Te,_i,Fi,xt,Me.z,null)}}else if((Te.isMesh||Te.isLine||Te.isPoints)&&(!Te.frustumCulled||ee.intersectsObject(Te))){let _i=Ee.update(Te),Fi=Te.material;if(Mt&&(Te.boundingSphere!==void 0?(Te.boundingSphere===null&&Te.computeBoundingSphere(),Me.copy(Te.boundingSphere.center)):(_i.boundingSphere===null&&_i.computeBoundingSphere(),Me.copy(_i.boundingSphere.center)),Me.applyMatrix4(Te.matrixWorld).applyMatrix4(ce)),Array.isArray(Fi)){let Gi=_i.groups;for(let En=0,wn=Gi.length;En<wn;En++){let dn=Gi[En],Ln=Fi[dn.materialIndex];Ln&&Ln.visible&&m.push(Te,_i,Ln,xt,Me.z,dn)}}else Fi.visible&&m.push(Te,_i,Fi,xt,Me.z,null)}}let ci=Te.children;for(let _i=0,Fi=ci.length;_i<Fi;_i++)Tn(ci[_i],st,xt,Mt)}function rr(Te,st,xt,Mt){let ot=Te.opaque,ci=Te.transmissive,_i=Te.transparent;g.setupLightsView(xt),Z===!0&&Be.setGlobalState(x.clippingPlanes,xt),Mt&&Pt.viewport(A.copy(Mt)),ot.length>0&&Lr(ot,st,xt),ci.length>0&&Lr(ci,st,xt),_i.length>0&&Lr(_i,st,xt),Pt.buffers.depth.setTest(!0),Pt.buffers.depth.setMask(!0),Pt.buffers.color.setMask(!0),Pt.setPolygonOffset(!1)}function _r(Te,st,xt,Mt){if((xt.isScene===!0?xt.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[Mt.id]===void 0&&(g.state.transmissionRenderTarget[Mt.id]=new nf(1,1,{generateMipmaps:!0,type:pt.has("EXT_color_buffer_half_float")||pt.has("EXT_color_buffer_float")?Ay:eh,minFilter:Vc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Fn.workingColorSpace}));let ci=g.state.transmissionRenderTarget[Mt.id],_i=Mt.viewport||A;ci.setSize(_i.z*x.transmissionResolutionScale,_i.w*x.transmissionResolutionScale);let Fi=x.getRenderTarget();x.setRenderTarget(ci),x.getClearColor(U),ae=x.getClearAlpha(),ae<1&&x.setClearColor(16777215,.5),x.clear(),$e&&gt.render(xt);let Gi=x.toneMapping;x.toneMapping=Vp;let En=Mt.viewport;if(Mt.viewport!==void 0&&(Mt.viewport=void 0),g.setupLightsView(Mt),Z===!0&&Be.setGlobalState(x.clippingPlanes,Mt),Lr(Te,xt,Mt),be.updateMultisampleRenderTarget(ci),be.updateRenderTargetMipmap(ci),pt.has("WEBGL_multisampled_render_to_texture")===!1){let wn=!1;for(let dn=0,Ln=st.length;dn<Ln;dn++){let Vn=st[dn],Un=Vn.object,kr=Vn.geometry,un=Vn.material,gn=Vn.group;if(un.side===rl&&Un.layers.test(Mt.layers)){let Zr=un.side;un.side=Js,un.needsUpdate=!0,Mo(Un,xt,Mt,kr,un,gn),un.side=Zr,un.needsUpdate=!0,wn=!0}}wn===!0&&(be.updateMultisampleRenderTarget(ci),be.updateRenderTargetMipmap(ci))}x.setRenderTarget(Fi),x.setClearColor(U,ae),En!==void 0&&(Mt.viewport=En),x.toneMapping=Gi}function Lr(Te,st,xt){let Mt=st.isScene===!0?st.overrideMaterial:null;for(let ot=0,ci=Te.length;ot<ci;ot++){let _i=Te[ot],Fi=_i.object,Gi=_i.geometry,En=_i.group,wn=_i.material;wn.allowOverride===!0&&Mt!==null&&(wn=Mt),Fi.layers.test(xt.layers)&&Mo(Fi,st,xt,Gi,wn,En)}}function Mo(Te,st,xt,Mt,ot,ci){Te.onBeforeRender(x,st,xt,Mt,ot,ci),Te.modelViewMatrix.multiplyMatrices(xt.matrixWorldInverse,Te.matrixWorld),Te.normalMatrix.getNormalMatrix(Te.modelViewMatrix),ot.onBeforeRender(x,st,xt,Mt,Te,ci),ot.transparent===!0&&ot.side===rl&&ot.forceSinglePass===!1?(ot.side=Js,ot.needsUpdate=!0,x.renderBufferDirect(xt,st,Mt,ot,Te,ci),ot.side=Cd,ot.needsUpdate=!0,x.renderBufferDirect(xt,st,Mt,ot,Te,ci),ot.side=rl):x.renderBufferDirect(xt,st,Mt,ot,Te,ci),Te.onAfterRender(x,st,xt,Mt,ot,ci)}function _o(Te,st,xt){st.isScene!==!0&&(st=He);let Mt=kt.get(Te),ot=g.state.lights,ci=g.state.shadowsArray,_i=ot.state.version,Fi=ke.getParameters(Te,ot.state,ci,st,xt),Gi=ke.getProgramCacheKey(Fi),En=Mt.programs;Mt.environment=Te.isMeshStandardMaterial?st.environment:null,Mt.fog=st.fog,Mt.envMap=(Te.isMeshStandardMaterial?re:oe).get(Te.envMap||Mt.environment),Mt.envMapRotation=Mt.environment!==null&&Te.envMap===null?st.environmentRotation:Te.envMapRotation,En===void 0&&(Te.addEventListener("dispose",Ei),En=new Map,Mt.programs=En);let wn=En.get(Gi);if(wn!==void 0){if(Mt.currentProgram===wn&&Mt.lightsStateVersion===_i)return ta(Te,Fi),wn}else Fi.uniforms=ke.getUniforms(Te),Te.onBeforeCompile(Fi,x),wn=ke.acquireProgram(Fi,Gi),En.set(Gi,wn),Mt.uniforms=Fi.uniforms;let dn=Mt.uniforms;return(!Te.isShaderMaterial&&!Te.isRawShaderMaterial||Te.clipping===!0)&&(dn.clippingPlanes=Be.uniform),ta(Te,Fi),Mt.needsLights=Oa(Te),Mt.lightsStateVersion=_i,Mt.needsLights&&(dn.ambientLightColor.value=ot.state.ambient,dn.lightProbe.value=ot.state.probe,dn.directionalLights.value=ot.state.directional,dn.directionalLightShadows.value=ot.state.directionalShadow,dn.spotLights.value=ot.state.spot,dn.spotLightShadows.value=ot.state.spotShadow,dn.rectAreaLights.value=ot.state.rectArea,dn.ltc_1.value=ot.state.rectAreaLTC1,dn.ltc_2.value=ot.state.rectAreaLTC2,dn.pointLights.value=ot.state.point,dn.pointLightShadows.value=ot.state.pointShadow,dn.hemisphereLights.value=ot.state.hemi,dn.directionalShadowMap.value=ot.state.directionalShadowMap,dn.directionalShadowMatrix.value=ot.state.directionalShadowMatrix,dn.spotShadowMap.value=ot.state.spotShadowMap,dn.spotLightMatrix.value=ot.state.spotLightMatrix,dn.spotLightMap.value=ot.state.spotLightMap,dn.pointShadowMap.value=ot.state.pointShadowMap,dn.pointShadowMatrix.value=ot.state.pointShadowMatrix),Mt.currentProgram=wn,Mt.uniformsList=null,wn}function Yo(Te){if(Te.uniformsList===null){let st=Te.currentProgram.getUniforms();Te.uniformsList=Fy.seqWithValue(st.seq,Te.uniforms)}return Te.uniformsList}function ta(Te,st){let xt=kt.get(Te);xt.outputColorSpace=st.outputColorSpace,xt.batching=st.batching,xt.batchingColor=st.batchingColor,xt.instancing=st.instancing,xt.instancingColor=st.instancingColor,xt.instancingMorph=st.instancingMorph,xt.skinning=st.skinning,xt.morphTargets=st.morphTargets,xt.morphNormals=st.morphNormals,xt.morphColors=st.morphColors,xt.morphTargetsCount=st.morphTargetsCount,xt.numClippingPlanes=st.numClippingPlanes,xt.numIntersection=st.numClipIntersection,xt.vertexAlphas=st.vertexAlphas,xt.vertexTangents=st.vertexTangents,xt.toneMapping=st.toneMapping}function us(Te,st,xt,Mt,ot){st.isScene!==!0&&(st=He),be.resetTextureUnits();let ci=st.fog,_i=Mt.isMeshStandardMaterial?st.environment:null,Fi=F===null?x.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Qu,Gi=(Mt.isMeshStandardMaterial?re:oe).get(Mt.envMap||_i),En=Mt.vertexColors===!0&&!!xt.attributes.color&&xt.attributes.color.itemSize===4,wn=!!xt.attributes.tangent&&(!!Mt.normalMap||Mt.anisotropy>0),dn=!!xt.morphAttributes.position,Ln=!!xt.morphAttributes.normal,Vn=!!xt.morphAttributes.color,Un=Vp;Mt.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Un=x.toneMapping);let kr=xt.morphAttributes.position||xt.morphAttributes.normal||xt.morphAttributes.color,un=kr!==void 0?kr.length:0,gn=kt.get(Mt),Zr=g.state.lights;if(Z===!0&&(G===!0||Te!==P)){let Mr=Te===P&&Mt.id===T;Be.setState(Mt,Te,Mr)}let Jn=!1;Mt.version===gn.__version?(gn.needsLights&&gn.lightsStateVersion!==Zr.state.version||gn.outputColorSpace!==Fi||ot.isBatchedMesh&&gn.batching===!1||!ot.isBatchedMesh&&gn.batching===!0||ot.isBatchedMesh&&gn.batchingColor===!0&&ot.colorTexture===null||ot.isBatchedMesh&&gn.batchingColor===!1&&ot.colorTexture!==null||ot.isInstancedMesh&&gn.instancing===!1||!ot.isInstancedMesh&&gn.instancing===!0||ot.isSkinnedMesh&&gn.skinning===!1||!ot.isSkinnedMesh&&gn.skinning===!0||ot.isInstancedMesh&&gn.instancingColor===!0&&ot.instanceColor===null||ot.isInstancedMesh&&gn.instancingColor===!1&&ot.instanceColor!==null||ot.isInstancedMesh&&gn.instancingMorph===!0&&ot.morphTexture===null||ot.isInstancedMesh&&gn.instancingMorph===!1&&ot.morphTexture!==null||gn.envMap!==Gi||Mt.fog===!0&&gn.fog!==ci||gn.numClippingPlanes!==void 0&&(gn.numClippingPlanes!==Be.numPlanes||gn.numIntersection!==Be.numIntersection)||gn.vertexAlphas!==En||gn.vertexTangents!==wn||gn.morphTargets!==dn||gn.morphNormals!==Ln||gn.morphColors!==Vn||gn.toneMapping!==Un||gn.morphTargetsCount!==un)&&(Jn=!0):(Jn=!0,gn.__version=Mt.version);let Qo=gn.currentProgram;Jn===!0&&(Qo=_o(Mt,st,ot));let Xn=!1,Kn=!1,hs=!1,Nr=Qo.getUniforms(),Br=gn.uniforms;if(Pt.useProgram(Qo.program)&&(Xn=!0,Kn=!0,hs=!0),Mt.id!==T&&(T=Mt.id,Kn=!0),Xn||P!==Te){Pt.buffers.depth.getReversed()?(W.copy(Te.projectionMatrix),Ote(W),Lte(W),Nr.setValue(ve,"projectionMatrix",W)):Nr.setValue(ve,"projectionMatrix",Te.projectionMatrix),Nr.setValue(ve,"viewMatrix",Te.matrixWorldInverse);let Eo=Nr.map.cameraPosition;Eo!==void 0&&Eo.setValue(ve,me.setFromMatrixPosition(Te.matrixWorld)),vt.logarithmicDepthBuffer&&Nr.setValue(ve,"logDepthBufFC",2/(Math.log(Te.far+1)/Math.LN2)),(Mt.isMeshPhongMaterial||Mt.isMeshToonMaterial||Mt.isMeshLambertMaterial||Mt.isMeshBasicMaterial||Mt.isMeshStandardMaterial||Mt.isShaderMaterial)&&Nr.setValue(ve,"isOrthographic",Te.isOrthographicCamera===!0),P!==Te&&(P=Te,Kn=!0,hs=!0)}if(ot.isSkinnedMesh){Nr.setOptional(ve,ot,"bindMatrix"),Nr.setOptional(ve,ot,"bindMatrixInverse");let Mr=ot.skeleton;Mr&&(Mr.boneTexture===null&&Mr.computeBoneTexture(),Nr.setValue(ve,"boneTexture",Mr.boneTexture,be))}ot.isBatchedMesh&&(Nr.setOptional(ve,ot,"batchingTexture"),Nr.setValue(ve,"batchingTexture",ot._matricesTexture,be),Nr.setOptional(ve,ot,"batchingIdTexture"),Nr.setValue(ve,"batchingIdTexture",ot._indirectTexture,be),Nr.setOptional(ve,ot,"batchingColorTexture"),ot._colorsTexture!==null&&Nr.setValue(ve,"batchingColorTexture",ot._colorsTexture,be));let Jr=xt.morphAttributes;if((Jr.position!==void 0||Jr.normal!==void 0||Jr.color!==void 0)&&Tt.update(ot,xt,Qo),(Kn||gn.receiveShadow!==ot.receiveShadow)&&(gn.receiveShadow=ot.receiveShadow,Nr.setValue(ve,"receiveShadow",ot.receiveShadow)),Mt.isMeshGouraudMaterial&&Mt.envMap!==null&&(Br.envMap.value=Gi,Br.flipEnvMap.value=Gi.isCubeTexture&&Gi.isRenderTargetTexture===!1?-1:1),Mt.isMeshStandardMaterial&&Mt.envMap===null&&st.environment!==null&&(Br.envMapIntensity.value=st.environmentIntensity),Kn&&(Nr.setValue(ve,"toneMappingExposure",x.toneMappingExposure),gn.needsLights&&Zo(Br,hs),ci&&Mt.fog===!0&&Le.refreshFogUniforms(Br,ci),Le.refreshMaterialUniforms(Br,Mt,se,ue,g.state.transmissionRenderTarget[Te.id]),Fy.upload(ve,Yo(gn),Br,be)),Mt.isShaderMaterial&&Mt.uniformsNeedUpdate===!0&&(Fy.upload(ve,Yo(gn),Br,be),Mt.uniformsNeedUpdate=!1),Mt.isSpriteMaterial&&Nr.setValue(ve,"center",ot.center),Nr.setValue(ve,"modelViewMatrix",ot.modelViewMatrix),Nr.setValue(ve,"normalMatrix",ot.normalMatrix),Nr.setValue(ve,"modelMatrix",ot.matrixWorld),Mt.isShaderMaterial||Mt.isRawShaderMaterial){let Mr=Mt.uniformsGroups;for(let Eo=0,Xl=Mr.length;Eo<Xl;Eo++){let $o=Mr[Eo];Ue.update($o,Qo),Ue.bind($o,Qo)}}return Qo}function Zo(Te,st){Te.ambientLightColor.needsUpdate=st,Te.lightProbe.needsUpdate=st,Te.directionalLights.needsUpdate=st,Te.directionalLightShadows.needsUpdate=st,Te.pointLights.needsUpdate=st,Te.pointLightShadows.needsUpdate=st,Te.spotLights.needsUpdate=st,Te.spotLightShadows.needsUpdate=st,Te.rectAreaLights.needsUpdate=st,Te.hemisphereLights.needsUpdate=st}function Oa(Te){return Te.isMeshLambertMaterial||Te.isMeshToonMaterial||Te.isMeshPhongMaterial||Te.isMeshStandardMaterial||Te.isShadowMaterial||Te.isShaderMaterial&&Te.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(Te,st,xt){let Mt=kt.get(Te);Mt.__autoAllocateDepthBuffer=Te.resolveDepthBuffer===!1,Mt.__autoAllocateDepthBuffer===!1&&(Mt.__useRenderToTexture=!1),kt.get(Te.texture).__webglTexture=st,kt.get(Te.depthTexture).__webglTexture=Mt.__autoAllocateDepthBuffer?void 0:xt,Mt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Te,st){let xt=kt.get(Te);xt.__webglFramebuffer=st,xt.__useDefaultFramebuffer=st===void 0};let ia=ve.createFramebuffer();this.setRenderTarget=function(Te,st=0,xt=0){F=Te,_=st,L=xt;let Mt=!0,ot=null,ci=!1,_i=!1;if(Te){let Gi=kt.get(Te);if(Gi.__useDefaultFramebuffer!==void 0)Pt.bindFramebuffer(ve.FRAMEBUFFER,null),Mt=!1;else if(Gi.__webglFramebuffer===void 0)be.setupRenderTarget(Te);else if(Gi.__hasExternalTextures)be.rebindTextures(Te,kt.get(Te.texture).__webglTexture,kt.get(Te.depthTexture).__webglTexture);else if(Te.depthBuffer){let dn=Te.depthTexture;if(Gi.__boundDepthTexture!==dn){if(dn!==null&&kt.has(dn)&&(Te.width!==dn.image.width||Te.height!==dn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");be.setupDepthRenderbuffer(Te)}}let En=Te.texture;(En.isData3DTexture||En.isDataArrayTexture||En.isCompressedArrayTexture)&&(_i=!0);let wn=kt.get(Te).__webglFramebuffer;Te.isWebGLCubeRenderTarget?(Array.isArray(wn[st])?ot=wn[st][xt]:ot=wn[st],ci=!0):Te.samples>0&&be.useMultisampledRTT(Te)===!1?ot=kt.get(Te).__webglMultisampledFramebuffer:Array.isArray(wn)?ot=wn[xt]:ot=wn,A.copy(Te.viewport),O.copy(Te.scissor),V=Te.scissorTest}else A.copy(Ge).multiplyScalar(se).floor(),O.copy(K).multiplyScalar(se).floor(),V=Q;if(xt!==0&&(ot=ia),Pt.bindFramebuffer(ve.FRAMEBUFFER,ot)&&Mt&&Pt.drawBuffers(Te,ot),Pt.viewport(A),Pt.scissor(O),Pt.setScissorTest(V),ci){let Gi=kt.get(Te.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+st,Gi.__webglTexture,xt)}else if(_i){let Gi=kt.get(Te.texture),En=st;ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,Gi.__webglTexture,xt,En)}else if(Te!==null&&xt!==0){let Gi=kt.get(Te.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,Gi.__webglTexture,xt)}T=-1},this.readRenderTargetPixels=function(Te,st,xt,Mt,ot,ci,_i){if(!(Te&&Te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Fi=kt.get(Te).__webglFramebuffer;if(Te.isWebGLCubeRenderTarget&&_i!==void 0&&(Fi=Fi[_i]),Fi){Pt.bindFramebuffer(ve.FRAMEBUFFER,Fi);try{let Gi=Te.texture,En=Gi.format,wn=Gi.type;if(!vt.textureFormatReadable(En)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!vt.textureTypeReadable(wn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}st>=0&&st<=Te.width-Mt&&xt>=0&&xt<=Te.height-ot&&ve.readPixels(st,xt,Mt,ot,Vt.convert(En),Vt.convert(wn),ci)}finally{let Gi=F!==null?kt.get(F).__webglFramebuffer:null;Pt.bindFramebuffer(ve.FRAMEBUFFER,Gi)}}},this.readRenderTargetPixelsAsync=function(Te,st,xt,Mt,ot,ci,_i){return Mf(this,null,function*(){if(!(Te&&Te.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Fi=kt.get(Te).__webglFramebuffer;if(Te.isWebGLCubeRenderTarget&&_i!==void 0&&(Fi=Fi[_i]),Fi)if(st>=0&&st<=Te.width-Mt&&xt>=0&&xt<=Te.height-ot){Pt.bindFramebuffer(ve.FRAMEBUFFER,Fi);let Gi=Te.texture,En=Gi.format,wn=Gi.type;if(!vt.textureFormatReadable(En))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!vt.textureTypeReadable(wn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let dn=ve.createBuffer();ve.bindBuffer(ve.PIXEL_PACK_BUFFER,dn),ve.bufferData(ve.PIXEL_PACK_BUFFER,ci.byteLength,ve.STREAM_READ),ve.readPixels(st,xt,Mt,ot,Vt.convert(En),Vt.convert(wn),0);let Ln=F!==null?kt.get(F).__webglFramebuffer:null;Pt.bindFramebuffer(ve.FRAMEBUFFER,Ln);let Vn=ve.fenceSync(ve.SYNC_GPU_COMMANDS_COMPLETE,0);return ve.flush(),yield Fte(ve,Vn,4),ve.bindBuffer(ve.PIXEL_PACK_BUFFER,dn),ve.getBufferSubData(ve.PIXEL_PACK_BUFFER,0,ci),ve.deleteBuffer(dn),ve.deleteSync(Vn),ci}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")})},this.copyFramebufferToTexture=function(Te,st=null,xt=0){let Mt=Math.pow(2,-xt),ot=Math.floor(Te.image.width*Mt),ci=Math.floor(Te.image.height*Mt),_i=st!==null?st.x:0,Fi=st!==null?st.y:0;be.setTexture2D(Te,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,xt,0,0,_i,Fi,ot,ci),Pt.unbindTexture()};let Ds=ve.createFramebuffer(),ya=ve.createFramebuffer();this.copyTextureToTexture=function(Te,st,xt=null,Mt=null,ot=0,ci=null){ci===null&&(ot!==0?(yS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ci=ot,ot=0):ci=0);let _i,Fi,Gi,En,wn,dn,Ln,Vn,Un,kr=Te.isCompressedTexture?Te.mipmaps[ci]:Te.image;if(xt!==null)_i=xt.max.x-xt.min.x,Fi=xt.max.y-xt.min.y,Gi=xt.isBox3?xt.max.z-xt.min.z:1,En=xt.min.x,wn=xt.min.y,dn=xt.isBox3?xt.min.z:0;else{let Jr=Math.pow(2,-ot);_i=Math.floor(kr.width*Jr),Fi=Math.floor(kr.height*Jr),Te.isDataArrayTexture?Gi=kr.depth:Te.isData3DTexture?Gi=Math.floor(kr.depth*Jr):Gi=1,En=0,wn=0,dn=0}Mt!==null?(Ln=Mt.x,Vn=Mt.y,Un=Mt.z):(Ln=0,Vn=0,Un=0);let un=Vt.convert(st.format),gn=Vt.convert(st.type),Zr;st.isData3DTexture?(be.setTexture3D(st,0),Zr=ve.TEXTURE_3D):st.isDataArrayTexture||st.isCompressedArrayTexture?(be.setTexture2DArray(st,0),Zr=ve.TEXTURE_2D_ARRAY):(be.setTexture2D(st,0),Zr=ve.TEXTURE_2D),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,st.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,st.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,st.unpackAlignment);let Jn=ve.getParameter(ve.UNPACK_ROW_LENGTH),Qo=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),Xn=ve.getParameter(ve.UNPACK_SKIP_PIXELS),Kn=ve.getParameter(ve.UNPACK_SKIP_ROWS),hs=ve.getParameter(ve.UNPACK_SKIP_IMAGES);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,kr.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,kr.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,En),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,wn),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,dn);let Nr=Te.isDataArrayTexture||Te.isData3DTexture,Br=st.isDataArrayTexture||st.isData3DTexture;if(Te.isDepthTexture){let Jr=kt.get(Te),Mr=kt.get(st),Eo=kt.get(Jr.__renderTarget),Xl=kt.get(Mr.__renderTarget);Pt.bindFramebuffer(ve.READ_FRAMEBUFFER,Eo.__webglFramebuffer),Pt.bindFramebuffer(ve.DRAW_FRAMEBUFFER,Xl.__webglFramebuffer);for(let $o=0;$o<Gi;$o++)Nr&&(ve.framebufferTextureLayer(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,kt.get(Te).__webglTexture,ot,dn+$o),ve.framebufferTextureLayer(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,kt.get(st).__webglTexture,ci,Un+$o)),ve.blitFramebuffer(En,wn,_i,Fi,Ln,Vn,_i,Fi,ve.DEPTH_BUFFER_BIT,ve.NEAREST);Pt.bindFramebuffer(ve.READ_FRAMEBUFFER,null),Pt.bindFramebuffer(ve.DRAW_FRAMEBUFFER,null)}else if(ot!==0||Te.isRenderTargetTexture||kt.has(Te)){let Jr=kt.get(Te),Mr=kt.get(st);Pt.bindFramebuffer(ve.READ_FRAMEBUFFER,Ds),Pt.bindFramebuffer(ve.DRAW_FRAMEBUFFER,ya);for(let Eo=0;Eo<Gi;Eo++)Nr?ve.framebufferTextureLayer(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,Jr.__webglTexture,ot,dn+Eo):ve.framebufferTexture2D(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,Jr.__webglTexture,ot),Br?ve.framebufferTextureLayer(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,Mr.__webglTexture,ci,Un+Eo):ve.framebufferTexture2D(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,Mr.__webglTexture,ci),ot!==0?ve.blitFramebuffer(En,wn,_i,Fi,Ln,Vn,_i,Fi,ve.COLOR_BUFFER_BIT,ve.NEAREST):Br?ve.copyTexSubImage3D(Zr,ci,Ln,Vn,Un+Eo,En,wn,_i,Fi):ve.copyTexSubImage2D(Zr,ci,Ln,Vn,En,wn,_i,Fi);Pt.bindFramebuffer(ve.READ_FRAMEBUFFER,null),Pt.bindFramebuffer(ve.DRAW_FRAMEBUFFER,null)}else Br?Te.isDataTexture||Te.isData3DTexture?ve.texSubImage3D(Zr,ci,Ln,Vn,Un,_i,Fi,Gi,un,gn,kr.data):st.isCompressedArrayTexture?ve.compressedTexSubImage3D(Zr,ci,Ln,Vn,Un,_i,Fi,Gi,un,kr.data):ve.texSubImage3D(Zr,ci,Ln,Vn,Un,_i,Fi,Gi,un,gn,kr):Te.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,ci,Ln,Vn,_i,Fi,un,gn,kr.data):Te.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,ci,Ln,Vn,kr.width,kr.height,un,kr.data):ve.texSubImage2D(ve.TEXTURE_2D,ci,Ln,Vn,_i,Fi,un,gn,kr);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,Jn),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,Qo),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,Xn),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,Kn),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,hs),ci===0&&st.generateMipmaps&&ve.generateMipmap(Zr),Pt.unbindTexture()},this.copyTextureToTexture3D=function(Te,st,xt=null,Mt=null,ot=0){return yS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Te,st,xt,Mt,ot)},this.initRenderTarget=function(Te){kt.get(Te).__webglFramebuffer===void 0&&be.setupRenderTarget(Te)},this.initTexture=function(Te){Te.isCubeTexture?be.setTextureCube(Te,0):Te.isData3DTexture?be.setTexture3D(Te,0):Te.isDataArrayTexture||Te.isCompressedArrayTexture?be.setTexture2DArray(Te,0):be.setTexture2D(Te,0),Pt.unbindTexture()},this.resetState=function(){_=0,L=0,F=null,Pt.reset(),li.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return tf}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;let i=this.getContext();i.drawingBufferColorSpace=Fn._getDrawingBufferColorSpace(t),i.unpackColorSpace=Fn._getUnpackColorSpace()}};var Eg=class extends lS{constructor(t){super(t)}parse(t){function i(ne){switch(ne.image_type){case h:case v:if(ne.colormap_length>256||ne.colormap_size!==24||ne.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case f:case p:case m:case g:if(ne.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case u:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+ne.image_type)}if(ne.width<=0||ne.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(ne.pixel_size!==8&&ne.pixel_size!==16&&ne.pixel_size!==24&&ne.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+ne.pixel_size)}function n(ne,ue,se,_e,Ve){let Ge,K,Q=se.pixel_size>>3,ee=se.width*se.height*Q;if(ue&&(K=Ve.subarray(_e,_e+=se.colormap_length*(se.colormap_size>>3))),ne){Ge=new Uint8Array(ee);let Z,G,W,ce=0,me=new Uint8Array(Q);for(;ce<ee;)if(Z=Ve[_e++],G=(Z&127)+1,Z&128){for(W=0;W<Q;++W)me[W]=Ve[_e++];for(W=0;W<G;++W)Ge.set(me,ce+W*Q);ce+=Q*G}else{for(G*=Q,W=0;W<G;++W)Ge[ce+W]=Ve[_e++];ce+=G}}else Ge=Ve.subarray(_e,_e+=ue?se.width*se.height:ee);return{pixel_data:Ge,palettes:K}}function r(ne,ue,se,_e,Ve,Ge,K,Q,ee){let Z=ee,G,W=0,ce,me,Me=P.width;for(me=ue;me!==_e;me+=se)for(ce=Ve;ce!==K;ce+=Ge,W++)G=Q[W],ne[(ce+Me*me)*4+3]=255,ne[(ce+Me*me)*4+2]=Z[G*3+0],ne[(ce+Me*me)*4+1]=Z[G*3+1],ne[(ce+Me*me)*4+0]=Z[G*3+2];return ne}function o(ne,ue,se,_e,Ve,Ge,K,Q){let ee,Z=0,G,W,ce=P.width;for(W=ue;W!==_e;W+=se)for(G=Ve;G!==K;G+=Ge,Z+=2)ee=Q[Z+0]+(Q[Z+1]<<8),ne[(G+ce*W)*4+0]=(ee&31744)>>7,ne[(G+ce*W)*4+1]=(ee&992)>>2,ne[(G+ce*W)*4+2]=(ee&31)<<3,ne[(G+ce*W)*4+3]=ee&32768?0:255;return ne}function s(ne,ue,se,_e,Ve,Ge,K,Q){let ee=0,Z,G,W=P.width;for(G=ue;G!==_e;G+=se)for(Z=Ve;Z!==K;Z+=Ge,ee+=3)ne[(Z+W*G)*4+3]=255,ne[(Z+W*G)*4+2]=Q[ee+0],ne[(Z+W*G)*4+1]=Q[ee+1],ne[(Z+W*G)*4+0]=Q[ee+2];return ne}function a(ne,ue,se,_e,Ve,Ge,K,Q){let ee=0,Z,G,W=P.width;for(G=ue;G!==_e;G+=se)for(Z=Ve;Z!==K;Z+=Ge,ee+=4)ne[(Z+W*G)*4+2]=Q[ee+0],ne[(Z+W*G)*4+1]=Q[ee+1],ne[(Z+W*G)*4+0]=Q[ee+2],ne[(Z+W*G)*4+3]=Q[ee+3];return ne}function l(ne,ue,se,_e,Ve,Ge,K,Q){let ee,Z=0,G,W,ce=P.width;for(W=ue;W!==_e;W+=se)for(G=Ve;G!==K;G+=Ge,Z++)ee=Q[Z],ne[(G+ce*W)*4+0]=ee,ne[(G+ce*W)*4+1]=ee,ne[(G+ce*W)*4+2]=ee,ne[(G+ce*W)*4+3]=255;return ne}function c(ne,ue,se,_e,Ve,Ge,K,Q){let ee=0,Z,G,W=P.width;for(G=ue;G!==_e;G+=se)for(Z=Ve;Z!==K;Z+=Ge,ee+=2)ne[(Z+W*G)*4+0]=Q[ee+0],ne[(Z+W*G)*4+1]=Q[ee+0],ne[(Z+W*G)*4+2]=Q[ee+0],ne[(Z+W*G)*4+3]=Q[ee+1];return ne}function d(ne,ue,se,_e,Ve){let Ge,K,Q,ee,Z,G;switch((P.flags&b)>>w){default:case _:Ge=0,Q=1,Z=ue,K=0,ee=1,G=se;break;case x:Ge=0,Q=1,Z=ue,K=se-1,ee=-1,G=-1;break;case L:Ge=ue-1,Q=-1,Z=-1,K=0,ee=1,G=se;break;case R:Ge=ue-1,Q=-1,Z=-1,K=se-1,ee=-1,G=-1;break}if(V)switch(P.pixel_size){case 8:l(ne,K,ee,G,Ge,Q,Z,_e);break;case 16:c(ne,K,ee,G,Ge,Q,Z,_e);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(P.pixel_size){case 8:r(ne,K,ee,G,Ge,Q,Z,_e,Ve);break;case 16:o(ne,K,ee,G,Ge,Q,Z,_e);break;case 24:s(ne,K,ee,G,Ge,Q,Z,_e);break;case 32:a(ne,K,ee,G,Ge,Q,Z,_e);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return ne}let u=0,h=1,f=2,p=3,v=9,m=10,g=11,b=48,w=4,x=0,R=1,_=2,L=3;if(t.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let F=0,T=new Uint8Array(t),P={id_length:T[F++],colormap_type:T[F++],image_type:T[F++],colormap_index:T[F++]|T[F++]<<8,colormap_length:T[F++]|T[F++]<<8,colormap_size:T[F++],origin:[T[F++]|T[F++]<<8,T[F++]|T[F++]<<8],width:T[F++]|T[F++]<<8,height:T[F++]|T[F++]<<8,pixel_size:T[F++],flags:T[F++]};if(i(P),P.id_length+F>t.length)throw new Error("THREE.TGALoader: No data.");F+=P.id_length;let A=!1,O=!1,V=!1;switch(P.image_type){case v:A=!0,O=!0;break;case h:O=!0;break;case m:A=!0;break;case f:break;case g:A=!0,V=!0;break;case p:V=!0;break}let U=new Uint8Array(P.width*P.height*4),ae=n(A,O,P,F,T);return d(U,P.width,P.height,ae.pixel_data,ae.palettes),{data:U,width:P.width,height:P.height,flipY:!0,generateMipmaps:!0,minFilter:Vc}}};var Ed=Uint8Array,Ly=Uint16Array,OBe=Int32Array,_ie=new Ed([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yie=new Ed([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LBe=new Ed([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wie=function(e,t){for(var i=new Ly(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];for(var r=new OBe(i[30]),n=1;n<30;++n)for(var o=i[n];o<i[n+1];++o)r[o]=o-i[n]<<5|n;return{b:i,r}},Cie=wie(_ie,2),xie=Cie.b,NBe=Cie.r;xie[28]=258,NBe[258]=28;var Sie=wie(yie,0),BBe=Sie.b,tmt=Sie.r,$8=new Ly(32768);for(vo=0;vo<32768;++vo)Hp=(vo&43690)>>1|(vo&21845)<<1,Hp=(Hp&52428)>>2|(Hp&13107)<<2,Hp=(Hp&61680)>>4|(Hp&3855)<<4,$8[vo]=((Hp&65280)>>8|(Hp&255)<<8)>>1;var Hp,vo,xS=function(e,t,i){for(var n=e.length,r=0,o=new Ly(t);r<n;++r)e[r]&&++o[e[r]-1];var s=new Ly(t);for(r=1;r<t;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(i){a=new Ly(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var c=r<<4|e[r],d=t-e[r],u=s[e[r]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)a[$8[u]>>l]=c}else for(a=new Ly(n),r=0;r<n;++r)e[r]&&(a[r]=$8[s[e[r]-1]++]>>15-e[r]);return a},SS=new Ed(288);for(vo=0;vo<144;++vo)SS[vo]=8;var vo;for(vo=144;vo<256;++vo)SS[vo]=9;var vo;for(vo=256;vo<280;++vo)SS[vo]=7;var vo;for(vo=280;vo<288;++vo)SS[vo]=8;var vo,Mie=new Ed(32);for(vo=0;vo<32;++vo)Mie[vo]=5;var vo;var VBe=xS(SS,9,1);var zBe=xS(Mie,5,1),j8=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},ih=function(e,t,i){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&i},q8=function(e,t){var i=t/8|0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>(t&7)},HBe=function(e){return(e+7)/8|0},K8=function(e,t,i){return(t==null||t<0)&&(t=0),(i==null||i>e.length)&&(i=e.length),new Ed(e.subarray(t,i))};var UBe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zc=function(e,t,i){var n=new Error(t||UBe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,zc),!i)throw n;return n},Eie=function(e,t,i,n){var r=e.length,o=n?n.length:0;if(!r||t.f&&!t.l)return i||new Ed(0);var s=!i,a=s||t.i!=2,l=t.i;s&&(i=new Ed(r*3));var c=function(He){var $e=i.length;if(He>$e){var Je=new Ed(Math.max($e*2,He));Je.set(i),i=Je}},d=t.f||0,u=t.p||0,h=t.b||0,f=t.l,p=t.d,v=t.m,m=t.n,g=r*8;do{if(!f){d=ih(e,u,1);var b=ih(e,u+1,3);if(u+=3,b)if(b==1)f=VBe,p=zBe,v=9,m=5;else if(b==2){var _=ih(e,u,31)+257,L=ih(e,u+10,15)+4,F=_+ih(e,u+5,31)+1;u+=14;for(var T=new Ed(F),P=new Ed(19),A=0;A<L;++A)P[LBe[A]]=ih(e,u+A*3,7);u+=L*3;for(var O=j8(P),V=(1<<O)-1,U=xS(P,O,1),A=0;A<F;){var ae=U[ih(e,u,V)];u+=ae&15;var w=ae>>4;if(w<16)T[A++]=w;else{var ne=0,ue=0;for(w==16?(ue=3+ih(e,u,3),u+=2,ne=T[A-1]):w==17?(ue=3+ih(e,u,7),u+=3):w==18&&(ue=11+ih(e,u,127),u+=7);ue--;)T[A++]=ne}}var se=T.subarray(0,_),_e=T.subarray(_);v=j8(se),m=j8(_e),f=xS(se,v,1),p=xS(_e,m,1)}else zc(1);else{var w=HBe(u)+4,x=e[w-4]|e[w-3]<<8,R=w+x;if(R>r){l&&zc(0);break}a&&c(h+x),i.set(e.subarray(w,R),h),t.b=h+=x,t.p=u=R*8,t.f=d;continue}if(u>g){l&&zc(0);break}}a&&c(h+131072);for(var Ve=(1<<v)-1,Ge=(1<<m)-1,K=u;;K=u){var ne=f[q8(e,u)&Ve],Q=ne>>4;if(u+=ne&15,u>g){l&&zc(0);break}if(ne||zc(2),Q<256)i[h++]=Q;else if(Q==256){K=u,f=null;break}else{var ee=Q-254;if(Q>264){var A=Q-257,Z=_ie[A];ee=ih(e,u,(1<<Z)-1)+xie[A],u+=Z}var G=p[q8(e,u)&Ge],W=G>>4;G||zc(3),u+=G&15;var _e=BBe[W];if(W>3){var Z=yie[W];_e+=q8(e,u)&(1<<Z)-1,u+=Z}if(u>g){l&&zc(0);break}a&&c(h+131072);var ce=h+ee;if(h<_e){var me=o-_e,Me=Math.min(_e,ce);for(me+h<0&&zc(3);h<Me;++h)i[h]=n[me+h]}for(;h<ce;++h)i[h]=i[h-_e]}}t.l=f,t.p=K,t.b=h,t.f=d,f&&(d=1,t.m=v,t.d=p,t.n=m)}while(!d);return h!=i.length&&s?K8(i,0,h):i.subarray(0,h)};var GBe=new Ed(0);var df=function(e,t){return e[t]|e[t+1]<<8},nh=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Y8=function(e,t){return nh(e,t)+nh(e,t+4)*4294967296};var WBe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&zc(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&zc(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jBe(e,t){return Eie(e,{i:2},t&&t.out,t&&t.dictionary)}function Die(e,t){return Eie(e.subarray(WBe(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var X8=typeof TextDecoder<"u"&&new TextDecoder,qBe=0;try{X8.decode(GBe,{stream:!0}),qBe=1}catch{}var YBe=function(e){for(var t="",i=0;;){var n=e[i++],r=(n>127)+(n>223)+(n>239);if(i+r>e.length)return{s:t,r:K8(e,i-1)};r?r==3?(n=((n&15)<<18|(e[i++]&63)<<12|(e[i++]&63)<<6|e[i++]&63)-65536,t+=String.fromCharCode(55296|n>>10,56320|n&1023)):r&1?t+=String.fromCharCode((n&31)<<6|e[i++]&63):t+=String.fromCharCode((n&15)<<12|(e[i++]&63)<<6|e[i++]&63):t+=String.fromCharCode(n)}};function $Be(e,t){if(t){for(var i="",n=0;n<e.length;n+=16384)i+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return i}else{if(X8)return X8.decode(e);var r=YBe(e),o=r.s,i=r.r;return i.length&&zc(8),o}}var XBe=function(e,t){return t+30+df(e,t+26)+df(e,t+28)},KBe=function(e,t,i){var n=df(e,t+28),r=$Be(e.subarray(t+46,t+46+n),!(df(e,t+8)&2048)),o=t+46+n,s=nh(e,t+20),a=i&&s==4294967295?ZBe(e,o):[s,nh(e,t+24),nh(e,t+42)],l=a[0],c=a[1],d=a[2];return[df(e,t+10),l,c,r,o+df(e,t+30)+df(e,t+32),d]},ZBe=function(e,t){for(;df(e,t)!=1;t+=4+df(e,t+2));return[Y8(e,t+12),Y8(e,t+4),Y8(e,t+20)]};function Qk(e,t){for(var i={},n=e.length-22;nh(e,n)!=101010256;--n)(!n||e.length-n>65558)&&zc(13);var r=df(e,n+8);if(!r)return{};var o=nh(e,n+16),s=o==4294967295||r==65535;if(s){var a=nh(e,n-12);s=nh(e,a)==101075792,s&&(r=nh(e,a+32),o=nh(e,a+48))}for(var l=t&&t.filter,c=0;c<r;++c){var d=KBe(e,o,s),u=d[0],h=d[1],f=d[2],p=d[3],v=d[4],m=d[5],g=XBe(e,m);o=v,(!l||l({name:p,size:h,originalSize:f,compression:u}))&&(u?u==8?i[p]=jBe(e.subarray(g,g+h),{out:new Ed(f)}):zc(14,"unknown compression type "+u):i[p]=K8(e,g,g+h))}return i}function Tie(e,t,i){let n=i.length-e-1;if(t>=i[n])return n-1;if(t<=i[e])return e;let r=e,o=n,s=Math.floor((r+o)/2);for(;t<i[s]||t>=i[s+1];)t<i[s]?o=s:r=s,s=Math.floor((r+o)/2);return s}function QBe(e,t,i,n){let r=[],o=[],s=[];r[0]=1;for(let a=1;a<=i;++a){o[a]=t-n[e+1-a],s[a]=n[e+a]-t;let l=0;for(let c=0;c<a;++c){let d=s[c+1],u=o[a-c],h=r[c]/(d+u);r[c]=l+d*h,l=u*h}r[a]=l}return r}function Aie(e,t,i,n){let r=Tie(e,n,t),o=QBe(r,n,e,t),s=new xr(0,0,0,0);for(let a=0;a<=e;++a){let l=i[r-e+a],c=o[a],d=l.w*c;s.x+=l.x*d,s.y+=l.y*d,s.z+=l.z*d,s.w+=l.w*c}return s}function JBe(e,t,i,n,r){let o=[];for(let u=0;u<=i;++u)o[u]=0;let s=[];for(let u=0;u<=n;++u)s[u]=o.slice(0);let a=[];for(let u=0;u<=i;++u)a[u]=o.slice(0);a[0][0]=1;let l=o.slice(0),c=o.slice(0);for(let u=1;u<=i;++u){l[u]=t-r[e+1-u],c[u]=r[e+u]-t;let h=0;for(let f=0;f<u;++f){let p=c[f+1],v=l[u-f];a[u][f]=p+v;let m=a[f][u-1]/a[u][f];a[f][u]=h+p*m,h=v*m}a[u][u]=h}for(let u=0;u<=i;++u)s[0][u]=a[u][i];for(let u=0;u<=i;++u){let h=0,f=1,p=[];for(let v=0;v<=i;++v)p[v]=o.slice(0);p[0][0]=1;for(let v=1;v<=n;++v){let m=0,g=u-v,b=i-v;u>=v&&(p[f][0]=p[h][0]/a[b+1][g],m=p[f][0]*a[g][b]);let w=g>=-1?1:-g,x=u-1<=b?v-1:i-u;for(let _=w;_<=x;++_)p[f][_]=(p[h][_]-p[h][_-1])/a[b+1][g+_],m+=p[f][_]*a[g+_][b];u<=b&&(p[f][v]=-p[h][v-1]/a[b+1][u],m+=p[f][v]*a[u][b]),s[v][u]=m;let R=h;h=f,f=R}}let d=i;for(let u=1;u<=n;++u){for(let h=0;h<=i;++h)s[u][h]*=d;d*=i-u}return s}function eVe(e,t,i,n,r){let o=r<e?r:e,s=[],a=Tie(e,n,t),l=JBe(a,n,e,o,t),c=[];for(let d=0;d<i.length;++d){let u=i[d].clone(),h=u.w;u.x*=h,u.y*=h,u.z*=h,c[d]=u}for(let d=0;d<=o;++d){let u=c[a-e].clone().multiplyScalar(l[d][0]);for(let h=1;h<=e;++h)u.add(c[a-e+h].clone().multiplyScalar(l[d][h]));s[d]=u}for(let d=o+1;d<=r+1;++d)s[d]=new xr(0,0,0);return s}function tVe(e,t){let i=1;for(let r=2;r<=e;++r)i*=r;let n=1;for(let r=2;r<=t;++r)n*=r;for(let r=2;r<=e-t;++r)n*=r;return i/n}function iVe(e){let t=e.length,i=[],n=[];for(let o=0;o<t;++o){let s=e[o];i[o]=new Qe(s.x,s.y,s.z),n[o]=s.w}let r=[];for(let o=0;o<t;++o){let s=i[o].clone();for(let a=1;a<=o;++a)s.sub(r[o-a].clone().multiplyScalar(tVe(o,a)*n[a]));r[o]=s.divideScalar(n[0])}return r}function Rie(e,t,i,n,r){let o=eVe(e,t,i,n,r);return iVe(o)}var Jk=class extends eS{constructor(t,i,n,r,o){super();let s=i?i.length-1:0,a=n?n.length:0;this.degree=t,this.knots=i,this.controlPoints=[],this.startKnot=r||0,this.endKnot=o||s;for(let l=0;l<a;++l){let c=n[l];this.controlPoints[l]=new xr(c.x,c.y,c.z,c.w)}}getPoint(t,i=new Qe){let n=i,r=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=Aie(this.degree,this.knots,this.controlPoints,r);return o.w!==1&&o.divideScalar(o.w),n.set(o.x,o.y,o.z)}getTangent(t,i=new Qe){let n=i,r=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),o=Rie(this.degree,this.knots,this.controlPoints,r,1);return n.copy(o[1]).normalize(),n}toJSON(){let t=super.toJSON();return t.degree=this.degree,t.knots=[...this.knots],t.controlPoints=this.controlPoints.map(i=>i.toArray()),t.startKnot=this.startKnot,t.endKnot=this.endKnot,t}fromJSON(t){return super.fromJSON(t),this.degree=t.degree,this.knots=[...t.knots],this.controlPoints=t.controlPoints.map(i=>new xr(i[0],i[1],i[2],i[3])),this.startKnot=t.startKnot,this.endKnot=t.endKnot,this}};var Rr,ea,mc,tI=class extends qo{constructor(t){super(t)}load(t,i,n,r){let o=this,s=o.path===""?Np.extractUrlBase(t):o.path,a=new Bc(this.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(t,function(l){try{i(o.parse(l,s))}catch(c){r?r(c):console.error(c),o.manager.itemError(t)}},n,r)}parse(t,i){if(rVe(t))Rr=new rB().parse(t);else{let r=Pie(t);if(!oVe(r))throw new Error("THREE.FBXLoader: Unknown format.");if(kie(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+kie(r));Rr=new nB().parse(r)}let n=new Sd(this.manager).setPath(this.resourcePath||i).setCrossOrigin(this.crossOrigin);return new eB(n,this.manager).parse(Rr)}},eB=class{constructor(t,i){this.textureLoader=t,this.manager=i}parse(){ea=this.parseConnections();let t=this.parseImages(),i=this.parseTextures(t),n=this.parseMaterials(i),r=this.parseDeformers(),o=new tB().parse(r);return this.parseScene(r,o,n),mc}parseConnections(){let t=new Map;return"Connections"in Rr&&Rr.Connections.connections.forEach(function(n){let r=n[0],o=n[1],s=n[2];t.has(r)||t.set(r,{parents:[],children:[]});let a={ID:o,relationship:s};t.get(r).parents.push(a),t.has(o)||t.set(o,{parents:[],children:[]});let l={ID:r,relationship:s};t.get(o).children.push(l)}),t}parseImages(){let t={},i={};if("Video"in Rr.Objects){let n=Rr.Objects.Video;for(let r in n){let o=n[r],s=parseInt(r);if(t[s]=o.RelativeFilename||o.Filename,"Content"in o){let a=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,l=typeof o.Content=="string"&&o.Content!=="";if(a||l){let c=this.parseImage(n[r]);i[o.RelativeFilename||o.Filename]=c}}}}for(let n in t){let r=t[n];i[r]!==void 0?t[n]=i[r]:t[n]=t[n].split("\\").pop()}return t}parseImage(t){let i=t.Content,n=t.RelativeFilename||t.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase(),o;switch(r){case"bmp":o="image/bmp";break;case"jpg":case"jpeg":o="image/jpeg";break;case"png":o="image/png";break;case"tif":o="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",n),o="image/tga";break;default:console.warn('FBXLoader: Image type "'+r+'" is not supported.');return}if(typeof i=="string")return"data:"+o+";base64,"+i;{let s=new Uint8Array(i);return window.URL.createObjectURL(new Blob([s],{type:o}))}}parseTextures(t){let i=new Map;if("Texture"in Rr.Objects){let n=Rr.Objects.Texture;for(let r in n){let o=this.parseTexture(n[r],t);i.set(parseInt(r),o)}}return i}parseTexture(t,i){let n=this.loadTexture(t,i);n.ID=t.id,n.name=t.attrName;let r=t.WrapModeU,o=t.WrapModeV,s=r!==void 0?r.value:0,a=o!==void 0?o.value:0;if(n.wrapS=s===0?as:Ms,n.wrapT=a===0?as:Ms,"Scaling"in t){let l=t.Scaling.value;n.repeat.x=l[0],n.repeat.y=l[1]}if("Translation"in t){let l=t.Translation.value;n.offset.x=l[0],n.offset.y=l[1]}return n}loadTexture(t,i){let n=new Set(["tga","tif","tiff","exr","dds","hdr","ktx2"]),r=t.FileName.split(".").pop().toLowerCase(),o=n.has(r)?this.manager.getHandler(`.${r}`):this.textureLoader;if(!o)return console.warn(`FBXLoader: ${r.toUpperCase()} loader not found, creating placeholder texture for`,t.RelativeFilename),new hu;let s=o.path;s||o.setPath(this.textureLoader.path);let a=ea.get(t.id).children,l;a!==void 0&&a.length>0&&i[a[0].ID]!==void 0&&(l=i[a[0].ID],(l.indexOf("blob:")===0||l.indexOf("data:")===0)&&o.setPath(void 0));let c=o.load(l);return o.setPath(s),c}parseMaterials(t){let i=new Map;if("Material"in Rr.Objects){let n=Rr.Objects.Material;for(let r in n){let o=this.parseMaterial(n[r],t);o!==null&&i.set(parseInt(r),o)}}return i}parseMaterial(t,i){let n=t.id,r=t.attrName,o=t.ShadingModel;if(typeof o=="object"&&(o=o.value),!ea.has(n))return null;let s=this.parseParameters(t,i,n),a;switch(o.toLowerCase()){case"phong":a=new cs;break;case"lambert":a=new Ev;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new cs;break}return a.setValues(s),a.name=r,a}parseParameters(t,i,n){let r={};t.BumpFactor&&(r.bumpScale=t.BumpFactor.value),t.Diffuse?r.color=Fn.toWorkingColorSpace(new Ji().fromArray(t.Diffuse.value),Hn):t.DiffuseColor&&(t.DiffuseColor.type==="Color"||t.DiffuseColor.type==="ColorRGB")&&(r.color=Fn.toWorkingColorSpace(new Ji().fromArray(t.DiffuseColor.value),Hn)),t.DisplacementFactor&&(r.displacementScale=t.DisplacementFactor.value),t.Emissive?r.emissive=Fn.toWorkingColorSpace(new Ji().fromArray(t.Emissive.value),Hn):t.EmissiveColor&&(t.EmissiveColor.type==="Color"||t.EmissiveColor.type==="ColorRGB")&&(r.emissive=Fn.toWorkingColorSpace(new Ji().fromArray(t.EmissiveColor.value),Hn)),t.EmissiveFactor&&(r.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),r.opacity=1-(t.TransparencyFactor?parseFloat(t.TransparencyFactor.value):0),(r.opacity===1||r.opacity===0)&&(r.opacity=t.Opacity?parseFloat(t.Opacity.value):null,r.opacity===null&&(r.opacity=1-(t.TransparentColor?parseFloat(t.TransparentColor.value[0]):0))),r.opacity<1&&(r.transparent=!0),t.ReflectionFactor&&(r.reflectivity=t.ReflectionFactor.value),t.Shininess&&(r.shininess=t.Shininess.value),t.Specular?r.specular=Fn.toWorkingColorSpace(new Ji().fromArray(t.Specular.value),Hn):t.SpecularColor&&t.SpecularColor.type==="Color"&&(r.specular=Fn.toWorkingColorSpace(new Ji().fromArray(t.SpecularColor.value),Hn));let o=this;return ea.get(n).children.forEach(function(s){let a=s.relationship;switch(a){case"Bump":r.bumpMap=o.getTexture(i,s.ID);break;case"Maya|TEX_ao_map":r.aoMap=o.getTexture(i,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=o.getTexture(i,s.ID),r.map!==void 0&&(r.map.colorSpace=Hn);break;case"DisplacementColor":r.displacementMap=o.getTexture(i,s.ID);break;case"EmissiveColor":r.emissiveMap=o.getTexture(i,s.ID),r.emissiveMap!==void 0&&(r.emissiveMap.colorSpace=Hn);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=o.getTexture(i,s.ID);break;case"ReflectionColor":r.envMap=o.getTexture(i,s.ID),r.envMap!==void 0&&(r.envMap.mapping=Dy,r.envMap.colorSpace=Hn);break;case"SpecularColor":r.specularMap=o.getTexture(i,s.ID),r.specularMap!==void 0&&(r.specularMap.colorSpace=Hn);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=o.getTexture(i,s.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),r}getTexture(t,i){return"LayeredTexture"in Rr.Objects&&i in Rr.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),i=ea.get(i).children[0].ID),t.get(i)}parseDeformers(){let t={},i={};if("Deformer"in Rr.Objects){let n=Rr.Objects.Deformer;for(let r in n){let o=n[r],s=ea.get(parseInt(r));if(o.attrType==="Skin"){let a=this.parseSkeleton(s,n);a.ID=r,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=s.parents[0].ID,t[r]=a}else if(o.attrType==="BlendShape"){let a={id:r};a.rawTargets=this.parseMorphTargets(s,n),a.id=r,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),i[r]=a}}}return{skeletons:t,morphTargets:i}}parseSkeleton(t,i){let n=[];return t.children.forEach(function(r){let o=i[r.ID];if(o.attrType!=="Cluster")return;let s={ID:r.ID,indices:[],weights:[],transformLink:new Ki().fromArray(o.TransformLink.a)};"Indexes"in o&&(s.indices=o.Indexes.a,s.weights=o.Weights.a),n.push(s)}),{rawBones:n,bones:[]}}parseMorphTargets(t,i){let n=[];for(let r=0;r<t.children.length;r++){let o=t.children[r],s=i[o.ID],a={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;a.geoID=ea.get(parseInt(o.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,n.push(a)}return n}parseScene(t,i,n){mc=new Os;let r=this.parseModels(t.skeletons,i,n),o=Rr.Objects.Model,s=this;r.forEach(function(l){let c=o[l.ID];s.setLookAtProperties(l,c),ea.get(l.ID).parents.forEach(function(u){let h=r.get(u.ID);h!==void 0&&h.add(l)}),l.parent===null&&mc.add(l)}),this.bindSkeleton(t.skeletons,i,r),this.addGlobalSceneSettings(),mc.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);let c=Iie(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});let a=new iB().parse();mc.children.length===1&&mc.children[0].isGroup&&(mc.children[0].animations=a,mc=mc.children[0]),mc.animations=a}parseModels(t,i,n){let r=new Map,o=Rr.Objects.Model;for(let s in o){let a=parseInt(s),l=o[s],c=ea.get(a),d=this.buildSkeleton(c,t,a,l.attrName);if(!d){switch(l.attrType){case"Camera":d=this.createCamera(c);break;case"Light":d=this.createLight(c);break;case"Mesh":d=this.createMesh(c,i,n);break;case"NurbsCurve":d=this.createCurve(c,i);break;case"LimbNode":case"Root":d=new Ip;break;case"Null":default:d=new Os;break}d.name=l.attrName?jo.sanitizeNodeName(l.attrName):"",d.userData.originalName=l.attrName,d.ID=a}this.getTransformData(d,l),r.set(a,d)}return r}buildSkeleton(t,i,n,r){let o=null;return t.parents.forEach(function(s){for(let a in i){let l=i[a];l.rawBones.forEach(function(c,d){if(c.ID===s.ID){let u=o;o=new Ip,o.matrixWorld.copy(c.transformLink),o.name=r?jo.sanitizeNodeName(r):"",o.userData.originalName=r,o.ID=n,l.bones[d]=o,u!==null&&o.add(u)}})}}),o}createCamera(t){let i,n;if(t.children.forEach(function(r){let o=Rr.Objects.NodeAttribute[r.ID];o!==void 0&&(n=o)}),n===void 0)i=new Po;else{let r=0;n.CameraProjectionType!==void 0&&n.CameraProjectionType.value===1&&(r=1);let o=1;n.NearPlane!==void 0&&(o=n.NearPlane.value/1e3);let s=1e3;n.FarPlane!==void 0&&(s=n.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;n.AspectWidth!==void 0&&n.AspectHeight!==void 0&&(a=n.AspectWidth.value,l=n.AspectHeight.value);let c=a/l,d=45;n.FieldOfView!==void 0&&(d=n.FieldOfView.value);let u=n.FocalLength?n.FocalLength.value:null;switch(r){case 0:i=new ss(d,c,o,s),u!==null&&i.setFocalLength(u);break;case 1:console.warn("THREE.FBXLoader: Orthographic cameras not supported yet."),i=new Po;break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),i=new Po;break}}return i}createLight(t){let i,n;if(t.children.forEach(function(r){let o=Rr.Objects.NodeAttribute[r.ID];o!==void 0&&(n=o)}),n===void 0)i=new Po;else{let r;n.LightType===void 0?r=0:r=n.LightType.value;let o=16777215;n.Color!==void 0&&(o=Fn.toWorkingColorSpace(new Ji().fromArray(n.Color.value),Hn));let s=n.Intensity===void 0?1:n.Intensity.value/100;n.CastLightOnObject!==void 0&&n.CastLightOnObject.value===0&&(s=0);let a=0;n.FarAttenuationEnd!==void 0&&(n.EnableFarAttenuation!==void 0&&n.EnableFarAttenuation.value===0?a=0:a=n.FarAttenuationEnd.value);let l=1;switch(r){case 0:i=new xg(o,s,a,l);break;case 1:i=new sf(o,s);break;case 2:let c=Math.PI/3;n.InnerAngle!==void 0&&(c=Ls.degToRad(n.InnerAngle.value));let d=0;n.OuterAngle!==void 0&&(d=Ls.degToRad(n.OuterAngle.value),d=Math.max(d,1)),i=new Av(o,s,a,c,d,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),i=new xg(o,s);break}n.CastShadows!==void 0&&n.CastShadows.value===1&&(i.castShadow=!0)}return i}createMesh(t,i,n){let r,o=null,s=null,a=[];if(t.children.forEach(function(l){i.has(l.ID)&&(o=i.get(l.ID)),n.has(l.ID)&&a.push(n.get(l.ID))}),a.length>1?s=a:a.length>0?s=a[0]:(s=new cs({name:qo.DEFAULT_MATERIAL_NAME,color:13421772}),a.push(s)),"color"in o.attributes&&a.forEach(function(l){l.vertexColors=!0}),o.groups.length>0){let l=!1;for(let c=0,d=o.groups.length;c<d;c++){let u=o.groups[c];(u.materialIndex<0||u.materialIndex>=a.length)&&(u.materialIndex=a.length,l=!0)}if(l){let c=new cs;a.push(c)}}return o.FBX_Deformer?(r=new _v(o,s),r.normalizeSkinWeights()):r=new go(o,s),r}createCurve(t,i){let n=t.children.reduce(function(o,s){return i.has(s.ID)&&(o=i.get(s.ID)),o},null),r=new pc({name:qo.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new yg(n,r)}getTransformData(t,i){let n={};"InheritType"in i&&(n.inheritType=parseInt(i.InheritType.value)),"RotationOrder"in i?n.eulerOrder=MS(i.RotationOrder.value):n.eulerOrder=MS(0),"Lcl_Translation"in i&&(n.translation=i.Lcl_Translation.value),"PreRotation"in i&&(n.preRotation=i.PreRotation.value),"Lcl_Rotation"in i&&(n.rotation=i.Lcl_Rotation.value),"PostRotation"in i&&(n.postRotation=i.PostRotation.value),"Lcl_Scaling"in i&&(n.scale=i.Lcl_Scaling.value),"ScalingOffset"in i&&(n.scalingOffset=i.ScalingOffset.value),"ScalingPivot"in i&&(n.scalingPivot=i.ScalingPivot.value),"RotationOffset"in i&&(n.rotationOffset=i.RotationOffset.value),"RotationPivot"in i&&(n.rotationPivot=i.RotationPivot.value),t.userData.transformData=n}setLookAtProperties(t,i){"LookAtProperty"in i&&ea.get(t.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){let o=Rr.Objects.Model[r.ID];if("Lcl_Translation"in o){let s=o.Lcl_Translation.value;t.target!==void 0?(t.target.position.fromArray(s),mc.add(t.target)):t.lookAt(new Qe().fromArray(s))}}})}bindSkeleton(t,i,n){let r=this.parsePoseNodes();for(let o in t){let s=t[o];ea.get(parseInt(s.ID)).parents.forEach(function(l){if(i.has(l.ID)){let c=l.ID;ea.get(c).parents.forEach(function(u){n.has(u.ID)&&n.get(u.ID).bind(new wv(s.bones),r[u.ID])})}})}}parsePoseNodes(){let t={};if("Pose"in Rr.Objects){let i=Rr.Objects.Pose;for(let n in i)if(i[n].attrType==="BindPose"&&i[n].NbPoseNodes>0){let r=i[n].PoseNode;Array.isArray(r)?r.forEach(function(o){t[o.Node]=new Ki().fromArray(o.Matrix.a)}):t[r.Node]=new Ki().fromArray(r.Matrix.a)}}return t}addGlobalSceneSettings(){if("GlobalSettings"in Rr){if("AmbientColor"in Rr.GlobalSettings){let t=Rr.GlobalSettings.AmbientColor.value,i=t[0],n=t[1],r=t[2];if(i!==0||n!==0||r!==0){let o=new Ji().setRGB(i,n,r,Hn);mc.add(new af(o,1))}}"UnitScaleFactor"in Rr.GlobalSettings&&(mc.userData.unitScaleFactor=Rr.GlobalSettings.UnitScaleFactor.value)}}},tB=class{constructor(){this.negativeMaterialIndices=!1}parse(t){let i=new Map;if("Geometry"in Rr.Objects){let n=Rr.Objects.Geometry;for(let r in n){let o=ea.get(parseInt(r)),s=this.parseGeometry(o,n[r],t);i.set(parseInt(r),s)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),i}parseGeometry(t,i,n){switch(i.attrType){case"Mesh":return this.parseMeshGeometry(t,i,n);case"NurbsCurve":return this.parseNurbsGeometry(i)}}parseMeshGeometry(t,i,n){let r=n.skeletons,o=[],s=t.parents.map(function(u){return Rr.Objects.Model[u.ID]});if(s.length===0)return;let a=t.children.reduce(function(u,h){return r[h.ID]!==void 0&&(u=r[h.ID]),u},null);t.children.forEach(function(u){n.morphTargets[u.ID]!==void 0&&o.push(n.morphTargets[u.ID])});let l=s[0],c={};"RotationOrder"in l&&(c.eulerOrder=MS(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);let d=Iie(c);return this.genGeometry(i,a,o,d)}genGeometry(t,i,n,r){let o=new Wr;t.attrName&&(o.name=t.attrName);let s=this.parseGeoNode(t,i),a=this.genBuffers(s),l=new nn(a.vertex,3);if(l.applyMatrix4(r),o.setAttribute("position",l),a.colors.length>0&&o.setAttribute("color",new nn(a.colors,3)),i&&(o.setAttribute("skinIndex",new bv(a.weightsIndices,4)),o.setAttribute("skinWeight",new nn(a.vertexWeights,4)),o.FBX_Deformer=i),a.normal.length>0){let c=new sr().getNormalMatrix(r),d=new nn(a.normal,3);d.applyNormalMatrix(c),o.setAttribute("normal",d)}if(a.uvs.forEach(function(c,d){let u=d===0?"uv":`uv${d}`;o.setAttribute(u,new nn(a.uvs[d],2))}),s.material&&s.material.mappingType!=="AllSame"){let c=a.materialIndex[0],d=0;if(a.materialIndex.forEach(function(u,h){u!==c&&(o.addGroup(d,h-d,c),c=u,d=h)}),o.groups.length>0){let u=o.groups[o.groups.length-1],h=u.start+u.count;h!==a.materialIndex.length&&o.addGroup(h,a.materialIndex.length-h,c)}o.groups.length===0&&o.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(o,t,n,r),o}parseGeoNode(t,i){let n={};if(n.vertexPositions=t.Vertices!==void 0?t.Vertices.a:[],n.vertexIndices=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(n.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(n.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(n.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){n.uv=[];let r=0;for(;t.LayerElementUV[r];)t.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(t.LayerElementUV[r])),r++}return n.weightTable={},i!==null&&(n.skeleton=i,i.rawBones.forEach(function(r,o){r.indices.forEach(function(s,a){n.weightTable[s]===void 0&&(n.weightTable[s]=[]),n.weightTable[s].push({id:o,weight:r.weights[a]})})})),n}genBuffers(t){let i={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,o=!1,s=[],a=[],l=[],c=[],d=[],u=[],h=this;return t.vertexIndices.forEach(function(f,p){let v,m=!1;f<0&&(f=f^-1,m=!0);let g=[],b=[];if(s.push(f*3,f*3+1,f*3+2),t.color){let w=eI(p,n,f,t.color);l.push(w[0],w[1],w[2])}if(t.skeleton){if(t.weightTable[f]!==void 0&&t.weightTable[f].forEach(function(w){b.push(w.weight),g.push(w.id)}),b.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);let w=[0,0,0,0],x=[0,0,0,0];b.forEach(function(R,_){let L=R,F=g[_];x.forEach(function(T,P,A){if(L>T){A[P]=L,L=T;let O=w[P];w[P]=F,F=O}})}),g=w,b=x}for(;b.length<4;)b.push(0),g.push(0);for(let w=0;w<4;++w)d.push(b[w]),u.push(g[w])}if(t.normal){let w=eI(p,n,f,t.normal);a.push(w[0],w[1],w[2])}t.material&&t.material.mappingType!=="AllSame"&&(v=eI(p,n,f,t.material)[0],v<0&&(h.negativeMaterialIndices=!0,v=0)),t.uv&&t.uv.forEach(function(w,x){let R=eI(p,n,f,w);c[x]===void 0&&(c[x]=[]),c[x].push(R[0]),c[x].push(R[1])}),r++,m&&(h.genFace(i,t,s,v,a,l,c,d,u,r),n++,r=0,s=[],a=[],l=[],c=[],d=[],u=[])}),i}getNormalNewell(t){let i=new Qe(0,0,0);for(let n=0;n<t.length;n++){let r=t[n],o=t[(n+1)%t.length];i.x+=(r.y-o.y)*(r.z+o.z),i.y+=(r.z-o.z)*(r.x+o.x),i.z+=(r.x-o.x)*(r.y+o.y)}return i.normalize(),i}getNormalTangentAndBitangent(t){let i=this.getNormalNewell(t),r=(Math.abs(i.z)>.5?new Qe(0,1,0):new Qe(0,0,1)).cross(i).normalize(),o=i.clone().cross(r).normalize();return{normal:i,tangent:r,bitangent:o}}flattenVertex(t,i,n){return new On(t.dot(i),t.dot(n))}genFace(t,i,n,r,o,s,a,l,c,d){let u;if(d>3){let h=[],f=i.baseVertexPositions||i.vertexPositions;for(let g=0;g<n.length;g+=3)h.push(new Qe(f[n[g]],f[n[g+1]],f[n[g+2]]));let{tangent:p,bitangent:v}=this.getNormalTangentAndBitangent(h),m=[];for(let g of h)m.push(this.flattenVertex(g,p,v));u=xv.triangulateShape(m,[])}else u=[[0,1,2]];for(let[h,f,p]of u)t.vertex.push(i.vertexPositions[n[h*3]]),t.vertex.push(i.vertexPositions[n[h*3+1]]),t.vertex.push(i.vertexPositions[n[h*3+2]]),t.vertex.push(i.vertexPositions[n[f*3]]),t.vertex.push(i.vertexPositions[n[f*3+1]]),t.vertex.push(i.vertexPositions[n[f*3+2]]),t.vertex.push(i.vertexPositions[n[p*3]]),t.vertex.push(i.vertexPositions[n[p*3+1]]),t.vertex.push(i.vertexPositions[n[p*3+2]]),i.skeleton&&(t.vertexWeights.push(l[h*4]),t.vertexWeights.push(l[h*4+1]),t.vertexWeights.push(l[h*4+2]),t.vertexWeights.push(l[h*4+3]),t.vertexWeights.push(l[f*4]),t.vertexWeights.push(l[f*4+1]),t.vertexWeights.push(l[f*4+2]),t.vertexWeights.push(l[f*4+3]),t.vertexWeights.push(l[p*4]),t.vertexWeights.push(l[p*4+1]),t.vertexWeights.push(l[p*4+2]),t.vertexWeights.push(l[p*4+3]),t.weightsIndices.push(c[h*4]),t.weightsIndices.push(c[h*4+1]),t.weightsIndices.push(c[h*4+2]),t.weightsIndices.push(c[h*4+3]),t.weightsIndices.push(c[f*4]),t.weightsIndices.push(c[f*4+1]),t.weightsIndices.push(c[f*4+2]),t.weightsIndices.push(c[f*4+3]),t.weightsIndices.push(c[p*4]),t.weightsIndices.push(c[p*4+1]),t.weightsIndices.push(c[p*4+2]),t.weightsIndices.push(c[p*4+3])),i.color&&(t.colors.push(s[h*3]),t.colors.push(s[h*3+1]),t.colors.push(s[h*3+2]),t.colors.push(s[f*3]),t.colors.push(s[f*3+1]),t.colors.push(s[f*3+2]),t.colors.push(s[p*3]),t.colors.push(s[p*3+1]),t.colors.push(s[p*3+2])),i.material&&i.material.mappingType!=="AllSame"&&(t.materialIndex.push(r),t.materialIndex.push(r),t.materialIndex.push(r)),i.normal&&(t.normal.push(o[h*3]),t.normal.push(o[h*3+1]),t.normal.push(o[h*3+2]),t.normal.push(o[f*3]),t.normal.push(o[f*3+1]),t.normal.push(o[f*3+2]),t.normal.push(o[p*3]),t.normal.push(o[p*3+1]),t.normal.push(o[p*3+2])),i.uv&&i.uv.forEach(function(v,m){t.uvs[m]===void 0&&(t.uvs[m]=[]),t.uvs[m].push(a[m][h*2]),t.uvs[m].push(a[m][h*2+1]),t.uvs[m].push(a[m][f*2]),t.uvs[m].push(a[m][f*2+1]),t.uvs[m].push(a[m][p*2]),t.uvs[m].push(a[m][p*2+1])})}addMorphTargets(t,i,n,r){if(n.length===0)return;t.morphTargetsRelative=!0,t.morphAttributes.position=[];let o=this;n.forEach(function(s){s.rawTargets.forEach(function(a){let l=Rr.Objects.Geometry[a.geoID];l!==void 0&&o.genMorphGeometry(t,i,l,r,a.name)})})}genMorphGeometry(t,i,n,r,o){let s=i.Vertices!==void 0?i.Vertices.a:[],a=i.PolygonVertexIndex!==void 0?i.PolygonVertexIndex.a:[],l=n.Vertices!==void 0?n.Vertices.a:[],c=n.Indexes!==void 0?n.Indexes.a:[],d=t.attributes.position.count*3,u=new Float32Array(d);for(let v=0;v<c.length;v++){let m=c[v]*3;u[m]=l[v*3],u[m+1]=l[v*3+1],u[m+2]=l[v*3+2]}let h={vertexIndices:a,vertexPositions:u,baseVertexPositions:s},f=this.genBuffers(h),p=new nn(f.vertex,3);p.name=o||n.attrName,p.applyMatrix4(r),t.morphAttributes.position.push(p)}parseNormals(t){let i=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Normals.a,o=[];return n==="IndexToDirect"&&("NormalIndex"in t?o=t.NormalIndex.a:"NormalsIndex"in t&&(o=t.NormalsIndex.a)),{dataSize:3,buffer:r,indices:o,mappingType:i,referenceType:n}}parseUVs(t){let i=t.MappingInformationType,n=t.ReferenceInformationType,r=t.UV.a,o=[];return n==="IndexToDirect"&&(o=t.UVIndex.a),{dataSize:2,buffer:r,indices:o,mappingType:i,referenceType:n}}parseVertexColors(t){let i=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Colors.a,o=[];n==="IndexToDirect"&&(o=t.ColorIndex.a);for(let s=0,a=new Ji;s<r.length;s+=4)a.fromArray(r,s),Fn.toWorkingColorSpace(a,Hn),a.toArray(r,s);return{dataSize:4,buffer:r,indices:o,mappingType:i,referenceType:n}}parseMaterialIndices(t){let i=t.MappingInformationType,n=t.ReferenceInformationType;if(i==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};let r=t.Materials.a,o=[];for(let s=0;s<r.length;++s)o.push(s);return{dataSize:1,buffer:r,indices:o,mappingType:i,referenceType:n}}parseNurbsGeometry(t){let i=parseInt(t.Order);if(isNaN(i))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new Wr;let n=i-1,r=t.KnotVector.a,o=[],s=t.Points.a;for(let u=0,h=s.length;u<h;u+=4)o.push(new xr().fromArray(s,u));let a,l;if(t.Form==="Closed")o.push(o[0]);else if(t.Form==="Periodic"){a=n,l=r.length-1-a;for(let u=0;u<n;++u)o.push(o[u])}let d=new Jk(n,r,o,a,l).getPoints(o.length*12);return new Wr().setFromPoints(d)}},iB=class{parse(){let t=[],i=this.parseClips();if(i!==void 0)for(let n in i){let r=i[n],o=this.addClip(r);t.push(o)}return t}parseClips(){if(Rr.Objects.AnimationCurve===void 0)return;let t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);let i=this.parseAnimationLayers(t);return this.parseAnimStacks(i)}parseAnimationCurveNodes(){let t=Rr.Objects.AnimationCurveNode,i=new Map;for(let n in t){let r=t[n];if(r.attrName.match(/S|R|T|DeformPercent/)!==null){let o={id:r.id,attr:r.attrName,curves:{}};i.set(o.id,o)}}return i}parseAnimationCurves(t){let i=Rr.Objects.AnimationCurve;for(let n in i){let r={id:i[n].id,times:i[n].KeyTime.a.map(sVe),values:i[n].KeyValueFloat.a},o=ea.get(r.id);if(o!==void 0){let s=o.parents[0].ID,a=o.parents[0].relationship;a.match(/X/)?t.get(s).curves.x=r:a.match(/Y/)?t.get(s).curves.y=r:a.match(/Z/)?t.get(s).curves.z=r:a.match(/DeformPercent/)&&t.has(s)&&(t.get(s).curves.morph=r)}}}parseAnimationLayers(t){let i=Rr.Objects.AnimationLayer,n=new Map;for(let r in i){let o=[],s=ea.get(parseInt(r));s!==void 0&&(s.children.forEach(function(l,c){if(t.has(l.ID)){let d=t.get(l.ID);if(d.curves.x!==void 0||d.curves.y!==void 0||d.curves.z!==void 0){if(o[c]===void 0){let u=ea.get(l.ID).parents.filter(function(h){return h.relationship!==void 0})[0].ID;if(u!==void 0){let h=Rr.Objects.Model[u.toString()];if(h===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}let f={modelName:h.attrName?jo.sanitizeNodeName(h.attrName):"",ID:h.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};mc.traverse(function(p){p.ID===h.id&&(f.transform=p.matrix,p.userData.transformData&&(f.eulerOrder=p.userData.transformData.eulerOrder))}),f.transform||(f.transform=new Ki),"PreRotation"in h&&(f.preRotation=h.PreRotation.value),"PostRotation"in h&&(f.postRotation=h.PostRotation.value),o[c]=f}}o[c]&&(o[c][d.attr]=d)}else if(d.curves.morph!==void 0){if(o[c]===void 0){let u=ea.get(l.ID).parents.filter(function(g){return g.relationship!==void 0})[0].ID,h=ea.get(u).parents[0].ID,f=ea.get(h).parents[0].ID,p=ea.get(f).parents[0].ID,v=Rr.Objects.Model[p],m={modelName:v.attrName?jo.sanitizeNodeName(v.attrName):"",morphName:Rr.Objects.Deformer[u].attrName};o[c]=m}o[c][d.attr]=d}}}),n.set(parseInt(r),o))}return n}parseAnimStacks(t){let i=Rr.Objects.AnimationStack,n={};for(let r in i){let o=ea.get(parseInt(r)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");let s=t.get(o[0].ID);n[r]={name:i[r].attrName,layer:s}}return n}addClip(t){let i=[],n=this;return t.layer.forEach(function(r){i=i.concat(n.generateTracks(r))}),new Cg(t.name,-1,i)}generateTracks(t){let i=[],n=new Qe,r=new Qe;if(t.transform&&t.transform.decompose(n,new ls,r),n=n.toArray(),r=r.toArray(),t.T!==void 0&&Object.keys(t.T.curves).length>0){let o=this.generateVectorTrack(t.modelName,t.T.curves,n,"position");o!==void 0&&i.push(o)}if(t.R!==void 0&&Object.keys(t.R.curves).length>0){let o=this.generateRotationTrack(t.modelName,t.R.curves,t.preRotation,t.postRotation,t.eulerOrder);o!==void 0&&i.push(o)}if(t.S!==void 0&&Object.keys(t.S.curves).length>0){let o=this.generateVectorTrack(t.modelName,t.S.curves,r,"scale");o!==void 0&&i.push(o)}if(t.DeformPercent!==void 0){let o=this.generateMorphTrack(t);o!==void 0&&i.push(o)}return i}generateVectorTrack(t,i,n,r){let o=this.getTimesForAllAxes(i),s=this.getKeyframeTrackValues(o,i,n);return new uu(t+"."+r,o,s)}generateRotationTrack(t,i,n,r,o){let s,a;if(i.x!==void 0&&i.y!==void 0&&i.z!==void 0){let h=this.interpolateRotations(i.x,i.y,i.z,o);s=h[0],a=h[1]}let l=MS(0);n!==void 0&&(n=n.map(Ls.degToRad),n.push(l),n=new nl().fromArray(n),n=new ls().setFromEuler(n)),r!==void 0&&(r=r.map(Ls.degToRad),r.push(l),r=new nl().fromArray(r),r=new ls().setFromEuler(r).invert());let c=new ls,d=new nl,u=[];if(!a||!s)return new du(t+".quaternion",[0],[0]);for(let h=0;h<a.length;h+=3)d.set(a[h],a[h+1],a[h+2],o),c.setFromEuler(d),n!==void 0&&c.premultiply(n),r!==void 0&&c.multiply(r),h>2&&new ls().fromArray(u,(h-3)/3*4).dot(c)<0&&c.set(-c.x,-c.y,-c.z,-c.w),c.toArray(u,h/3*4);return new du(t+".quaternion",s,u)}generateMorphTrack(t){let i=t.DeformPercent.curves.morph,n=i.values.map(function(o){return o/100}),r=mc.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new Fp(t.modelName+".morphTargetInfluences["+r+"]",i.times,n)}getTimesForAllAxes(t){let i=[];if(t.x!==void 0&&(i=i.concat(t.x.times)),t.y!==void 0&&(i=i.concat(t.y.times)),t.z!==void 0&&(i=i.concat(t.z.times)),i=i.sort(function(n,r){return n-r}),i.length>1){let n=1,r=i[0];for(let o=1;o<i.length;o++){let s=i[o];s!==r&&(i[n]=s,r=s,n++)}i=i.slice(0,n)}return i}getKeyframeTrackValues(t,i,n){let r=n,o=[],s=-1,a=-1,l=-1;return t.forEach(function(c){if(i.x&&(s=i.x.times.indexOf(c)),i.y&&(a=i.y.times.indexOf(c)),i.z&&(l=i.z.times.indexOf(c)),s!==-1){let d=i.x.values[s];o.push(d),r[0]=d}else o.push(r[0]);if(a!==-1){let d=i.y.values[a];o.push(d),r[1]=d}else o.push(r[1]);if(l!==-1){let d=i.z.values[l];o.push(d),r[2]=d}else o.push(r[2])}),o}interpolateRotations(t,i,n,r){let o=[],s=[];o.push(t.times[0]),s.push(Ls.degToRad(t.values[0])),s.push(Ls.degToRad(i.values[0])),s.push(Ls.degToRad(n.values[0]));for(let a=1;a<t.values.length;a++){let l=[t.values[a-1],i.values[a-1],n.values[a-1]];if(isNaN(l[0])||isNaN(l[1])||isNaN(l[2]))continue;let c=l.map(Ls.degToRad),d=[t.values[a],i.values[a],n.values[a]];if(isNaN(d[0])||isNaN(d[1])||isNaN(d[2]))continue;let u=d.map(Ls.degToRad),h=[d[0]-l[0],d[1]-l[1],d[2]-l[2]],f=[Math.abs(h[0]),Math.abs(h[1]),Math.abs(h[2])];if(f[0]>=180||f[1]>=180||f[2]>=180){let v=Math.max(...f)/180,m=new nl(...c,r),g=new nl(...u,r),b=new ls().setFromEuler(m),w=new ls().setFromEuler(g);b.dot(w)&&w.set(-w.x,-w.y,-w.z,-w.w);let x=t.times[a-1],R=t.times[a]-x,_=new ls,L=new nl;for(let F=0;F<1;F+=1/v)_.copy(b.clone().slerp(w.clone(),F)),o.push(x+F*R),L.setFromQuaternion(_,r),s.push(L.x),s.push(L.y),s.push(L.z)}else o.push(t.times[a]),s.push(Ls.degToRad(t.values[a])),s.push(Ls.degToRad(i.values[a])),s.push(Ls.degToRad(n.values[a]))}return[o,s]}},nB=class{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(t){this.nodeStack.push(t),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(t,i){this.currentProp=t,this.currentPropName=i}parse(t){this.currentIndent=0,this.allNodes=new nI,this.nodeStack=[],this.currentProp=[],this.currentPropName="";let i=this,n=t.split(/[\r\n]+/);return n.forEach(function(r,o){let s=r.match(/^[\s\t]*;/),a=r.match(/^[\s\t]*$/);if(s||a)return;let l=r.match("^\\t{"+i.currentIndent+"}(\\w+):(.*){",""),c=r.match("^\\t{"+i.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),d=r.match("^\\t{"+(i.currentIndent-1)+"}}");l?i.parseNodeBegin(r,l):c?i.parseNodeProperty(r,c,n[++o]):d?i.popStack():r.match(/^[^\s\t}]/)&&i.parseNodePropertyContinued(r)}),this.allNodes}parseNodeBegin(t,i){let n=i[1].trim().replace(/^"/,"").replace(/"$/,""),r=i[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),o={name:n},s=this.parseNodeAttr(r),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(n,o):n in a?(n==="PoseNode"?a.PoseNode.push(o):a[n].id!==void 0&&(a[n]={},a[n][a[n].id]=a[n]),s.id!==""&&(a[n][s.id]=o)):typeof s.id=="number"?(a[n]={},a[n][s.id]=o):n!=="Properties70"&&(n==="PoseNode"?a[n]=[o]:a[n]=o),typeof s.id=="number"&&(o.id=s.id),s.name!==""&&(o.attrName=s.name),s.type!==""&&(o.attrType=s.type),this.pushStack(o)}parseNodeAttr(t){let i=t[0];t[0]!==""&&(i=parseInt(t[0]),isNaN(i)&&(i=t[0]));let n="",r="";return t.length>1&&(n=t[1].replace(/^(\w+)::/,""),r=t[2]),{id:i,name:n,type:r}}parseNodeProperty(t,i,n){let r=i[1].replace(/^"/,"").replace(/"$/,"").trim(),o=i[2].replace(/^"/,"").replace(/"$/,"").trim();r==="Content"&&o===","&&(o=n.replace(/"/g,"").replace(/,$/,"").trim());let s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(t,r,o);return}if(r==="C"){let l=o.split(",").slice(1),c=parseInt(l[0]),d=parseInt(l[1]),u=o.split(",").slice(3);u=u.map(function(h){return h.trim().replace(/^"/,"")}),r="connections",o=[c,d],lVe(o,u),s[r]===void 0&&(s[r]=[])}r==="Node"&&(s.id=o),r in s&&Array.isArray(s[r])?s[r].push(o):r!=="a"?s[r]=o:s.a=o,this.setCurrentProp(s,r),r==="a"&&o.slice(-1)!==","&&(s.a=J8(o))}parseNodePropertyContinued(t){let i=this.getCurrentNode();i.a+=t,t.slice(-1)!==","&&(i.a=J8(i.a))}parseNodeSpecialProperty(t,i,n){let r=n.split('",').map(function(d){return d.trim().replace(/^\"/,"").replace(/\s/,"_")}),o=r[0],s=r[1],a=r[2],l=r[3],c=r[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=J8(c);break}this.getPrevNode()[o]={type:s,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),o)}},rB=class{parse(t){let i=new iI(t);i.skip(23);let n=i.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);let r=new nI;for(;!this.endOfContent(i);){let o=this.parseNode(i,n);o!==null&&r.add(o.name,o)}return r}endOfContent(t){return t.size()%16===0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()}parseNode(t,i){let n={},r=i>=7500?t.getUint64():t.getUint32(),o=i>=7500?t.getUint64():t.getUint32();i>=7500?t.getUint64():t.getUint32();let s=t.getUint8(),a=t.getString(s);if(r===0)return null;let l=[];for(let h=0;h<o;h++)l.push(this.parseProperty(t));let c=l.length>0?l[0]:"",d=l.length>1?l[1]:"",u=l.length>2?l[2]:"";for(n.singleProperty=o===1&&t.getOffset()===r;r>t.getOffset();){let h=this.parseNode(t,i);h!==null&&this.parseSubNode(a,n,h)}return n.propertyList=l,typeof c=="number"&&(n.id=c),d!==""&&(n.attrName=d),u!==""&&(n.attrType=u),a!==""&&(n.name=a),n}parseSubNode(t,i,n){if(n.singleProperty===!0){let r=n.propertyList[0];Array.isArray(r)?(i[n.name]=n,n.a=r):i[n.name]=r}else if(t==="Connections"&&n.name==="C"){let r=[];n.propertyList.forEach(function(o,s){s!==0&&r.push(o)}),i.connections===void 0&&(i.connections=[]),i.connections.push(r)}else if(n.name==="Properties70")Object.keys(n).forEach(function(o){i[o]=n[o]});else if(t==="Properties70"&&n.name==="P"){let r=n.propertyList[0],o=n.propertyList[1],s=n.propertyList[2],a=n.propertyList[3],l;r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),o.indexOf("Lcl ")===0&&(o=o.replace("Lcl ","Lcl_")),o==="Color"||o==="ColorRGB"||o==="Vector"||o==="Vector3D"||o.indexOf("Lcl_")===0?l=[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:l=n.propertyList[4],i[r]={type:o,type2:s,flag:a,value:l}}else i[n.name]===void 0?typeof n.id=="number"?(i[n.name]={},i[n.name][n.id]=n):i[n.name]=n:n.name==="PoseNode"?(Array.isArray(i[n.name])||(i[n.name]=[i[n.name]]),i[n.name].push(n)):i[n.name][n.id]===void 0&&(i[n.name][n.id]=n)}parseProperty(t){let i=t.getString(1),n;switch(i){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":return n=t.getUint32(),t.getArrayBuffer(n);case"S":return n=t.getUint32(),t.getString(n);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":let r=t.getUint32(),o=t.getUint32(),s=t.getUint32();if(o===0)switch(i){case"b":case"c":return t.getBooleanArray(r);case"d":return t.getFloat64Array(r);case"f":return t.getFloat32Array(r);case"i":return t.getInt32Array(r);case"l":return t.getInt64Array(r)}let a=Die(new Uint8Array(t.getArrayBuffer(s))),l=new iI(a.buffer);switch(i){case"b":case"c":return l.getBooleanArray(r);case"d":return l.getFloat64Array(r);case"f":return l.getFloat32Array(r);case"i":return l.getInt32Array(r);case"l":return l.getInt64Array(r)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+i)}}},iI=class{constructor(t,i){this.dv=new DataView(t),this.offset=0,this.littleEndian=i!==void 0?i:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(t){this.offset+=t}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(t){let i=[];for(let n=0;n<t;n++)i.push(this.getBoolean());return i}getUint8(){let t=this.dv.getUint8(this.offset);return this.offset+=1,t}getInt16(){let t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}getInt32(){let t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}getInt32Array(t){let i=[];for(let n=0;n<t;n++)i.push(this.getInt32());return i}getUint32(){let t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}getInt64(){let t,i;return this.littleEndian?(t=this.getUint32(),i=this.getUint32()):(i=this.getUint32(),t=this.getUint32()),i&2147483648?(i=~i&4294967295,t=~t&4294967295,t===4294967295&&(i=i+1&4294967295),t=t+1&4294967295,-(i*4294967296+t)):i*4294967296+t}getInt64Array(t){let i=[];for(let n=0;n<t;n++)i.push(this.getInt64());return i}getUint64(){let t,i;return this.littleEndian?(t=this.getUint32(),i=this.getUint32()):(i=this.getUint32(),t=this.getUint32()),i*4294967296+t}getFloat32(){let t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}getFloat32Array(t){let i=[];for(let n=0;n<t;n++)i.push(this.getFloat32());return i}getFloat64(){let t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}getFloat64Array(t){let i=[];for(let n=0;n<t;n++)i.push(this.getFloat64());return i}getArrayBuffer(t){let i=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,i}getString(t){let i=this.offset,n=new Uint8Array(this.dv.buffer,i,t);this.skip(t);let r=n.indexOf(0);return r>=0&&(n=new Uint8Array(this.dv.buffer,i,r)),this._textDecoder.decode(n)}},nI=class{add(t,i){this[t]=i}};function rVe(e){let t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===Pie(e,0,t.length)}function oVe(e){let t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],i=0;function n(r){let o=e[r-1];return e=e.slice(i+r),i++,o}for(let r=0;r<t.length;++r)if(n(1)===t[r])return!1;return!0}function kie(e){let t=/FBXVersion: (\d+)/,i=e.match(t);if(i)return parseInt(i[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function sVe(e){return e/46186158e3}var aVe=[];function eI(e,t,i,n){let r;switch(n.mappingType){case"ByPolygonVertex":r=e;break;case"ByPolygon":r=t;break;case"ByVertice":r=i;break;case"AllSame":r=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}n.referenceType==="IndexToDirect"&&(r=n.indices[r]);let o=r*n.dataSize,s=o+n.dataSize;return cVe(aVe,n.buffer,o,s)}var Q8=new nl,Ny=new Qe;function Iie(e){let t=new Ki,i=new Ki,n=new Ki,r=new Ki,o=new Ki,s=new Ki,a=new Ki,l=new Ki,c=new Ki,d=new Ki,u=new Ki,h=new Ki,f=e.inheritType?e.inheritType:0;e.translation&&t.setPosition(Ny.fromArray(e.translation));let p=MS(0);if(e.preRotation){let A=e.preRotation.map(Ls.degToRad);A.push(p),i.makeRotationFromEuler(Q8.fromArray(A))}if(e.rotation){let A=e.rotation.map(Ls.degToRad);A.push(e.eulerOrder||p),n.makeRotationFromEuler(Q8.fromArray(A))}if(e.postRotation){let A=e.postRotation.map(Ls.degToRad);A.push(p),r.makeRotationFromEuler(Q8.fromArray(A)),r.invert()}e.scale&&o.scale(Ny.fromArray(e.scale)),e.scalingOffset&&a.setPosition(Ny.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(Ny.fromArray(e.scalingPivot)),e.rotationOffset&&l.setPosition(Ny.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(Ny.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(u.copy(e.parentMatrix),d.copy(e.parentMatrixWorld));let v=i.clone().multiply(n).multiply(r),m=new Ki;m.extractRotation(d);let g=new Ki;g.copyPosition(d);let b=g.clone().invert().multiply(d),w=m.clone().invert().multiply(b),x=o,R=new Ki;if(f===0)R.copy(m).multiply(v).multiply(w).multiply(x);else if(f===1)R.copy(m).multiply(w).multiply(v).multiply(x);else{let O=new Ki().scale(new Qe().setFromMatrixScale(u)).clone().invert(),V=w.clone().multiply(O);R.copy(m).multiply(v).multiply(V).multiply(x)}let _=c.clone().invert(),L=s.clone().invert(),F=t.clone().multiply(l).multiply(c).multiply(i).multiply(n).multiply(r).multiply(_).multiply(a).multiply(s).multiply(o).multiply(L),T=new Ki().copyPosition(F),P=d.clone().multiply(T);return h.copyPosition(P),F=h.clone().multiply(R),F.premultiply(d.invert()),F}function MS(e){e=e||0;let t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return e===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function J8(e){return e.split(",").map(function(i){return parseFloat(i)})}function Pie(e,t,i){return t===void 0&&(t=0),i===void 0&&(i=e.byteLength),new TextDecoder().decode(new Uint8Array(e,t,i))}function lVe(e,t){for(let i=0,n=e.length,r=t.length;i<r;i++,n++)e[n]=t[i]}function cVe(e,t,i,n){for(let r=i,o=0;r<n;r++,o++)e[o]=t[r];return e}var rI=class extends qo{load(t,i,n,r){let o=this,s=o.path===""?Np.extractUrlBase(t):o.path,a=new Bc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(t,function(l){try{i(o.parse(l,s))}catch(c){r?r(c):console.error(c),o.manager.itemError(t)}},n,r)}parse(t,i){function n(de,le){let De=[],xe=de.childNodes;for(let Ae=0,Rt=xe.length;Ae<Rt;Ae++){let Ht=xe[Ae];Ht.nodeName===le&&De.push(Ht)}return De}function r(de){if(de.length===0)return[];let le=de.trim().split(/\s+/),De=new Array(le.length);for(let xe=0,Ae=le.length;xe<Ae;xe++)De[xe]=le[xe];return De}function o(de){if(de.length===0)return[];let le=de.trim().split(/\s+/),De=new Array(le.length);for(let xe=0,Ae=le.length;xe<Ae;xe++)De[xe]=parseFloat(le[xe]);return De}function s(de){if(de.length===0)return[];let le=de.trim().split(/\s+/),De=new Array(le.length);for(let xe=0,Ae=le.length;xe<Ae;xe++)De[xe]=parseInt(le[xe]);return De}function a(de){return de.substring(1)}function l(){return"three_default_"+$o++}function c(de){return Object.keys(de).length===0}function d(de){return{unit:u(n(de,"unit")[0]),upAxis:h(n(de,"up_axis")[0])}}function u(de){return de!==void 0&&de.hasAttribute("meter")===!0?parseFloat(de.getAttribute("meter")):1}function h(de){return de!==void 0?de.textContent:"Y_UP"}function f(de,le,De,xe){let Ae=n(de,le)[0];if(Ae!==void 0){let Rt=n(Ae,De);for(let Ht=0;Ht<Rt.length;Ht++)xe(Rt[Ht])}}function p(de,le){for(let De in de){let xe=de[De];xe.build=le(de[De])}}function v(de,le){return de.build!==void 0||(de.build=le(de)),de.build}function m(de){let le={sources:{},samplers:{},channels:{}},De=!1;for(let xe=0,Ae=de.childNodes.length;xe<Ae;xe++){let Rt=de.childNodes[xe];if(Rt.nodeType!==1)continue;let Ht;switch(Rt.nodeName){case"source":Ht=Rt.getAttribute("id"),le.sources[Ht]=dt(Rt);break;case"sampler":Ht=Rt.getAttribute("id"),le.samplers[Ht]=g(Rt);break;case"channel":Ht=Rt.getAttribute("target"),le.channels[Ht]=b(Rt);break;case"animation":m(Rt),De=!0;break;default:console.log(Rt)}}De===!1&&(sn.animations[de.getAttribute("id")||Ls.generateUUID()]=le)}function g(de){let le={inputs:{}};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"input":let Rt=a(Ae.getAttribute("source")),Ht=Ae.getAttribute("semantic");le.inputs[Ht]=Rt;break}}return le}function b(de){let le={},xe=de.getAttribute("target").split("/"),Ae=xe.shift(),Rt=xe.shift(),Ht=Rt.indexOf("(")!==-1,Ni=Rt.indexOf(".")!==-1;if(Ni)xe=Rt.split("."),Rt=xe.shift(),le.member=xe.shift();else if(Ht){let Ci=Rt.split("(");Rt=Ci.shift();for(let Jt=0;Jt<Ci.length;Jt++)Ci[Jt]=parseInt(Ci[Jt].replace(/\)/,""));le.indices=Ci}return le.id=Ae,le.sid=Rt,le.arraySyntax=Ht,le.memberSyntax=Ni,le.sampler=a(de.getAttribute("source")),le}function w(de){let le=[],De=de.channels,xe=de.samplers,Ae=de.sources;for(let Rt in De)if(De.hasOwnProperty(Rt)){let Ht=De[Rt],Ni=xe[Ht.sampler],Ci=Ni.inputs.INPUT,Jt=Ni.inputs.OUTPUT,on=Ae[Ci],ai=Ae[Jt],an=R(Ht,on,ai);P(an,le)}return le}function x(de){return v(sn.animations[de],w)}function R(de,le,De){let xe=sn.nodes[de.id],Ae=Ln(xe.id),Rt=xe.transforms[de.sid],Ht=xe.matrix.clone().transpose(),Ni,Ci,Jt,on,ai,an,Bi={};switch(Rt){case"matrix":for(Jt=0,on=le.array.length;Jt<on;Jt++)if(Ni=le.array[Jt],Ci=Jt*De.stride,Bi[Ni]===void 0&&(Bi[Ni]={}),de.arraySyntax===!0){let so=De.array[Ci],yr=de.indices[0]+4*de.indices[1];Bi[Ni][yr]=so}else for(ai=0,an=De.stride;ai<an;ai++)Bi[Ni][ai]=De.array[Ci+ai];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Rt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Rt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Rt);break}let cn=_(Bi,Ht);return{name:Ae.uuid,keyframes:cn}}function _(de,le){let De=[];for(let Ae in de)De.push({time:parseFloat(Ae),value:de[Ae]});De.sort(xe);for(let Ae=0;Ae<16;Ae++)A(De,Ae,le.elements[Ae]);return De;function xe(Ae,Rt){return Ae.time-Rt.time}}let L=new Qe,F=new Qe,T=new ls;function P(de,le){let De=de.keyframes,xe=de.name,Ae=[],Rt=[],Ht=[],Ni=[];for(let Ci=0,Jt=De.length;Ci<Jt;Ci++){let on=De[Ci],ai=on.time,an=on.value;st.fromArray(an).transpose(),st.decompose(L,T,F),Ae.push(ai),Rt.push(L.x,L.y,L.z),Ht.push(T.x,T.y,T.z,T.w),Ni.push(F.x,F.y,F.z)}return Rt.length>0&&le.push(new uu(xe+".position",Ae,Rt)),Ht.length>0&&le.push(new du(xe+".quaternion",Ae,Ht)),Ni.length>0&&le.push(new uu(xe+".scale",Ae,Ni)),le}function A(de,le,De){let xe,Ae=!0,Rt,Ht;for(Rt=0,Ht=de.length;Rt<Ht;Rt++)xe=de[Rt],xe.value[le]===void 0?xe.value[le]=null:Ae=!1;if(Ae===!0)for(Rt=0,Ht=de.length;Rt<Ht;Rt++)xe=de[Rt],xe.value[le]=De;else O(de,le)}function O(de,le){let De,xe;for(let Ae=0,Rt=de.length;Ae<Rt;Ae++){let Ht=de[Ae];if(Ht.value[le]===null){if(De=V(de,Ae,le),xe=U(de,Ae,le),De===null){Ht.value[le]=xe.value[le];continue}if(xe===null){Ht.value[le]=De.value[le];continue}ae(Ht,De,xe,le)}}}function V(de,le,De){for(;le>=0;){let xe=de[le];if(xe.value[De]!==null)return xe;le--}return null}function U(de,le,De){for(;le<de.length;){let xe=de[le];if(xe.value[De]!==null)return xe;le++}return null}function ae(de,le,De,xe){if(De.time-le.time===0){de.value[xe]=le.value[xe];return}de.value[xe]=(de.time-le.time)*(De.value[xe]-le.value[xe])/(De.time-le.time)+le.value[xe]}function ne(de){let le={name:de.getAttribute("id")||"default",start:parseFloat(de.getAttribute("start")||0),end:parseFloat(de.getAttribute("end")||0),animations:[]};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"instance_animation":le.animations.push(a(Ae.getAttribute("url")));break}}sn.clips[de.getAttribute("id")]=le}function ue(de){let le=[],De=de.name,xe=de.end-de.start||-1,Ae=de.animations;for(let Rt=0,Ht=Ae.length;Rt<Ht;Rt++){let Ni=x(Ae[Rt]);for(let Ci=0,Jt=Ni.length;Ci<Jt;Ci++)le.push(Ni[Ci])}return new Cg(De,xe,le)}function se(de){return v(sn.clips[de],ue)}function _e(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"skin":le.id=a(Ae.getAttribute("source")),le.skin=Ve(Ae);break;case"morph":le.id=a(Ae.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}sn.controllers[de.getAttribute("id")]=le}function Ve(de){let le={sources:{}};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"bind_shape_matrix":le.bindShapeMatrix=o(Ae.textContent);break;case"source":let Rt=Ae.getAttribute("id");le.sources[Rt]=dt(Ae);break;case"joints":le.joints=Ge(Ae);break;case"vertex_weights":le.vertexWeights=K(Ae);break}}return le}function Ge(de){let le={inputs:{}};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"input":let Rt=Ae.getAttribute("semantic"),Ht=a(Ae.getAttribute("source"));le.inputs[Rt]=Ht;break}}return le}function K(de){let le={inputs:{}};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"input":let Rt=Ae.getAttribute("semantic"),Ht=a(Ae.getAttribute("source")),Ni=parseInt(Ae.getAttribute("offset"));le.inputs[Rt]={id:Ht,offset:Ni};break;case"vcount":le.vcount=s(Ae.textContent);break;case"v":le.v=s(Ae.textContent);break}}return le}function Q(de){let le={id:de.id},De=sn.geometries[le.id];return de.skin!==void 0&&(le.skin=ee(de.skin),De.sources.skinIndices=le.skin.indices,De.sources.skinWeights=le.skin.weights),le}function ee(de){let De={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},xe=de.sources,Ae=de.vertexWeights,Rt=Ae.vcount,Ht=Ae.v,Ni=Ae.inputs.JOINT.offset,Ci=Ae.inputs.WEIGHT.offset,Jt=de.sources[de.joints.inputs.JOINT],on=de.sources[de.joints.inputs.INV_BIND_MATRIX],ai=xe[Ae.inputs.WEIGHT.id].array,an=0,Bi,cn,pn;for(Bi=0,pn=Rt.length;Bi<pn;Bi++){let yr=Rt[Bi],lr=[];for(cn=0;cn<yr;cn++){let Zn=Ht[an+Ni],na=Ht[an+Ci],to=ai[na];lr.push({index:Zn,weight:to}),an+=2}for(lr.sort(so),cn=0;cn<4;cn++){let Zn=lr[cn];Zn!==void 0?(De.indices.array.push(Zn.index),De.weights.array.push(Zn.weight)):(De.indices.array.push(0),De.weights.array.push(0))}}for(de.bindShapeMatrix?De.bindMatrix=new Ki().fromArray(de.bindShapeMatrix).transpose():De.bindMatrix=new Ki().identity(),Bi=0,pn=Jt.array.length;Bi<pn;Bi++){let yr=Jt.array[Bi],lr=new Ki().fromArray(on.array,Bi*on.stride).transpose();De.joints.push({name:yr,boneInverse:lr})}return De;function so(yr,lr){return lr.weight-yr.weight}}function Z(de){return v(sn.controllers[de],Q)}function G(de){let le={init_from:n(de,"init_from")[0].textContent};sn.images[de.getAttribute("id")]=le}function W(de){return de.build!==void 0?de.build:de.init_from}function ce(de){let le=sn.images[de];return le!==void 0?v(le,W):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",de),null)}function me(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"profile_COMMON":le.profile=Me(Ae);break}}sn.effects[de.getAttribute("id")]=le}function Me(de){let le={surfaces:{},samplers:{}};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"newparam":He(Ae,le);break;case"technique":le.technique=ve(Ae);break;case"extra":le.extra=kt(Ae);break}}return le}function He(de,le){let De=de.getAttribute("sid");for(let xe=0,Ae=de.childNodes.length;xe<Ae;xe++){let Rt=de.childNodes[xe];if(Rt.nodeType===1)switch(Rt.nodeName){case"surface":le.surfaces[De]=$e(Rt);break;case"sampler2D":le.samplers[De]=Je(Rt);break}}}function $e(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"init_from":le.init_from=Ae.textContent;break}}return le}function Je(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"source":le.source=Ae.textContent;break}}return le}function ve(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"constant":case"lambert":case"blinn":case"phong":le.type=Ae.nodeName,le.parameters=ge(Ae);break;case"extra":le.extra=kt(Ae);break}}return le}function ge(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":le[Ae.nodeName]=pt(Ae);break;case"transparent":le[Ae.nodeName]={opaque:Ae.hasAttribute("opaque")?Ae.getAttribute("opaque"):"A_ONE",data:pt(Ae)};break}}return le}function pt(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"color":le[Ae.nodeName]=o(Ae.textContent);break;case"float":le[Ae.nodeName]=parseFloat(Ae.textContent);break;case"texture":le[Ae.nodeName]={id:Ae.getAttribute("texture"),extra:vt(Ae)};break}}return le}function vt(de){let le={technique:{}};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"extra":Pt(Ae,le);break}}return le}function Pt(de,le){for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"technique":ft(Ae,le);break}}}function ft(de,le){for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":le.technique[Ae.nodeName]=parseFloat(Ae.textContent);break;case"wrapU":case"wrapV":Ae.textContent.toUpperCase()==="TRUE"?le.technique[Ae.nodeName]=1:Ae.textContent.toUpperCase()==="FALSE"?le.technique[Ae.nodeName]=0:le.technique[Ae.nodeName]=parseInt(Ae.textContent);break;case"bump":le[Ae.nodeName]=oe(Ae);break}}}function kt(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"technique":le.technique=be(Ae);break}}return le}function be(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"double_sided":le[Ae.nodeName]=parseInt(Ae.textContent);break;case"bump":le[Ae.nodeName]=oe(Ae);break}}return le}function oe(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"texture":le[Ae.nodeName]={id:Ae.getAttribute("texture"),texcoord:Ae.getAttribute("texcoord"),extra:vt(Ae)};break}}return le}function re(de){return de}function J(de){return v(sn.effects[de],re)}function pe(de){let le={name:de.getAttribute("name")};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"instance_effect":le.url=a(Ae.getAttribute("url"));break}}sn.materials[de.getAttribute("id")]=le}function Ee(de){let le,De=de.slice((de.lastIndexOf(".")-1>>>0)+2);switch(De=De.toLowerCase(),De){case"tga":le=Jr;break;default:le=Br}return le}function ke(de){let le=J(de.url),De=le.profile.technique,xe;switch(De.type){case"phong":case"blinn":xe=new cs;break;case"lambert":xe=new Ev;break;default:xe=new xd;break}xe.name=de.name||"";function Ae(Ci,Jt=null){let on=le.profile.samplers[Ci.id],ai=null;if(on!==void 0){let an=le.profile.surfaces[on.source];ai=ce(an.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),ai=ce(Ci.id);if(ai!==null){let an=Ee(ai);if(an!==void 0){let Bi=an.load(ai),cn=Ci.extra;if(cn!==void 0&&cn.technique!==void 0&&c(cn.technique)===!1){let pn=cn.technique;Bi.wrapS=pn.wrapU?as:Ms,Bi.wrapT=pn.wrapV?as:Ms,Bi.offset.set(pn.offsetU||0,pn.offsetV||0),Bi.repeat.set(pn.repeatU||1,pn.repeatV||1)}else Bi.wrapS=as,Bi.wrapT=as;return Jt!==null&&(Bi.colorSpace=Jt),Bi}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",ai),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",Ci.id),null}let Rt=De.parameters;for(let Ci in Rt){let Jt=Rt[Ci];switch(Ci){case"diffuse":Jt.color&&xe.color.fromArray(Jt.color),Jt.texture&&(xe.map=Ae(Jt.texture,Hn));break;case"specular":Jt.color&&xe.specular&&xe.specular.fromArray(Jt.color),Jt.texture&&(xe.specularMap=Ae(Jt.texture));break;case"bump":Jt.texture&&(xe.normalMap=Ae(Jt.texture));break;case"ambient":Jt.texture&&(xe.lightMap=Ae(Jt.texture,Hn));break;case"shininess":Jt.float&&xe.shininess&&(xe.shininess=Jt.float);break;case"emission":Jt.color&&xe.emissive&&xe.emissive.fromArray(Jt.color),Jt.texture&&(xe.emissiveMap=Ae(Jt.texture,Hn));break}}Fn.toWorkingColorSpace(xe.color,Hn),xe.specular&&Fn.toWorkingColorSpace(xe.specular,Hn),xe.emissive&&Fn.toWorkingColorSpace(xe.emissive,Hn);let Ht=Rt.transparent,Ni=Rt.transparency;if(Ni===void 0&&Ht&&(Ni={float:1}),Ht===void 0&&Ni&&(Ht={opaque:"A_ONE",data:{color:[1,1,1,1]}}),Ht&&Ni)if(Ht.data.texture)xe.transparent=!0;else{let Ci=Ht.data.color;switch(Ht.opaque){case"A_ONE":xe.opacity=Ci[3]*Ni.float;break;case"RGB_ZERO":xe.opacity=1-Ci[0]*Ni.float;break;case"A_ZERO":xe.opacity=1-Ci[3]*Ni.float;break;case"RGB_ONE":xe.opacity=Ci[0]*Ni.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',Ht.opaque)}xe.opacity<1&&(xe.transparent=!0)}if(De.extra!==void 0&&De.extra.technique!==void 0){let Ci=De.extra.technique;for(let Jt in Ci){let on=Ci[Jt];switch(Jt){case"double_sided":xe.side=on===1?rl:Cd;break;case"bump":xe.normalMap=Ae(on.texture),xe.normalScale=new On(1,1);break}}}return xe}function Le(de){return v(sn.materials[de],ke)}function Ne(de){let le={name:de.getAttribute("name")};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"optics":le.optics=Ye(Ae);break}}sn.cameras[de.getAttribute("id")]=le}function Ye(de){for(let le=0;le<de.childNodes.length;le++){let De=de.childNodes[le];switch(De.nodeName){case"technique_common":return Be(De)}}return{}}function Be(de){let le={};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];switch(xe.nodeName){case"perspective":case"orthographic":le.technique=xe.nodeName,le.parameters=ct(xe);break}}return le}function ct(de){let le={};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];switch(xe.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":le[xe.nodeName]=parseFloat(xe.textContent);break}}return le}function gt(de){let le;switch(de.optics.technique){case"perspective":le=new ss(de.optics.parameters.yfov,de.optics.parameters.aspect_ratio,de.optics.parameters.znear,de.optics.parameters.zfar);break;case"orthographic":let De=de.optics.parameters.ymag,xe=de.optics.parameters.xmag,Ae=de.optics.parameters.aspect_ratio;xe=xe===void 0?De*Ae:xe,De=De===void 0?xe/Ae:De,xe*=.5,De*=.5,le=new Lp(-xe,xe,De,-De,de.optics.parameters.znear,de.optics.parameters.zfar);break;default:le=new ss;break}return le.name=de.name||"",le}function Tt(de){let le=sn.cameras[de];return le!==void 0?v(le,gt):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",de),null)}function Ft(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"technique_common":le=wi(Ae);break}}sn.lights[de.getAttribute("id")]=le}function wi(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"directional":case"point":case"spot":case"ambient":le.technique=Ae.nodeName,le.parameters=Vt(Ae)}}return le}function Vt(de){let le={};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"color":let Rt=o(Ae.textContent);le.color=new Ji().fromArray(Rt),Fn.toWorkingColorSpace(le.color,Hn);break;case"falloff_angle":le.falloffAngle=parseFloat(Ae.textContent);break;case"quadratic_attenuation":let Ht=parseFloat(Ae.textContent);le.distance=Ht?Math.sqrt(1/Ht):0;break}}return le}function li(de){let le;switch(de.technique){case"directional":le=new sf;break;case"point":le=new xg;break;case"spot":le=new Av;break;case"ambient":le=new af;break}return de.parameters.color&&le.color.copy(de.parameters.color),de.parameters.distance&&(le.distance=de.parameters.distance),le}function Ue(de){let le=sn.lights[de];return le!==void 0?v(le,li):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",de),null)}function yt(de){let le={name:de.getAttribute("name"),sources:{},vertices:{},primitives:[]},De=n(de,"mesh")[0];if(De!==void 0){for(let xe=0;xe<De.childNodes.length;xe++){let Ae=De.childNodes[xe];if(Ae.nodeType!==1)continue;let Rt=Ae.getAttribute("id");switch(Ae.nodeName){case"source":le.sources[Rt]=dt(Ae);break;case"vertices":le.vertices=ht(Ae);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Ae.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":le.primitives.push(nt(Ae));break;default:console.log(Ae)}}sn.geometries[de.getAttribute("id")]=le}}function dt(de){let le={array:[],stride:3};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"float_array":le.array=o(xe.textContent);break;case"Name_array":le.array=r(xe.textContent);break;case"technique_common":let Ae=n(xe,"accessor")[0];Ae!==void 0&&(le.stride=parseInt(Ae.getAttribute("stride")));break}}return le}function ht(de){let le={};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];xe.nodeType===1&&(le[xe.getAttribute("semantic")]=a(xe.getAttribute("source")))}return le}function nt(de){let le={type:de.nodeName,material:de.getAttribute("material"),count:parseInt(de.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let De=0,xe=de.childNodes.length;De<xe;De++){let Ae=de.childNodes[De];if(Ae.nodeType===1)switch(Ae.nodeName){case"input":let Rt=a(Ae.getAttribute("source")),Ht=Ae.getAttribute("semantic"),Ni=parseInt(Ae.getAttribute("offset")),Ci=parseInt(Ae.getAttribute("set")),Jt=Ci>0?Ht+Ci:Ht;le.inputs[Jt]={id:Rt,offset:Ni},le.stride=Math.max(le.stride,Ni+1),Ht==="TEXCOORD"&&(le.hasUV=!0);break;case"vcount":le.vcount=s(Ae.textContent);break;case"p":le.p=s(Ae.textContent);break}}return le}function It(de){let le={};for(let De=0;De<de.length;De++){let xe=de[De];le[xe.type]===void 0&&(le[xe.type]=[]),le[xe.type].push(xe)}return le}function Ei(de){let le=0;for(let De=0,xe=de.length;De<xe;De++)de[De].hasUV===!0&&le++;le>0&&le<de.length&&(de.uvsNeedsFix=!0)}function Yi(de){let le={},De=de.sources,xe=de.vertices,Ae=de.primitives;if(Ae.length===0)return{};let Rt=It(Ae);for(let Ht in Rt){let Ni=Rt[Ht];Ei(Ni),le[Ht]=Li(Ni,De,xe)}return le}function Li(de,le,De){let xe={},Ae={array:[],stride:0},Rt={array:[],stride:0},Ht={array:[],stride:0},Ni={array:[],stride:0},Ci={array:[],stride:0},Jt={array:[],stride:4},on={array:[],stride:4},ai=new Wr,an=[],Bi=0;for(let cn=0;cn<de.length;cn++){let pn=de[cn],so=pn.inputs,yr=0;switch(pn.type){case"lines":case"linestrips":yr=pn.count*2;break;case"triangles":yr=pn.count*3;break;case"polylist":for(let lr=0;lr<pn.count;lr++){let Zn=pn.vcount[lr];switch(Zn){case 3:yr+=3;break;case 4:yr+=6;break;default:yr+=(Zn-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknown primitive type:",pn.type)}ai.addGroup(Bi,yr,cn),Bi+=yr,pn.material&&an.push(pn.material);for(let lr in so){let Zn=so[lr];switch(lr){case"VERTEX":for(let na in De){let to=De[na];switch(na){case"POSITION":let Kl=Ae.array.length;if(At(pn,le[to],Zn.offset,Ae.array),Ae.stride=le[to].stride,le.skinWeights&&le.skinIndices&&(At(pn,le.skinIndices,Zn.offset,Jt.array),At(pn,le.skinWeights,Zn.offset,on.array)),pn.hasUV===!1&&de.uvsNeedsFix===!0){let Yc=(Ae.array.length-Kl)/Ae.stride;for(let Zl=0;Zl<Yc;Zl++)Ht.array.push(0,0)}break;case"NORMAL":At(pn,le[to],Zn.offset,Rt.array),Rt.stride=le[to].stride;break;case"COLOR":At(pn,le[to],Zn.offset,Ci.array),Ci.stride=le[to].stride;break;case"TEXCOORD":At(pn,le[to],Zn.offset,Ht.array),Ht.stride=le[to].stride;break;case"TEXCOORD1":At(pn,le[to],Zn.offset,Ni.array),Ht.stride=le[to].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',na)}}break;case"NORMAL":At(pn,le[Zn.id],Zn.offset,Rt.array),Rt.stride=le[Zn.id].stride;break;case"COLOR":At(pn,le[Zn.id],Zn.offset,Ci.array,!0),Ci.stride=le[Zn.id].stride;break;case"TEXCOORD":At(pn,le[Zn.id],Zn.offset,Ht.array),Ht.stride=le[Zn.id].stride;break;case"TEXCOORD1":At(pn,le[Zn.id],Zn.offset,Ni.array),Ni.stride=le[Zn.id].stride;break}}}return Ae.array.length>0&&ai.setAttribute("position",new nn(Ae.array,Ae.stride)),Rt.array.length>0&&ai.setAttribute("normal",new nn(Rt.array,Rt.stride)),Ci.array.length>0&&ai.setAttribute("color",new nn(Ci.array,Ci.stride)),Ht.array.length>0&&ai.setAttribute("uv",new nn(Ht.array,Ht.stride)),Ni.array.length>0&&ai.setAttribute("uv1",new nn(Ni.array,Ni.stride)),Jt.array.length>0&&ai.setAttribute("skinIndex",new nn(Jt.array,Jt.stride)),on.array.length>0&&ai.setAttribute("skinWeight",new nn(on.array,on.stride)),xe.data=ai,xe.type=de[0].type,xe.materialKeys=an,xe}function At(de,le,De,xe,Ae=!1){let Rt=de.p,Ht=de.stride,Ni=de.vcount;function Ci(ai){let an=Rt[ai+De]*on,Bi=an+on;for(;an<Bi;an++)xe.push(Jt[an]);if(Ae){let cn=xe.length-on-1;Mr.setRGB(xe[cn+0],xe[cn+1],xe[cn+2],Hn),xe[cn+0]=Mr.r,xe[cn+1]=Mr.g,xe[cn+2]=Mr.b}}let Jt=le.array,on=le.stride;if(de.vcount!==void 0){let ai=0;for(let an=0,Bi=Ni.length;an<Bi;an++){let cn=Ni[an];if(cn===4){let pn=ai+Ht*0,so=ai+Ht*1,yr=ai+Ht*2,lr=ai+Ht*3;Ci(pn),Ci(so),Ci(lr),Ci(so),Ci(yr),Ci(lr)}else if(cn===3){let pn=ai+Ht*0,so=ai+Ht*1,yr=ai+Ht*2;Ci(pn),Ci(so),Ci(yr)}else if(cn>4)for(let pn=1,so=cn-2;pn<=so;pn++){let yr=ai+Ht*0,lr=ai+Ht*pn,Zn=ai+Ht*(pn+1);Ci(yr),Ci(lr),Ci(Zn)}ai+=Ht*cn}}else for(let ai=0,an=Rt.length;ai<an;ai+=Ht)Ci(ai)}function jt(de){return v(sn.geometries[de],Yi)}function Qt(de){let le={name:de.getAttribute("name")||"",joints:{},links:[]};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"technique_common":Dn(xe,le);break}}sn.kinematicsModels[de.getAttribute("id")]=le}function Di(de){return de.build!==void 0?de.build:de}function Vi(de){return v(sn.kinematicsModels[de],Di)}function Dn(de,le){for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"joint":le.joints[xe.getAttribute("sid")]=Tn(xe);break;case"link":le.links.push(_r(xe));break}}}function Tn(de){let le;for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"prismatic":case"revolute":le=rr(xe);break}}return le}function rr(de){let le={sid:de.getAttribute("sid"),name:de.getAttribute("name")||"",axis:new Qe,limits:{min:0,max:0},type:de.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"axis":let Ae=o(xe.textContent);le.axis.fromArray(Ae);break;case"limits":let Rt=xe.getElementsByTagName("max")[0],Ht=xe.getElementsByTagName("min")[0];le.limits.max=parseFloat(Rt.textContent),le.limits.min=parseFloat(Ht.textContent);break}}return le.limits.min>=le.limits.max&&(le.static=!0),le.middlePosition=(le.limits.min+le.limits.max)/2,le}function _r(de){let le={sid:de.getAttribute("sid"),name:de.getAttribute("name")||"",attachments:[],transforms:[]};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"attachment_full":le.attachments.push(Lr(xe));break;case"matrix":case"translate":case"rotate":le.transforms.push(Mo(xe));break}}return le}function Lr(de){let le={joint:de.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"link":le.links.push(_r(xe));break;case"matrix":case"translate":case"rotate":le.transforms.push(Mo(xe));break}}return le}function Mo(de){let le={type:de.nodeName},De=o(de.textContent);switch(le.type){case"matrix":le.obj=new Ki,le.obj.fromArray(De).transpose();break;case"translate":le.obj=new Qe,le.obj.fromArray(De);break;case"rotate":le.obj=new Qe,le.obj.fromArray(De),le.angle=Ls.degToRad(De[3]);break}return le}function _o(de){let le={name:de.getAttribute("name")||"",rigidBodies:{}};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"rigid_body":le.rigidBodies[xe.getAttribute("name")]={},Yo(xe,le.rigidBodies[xe.getAttribute("name")]);break}}sn.physicsModels[de.getAttribute("id")]=le}function Yo(de,le){for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"technique_common":ta(xe,le);break}}}function ta(de,le){for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"inertia":le.inertia=o(xe.textContent);break;case"mass":le.mass=o(xe.textContent)[0];break}}}function us(de){let le={bindJointAxis:[]};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"bind_joint_axis":le.bindJointAxis.push(Zo(xe));break}}sn.kinematicsScenes[a(de.getAttribute("url"))]=le}function Zo(de){let le={target:de.getAttribute("target").split("/").pop()};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType===1)switch(xe.nodeName){case"axis":let Ae=xe.getElementsByTagName("param")[0];le.axis=Ae.textContent;let Rt=le.axis.split("inst_").pop().split("axis")[0];le.jointIndex=Rt.substring(0,Rt.length-1);break}}return le}function Oa(de){return de.build!==void 0?de.build:de}function ia(de){return v(sn.kinematicsScenes[de],Oa)}function Ds(){let de=Object.keys(sn.kinematicsModels)[0],le=Object.keys(sn.kinematicsScenes)[0],De=Object.keys(sn.visualScenes)[0];if(de===void 0||le===void 0)return;let xe=Vi(de),Ae=ia(le),Rt=un(De),Ht=Ae.bindJointAxis,Ni={};for(let on=0,ai=Ht.length;on<ai;on++){let an=Ht[on],Bi=Xn.querySelector('[sid="'+an.target+'"]');if(Bi){let cn=Bi.parentElement;Ci(an.jointIndex,cn)}}function Ci(on,ai){let an=ai.getAttribute("name"),Bi=xe.joints[on];Rt.traverse(function(cn){cn.name===an&&(Ni[on]={object:cn,transforms:ya(ai),joint:Bi,position:Bi.zeroPosition})})}let Jt=new Ki;Xl={joints:xe&&xe.joints,getJointValue:function(on){let ai=Ni[on];if(ai)return ai.position;console.warn("THREE.ColladaLoader: Joint "+on+" doesn't exist.")},setJointValue:function(on,ai){let an=Ni[on];if(an){let Bi=an.joint;if(ai>Bi.limits.max||ai<Bi.limits.min)console.warn("THREE.ColladaLoader: Joint "+on+" value "+ai+" outside of limits (min: "+Bi.limits.min+", max: "+Bi.limits.max+").");else if(Bi.static)console.warn("THREE.ColladaLoader: Joint "+on+" is static.");else{let cn=an.object,pn=Bi.axis,so=an.transforms;st.identity();for(let yr=0;yr<so.length;yr++){let lr=so[yr];if(lr.sid&&lr.sid.indexOf(on)!==-1)switch(Bi.type){case"revolute":st.multiply(Jt.makeRotationAxis(pn,Ls.degToRad(ai)));break;case"prismatic":st.multiply(Jt.makeTranslation(pn.x*ai,pn.y*ai,pn.z*ai));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Bi.type);break}else switch(lr.type){case"matrix":st.multiply(lr.obj);break;case"translate":st.multiply(Jt.makeTranslation(lr.obj.x,lr.obj.y,lr.obj.z));break;case"scale":st.scale(lr.obj);break;case"rotate":st.multiply(Jt.makeRotationAxis(lr.obj,lr.angle));break}}cn.matrix.copy(st),cn.matrix.decompose(cn.position,cn.quaternion,cn.scale),Ni[on].position=ai}}else console.log("THREE.ColladaLoader: "+on+" does not exist.")}}}function ya(de){let le=[],De=Xn.querySelector('[id="'+de.id+'"]');for(let xe=0;xe<De.childNodes.length;xe++){let Ae=De.childNodes[xe];if(Ae.nodeType!==1)continue;let Rt,Ht;switch(Ae.nodeName){case"matrix":Rt=o(Ae.textContent);let Ni=new Ki().fromArray(Rt).transpose();le.push({sid:Ae.getAttribute("sid"),type:Ae.nodeName,obj:Ni});break;case"translate":case"scale":Rt=o(Ae.textContent),Ht=new Qe().fromArray(Rt),le.push({sid:Ae.getAttribute("sid"),type:Ae.nodeName,obj:Ht});break;case"rotate":Rt=o(Ae.textContent),Ht=new Qe().fromArray(Rt);let Ci=Ls.degToRad(Rt[3]);le.push({sid:Ae.getAttribute("sid"),type:Ae.nodeName,obj:Ht,angle:Ci});break}}return le}function Te(de){let le=de.getElementsByTagName("node");for(let De=0;De<le.length;De++){let xe=le[De];xe.hasAttribute("id")===!1&&xe.setAttribute("id",l())}}let st=new Ki,xt=new Qe;function Mt(de){let le={name:de.getAttribute("name")||"",type:de.getAttribute("type"),id:de.getAttribute("id"),sid:de.getAttribute("sid"),matrix:new Ki,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];if(xe.nodeType!==1)continue;let Ae;switch(xe.nodeName){case"node":le.nodes.push(xe.getAttribute("id")),Mt(xe);break;case"instance_camera":le.instanceCameras.push(a(xe.getAttribute("url")));break;case"instance_controller":le.instanceControllers.push(ot(xe));break;case"instance_light":le.instanceLights.push(a(xe.getAttribute("url")));break;case"instance_geometry":le.instanceGeometries.push(ot(xe));break;case"instance_node":le.instanceNodes.push(a(xe.getAttribute("url")));break;case"matrix":Ae=o(xe.textContent),le.matrix.multiply(st.fromArray(Ae).transpose()),le.transforms[xe.getAttribute("sid")]=xe.nodeName;break;case"translate":Ae=o(xe.textContent),xt.fromArray(Ae),le.matrix.multiply(st.makeTranslation(xt.x,xt.y,xt.z)),le.transforms[xe.getAttribute("sid")]=xe.nodeName;break;case"rotate":Ae=o(xe.textContent);let Rt=Ls.degToRad(Ae[3]);le.matrix.multiply(st.makeRotationAxis(xt.fromArray(Ae),Rt)),le.transforms[xe.getAttribute("sid")]=xe.nodeName;break;case"scale":Ae=o(xe.textContent),le.matrix.scale(xt.fromArray(Ae)),le.transforms[xe.getAttribute("sid")]=xe.nodeName;break;case"extra":break;default:console.log(xe)}}return dn(le.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",le.id):sn.nodes[le.id]=le,le}function ot(de){let le={id:a(de.getAttribute("url")),materials:{},skeletons:[]};for(let De=0;De<de.childNodes.length;De++){let xe=de.childNodes[De];switch(xe.nodeName){case"bind_material":let Ae=xe.getElementsByTagName("instance_material");for(let Rt=0;Rt<Ae.length;Rt++){let Ht=Ae[Rt],Ni=Ht.getAttribute("symbol"),Ci=Ht.getAttribute("target");le.materials[Ni]=a(Ci)}break;case"skeleton":le.skeletons.push(a(xe.textContent));break;default:break}}return le}function ci(de,le){let De=[],xe=[],Ae,Rt,Ht;for(Ae=0;Ae<de.length;Ae++){let Jt=de[Ae],on;if(dn(Jt))on=Ln(Jt),_i(on,le,De);else if(kr(Jt)){let an=sn.visualScenes[Jt].children;for(let Bi=0;Bi<an.length;Bi++){let cn=an[Bi];if(cn.type==="JOINT"){let pn=Ln(cn.id);_i(pn,le,De)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",Jt)}for(Ae=0;Ae<le.length;Ae++)for(Rt=0;Rt<De.length;Rt++)if(Ht=De[Rt],Ht.bone.name===le[Ae].name){xe[Ae]=Ht,Ht.processed=!0;break}for(Ae=0;Ae<De.length;Ae++)Ht=De[Ae],Ht.processed===!1&&(xe.push(Ht),Ht.processed=!0);let Ni=[],Ci=[];for(Ae=0;Ae<xe.length;Ae++)Ht=xe[Ae],Ni.push(Ht.bone),Ci.push(Ht.boneInverse);return new wv(Ni,Ci)}function _i(de,le,De){de.traverse(function(xe){if(xe.isBone===!0){let Ae;for(let Rt=0;Rt<le.length;Rt++){let Ht=le[Rt];if(Ht.name===xe.name){Ae=Ht.boneInverse;break}}Ae===void 0&&(Ae=new Ki),De.push({bone:xe,boneInverse:Ae,processed:!1})}})}function Fi(de){let le=[],De=de.matrix,xe=de.nodes,Ae=de.type,Rt=de.instanceCameras,Ht=de.instanceControllers,Ni=de.instanceLights,Ci=de.instanceGeometries,Jt=de.instanceNodes;for(let ai=0,an=xe.length;ai<an;ai++)le.push(Ln(xe[ai]));for(let ai=0,an=Rt.length;ai<an;ai++){let Bi=Tt(Rt[ai]);Bi!==null&&le.push(Bi.clone())}for(let ai=0,an=Ht.length;ai<an;ai++){let Bi=Ht[ai],cn=Z(Bi.id),pn=jt(cn.id),so=wn(pn,Bi.materials),yr=Bi.skeletons,lr=cn.skin.joints,Zn=ci(yr,lr);for(let na=0,to=so.length;na<to;na++){let Kl=so[na];Kl.isSkinnedMesh&&(Kl.bind(Zn,cn.skin.bindMatrix),Kl.normalizeSkinWeights()),le.push(Kl)}}for(let ai=0,an=Ni.length;ai<an;ai++){let Bi=Ue(Ni[ai]);Bi!==null&&le.push(Bi.clone())}for(let ai=0,an=Ci.length;ai<an;ai++){let Bi=Ci[ai],cn=jt(Bi.id),pn=wn(cn,Bi.materials);for(let so=0,yr=pn.length;so<yr;so++)le.push(pn[so])}for(let ai=0,an=Jt.length;ai<an;ai++)le.push(Ln(Jt[ai]).clone());let on;if(xe.length===0&&le.length===1)on=le[0];else{on=Ae==="JOINT"?new Ip:new Os;for(let ai=0;ai<le.length;ai++)on.add(le[ai])}return on.name=Ae==="JOINT"?de.sid:de.name,on.matrix.copy(De),on.matrix.decompose(on.position,on.quaternion,on.scale),on}let Gi=new xd({name:qo.DEFAULT_MATERIAL_NAME,color:16711935});function En(de,le){let De=[];for(let xe=0,Ae=de.length;xe<Ae;xe++){let Rt=le[de[xe]];Rt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",de[xe]),De.push(Gi)):De.push(Le(Rt))}return De}function wn(de,le){let De=[];for(let xe in de){let Ae=de[xe],Rt=En(Ae.materialKeys,le);if(Rt.length===0&&(xe==="lines"||xe==="linestrips"?Rt.push(new pc):Rt.push(new cs)),xe==="lines"||xe==="linestrips")for(let Jt=0,on=Rt.length;Jt<on;Jt++){let ai=Rt[Jt];if(ai.isMeshPhongMaterial===!0||ai.isMeshLambertMaterial===!0){let an=new pc;an.color.copy(ai.color),an.opacity=ai.opacity,an.transparent=ai.transparent,Rt[Jt]=an}}let Ht=Ae.data.attributes.skinIndex!==void 0,Ni=Rt.length===1?Rt[0]:Rt,Ci;switch(xe){case"lines":Ci=new of(Ae.data,Ni);break;case"linestrips":Ci=new yg(Ae.data,Ni);break;case"triangles":case"polylist":Ht?Ci=new _v(Ae.data,Ni):Ci=new go(Ae.data,Ni);break}De.push(Ci)}return De}function dn(de){return sn.nodes[de]!==void 0}function Ln(de){return v(sn.nodes[de],Fi)}function Vn(de){let le={name:de.getAttribute("name"),children:[]};Te(de);let De=n(de,"node");for(let xe=0;xe<De.length;xe++)le.children.push(Mt(De[xe]));sn.visualScenes[de.getAttribute("id")]=le}function Un(de){let le=new Os;le.name=de.name;let De=de.children;for(let xe=0;xe<De.length;xe++){let Ae=De[xe];le.add(Ln(Ae.id))}return le}function kr(de){return sn.visualScenes[de]!==void 0}function un(de){return v(sn.visualScenes[de],Un)}function gn(de){let le=n(de,"instance_visual_scene")[0];return un(a(le.getAttribute("url")))}function Zr(){let de=sn.clips;if(c(de)===!0){if(c(sn.animations)===!1){let le=[];for(let De in sn.animations){let xe=x(De);for(let Ae=0,Rt=xe.length;Ae<Rt;Ae++)le.push(xe[Ae])}Eo.push(new Cg("default",-1,le))}}else for(let le in de)Eo.push(se(le))}function Jn(de){let le="",De=[de];for(;De.length;){let xe=De.shift();xe.nodeType===Node.TEXT_NODE?le+=xe.textContent:(le+=`
`,De.push(...xe.childNodes))}return le.trim()}if(t.length===0)return{scene:new rf};let Qo=new DOMParser().parseFromString(t,"application/xml"),Xn=n(Qo,"COLLADA")[0],Kn=Qo.getElementsByTagName("parsererror")[0];if(Kn!==void 0){let de=n(Kn,"div")[0],le;return de?le=de.textContent:le=Jn(Kn),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,le),null}let hs=Xn.getAttribute("version");console.debug("THREE.ColladaLoader: File version",hs);let Nr=d(n(Xn,"asset")[0]),Br=new Sd(this.manager);Br.setPath(this.resourcePath||i).setCrossOrigin(this.crossOrigin);let Jr;Eg&&(Jr=new Eg(this.manager),Jr.setPath(this.resourcePath||i));let Mr=new Ji,Eo=[],Xl={},$o=0,sn={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};f(Xn,"library_animations","animation",m),f(Xn,"library_animation_clips","animation_clip",ne),f(Xn,"library_controllers","controller",_e),f(Xn,"library_images","image",G),f(Xn,"library_effects","effect",me),f(Xn,"library_materials","material",pe),f(Xn,"library_cameras","camera",Ne),f(Xn,"library_lights","light",Ft),f(Xn,"library_geometries","geometry",yt),f(Xn,"library_nodes","node",Mt),f(Xn,"library_visual_scenes","visual_scene",Vn),f(Xn,"library_kinematics_models","kinematics_model",Qt),f(Xn,"library_physics_models","physics_model",_o),f(Xn,"scene","instance_kinematics_scene",us),p(sn.animations,w),p(sn.clips,ue),p(sn.controllers,Q),p(sn.images,W),p(sn.effects,re),p(sn.materials,ke),p(sn.cameras,gt),p(sn.lights,li),p(sn.geometries,Yi),p(sn.visualScenes,Un),Zr(),Ds();let gc=gn(n(Xn,"scene")[0]);return gc.animations=Eo,Nr.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),gc.rotation.set(-Math.PI/2,0,0)),gc.scale.multiplyScalar(Nr.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),Eo},kinematics:Xl,library:sn,scene:gc}}};var vr=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Fie=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="9.0.1"}),bo=vr((exports,module)=>{"use strict";var __spreadArray=exports&&exports.__spreadArray||function(e,t){for(var i=0,n=t.length,r=e.length;i<n;i++,r++)e[r]=t[i];return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFastProperties=exports.timer=exports.peek=exports.isES2015MapSupported=exports.PRINT_WARNING=exports.PRINT_ERROR=exports.packArray=exports.IDENTITY=exports.NOOP=exports.merge=exports.groupBy=exports.defaults=exports.assignNoOverwrite=exports.assign=exports.zipObject=exports.sortBy=exports.indexOf=exports.some=exports.difference=exports.every=exports.isObject=exports.isRegExp=exports.isArray=exports.partial=exports.uniq=exports.compact=exports.reduce=exports.findAll=exports.find=exports.cloneObj=exports.cloneArr=exports.contains=exports.has=exports.pick=exports.reject=exports.filter=exports.dropRight=exports.drop=exports.isFunction=exports.isUndefined=exports.isString=exports.forEach=exports.last=exports.first=exports.flatten=exports.map=exports.mapValues=exports.values=exports.keys=exports.isEmpty=void 0;function isEmpty(e){return e&&e.length===0}exports.isEmpty=isEmpty;function keys(e){return e==null?[]:Object.keys(e)}exports.keys=keys;function values(e){for(var t=[],i=Object.keys(e),n=0;n<i.length;n++)t.push(e[i[n]]);return t}exports.values=values;function mapValues(e,t){for(var i=[],n=keys(e),r=0;r<n.length;r++){var o=n[r];i.push(t.call(null,e[o],o))}return i}exports.mapValues=mapValues;function map(e,t){for(var i=[],n=0;n<e.length;n++)i.push(t.call(null,e[n],n));return i}exports.map=map;function flatten(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];Array.isArray(n)?t=t.concat(flatten(n)):t.push(n)}return t}exports.flatten=flatten;function first(e){return isEmpty(e)?void 0:e[0]}exports.first=first;function last(e){var t=e&&e.length;return t?e[t-1]:void 0}exports.last=last;function forEach(e,t){if(Array.isArray(e))for(var i=0;i<e.length;i++)t.call(null,e[i],i);else if(isObject(e))for(var n=keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];t.call(null,o,r)}else throw Error("non exhaustive match")}exports.forEach=forEach;function isString(e){return typeof e=="string"}exports.isString=isString;function isUndefined(e){return e===void 0}exports.isUndefined=isUndefined;function isFunction(e){return e instanceof Function}exports.isFunction=isFunction;function drop(e,t){return t===void 0&&(t=1),e.slice(t,e.length)}exports.drop=drop;function dropRight(e,t){return t===void 0&&(t=1),e.slice(0,e.length-t)}exports.dropRight=dropRight;function filter(e,t){var i=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];t.call(null,r)&&i.push(r)}return i}exports.filter=filter;function reject(e,t){return filter(e,function(i){return!t(i)})}exports.reject=reject;function pick(e,t){for(var i=Object.keys(e),n={},r=0;r<i.length;r++){var o=i[r],s=e[o];t(s)&&(n[o]=s)}return n}exports.pick=pick;function has(e,t){return isObject(e)?e.hasOwnProperty(t):!1}exports.has=has;function contains(e,t){return find(e,function(i){return i===t})!==void 0}exports.contains=contains;function cloneArr(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}exports.cloneArr=cloneArr;function cloneObj(e){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}exports.cloneObj=cloneObj;function find(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t.call(null,n))return n}}exports.find=find;function findAll(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n];t.call(null,r)&&i.push(r)}return i}exports.findAll=findAll;function reduce(e,t,i){for(var n=Array.isArray(e),r=n?e:values(e),o=n?[]:keys(e),s=i,a=0;a<r.length;a++)s=t.call(null,s,r[a],n?a:o[a]);return s}exports.reduce=reduce;function compact(e){return reject(e,function(t){return t==null})}exports.compact=compact;function uniq(e,t){t===void 0&&(t=function(n){return n});var i=[];return reduce(e,function(n,r){var o=t(r);return contains(i,o)?n:(i.push(o),n.concat(r))},[])}exports.uniq=uniq;function partial(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=[null],r=n.concat(t);return Function.bind.apply(e,r)}exports.partial=partial;function isArray(e){return Array.isArray(e)}exports.isArray=isArray;function isRegExp(e){return e instanceof RegExp}exports.isRegExp=isRegExp;function isObject(e){return e instanceof Object}exports.isObject=isObject;function every(e,t){for(var i=0;i<e.length;i++)if(!t(e[i],i))return!1;return!0}exports.every=every;function difference(e,t){return reject(e,function(i){return contains(t,i)})}exports.difference=difference;function some(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return!0;return!1}exports.some=some;function indexOf(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}exports.indexOf=indexOf;function sortBy(e,t){var i=cloneArr(e);return i.sort(function(n,r){return t(n)-t(r)}),i}exports.sortBy=sortBy;function zipObject(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var i={},n=0;n<e.length;n++)i[e[n]]=t[n];return i}exports.zipObject=zipObject;function assign(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=0;n<t.length;n++)for(var r=t[n],o=keys(r),s=0;s<o.length;s++){var a=o[s];e[a]=r[a]}return e}exports.assign=assign;function assignNoOverwrite(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=0;n<t.length;n++)for(var r=t[n],o=keys(r),s=0;s<o.length;s++){var a=o[s];has(e,a)||(e[a]=r[a])}return e}exports.assignNoOverwrite=assignNoOverwrite;function defaults(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return assignNoOverwrite.apply(void 0,__spreadArray([{}],e))}exports.defaults=defaults;function groupBy(e,t){var i={};return forEach(e,function(n){var r=t(n),o=i[r];o?o.push(n):i[r]=[n]}),i}exports.groupBy=groupBy;function merge(e,t){for(var i=cloneObj(e),n=keys(t),r=0;r<n.length;r++){var o=n[r],s=t[o];i[o]=s}return i}exports.merge=merge;function NOOP(){}exports.NOOP=NOOP;function IDENTITY(e){return e}exports.IDENTITY=IDENTITY;function packArray(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];t.push(n!==void 0?n:void 0)}return t}exports.packArray=packArray;function PRINT_ERROR(e){console&&console.error&&console.error("Error: "+e)}exports.PRINT_ERROR=PRINT_ERROR;function PRINT_WARNING(e){console&&console.warn&&console.warn("Warning: "+e)}exports.PRINT_WARNING=PRINT_WARNING;function isES2015MapSupported(){return typeof Map=="function"}exports.isES2015MapSupported=isES2015MapSupported;function peek(e){return e[e.length-1]}exports.peek=peek;function timer(e){var t=new Date().getTime(),i=e(),n=new Date().getTime(),r=n-t;return{time:r,value:i}}exports.timer=timer;function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast}exports.toFastProperties=toFastProperties}),oB=vr((e,t)=>{(function(i,n){typeof define=="function"&&define.amd?define([],n):typeof t=="object"&&t.exports?t.exports=n():i.regexpToAst=n()})(typeof self<"u"?self:e,function(){function i(){}i.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},i.prototype.restoreState=function(m){this.idx=m.idx,this.input=m.input,this.groupIdx=m.groupIdx},i.prototype.pattern=function(m){this.idx=0,this.input=m,this.groupIdx=0,this.consumeChar("/");var g=this.disjunction();this.consumeChar("/");for(var b={type:"Flags",loc:{begin:this.idx,end:m.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":l(b,"global");break;case"i":l(b,"ignoreCase");break;case"m":l(b,"multiLine");break;case"u":l(b,"unicode");break;case"y":l(b,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:b,value:g,loc:this.loc(0)}},i.prototype.disjunction=function(){var m=[],g=this.idx;for(m.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),m.push(this.alternative());return{type:"Disjunction",value:m,loc:this.loc(g)}},i.prototype.alternative=function(){for(var m=[],g=this.idx;this.isTerm();)m.push(this.term());return{type:"Alternative",value:m,loc:this.loc(g)}},i.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},i.prototype.assertion=function(){var m=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(m)};case"$":return{type:"EndAnchor",loc:this.loc(m)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(m)};case"B":return{type:"NonWordBoundary",loc:this.loc(m)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var g;switch(this.popChar()){case"=":g="Lookahead";break;case"!":g="NegativeLookahead";break}c(g);var b=this.disjunction();return this.consumeChar(")"),{type:g,value:b,loc:this.loc(m)}}d()},i.prototype.quantifier=function(m){var g,b=this.idx;switch(this.popChar()){case"*":g={atLeast:0,atMost:1/0};break;case"+":g={atLeast:1,atMost:1/0};break;case"?":g={atLeast:0,atMost:1};break;case"{":var w=this.integerIncludingZero();switch(this.popChar()){case"}":g={atLeast:w,atMost:w};break;case",":var x;this.isDigit()?(x=this.integerIncludingZero(),g={atLeast:w,atMost:x}):g={atLeast:w,atMost:1/0},this.consumeChar("}");break}if(m===!0&&g===void 0)return;c(g);break}if(!(m===!0&&g===void 0))return c(g),this.peekChar(0)==="?"?(this.consumeChar("?"),g.greedy=!1):g.greedy=!0,g.type="Quantifier",g.loc=this.loc(b),g},i.prototype.atom=function(){var m,g=this.idx;switch(this.peekChar()){case".":m=this.dotAll();break;case"\\":m=this.atomEscape();break;case"[":m=this.characterClass();break;case"(":m=this.group();break}return m===void 0&&this.isPatternCharacter()&&(m=this.patternCharacter()),c(m),m.loc=this.loc(g),this.isQuantifier()&&(m.quantifier=this.quantifier()),m},i.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[s(`
`),s("\r"),s("\u2028"),s("\u2029")]}},i.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},i.prototype.decimalEscapeAtom=function(){var m=this.positiveInteger();return{type:"GroupBackReference",value:m}},i.prototype.characterClassEscape=function(){var m,g=!1;switch(this.popChar()){case"d":m=h;break;case"D":m=h,g=!0;break;case"s":m=p;break;case"S":m=p,g=!0;break;case"w":m=f;break;case"W":m=f,g=!0;break}return c(m),{type:"Set",value:m,complement:g}},i.prototype.controlEscapeAtom=function(){var m;switch(this.popChar()){case"f":m=s("\f");break;case"n":m=s(`
`);break;case"r":m=s("\r");break;case"t":m=s("	");break;case"v":m=s("\v");break}return c(m),{type:"Character",value:m}},i.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var m=this.popChar();if(/[a-zA-Z]/.test(m)===!1)throw Error("Invalid ");var g=m.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:g}},i.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:s("\0")}},i.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},i.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},i.prototype.identityEscapeAtom=function(){var m=this.popChar();return{type:"Character",value:s(m)}},i.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var m=this.popChar();return{type:"Character",value:s(m)}}},i.prototype.characterClass=function(){var m=[],g=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),g=!0);this.isClassAtom();){var b=this.classAtom(),w=b.type==="Character";if(w&&this.isRangeDash()){this.consumeChar("-");var x=this.classAtom(),R=x.type==="Character";if(R){if(x.value<b.value)throw Error("Range out of order in character class");m.push({from:b.value,to:x.value})}else a(b.value,m),m.push(s("-")),a(x.value,m)}else a(b.value,m)}return this.consumeChar("]"),{type:"Set",complement:g,value:m}},i.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},i.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:s("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},i.prototype.group=function(){var m=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),m=!1;break;default:this.groupIdx++;break}var g=this.disjunction();this.consumeChar(")");var b={type:"Group",capturing:m,value:g};return m&&(b.idx=this.groupIdx),b},i.prototype.positiveInteger=function(){var m=this.popChar();if(o.test(m)===!1)throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)m+=this.popChar();return parseInt(m,10)},i.prototype.integerIncludingZero=function(){var m=this.popChar();if(r.test(m)===!1)throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)m+=this.popChar();return parseInt(m,10)},i.prototype.patternCharacter=function(){var m=this.popChar();switch(m){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:s(m)}}},i.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},i.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},i.prototype.isDigit=function(){return r.test(this.peekChar(0))},i.prototype.isClassAtom=function(m){switch(m===void 0&&(m=0),this.peekChar(m)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},i.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},i.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},i.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},i.prototype.isQuantifier=function(){var m=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(m)}},i.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},i.prototype.parseHexDigits=function(m){for(var g="",b=0;b<m;b++){var w=this.popChar();if(n.test(w)===!1)throw Error("Expecting a HexDecimal digits");g+=w}var x=parseInt(g,16);return{type:"Character",value:x}},i.prototype.peekChar=function(m){return m===void 0&&(m=0),this.input[this.idx+m]},i.prototype.popChar=function(){var m=this.peekChar(0);return this.consumeChar(),m},i.prototype.consumeChar=function(m){if(m!==void 0&&this.input[this.idx]!==m)throw Error("Expected: '"+m+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},i.prototype.loc=function(m){return{begin:m,end:this.idx}};var n=/[0-9a-fA-F]/,r=/[0-9]/,o=/[1-9]/;function s(m){return m.charCodeAt(0)}function a(m,g){m.length!==void 0?m.forEach(function(b){g.push(b)}):g.push(m)}function l(m,g){if(m[g]===!0)throw"duplicate flag "+g;m[g]=!0}function c(m){if(m===void 0)throw Error("Internal Error - Should never get here!")}function d(){throw Error("Internal Error - Should never get here!")}var u,h=[];for(u=s("0");u<=s("9");u++)h.push(u);var f=[s("_")].concat(h);for(u=s("a");u<=s("z");u++)f.push(u);for(u=s("A");u<=s("Z");u++)f.push(u);var p=[s(" "),s("\f"),s(`
`),s("\r"),s("	"),s("\v"),s("	"),s("\xA0"),s("\u1680"),s("\u2000"),s("\u2001"),s("\u2002"),s("\u2003"),s("\u2004"),s("\u2005"),s("\u2006"),s("\u2007"),s("\u2008"),s("\u2009"),s("\u200A"),s("\u2028"),s("\u2029"),s("\u202F"),s("\u205F"),s("\u3000"),s("\uFEFF")];function v(){}return v.prototype.visitChildren=function(m){for(var g in m){var b=m[g];m.hasOwnProperty(g)&&(b.type!==void 0?this.visit(b):Array.isArray(b)&&b.forEach(function(w){this.visit(w)},this))}},v.prototype.visit=function(m){switch(m.type){case"Pattern":this.visitPattern(m);break;case"Flags":this.visitFlags(m);break;case"Disjunction":this.visitDisjunction(m);break;case"Alternative":this.visitAlternative(m);break;case"StartAnchor":this.visitStartAnchor(m);break;case"EndAnchor":this.visitEndAnchor(m);break;case"WordBoundary":this.visitWordBoundary(m);break;case"NonWordBoundary":this.visitNonWordBoundary(m);break;case"Lookahead":this.visitLookahead(m);break;case"NegativeLookahead":this.visitNegativeLookahead(m);break;case"Character":this.visitCharacter(m);break;case"Set":this.visitSet(m);break;case"Group":this.visitGroup(m);break;case"GroupBackReference":this.visitGroupBackReference(m);break;case"Quantifier":this.visitQuantifier(m);break}this.visitChildren(m)},v.prototype.visitPattern=function(m){},v.prototype.visitFlags=function(m){},v.prototype.visitDisjunction=function(m){},v.prototype.visitAlternative=function(m){},v.prototype.visitStartAnchor=function(m){},v.prototype.visitEndAnchor=function(m){},v.prototype.visitWordBoundary=function(m){},v.prototype.visitNonWordBoundary=function(m){},v.prototype.visitLookahead=function(m){},v.prototype.visitNegativeLookahead=function(m){},v.prototype.visitCharacter=function(m){},v.prototype.visitSet=function(m){},v.prototype.visitGroup=function(m){},v.prototype.visitGroupBackReference=function(m){},v.prototype.visitQuantifier=function(m){},{RegExpParser:i,BaseRegExpVisitor:v,VERSION:"0.5.0"}})}),sB=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearRegExpParserCache=e.getRegExpAst=void 0;var t=oB(),i={},n=new t.RegExpParser;function r(s){var a=s.toString();if(i.hasOwnProperty(a))return i[a];var l=n.pattern(a);return i[a]=l,l}e.getRegExpAst=r;function o(){i={}}e.clearRegExpParserCache=o}),dVe=vr(e=>{"use strict";var t=e&&e.__extends||function(){var v=function(m,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(b[x]=w[x])},v(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");v(m,g);function b(){this.constructor=m}m.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.canMatchCharCode=e.firstCharOptimizedIndices=e.getOptimizedStartCodesIndices=e.failedOptimizationPrefixMsg=void 0;var i=oB(),n=bo(),r=sB(),o=Oie(),s="Complement Sets are not supported for first char optimization";e.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function a(v,m){m===void 0&&(m=!1);try{var g=r.getRegExpAst(v),b=l(g.value,{},g.flags.ignoreCase);return b}catch(x){if(x.message===s)m&&n.PRINT_WARNING(""+e.failedOptimizationPrefixMsg+("	Unable to optimize: < "+v.toString()+` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var w="";m&&(w=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),n.PRINT_ERROR(e.failedOptimizationPrefixMsg+`
`+("	Failed parsing: < "+v.toString()+` >
`)+("	Using the regexp-to-ast library version: "+i.VERSION+`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+w)}}return[]}e.getOptimizedStartCodesIndices=a;function l(v,m,g){switch(v.type){case"Disjunction":for(var b=0;b<v.value.length;b++)l(v.value[b],m,g);break;case"Alternative":for(var w=v.value,b=0;b<w.length;b++){var x=w[b];switch(x.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var R=x;switch(R.type){case"Character":c(R.value,m,g);break;case"Set":if(R.complement===!0)throw Error(s);n.forEach(R.value,function(F){if(typeof F=="number")c(F,m,g);else{var T=F;if(g===!0)for(var P=T.from;P<=T.to;P++)c(P,m,g);else{for(var P=T.from;P<=T.to&&P<o.minOptimizationVal;P++)c(P,m,g);if(T.to>=o.minOptimizationVal)for(var A=T.from>=o.minOptimizationVal?T.from:o.minOptimizationVal,O=T.to,V=o.charCodeToOptimizedIndex(A),U=o.charCodeToOptimizedIndex(O),ae=V;ae<=U;ae++)m[ae]=ae}}});break;case"Group":l(R.value,m,g);break;default:throw Error("Non Exhaustive Match")}var _=R.quantifier!==void 0&&R.quantifier.atLeast===0;if(R.type==="Group"&&h(R)===!1||R.type!=="Group"&&_===!1)break}break;default:throw Error("non exhaustive match!")}return n.values(m)}e.firstCharOptimizedIndices=l;function c(v,m,g){var b=o.charCodeToOptimizedIndex(v);m[b]=b,g===!0&&d(v,m)}function d(v,m){var g=String.fromCharCode(v),b=g.toUpperCase();if(b!==g){var w=o.charCodeToOptimizedIndex(b.charCodeAt(0));m[w]=w}else{var x=g.toLowerCase();if(x!==g){var w=o.charCodeToOptimizedIndex(x.charCodeAt(0));m[w]=w}}}function u(v,m){return n.find(v.value,function(g){if(typeof g=="number")return n.contains(m,g);var b=g;return n.find(m,function(w){return b.from<=w&&w<=b.to})!==void 0})}function h(v){return v.quantifier&&v.quantifier.atLeast===0?!0:v.value?n.isArray(v.value)?n.every(v.value,h):h(v.value):!1}var f=function(v){t(m,v);function m(g){var b=v.call(this)||this;return b.targetCharCodes=g,b.found=!1,b}return m.prototype.visitChildren=function(g){if(this.found!==!0){switch(g.type){case"Lookahead":this.visitLookahead(g);return;case"NegativeLookahead":this.visitNegativeLookahead(g);return}v.prototype.visitChildren.call(this,g)}},m.prototype.visitCharacter=function(g){n.contains(this.targetCharCodes,g.value)&&(this.found=!0)},m.prototype.visitSet=function(g){g.complement?u(g,this.targetCharCodes)===void 0&&(this.found=!0):u(g,this.targetCharCodes)!==void 0&&(this.found=!0)},m}(i.BaseRegExpVisitor);function p(v,m){if(m instanceof RegExp){var g=r.getRegExpAst(m),b=new f(v);return b.visit(g),b.found}else return n.find(m,function(w){return n.contains(v,w.charCodeAt(0))})!==void 0}e.canMatchCharCode=p}),Oie=vr(e=>{"use strict";var t=e&&e.__extends||function(){var Z=function(G,W){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,me){ce.__proto__=me}||function(ce,me){for(var Me in me)Object.prototype.hasOwnProperty.call(me,Me)&&(ce[Me]=me[Me])},Z(G,W)};return function(G,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");Z(G,W);function ce(){this.constructor=G}G.prototype=W===null?Object.create(W):(ce.prototype=W.prototype,new ce)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.charCodeToOptimizedIndex=e.minOptimizationVal=e.buildLineBreakIssueMessage=e.LineTerminatorOptimizedTester=e.isShortPattern=e.isCustomPattern=e.cloneEmptyGroups=e.performWarningRuntimeChecks=e.performRuntimeChecks=e.addStickyFlag=e.addStartOfInput=e.findUnreachablePatterns=e.findModesThatDoNotExist=e.findInvalidGroupType=e.findDuplicatePatterns=e.findUnsupportedFlags=e.findStartOfInputAnchor=e.findEmptyMatchRegExps=e.findEndOfInputAnchor=e.findInvalidPatterns=e.findMissingPatterns=e.validatePatterns=e.analyzeTokenTypes=e.enableSticky=e.disableSticky=e.SUPPORT_STICKY=e.MODES=e.DEFAULT_MODE=void 0;var i=oB(),n=oI(),r=bo(),o=dVe(),s=sB(),a="PATTERN";e.DEFAULT_MODE="defaultMode",e.MODES="modes",e.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function l(){e.SUPPORT_STICKY=!1}e.disableSticky=l;function c(){e.SUPPORT_STICKY=!0}e.enableSticky=c;function d(Z,G){G=r.defaults(G,{useSticky:e.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(re,J){return J()}});var W=G.tracer;W("initCharCodeToOptimizedIndexMap",function(){ee()});var ce;W("Reject Lexer.NA",function(){ce=r.reject(Z,function(re){return re[a]===n.Lexer.NA})});var me=!1,Me;W("Transform Patterns",function(){me=!1,Me=r.map(ce,function(re){var J=re[a];if(r.isRegExp(J)){var pe=J.source;return pe.length===1&&pe!=="^"&&pe!=="$"&&pe!=="."&&!J.ignoreCase?pe:pe.length===2&&pe[0]==="\\"&&!r.contains(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],pe[1])?pe[1]:G.useSticky?O(J):A(J)}else{if(r.isFunction(J))return me=!0,{exec:J};if(r.has(J,"exec"))return me=!0,J;if(typeof J=="string"){if(J.length===1)return J;var Ee=J.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),ke=new RegExp(Ee);return G.useSticky?O(ke):A(ke)}else throw Error("non exhaustive match")}})});var He,$e,Je,ve,ge;W("misc mapping",function(){He=r.map(ce,function(re){return re.tokenTypeIdx}),$e=r.map(ce,function(re){var J=re.GROUP;if(J!==n.Lexer.SKIPPED){if(r.isString(J))return J;if(r.isUndefined(J))return!1;throw Error("non exhaustive match")}}),Je=r.map(ce,function(re){var J=re.LONGER_ALT;if(J){var pe=r.indexOf(ce,J);return pe}}),ve=r.map(ce,function(re){return re.PUSH_MODE}),ge=r.map(ce,function(re){return r.has(re,"POP_MODE")})});var pt;W("Line Terminator Handling",function(){var re=Ve(G.lineTerminatorCharacters);pt=r.map(ce,function(J){return!1}),G.positionTracking!=="onlyOffset"&&(pt=r.map(ce,function(J){if(r.has(J,"LINE_BREAKS"))return J.LINE_BREAKS;if(se(J,re)===!1)return o.canMatchCharCode(re,J.PATTERN)}))});var vt,Pt,ft,kt;W("Misc Mapping #2",function(){vt=r.map(ce,ne),Pt=r.map(Me,ue),ft=r.reduce(ce,function(re,J){var pe=J.GROUP;return r.isString(pe)&&pe!==n.Lexer.SKIPPED&&(re[pe]=[]),re},{}),kt=r.map(Me,function(re,J){return{pattern:Me[J],longerAlt:Je[J],canLineTerminator:pt[J],isCustom:vt[J],short:Pt[J],group:$e[J],push:ve[J],pop:ge[J],tokenTypeIdx:He[J],tokenType:ce[J]}})});var be=!0,oe=[];return G.safeMode||W("First Char Optimization",function(){oe=r.reduce(ce,function(re,J,pe){if(typeof J.PATTERN=="string"){var Ee=J.PATTERN.charCodeAt(0),ke=Q(Ee);Ge(re,ke,kt[pe])}else if(r.isArray(J.START_CHARS_HINT)){var Le;r.forEach(J.START_CHARS_HINT,function(Ye){var Be=typeof Ye=="string"?Ye.charCodeAt(0):Ye,ct=Q(Be);Le!==ct&&(Le=ct,Ge(re,ct,kt[pe]))})}else if(r.isRegExp(J.PATTERN))if(J.PATTERN.unicode)be=!1,G.ensureOptimizations&&r.PRINT_ERROR(""+o.failedOptimizationPrefixMsg+("	Unable to analyze < "+J.PATTERN.toString()+` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var Ne=o.getOptimizedStartCodesIndices(J.PATTERN,G.ensureOptimizations);r.isEmpty(Ne)&&(be=!1),r.forEach(Ne,function(Ye){Ge(re,Ye,kt[pe])})}else G.ensureOptimizations&&r.PRINT_ERROR(""+o.failedOptimizationPrefixMsg+("	TokenType: <"+J.name+`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),be=!1;return re},[])}),W("ArrayPacking",function(){oe=r.packArray(oe)}),{emptyGroups:ft,patternIdxToConfig:kt,charCodeToPatternIdxToConfig:oe,hasCustom:me,canBeOptimized:be}}e.analyzeTokenTypes=d;function u(Z,G){var W=[],ce=f(Z);W=W.concat(ce.errors);var me=p(ce.valid),Me=me.valid;return W=W.concat(me.errors),W=W.concat(h(Me)),W=W.concat(_(Me)),W=W.concat(L(Me,G)),W=W.concat(F(Me)),W}e.validatePatterns=u;function h(Z){var G=[],W=r.filter(Z,function(ce){return r.isRegExp(ce[a])});return G=G.concat(m(W)),G=G.concat(w(W)),G=G.concat(x(W)),G=G.concat(R(W)),G=G.concat(g(W)),G}function f(Z){var G=r.filter(Z,function(me){return!r.has(me,a)}),W=r.map(G,function(me){return{message:"Token Type: ->"+me.name+"<- missing static 'PATTERN' property",type:n.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[me]}}),ce=r.difference(Z,G);return{errors:W,valid:ce}}e.findMissingPatterns=f;function p(Z){var G=r.filter(Z,function(me){var Me=me[a];return!r.isRegExp(Me)&&!r.isFunction(Me)&&!r.has(Me,"exec")&&!r.isString(Me)}),W=r.map(G,function(me){return{message:"Token Type: ->"+me.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:n.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[me]}}),ce=r.difference(Z,G);return{errors:W,valid:ce}}e.findInvalidPatterns=p;var v=/[^\\][\$]/;function m(Z){var G=function(me){t(Me,me);function Me(){var He=me!==null&&me.apply(this,arguments)||this;return He.found=!1,He}return Me.prototype.visitEndAnchor=function(He){this.found=!0},Me}(i.BaseRegExpVisitor),W=r.filter(Z,function(me){var Me=me[a];try{var He=s.getRegExpAst(Me),$e=new G;return $e.visit(He),$e.found}catch{return v.test(Me.source)}}),ce=r.map(W,function(me){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+me.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:n.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[me]}});return ce}e.findEndOfInputAnchor=m;function g(Z){var G=r.filter(Z,function(ce){var me=ce[a];return me.test("")}),W=r.map(G,function(ce){return{message:"Token Type: ->"+ce.name+"<- static 'PATTERN' must not match an empty string",type:n.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[ce]}});return W}e.findEmptyMatchRegExps=g;var b=/[^\\[][\^]|^\^/;function w(Z){var G=function(me){t(Me,me);function Me(){var He=me!==null&&me.apply(this,arguments)||this;return He.found=!1,He}return Me.prototype.visitStartAnchor=function(He){this.found=!0},Me}(i.BaseRegExpVisitor),W=r.filter(Z,function(me){var Me=me[a];try{var He=s.getRegExpAst(Me),$e=new G;return $e.visit(He),$e.found}catch{return b.test(Me.source)}}),ce=r.map(W,function(me){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+me.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:n.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[me]}});return ce}e.findStartOfInputAnchor=w;function x(Z){var G=r.filter(Z,function(ce){var me=ce[a];return me instanceof RegExp&&(me.multiline||me.global)}),W=r.map(G,function(ce){return{message:"Token Type: ->"+ce.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:n.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[ce]}});return W}e.findUnsupportedFlags=x;function R(Z){var G=[],W=r.map(Z,function(Me){return r.reduce(Z,function(He,$e){return Me.PATTERN.source===$e.PATTERN.source&&!r.contains(G,$e)&&$e.PATTERN!==n.Lexer.NA&&(G.push($e),He.push($e)),He},[])});W=r.compact(W);var ce=r.filter(W,function(Me){return Me.length>1}),me=r.map(ce,function(Me){var He=r.map(Me,function(Je){return Je.name}),$e=r.first(Me).PATTERN;return{message:"The same RegExp pattern ->"+$e+"<-"+("has been used in all of the following Token Types: "+He.join(", ")+" <-"),type:n.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:Me}});return me}e.findDuplicatePatterns=R;function _(Z){var G=r.filter(Z,function(ce){if(!r.has(ce,"GROUP"))return!1;var me=ce.GROUP;return me!==n.Lexer.SKIPPED&&me!==n.Lexer.NA&&!r.isString(me)}),W=r.map(G,function(ce){return{message:"Token Type: ->"+ce.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:n.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[ce]}});return W}e.findInvalidGroupType=_;function L(Z,G){var W=r.filter(Z,function(me){return me.PUSH_MODE!==void 0&&!r.contains(G,me.PUSH_MODE)}),ce=r.map(W,function(me){var Me="Token Type: ->"+me.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+me.PUSH_MODE+"<-which does not exist";return{message:Me,type:n.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[me]}});return ce}e.findModesThatDoNotExist=L;function F(Z){var G=[],W=r.reduce(Z,function(ce,me,Me){var He=me.PATTERN;return He===n.Lexer.NA||(r.isString(He)?ce.push({str:He,idx:Me,tokenType:me}):r.isRegExp(He)&&P(He)&&ce.push({str:He.source,idx:Me,tokenType:me})),ce},[]);return r.forEach(Z,function(ce,me){r.forEach(W,function(Me){var He=Me.str,$e=Me.idx,Je=Me.tokenType;if(me<$e&&T(He,ce.PATTERN)){var ve="Token: ->"+Je.name+`<- can never be matched.
`+("Because it appears AFTER the Token Type ->"+ce.name+"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;G.push({message:ve,type:n.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[ce,Je]})}})}),G}e.findUnreachablePatterns=F;function T(Z,G){if(r.isRegExp(G)){var W=G.exec(Z);return W!==null&&W.index===0}else{if(r.isFunction(G))return G(Z,0,[],{});if(r.has(G,"exec"))return G.exec(Z,0,[],{});if(typeof G=="string")return G===Z;throw Error("non exhaustive match")}}function P(Z){var G=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return r.find(G,function(W){return Z.source.indexOf(W)!==-1})===void 0}function A(Z){var G=Z.ignoreCase?"i":"";return new RegExp("^(?:"+Z.source+")",G)}e.addStartOfInput=A;function O(Z){var G=Z.ignoreCase?"iy":"y";return new RegExp(""+Z.source,G)}e.addStickyFlag=O;function V(Z,G,W){var ce=[];return r.has(Z,e.DEFAULT_MODE)||ce.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.DEFAULT_MODE+`> property in its definition
`,type:n.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),r.has(Z,e.MODES)||ce.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.MODES+`> property in its definition
`,type:n.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),r.has(Z,e.MODES)&&r.has(Z,e.DEFAULT_MODE)&&!r.has(Z.modes,Z.defaultMode)&&ce.push({message:"A MultiMode Lexer cannot be initialized with a "+e.DEFAULT_MODE+": <"+Z.defaultMode+`>which does not exist
`,type:n.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),r.has(Z,e.MODES)&&r.forEach(Z.modes,function(me,Me){r.forEach(me,function(He,$e){r.isUndefined(He)&&ce.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+Me+"> at index: <"+$e+`>
`),type:n.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),ce}e.performRuntimeChecks=V;function U(Z,G,W){var ce=[],me=!1,Me=r.compact(r.flatten(r.mapValues(Z.modes,function(Je){return Je}))),He=r.reject(Me,function(Je){return Je[a]===n.Lexer.NA}),$e=Ve(W);return G&&r.forEach(He,function(Je){var ve=se(Je,$e);if(ve!==!1){var ge=_e(Je,ve),pt={message:ge,type:ve.issue,tokenType:Je};ce.push(pt)}else r.has(Je,"LINE_BREAKS")?Je.LINE_BREAKS===!0&&(me=!0):o.canMatchCharCode($e,Je.PATTERN)&&(me=!0)}),G&&!me&&ce.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS
	for details.`,type:n.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),ce}e.performWarningRuntimeChecks=U;function ae(Z){var G={},W=r.keys(Z);return r.forEach(W,function(ce){var me=Z[ce];if(r.isArray(me))G[ce]=[];else throw Error("non exhaustive match")}),G}e.cloneEmptyGroups=ae;function ne(Z){var G=Z.PATTERN;if(r.isRegExp(G))return!1;if(r.isFunction(G)||r.has(G,"exec"))return!0;if(r.isString(G))return!1;throw Error("non exhaustive match")}e.isCustomPattern=ne;function ue(Z){return r.isString(Z)&&Z.length===1?Z.charCodeAt(0):!1}e.isShortPattern=ue,e.LineTerminatorOptimizedTester={test:function(Z){for(var G=Z.length,W=this.lastIndex;W<G;W++){var ce=Z.charCodeAt(W);if(ce===10)return this.lastIndex=W+1,!0;if(ce===13)return Z.charCodeAt(W+1)===10?this.lastIndex=W+2:this.lastIndex=W+1,!0}return!1},lastIndex:0};function se(Z,G){if(r.has(Z,"LINE_BREAKS"))return!1;if(r.isRegExp(Z.PATTERN)){try{o.canMatchCharCode(G,Z.PATTERN)}catch(W){return{issue:n.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:W.message}}return!1}else{if(r.isString(Z.PATTERN))return!1;if(ne(Z))return{issue:n.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function _e(Z,G){if(G.issue===n.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+("	The problem is in the <"+Z.name+`> Token Type
`)+("	 Root cause: "+G.errMsg+`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(G.issue===n.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+("	The problem is in the <"+Z.name+`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}e.buildLineBreakIssueMessage=_e;function Ve(Z){var G=r.map(Z,function(W){return r.isString(W)&&W.length>0?W.charCodeAt(0):W});return G}function Ge(Z,G,W){Z[G]===void 0?Z[G]=[W]:Z[G].push(W)}e.minOptimizationVal=256;var K=[];function Q(Z){return Z<e.minOptimizationVal?Z:K[Z]}e.charCodeToOptimizedIndex=Q;function ee(){if(r.isEmpty(K)){K=new Array(65536);for(var Z=0;Z<65536;Z++)K[Z]=Z>255?255+~~(Z/255):Z}}}),ES=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTokenType=e.hasExtendingTokensTypesMapProperty=e.hasExtendingTokensTypesProperty=e.hasCategoriesProperty=e.hasShortKeyProperty=e.singleAssignCategoriesToksMap=e.assignCategoriesMapProp=e.assignCategoriesTokensProp=e.assignTokenDefaultProps=e.expandCategories=e.augmentTokenTypes=e.tokenIdxToClass=e.tokenShortNameIdx=e.tokenStructuredMatcherNoCategories=e.tokenStructuredMatcher=void 0;var t=bo();function i(v,m){var g=v.tokenTypeIdx;return g===m.tokenTypeIdx?!0:m.isParent===!0&&m.categoryMatchesMap[g]===!0}e.tokenStructuredMatcher=i;function n(v,m){return v.tokenTypeIdx===m.tokenTypeIdx}e.tokenStructuredMatcherNoCategories=n,e.tokenShortNameIdx=1,e.tokenIdxToClass={};function r(v){var m=o(v);s(m),l(m),a(m),t.forEach(m,function(g){g.isParent=g.categoryMatches.length>0})}e.augmentTokenTypes=r;function o(v){for(var m=t.cloneArr(v),g=v,b=!0;b;){g=t.compact(t.flatten(t.map(g,function(x){return x.CATEGORIES})));var w=t.difference(g,m);m=m.concat(w),t.isEmpty(w)?b=!1:g=w}return m}e.expandCategories=o;function s(v){t.forEach(v,function(m){d(m)||(e.tokenIdxToClass[e.tokenShortNameIdx]=m,m.tokenTypeIdx=e.tokenShortNameIdx++),u(m)&&!t.isArray(m.CATEGORIES)&&(m.CATEGORIES=[m.CATEGORIES]),u(m)||(m.CATEGORIES=[]),h(m)||(m.categoryMatches=[]),f(m)||(m.categoryMatchesMap={})})}e.assignTokenDefaultProps=s;function a(v){t.forEach(v,function(m){m.categoryMatches=[],t.forEach(m.categoryMatchesMap,function(g,b){m.categoryMatches.push(e.tokenIdxToClass[b].tokenTypeIdx)})})}e.assignCategoriesTokensProp=a;function l(v){t.forEach(v,function(m){c([],m)})}e.assignCategoriesMapProp=l;function c(v,m){t.forEach(v,function(g){m.categoryMatchesMap[g.tokenTypeIdx]=!0}),t.forEach(m.CATEGORIES,function(g){var b=v.concat(m);t.contains(b,g)||c(b,g)})}e.singleAssignCategoriesToksMap=c;function d(v){return t.has(v,"tokenTypeIdx")}e.hasShortKeyProperty=d;function u(v){return t.has(v,"CATEGORIES")}e.hasCategoriesProperty=u;function h(v){return t.has(v,"categoryMatches")}e.hasExtendingTokensTypesProperty=h;function f(v){return t.has(v,"categoryMatchesMap")}e.hasExtendingTokensTypesMapProperty=f;function p(v){return t.has(v,"tokenTypeIdx")}e.isTokenType=p}),Lie=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLexerErrorProvider=void 0,e.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,i,n,r,o){return"unexpected character: ->"+t.charAt(i)+"<- at offset: "+i+","+(" skipped "+n+" characters.")}}}),oI=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=e.LexerDefinitionErrorType=void 0;var t=Oie(),i=bo(),n=ES(),r=Lie(),o=sB(),s;(function(c){c[c.MISSING_PATTERN=0]="MISSING_PATTERN",c[c.INVALID_PATTERN=1]="INVALID_PATTERN",c[c.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",c[c.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",c[c.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",c[c.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",c[c.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",c[c.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",c[c.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",c[c.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",c[c.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",c[c.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",c[c.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",c[c.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",c[c.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",c[c.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",c[c.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(s=e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}));var a={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:r.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(a);var l=function(){function c(d,u){var h=this;if(u===void 0&&(u=a),this.lexerDefinition=d,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},typeof u=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=i.merge(a,u);var f=this.config.traceInitPerf;f===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof f=="number"&&(this.traceInitMaxIdent=f,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var p,v=!0;h.TRACE_INIT("Lexer Config handling",function(){if(h.config.lineTerminatorsPattern===a.lineTerminatorsPattern)h.config.lineTerminatorsPattern=t.LineTerminatorOptimizedTester;else if(h.config.lineTerminatorCharacters===a.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(u.safeMode&&u.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');h.trackStartLines=/full|onlyStart/i.test(h.config.positionTracking),h.trackEndLines=/full/i.test(h.config.positionTracking),i.isArray(d)?(p={modes:{}},p.modes[t.DEFAULT_MODE]=i.cloneArr(d),p[t.DEFAULT_MODE]=t.DEFAULT_MODE):(v=!1,p=i.cloneObj(d))}),h.config.skipValidations===!1&&(h.TRACE_INIT("performRuntimeChecks",function(){h.lexerDefinitionErrors=h.lexerDefinitionErrors.concat(t.performRuntimeChecks(p,h.trackStartLines,h.config.lineTerminatorCharacters))}),h.TRACE_INIT("performWarningRuntimeChecks",function(){h.lexerDefinitionWarning=h.lexerDefinitionWarning.concat(t.performWarningRuntimeChecks(p,h.trackStartLines,h.config.lineTerminatorCharacters))})),p.modes=p.modes?p.modes:{},i.forEach(p.modes,function(w,x){p.modes[x]=i.reject(w,function(R){return i.isUndefined(R)})});var m=i.keys(p.modes);if(i.forEach(p.modes,function(w,x){h.TRACE_INIT("Mode: <"+x+"> processing",function(){if(h.modes.push(x),h.config.skipValidations===!1&&h.TRACE_INIT("validatePatterns",function(){h.lexerDefinitionErrors=h.lexerDefinitionErrors.concat(t.validatePatterns(w,m))}),i.isEmpty(h.lexerDefinitionErrors)){n.augmentTokenTypes(w);var R;h.TRACE_INIT("analyzeTokenTypes",function(){R=t.analyzeTokenTypes(w,{lineTerminatorCharacters:h.config.lineTerminatorCharacters,positionTracking:u.positionTracking,ensureOptimizations:u.ensureOptimizations,safeMode:u.safeMode,tracer:h.TRACE_INIT.bind(h)})}),h.patternIdxToConfig[x]=R.patternIdxToConfig,h.charCodeToPatternIdxToConfig[x]=R.charCodeToPatternIdxToConfig,h.emptyGroups=i.merge(h.emptyGroups,R.emptyGroups),h.hasCustom=R.hasCustom||h.hasCustom,h.canModeBeOptimized[x]=R.canBeOptimized}})}),h.defaultMode=p.defaultMode,!i.isEmpty(h.lexerDefinitionErrors)&&!h.config.deferDefinitionErrorsHandling){var g=i.map(h.lexerDefinitionErrors,function(w){return w.message}),b=g.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+b)}i.forEach(h.lexerDefinitionWarning,function(w){i.PRINT_WARNING(w.message)}),h.TRACE_INIT("Choosing sub-methods implementations",function(){if(t.SUPPORT_STICKY?(h.chopInput=i.IDENTITY,h.match=h.matchWithTest):(h.updateLastIndex=i.NOOP,h.match=h.matchWithExec),v&&(h.handleModes=i.NOOP),h.trackStartLines===!1&&(h.computeNewColumn=i.IDENTITY),h.trackEndLines===!1&&(h.updateTokenEndLineColumnLocation=i.NOOP),/full/i.test(h.config.positionTracking))h.createTokenInstance=h.createFullToken;else if(/onlyStart/i.test(h.config.positionTracking))h.createTokenInstance=h.createStartOnlyToken;else if(/onlyOffset/i.test(h.config.positionTracking))h.createTokenInstance=h.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+h.config.positionTracking+'"');h.hasCustom?(h.addToken=h.addTokenUsingPush,h.handlePayload=h.handlePayloadWithCustom):(h.addToken=h.addTokenUsingMemberAccess,h.handlePayload=h.handlePayloadNoCustom)}),h.TRACE_INIT("Failed Optimization Warnings",function(){var w=i.reduce(h.canModeBeOptimized,function(x,R,_){return R===!1&&x.push(_),x},[]);if(u.ensureOptimizations&&!i.isEmpty(w))throw Error("Lexer Modes: < "+w.join(", ")+` > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),h.TRACE_INIT("clearRegExpParserCache",function(){o.clearRegExpParserCache()}),h.TRACE_INIT("toFastProperties",function(){i.toFastProperties(h)})})}return c.prototype.tokenize=function(d,u){if(u===void 0&&(u=this.defaultMode),!i.isEmpty(this.lexerDefinitionErrors)){var h=i.map(this.lexerDefinitionErrors,function(v){return v.message}),f=h.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+f)}var p=this.tokenizeInternal(d,u);return p},c.prototype.tokenizeInternal=function(d,u){var h=this,f,p,v,m,g,b,w,x,R,_,L,F,T,P,A,O=d,V=O.length,U=0,ae=0,ne=this.hasCustom?0:Math.floor(d.length/10),ue=new Array(ne),se=[],_e=this.trackStartLines?1:void 0,Ve=this.trackStartLines?1:void 0,Ge=t.cloneEmptyGroups(this.emptyGroups),K=this.trackStartLines,Q=this.config.lineTerminatorsPattern,ee=0,Z=[],G=[],W=[],ce=[];Object.freeze(ce);var me=void 0;function Me(){return Z}function He(Ye){var Be=t.charCodeToOptimizedIndex(Ye),ct=G[Be];return ct===void 0?ce:ct}var $e=function(Ye){if(W.length===1&&Ye.tokenType.PUSH_MODE===void 0){var Be=h.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Ye);se.push({offset:Ye.startOffset,line:Ye.startLine!==void 0?Ye.startLine:void 0,column:Ye.startColumn!==void 0?Ye.startColumn:void 0,length:Ye.image.length,message:Be})}else{W.pop();var ct=i.last(W);Z=h.patternIdxToConfig[ct],G=h.charCodeToPatternIdxToConfig[ct],ee=Z.length;var gt=h.canModeBeOptimized[ct]&&h.config.safeMode===!1;G&&gt?me=He:me=Me}};function Je(Ye){W.push(Ye),G=this.charCodeToPatternIdxToConfig[Ye],Z=this.patternIdxToConfig[Ye],ee=Z.length,ee=Z.length;var Be=this.canModeBeOptimized[Ye]&&this.config.safeMode===!1;G&&Be?me=He:me=Me}Je.call(this,u);for(var ve;U<V;){g=null;var ge=O.charCodeAt(U),pt=me(ge),vt=pt.length;for(f=0;f<vt;f++){ve=pt[f];var Pt=ve.pattern;b=null;var ft=ve.short;if(ft!==!1?ge===ft&&(g=Pt):ve.isCustom===!0?(A=Pt.exec(O,U,ue,Ge),A!==null?(g=A[0],A.payload!==void 0&&(b=A.payload)):g=null):(this.updateLastIndex(Pt,U),g=this.match(Pt,d,U)),g!==null){if(m=ve.longerAlt,m!==void 0){var kt=Z[m],be=kt.pattern;w=null,kt.isCustom===!0?(A=be.exec(O,U,ue,Ge),A!==null?(v=A[0],A.payload!==void 0&&(w=A.payload)):v=null):(this.updateLastIndex(be,U),v=this.match(be,d,U)),v&&v.length>g.length&&(g=v,b=w,ve=kt)}break}}if(g!==null){if(x=g.length,R=ve.group,R!==void 0&&(_=ve.tokenTypeIdx,L=this.createTokenInstance(g,U,_,ve.tokenType,_e,Ve,x),this.handlePayload(L,b),R===!1?ae=this.addToken(ue,ae,L):Ge[R].push(L)),d=this.chopInput(d,x),U=U+x,Ve=this.computeNewColumn(Ve,x),K===!0&&ve.canLineTerminator===!0){var oe=0,re=void 0,J=void 0;Q.lastIndex=0;do re=Q.test(g),re===!0&&(J=Q.lastIndex-1,oe++);while(re===!0);oe!==0&&(_e=_e+oe,Ve=x-J,this.updateTokenEndLineColumnLocation(L,R,J,oe,_e,Ve,x))}this.handleModes(ve,$e,Je,L)}else{for(var pe=U,Ee=_e,ke=Ve,Le=!1;!Le&&U<V;)for(T=O.charCodeAt(U),d=this.chopInput(d,1),U++,p=0;p<ee;p++){var Ne=Z[p],Pt=Ne.pattern,ft=Ne.short;if(ft!==!1?O.charCodeAt(U)===ft&&(Le=!0):Ne.isCustom===!0?Le=Pt.exec(O,U,ue,Ge)!==null:(this.updateLastIndex(Pt,U),Le=Pt.exec(d)!==null),Le===!0)break}F=U-pe,P=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(O,pe,F,Ee,ke),se.push({offset:pe,line:Ee,column:ke,length:F,message:P})}}return this.hasCustom||(ue.length=ae),{tokens:ue,groups:Ge,errors:se}},c.prototype.handleModes=function(d,u,h,f){if(d.pop===!0){var p=d.push;u(f),p!==void 0&&h.call(this,p)}else d.push!==void 0&&h.call(this,d.push)},c.prototype.chopInput=function(d,u){return d.substring(u)},c.prototype.updateLastIndex=function(d,u){d.lastIndex=u},c.prototype.updateTokenEndLineColumnLocation=function(d,u,h,f,p,v,m){var g,b;u!==void 0&&(g=h===m-1,b=g?-1:0,f===1&&g===!0||(d.endLine=p+b,d.endColumn=v-1+-b))},c.prototype.computeNewColumn=function(d,u){return d+u},c.prototype.createTokenInstance=function(){for(var d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];return null},c.prototype.createOffsetOnlyToken=function(d,u,h,f){return{image:d,startOffset:u,tokenTypeIdx:h,tokenType:f}},c.prototype.createStartOnlyToken=function(d,u,h,f,p,v){return{image:d,startOffset:u,startLine:p,startColumn:v,tokenTypeIdx:h,tokenType:f}},c.prototype.createFullToken=function(d,u,h,f,p,v,m){return{image:d,startOffset:u,endOffset:u+m-1,startLine:p,endLine:p,startColumn:v,endColumn:v+m-1,tokenTypeIdx:h,tokenType:f}},c.prototype.addToken=function(d,u,h){return 666},c.prototype.addTokenUsingPush=function(d,u,h){return d.push(h),u},c.prototype.addTokenUsingMemberAccess=function(d,u,h){return d[u]=h,u++,u},c.prototype.handlePayload=function(d,u){},c.prototype.handlePayloadNoCustom=function(d,u){},c.prototype.handlePayloadWithCustom=function(d,u){u!==null&&(d.payload=u)},c.prototype.match=function(d,u,h){return null},c.prototype.matchWithTest=function(d,u,h){var f=d.test(u);return f===!0?u.substring(h,d.lastIndex):null},c.prototype.matchWithExec=function(d,u){var h=d.exec(u);return h!==null?h[0]:h},c.prototype.TRACE_INIT=function(d,u){if(this.traceInitPerf===!0){this.traceInitIndent++;var h=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(h+"--> <"+d+">");var f=i.timer(u),p=f.time,v=f.value,m=p>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&m(h+"<-- <"+d+"> time: "+p+"ms"),this.traceInitIndent--,v}else return u()},c.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",c.NA=/NOT_APPLICABLE/,c}();e.Lexer=l}),Nv=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenMatcher=e.createTokenInstance=e.EOF=e.createToken=e.hasTokenLabel=e.tokenName=e.tokenLabel=void 0;var t=bo(),i=oI(),n=ES();function r(x){return s(x)?x.LABEL:x.name}e.tokenLabel=r;function o(x){return x.name}e.tokenName=o;function s(x){return t.isString(x.LABEL)&&x.LABEL!==""}e.hasTokenLabel=s;var a="parent",l="categories",c="label",d="group",u="push_mode",h="pop_mode",f="longer_alt",p="line_breaks",v="start_chars_hint";function m(x){return g(x)}e.createToken=m;function g(x){var R=x.pattern,_={};if(_.name=x.name,t.isUndefined(R)||(_.PATTERN=R),t.has(x,a))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return t.has(x,l)&&(_.CATEGORIES=x[l]),n.augmentTokenTypes([_]),t.has(x,c)&&(_.LABEL=x[c]),t.has(x,d)&&(_.GROUP=x[d]),t.has(x,h)&&(_.POP_MODE=x[h]),t.has(x,u)&&(_.PUSH_MODE=x[u]),t.has(x,f)&&(_.LONGER_ALT=x[f]),t.has(x,p)&&(_.LINE_BREAKS=x[p]),t.has(x,v)&&(_.START_CHARS_HINT=x[v]),_}e.EOF=m({name:"EOF",pattern:i.Lexer.NA}),n.augmentTokenTypes([e.EOF]);function b(x,R,_,L,F,T,P,A){return{image:R,startOffset:_,endOffset:L,startLine:F,endLine:T,startColumn:P,endColumn:A,tokenTypeIdx:x.tokenTypeIdx,tokenType:x}}e.createTokenInstance=b;function w(x,R){return n.tokenStructuredMatcher(x,R)}e.tokenMatcher=w}),Dd=vr(e=>{"use strict";var t=e&&e.__extends||function(){var g=function(b,w){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,R){x.__proto__=R}||function(x,R){for(var _ in R)Object.prototype.hasOwnProperty.call(R,_)&&(x[_]=R[_])},g(b,w)};return function(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");g(b,w);function x(){this.constructor=b}b.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.serializeProduction=e.serializeGrammar=e.Terminal=e.Alternation=e.RepetitionWithSeparator=e.Repetition=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Option=e.Alternative=e.Rule=e.NonTerminal=e.AbstractProduction=void 0;var i=bo(),n=Nv(),r=function(){function g(b){this._definition=b}return Object.defineProperty(g.prototype,"definition",{get:function(){return this._definition},set:function(b){this._definition=b},enumerable:!1,configurable:!0}),g.prototype.accept=function(b){b.visit(this),i.forEach(this.definition,function(w){w.accept(b)})},g}();e.AbstractProduction=r;var o=function(g){t(b,g);function b(w){var x=g.call(this,[])||this;return x.idx=1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return Object.defineProperty(b.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(w){},enumerable:!1,configurable:!0}),b.prototype.accept=function(w){w.visit(this)},b}(r);e.NonTerminal=o;var s=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.orgText="",i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.Rule=s;var a=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.ignoreAmbiguities=!1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.Alternative=a;var l=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.idx=1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.Option=l;var c=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.idx=1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.RepetitionMandatory=c;var d=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.idx=1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.RepetitionMandatoryWithSeparator=d;var u=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.idx=1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.Repetition=u;var h=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.idx=1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return b}(r);e.RepetitionWithSeparator=h;var f=function(g){t(b,g);function b(w){var x=g.call(this,w.definition)||this;return x.idx=1,x.ignoreAmbiguities=!1,x.hasPredicates=!1,i.assign(x,i.pick(w,function(R){return R!==void 0})),x}return Object.defineProperty(b.prototype,"definition",{get:function(){return this._definition},set:function(w){this._definition=w},enumerable:!1,configurable:!0}),b}(r);e.Alternation=f;var p=function(){function g(b){this.idx=1,i.assign(this,i.pick(b,function(w){return w!==void 0}))}return g.prototype.accept=function(b){b.visit(this)},g}();e.Terminal=p;function v(g){return i.map(g,m)}e.serializeGrammar=v;function m(g){function b(R){return i.map(R,m)}if(g instanceof o)return{type:"NonTerminal",name:g.nonTerminalName,idx:g.idx};if(g instanceof a)return{type:"Alternative",definition:b(g.definition)};if(g instanceof l)return{type:"Option",idx:g.idx,definition:b(g.definition)};if(g instanceof c)return{type:"RepetitionMandatory",idx:g.idx,definition:b(g.definition)};if(g instanceof d)return{type:"RepetitionMandatoryWithSeparator",idx:g.idx,separator:m(new p({terminalType:g.separator})),definition:b(g.definition)};if(g instanceof h)return{type:"RepetitionWithSeparator",idx:g.idx,separator:m(new p({terminalType:g.separator})),definition:b(g.definition)};if(g instanceof u)return{type:"Repetition",idx:g.idx,definition:b(g.definition)};if(g instanceof f)return{type:"Alternation",idx:g.idx,definition:b(g.definition)};if(g instanceof p){var w={type:"Terminal",name:g.terminalType.name,label:n.tokenLabel(g.terminalType),idx:g.idx},x=g.terminalType.PATTERN;return g.terminalType.PATTERN&&(w.pattern=i.isRegExp(x)?x.source:x),w}else{if(g instanceof s)return{type:"Rule",name:g.name,orgText:g.orgText,definition:b(g.definition)};throw Error("non exhaustive match")}}e.serializeProduction=m}),aB=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RestWalker=void 0;var t=bo(),i=Dd(),n=function(){function o(){}return o.prototype.walk=function(s,a){var l=this;a===void 0&&(a=[]),t.forEach(s.definition,function(c,d){var u=t.drop(s.definition,d+1);if(c instanceof i.NonTerminal)l.walkProdRef(c,u,a);else if(c instanceof i.Terminal)l.walkTerminal(c,u,a);else if(c instanceof i.Alternative)l.walkFlat(c,u,a);else if(c instanceof i.Option)l.walkOption(c,u,a);else if(c instanceof i.RepetitionMandatory)l.walkAtLeastOne(c,u,a);else if(c instanceof i.RepetitionMandatoryWithSeparator)l.walkAtLeastOneSep(c,u,a);else if(c instanceof i.RepetitionWithSeparator)l.walkManySep(c,u,a);else if(c instanceof i.Repetition)l.walkMany(c,u,a);else if(c instanceof i.Alternation)l.walkOr(c,u,a);else throw Error("non exhaustive match")})},o.prototype.walkTerminal=function(s,a,l){},o.prototype.walkProdRef=function(s,a,l){},o.prototype.walkFlat=function(s,a,l){var c=a.concat(l);this.walk(s,c)},o.prototype.walkOption=function(s,a,l){var c=a.concat(l);this.walk(s,c)},o.prototype.walkAtLeastOne=function(s,a,l){var c=[new i.Option({definition:s.definition})].concat(a,l);this.walk(s,c)},o.prototype.walkAtLeastOneSep=function(s,a,l){var c=r(s,a,l);this.walk(s,c)},o.prototype.walkMany=function(s,a,l){var c=[new i.Option({definition:s.definition})].concat(a,l);this.walk(s,c)},o.prototype.walkManySep=function(s,a,l){var c=r(s,a,l);this.walk(s,c)},o.prototype.walkOr=function(s,a,l){var c=this,d=a.concat(l);t.forEach(s.definition,function(u){var h=new i.Alternative({definition:[u]});c.walk(h,d)})},o}();e.RestWalker=n;function r(o,s,a){var l=[new i.Option({definition:[new i.Terminal({terminalType:o.separator})].concat(o.definition)})],c=l.concat(s,a);return c}}),DS=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GAstVisitor=void 0;var t=Dd(),i=function(){function n(){}return n.prototype.visit=function(r){var o=r;switch(o.constructor){case t.NonTerminal:return this.visitNonTerminal(o);case t.Alternative:return this.visitAlternative(o);case t.Option:return this.visitOption(o);case t.RepetitionMandatory:return this.visitRepetitionMandatory(o);case t.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(o);case t.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(o);case t.Repetition:return this.visitRepetition(o);case t.Alternation:return this.visitAlternation(o);case t.Terminal:return this.visitTerminal(o);case t.Rule:return this.visitRule(o);default:throw Error("non exhaustive match")}},n.prototype.visitNonTerminal=function(r){},n.prototype.visitAlternative=function(r){},n.prototype.visitOption=function(r){},n.prototype.visitRepetition=function(r){},n.prototype.visitRepetitionMandatory=function(r){},n.prototype.visitRepetitionMandatoryWithSeparator=function(r){},n.prototype.visitRepetitionWithSeparator=function(r){},n.prototype.visitAlternation=function(r){},n.prototype.visitTerminal=function(r){},n.prototype.visitRule=function(r){},n}();e.GAstVisitor=i}),sI=vr(e=>{"use strict";var t=e&&e.__extends||function(){var h=function(f,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])},h(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.collectMethods=e.DslMethodsCollectorVisitor=e.getProductionDslName=e.isBranchingProd=e.isOptionalProd=e.isSequenceProd=void 0;var i=bo(),n=Dd(),r=DS();function o(h){return h instanceof n.Alternative||h instanceof n.Option||h instanceof n.Repetition||h instanceof n.RepetitionMandatory||h instanceof n.RepetitionMandatoryWithSeparator||h instanceof n.RepetitionWithSeparator||h instanceof n.Terminal||h instanceof n.Rule}e.isSequenceProd=o;function s(h,f){f===void 0&&(f=[]);var p=h instanceof n.Option||h instanceof n.Repetition||h instanceof n.RepetitionWithSeparator;return p?!0:h instanceof n.Alternation?i.some(h.definition,function(v){return s(v,f)}):h instanceof n.NonTerminal&&i.contains(f,h)?!1:h instanceof n.AbstractProduction?(h instanceof n.NonTerminal&&f.push(h),i.every(h.definition,function(v){return s(v,f)})):!1}e.isOptionalProd=s;function a(h){return h instanceof n.Alternation}e.isBranchingProd=a;function l(h){if(h instanceof n.NonTerminal)return"SUBRULE";if(h instanceof n.Option)return"OPTION";if(h instanceof n.Alternation)return"OR";if(h instanceof n.RepetitionMandatory)return"AT_LEAST_ONE";if(h instanceof n.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(h instanceof n.RepetitionWithSeparator)return"MANY_SEP";if(h instanceof n.Repetition)return"MANY";if(h instanceof n.Terminal)return"CONSUME";throw Error("non exhaustive match")}e.getProductionDslName=l;var c=function(h){t(f,h);function f(){var p=h!==null&&h.apply(this,arguments)||this;return p.separator="-",p.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},p}return f.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},f.prototype.visitTerminal=function(p){var v=p.terminalType.name+this.separator+"Terminal";i.has(this.dslMethods,v)||(this.dslMethods[v]=[]),this.dslMethods[v].push(p)},f.prototype.visitNonTerminal=function(p){var v=p.nonTerminalName+this.separator+"Terminal";i.has(this.dslMethods,v)||(this.dslMethods[v]=[]),this.dslMethods[v].push(p)},f.prototype.visitOption=function(p){this.dslMethods.option.push(p)},f.prototype.visitRepetitionWithSeparator=function(p){this.dslMethods.repetitionWithSeparator.push(p)},f.prototype.visitRepetitionMandatory=function(p){this.dslMethods.repetitionMandatory.push(p)},f.prototype.visitRepetitionMandatoryWithSeparator=function(p){this.dslMethods.repetitionMandatoryWithSeparator.push(p)},f.prototype.visitRepetition=function(p){this.dslMethods.repetition.push(p)},f.prototype.visitAlternation=function(p){this.dslMethods.alternation.push(p)},f}(r.GAstVisitor);e.DslMethodsCollectorVisitor=c;var d=new c;function u(h){d.reset(),h.accept(d);var f=d.dslMethods;return d.reset(),f}e.collectMethods=u}),Nie=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.firstForTerminal=e.firstForBranching=e.firstForSequence=e.first=void 0;var t=bo(),i=Dd(),n=sI();function r(l){if(l instanceof i.NonTerminal)return r(l.referencedRule);if(l instanceof i.Terminal)return a(l);if(n.isSequenceProd(l))return o(l);if(n.isBranchingProd(l))return s(l);throw Error("non exhaustive match")}e.first=r;function o(l){for(var c=[],d=l.definition,u=0,h=d.length>u,f,p=!0;h&&p;)f=d[u],p=n.isOptionalProd(f),c=c.concat(r(f)),u=u+1,h=d.length>u;return t.uniq(c)}e.firstForSequence=o;function s(l){var c=t.map(l.definition,function(d){return r(d)});return t.uniq(t.flatten(c))}e.firstForBranching=s;function a(l){return[l.terminalType]}e.firstForTerminal=a}),Bie=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IN=void 0,e.IN="_~IN~_"}),uVe=vr(e=>{"use strict";var t=e&&e.__extends||function(){var u=function(h,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(p[m]=v[m])},u(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.buildInProdFollowPrefix=e.buildBetweenProdsFollowPrefix=e.computeAllProdsFollows=e.ResyncFollowsWalker=void 0;var i=aB(),n=Nie(),r=bo(),o=Bie(),s=Dd(),a=function(u){t(h,u);function h(f){var p=u.call(this)||this;return p.topProd=f,p.follows={},p}return h.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},h.prototype.walkTerminal=function(f,p,v){},h.prototype.walkProdRef=function(f,p,v){var m=c(f.referencedRule,f.idx)+this.topProd.name,g=p.concat(v),b=new s.Alternative({definition:g}),w=n.first(b);this.follows[m]=w},h}(i.RestWalker);e.ResyncFollowsWalker=a;function l(u){var h={};return r.forEach(u,function(f){var p=new a(f).startWalking();r.assign(h,p)}),h}e.computeAllProdsFollows=l;function c(u,h){return u.name+h+o.IN}e.buildBetweenProdsFollowPrefix=c;function d(u){var h=u.terminalType.name;return h+u.idx+o.IN}e.buildInProdFollowPrefix=d}),aI=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGrammarValidatorErrorProvider=e.defaultGrammarResolverErrorProvider=e.defaultParserErrorProvider=void 0;var t=Nv(),i=bo(),n=bo(),r=Dd(),o=sI();e.defaultParserErrorProvider={buildMismatchTokenMessage:function(s){var a=s.expected,l=s.actual,c=s.previous,d=s.ruleName,u=t.hasTokenLabel(a),h=u?"--> "+t.tokenLabel(a)+" <--":"token of type --> "+a.name+" <--",f="Expecting "+h+" but found --> '"+l.image+"' <--";return f},buildNotAllInputParsedMessage:function(s){var a=s.firstRedundant,l=s.ruleName;return"Redundant input, expecting EOF but found: "+a.image},buildNoViableAltMessage:function(s){var a=s.expectedPathsPerAlt,l=s.actual,c=s.previous,d=s.customUserDescription,u=s.ruleName,h="Expecting: ",f=n.first(l).image,p=`
but found: '`+f+"'";if(d)return h+d+p;var v=n.reduce(a,function(w,x){return w.concat(x)},[]),m=n.map(v,function(w){return"["+n.map(w,function(x){return t.tokenLabel(x)}).join(", ")+"]"}),g=n.map(m,function(w,x){return"  "+(x+1)+". "+w}),b=`one of these possible Token sequences:
`+g.join(`
`);return h+b+p},buildEarlyExitMessage:function(s){var a=s.expectedIterationPaths,l=s.actual,c=s.customUserDescription,d=s.ruleName,u="Expecting: ",h=n.first(l).image,f=`
but found: '`+h+"'";if(c)return u+c+f;var p=n.map(a,function(m){return"["+n.map(m,function(g){return t.tokenLabel(g)}).join(",")+"]"}),v=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+("<"+p.join(" ,")+">");return u+v+f}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(s,a){var l="Invalid grammar, reference to a rule which is not defined: ->"+a.nonTerminalName+`<-
inside top level rule: ->`+s.name+"<-";return l}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(s,a){function l(m){return m instanceof r.Terminal?m.terminalType.name:m instanceof r.NonTerminal?m.nonTerminalName:""}var c=s.name,d=n.first(a),u=d.idx,h=o.getProductionDslName(d),f=l(d),p=u>0,v="->"+h+(p?u:"")+"<- "+(f?"with argument: ->"+f+"<-":"")+`
                  appears more than once (`+a.length+" times) in the top level rule: ->"+c+`<-.
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES
                  `;return v=v.replace(/[ \t]+/g," "),v=v.replace(/\s\s+/g,`
`),v},buildNamespaceConflictError:function(s){var a=`Namespace conflict found in grammar.
`+("The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+s.name+`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return a},buildAlternationPrefixAmbiguityError:function(s){var a=n.map(s.prefixPath,function(d){return t.tokenLabel(d)}).join(", "),l=s.alternation.idx===0?"":s.alternation.idx,c="Ambiguous alternatives: <"+s.ambiguityIndices.join(" ,")+`> due to common lookahead prefix
`+("in <OR"+l+"> inside <"+s.topLevelRule.name+`> Rule,
`)+("<"+a+`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return c},buildAlternationAmbiguityError:function(s){var a=n.map(s.prefixPath,function(d){return t.tokenLabel(d)}).join(", "),l=s.alternation.idx===0?"":s.alternation.idx,c="Ambiguous Alternatives Detected: <"+s.ambiguityIndices.join(" ,")+"> in <OR"+l+">"+(" inside <"+s.topLevelRule.name+`> Rule,
`)+("<"+a+`> may appears as a prefix path in all these alternatives.
`);return c=c+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,c},buildEmptyRepetitionError:function(s){var a=o.getProductionDslName(s.repetition);s.repetition.idx!==0&&(a+=s.repetition.idx);var l="The repetition <"+a+"> within Rule <"+s.topLevelRule.name+`> can never consume any tokens.
This could lead to an infinite loop.`;return l},buildTokenNameError:function(s){return"deprecated"},buildEmptyAlternationError:function(s){var a="Ambiguous empty alternative: <"+(s.emptyChoiceIdx+1)+">"+(" in <OR"+s.alternation.idx+"> inside <"+s.topLevelRule.name+`> Rule.
`)+"Only the last alternative may be an empty alternative.";return a},buildTooManyAlternativesError:function(s){var a=`An Alternation cannot have more than 256 alternatives:
`+("<OR"+s.alternation.idx+"> inside <"+s.topLevelRule.name+`> Rule.
 has `+(s.alternation.definition.length+1)+" alternatives.");return a},buildLeftRecursionError:function(s){var a=s.topLevelRule.name,l=i.map(s.leftRecursionPath,function(u){return u.name}),c=a+" --> "+l.concat([a]).join(" --> "),d=`Left Recursion found in grammar.
`+("rule: <"+a+`> can be invoked from itself (directly or indirectly)
`)+(`without consuming any Tokens. The grammar path that causes this is:
 `+c+`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.`;return d},buildInvalidRuleNameError:function(s){return"deprecated"},buildDuplicateRuleNameError:function(s){var a;s.topLevelRule instanceof r.Rule?a=s.topLevelRule.name:a=s.topLevelRule;var l="Duplicate definition, rule: ->"+a+"<- is already defined in the grammar: ->"+s.grammarName+"<-";return l}}}),hVe=vr(e=>{"use strict";var t=e&&e.__extends||function(){var a=function(l,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(d[h]=u[h])},a(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.GastRefResolverVisitor=e.resolveGrammar=void 0;var i=fu(),n=bo(),r=DS();function o(a,l){var c=new s(a,l);return c.resolveRefs(),c.errors}e.resolveGrammar=o;var s=function(a){t(l,a);function l(c,d){var u=a.call(this)||this;return u.nameToTopRule=c,u.errMsgProvider=d,u.errors=[],u}return l.prototype.resolveRefs=function(){var c=this;n.forEach(n.values(this.nameToTopRule),function(d){c.currTopLevel=d,d.accept(c)})},l.prototype.visitNonTerminal=function(c){var d=this.nameToTopRule[c.nonTerminalName];if(d)c.referencedRule=d;else{var u=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,c);this.errors.push({message:u,type:i.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:c.nonTerminalName})}},l}(r.GAstVisitor);e.GastRefResolverVisitor=s}),lI=vr(e=>{"use strict";var t=e&&e.__extends||function(){var m=function(g,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(w[R]=x[R])},m(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");m(g,b);function w(){this.constructor=g}g.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.nextPossibleTokensAfter=e.possiblePathsFrom=e.NextTerminalAfterAtLeastOneSepWalker=e.NextTerminalAfterAtLeastOneWalker=e.NextTerminalAfterManySepWalker=e.NextTerminalAfterManyWalker=e.AbstractNextTerminalAfterProductionWalker=e.NextAfterTokenWalker=e.AbstractNextPossibleTokensWalker=void 0;var i=aB(),n=bo(),r=Nie(),o=Dd(),s=function(m){t(g,m);function g(b,w){var x=m.call(this)||this;return x.topProd=b,x.path=w,x.possibleTokTypes=[],x.nextProductionName="",x.nextProductionOccurrence=0,x.found=!1,x.isAtEndOfPath=!1,x}return g.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=n.cloneArr(this.path.ruleStack).reverse(),this.occurrenceStack=n.cloneArr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},g.prototype.walk=function(b,w){w===void 0&&(w=[]),this.found||m.prototype.walk.call(this,b,w)},g.prototype.walkProdRef=function(b,w,x){if(b.referencedRule.name===this.nextProductionName&&b.idx===this.nextProductionOccurrence){var R=w.concat(x);this.updateExpectedNext(),this.walk(b.referencedRule,R)}},g.prototype.updateExpectedNext=function(){n.isEmpty(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},g}(i.RestWalker);e.AbstractNextPossibleTokensWalker=s;var a=function(m){t(g,m);function g(b,w){var x=m.call(this,b,w)||this;return x.path=w,x.nextTerminalName="",x.nextTerminalOccurrence=0,x.nextTerminalName=x.path.lastTok.name,x.nextTerminalOccurrence=x.path.lastTokOccurrence,x}return g.prototype.walkTerminal=function(b,w,x){if(this.isAtEndOfPath&&b.terminalType.name===this.nextTerminalName&&b.idx===this.nextTerminalOccurrence&&!this.found){var R=w.concat(x),_=new o.Alternative({definition:R});this.possibleTokTypes=r.first(_),this.found=!0}},g}(s);e.NextAfterTokenWalker=a;var l=function(m){t(g,m);function g(b,w){var x=m.call(this)||this;return x.topRule=b,x.occurrence=w,x.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},x}return g.prototype.startWalking=function(){return this.walk(this.topRule),this.result},g}(i.RestWalker);e.AbstractNextTerminalAfterProductionWalker=l;var c=function(m){t(g,m);function g(){return m!==null&&m.apply(this,arguments)||this}return g.prototype.walkMany=function(b,w,x){if(b.idx===this.occurrence){var R=n.first(w.concat(x));this.result.isEndOfRule=R===void 0,R instanceof o.Terminal&&(this.result.token=R.terminalType,this.result.occurrence=R.idx)}else m.prototype.walkMany.call(this,b,w,x)},g}(l);e.NextTerminalAfterManyWalker=c;var d=function(m){t(g,m);function g(){return m!==null&&m.apply(this,arguments)||this}return g.prototype.walkManySep=function(b,w,x){if(b.idx===this.occurrence){var R=n.first(w.concat(x));this.result.isEndOfRule=R===void 0,R instanceof o.Terminal&&(this.result.token=R.terminalType,this.result.occurrence=R.idx)}else m.prototype.walkManySep.call(this,b,w,x)},g}(l);e.NextTerminalAfterManySepWalker=d;var u=function(m){t(g,m);function g(){return m!==null&&m.apply(this,arguments)||this}return g.prototype.walkAtLeastOne=function(b,w,x){if(b.idx===this.occurrence){var R=n.first(w.concat(x));this.result.isEndOfRule=R===void 0,R instanceof o.Terminal&&(this.result.token=R.terminalType,this.result.occurrence=R.idx)}else m.prototype.walkAtLeastOne.call(this,b,w,x)},g}(l);e.NextTerminalAfterAtLeastOneWalker=u;var h=function(m){t(g,m);function g(){return m!==null&&m.apply(this,arguments)||this}return g.prototype.walkAtLeastOneSep=function(b,w,x){if(b.idx===this.occurrence){var R=n.first(w.concat(x));this.result.isEndOfRule=R===void 0,R instanceof o.Terminal&&(this.result.token=R.terminalType,this.result.occurrence=R.idx)}else m.prototype.walkAtLeastOneSep.call(this,b,w,x)},g}(l);e.NextTerminalAfterAtLeastOneSepWalker=h;function f(m,g,b){b===void 0&&(b=[]),b=n.cloneArr(b);var w=[],x=0;function R(T){return T.concat(n.drop(m,x+1))}function _(T){var P=f(R(T),g,b);return w.concat(P)}for(;b.length<g&&x<m.length;){var L=m[x];if(L instanceof o.Alternative||L instanceof o.NonTerminal)return _(L.definition);if(L instanceof o.Option)w=_(L.definition);else if(L instanceof o.RepetitionMandatory){var F=L.definition.concat([new o.Repetition({definition:L.definition})]);return _(F)}else if(L instanceof o.RepetitionMandatoryWithSeparator){var F=[new o.Alternative({definition:L.definition}),new o.Repetition({definition:[new o.Terminal({terminalType:L.separator})].concat(L.definition)})];return _(F)}else if(L instanceof o.RepetitionWithSeparator){var F=L.definition.concat([new o.Repetition({definition:[new o.Terminal({terminalType:L.separator})].concat(L.definition)})]);w=_(F)}else if(L instanceof o.Repetition){var F=L.definition.concat([new o.Repetition({definition:L.definition})]);w=_(F)}else{if(L instanceof o.Alternation)return n.forEach(L.definition,function(T){n.isEmpty(T.definition)===!1&&(w=_(T.definition))}),w;if(L instanceof o.Terminal)b.push(L.terminalType);else throw Error("non exhaustive match")}x++}return w.push({partialPath:b,suffixDef:n.drop(m,x)}),w}e.possiblePathsFrom=f;function p(m,g,b,w){var x="EXIT_NONE_TERMINAL",R=[x],_="EXIT_ALTERNATIVE",L=!1,F=g.length,T=F-w-1,P=[],A=[];for(A.push({idx:-1,def:m,ruleStack:[],occurrenceStack:[]});!n.isEmpty(A);){var O=A.pop();if(O===_){L&&n.last(A).idx<=T&&A.pop();continue}var V=O.def,U=O.idx,ae=O.ruleStack,ne=O.occurrenceStack;if(!n.isEmpty(V)){var ue=V[0];if(ue===x){var se={idx:U,def:n.drop(V),ruleStack:n.dropRight(ae),occurrenceStack:n.dropRight(ne)};A.push(se)}else if(ue instanceof o.Terminal)if(U<F-1){var _e=U+1,Ve=g[_e];if(b(Ve,ue.terminalType)){var se={idx:_e,def:n.drop(V),ruleStack:ae,occurrenceStack:ne};A.push(se)}}else if(U===F-1)P.push({nextTokenType:ue.terminalType,nextTokenOccurrence:ue.idx,ruleStack:ae,occurrenceStack:ne}),L=!0;else throw Error("non exhaustive match");else if(ue instanceof o.NonTerminal){var Ge=n.cloneArr(ae);Ge.push(ue.nonTerminalName);var K=n.cloneArr(ne);K.push(ue.idx);var se={idx:U,def:ue.definition.concat(R,n.drop(V)),ruleStack:Ge,occurrenceStack:K};A.push(se)}else if(ue instanceof o.Option){var Q={idx:U,def:n.drop(V),ruleStack:ae,occurrenceStack:ne};A.push(Q),A.push(_);var ee={idx:U,def:ue.definition.concat(n.drop(V)),ruleStack:ae,occurrenceStack:ne};A.push(ee)}else if(ue instanceof o.RepetitionMandatory){var Z=new o.Repetition({definition:ue.definition,idx:ue.idx}),G=ue.definition.concat([Z],n.drop(V)),se={idx:U,def:G,ruleStack:ae,occurrenceStack:ne};A.push(se)}else if(ue instanceof o.RepetitionMandatoryWithSeparator){var W=new o.Terminal({terminalType:ue.separator}),Z=new o.Repetition({definition:[W].concat(ue.definition),idx:ue.idx}),G=ue.definition.concat([Z],n.drop(V)),se={idx:U,def:G,ruleStack:ae,occurrenceStack:ne};A.push(se)}else if(ue instanceof o.RepetitionWithSeparator){var Q={idx:U,def:n.drop(V),ruleStack:ae,occurrenceStack:ne};A.push(Q),A.push(_);var W=new o.Terminal({terminalType:ue.separator}),ce=new o.Repetition({definition:[W].concat(ue.definition),idx:ue.idx}),G=ue.definition.concat([ce],n.drop(V)),ee={idx:U,def:G,ruleStack:ae,occurrenceStack:ne};A.push(ee)}else if(ue instanceof o.Repetition){var Q={idx:U,def:n.drop(V),ruleStack:ae,occurrenceStack:ne};A.push(Q),A.push(_);var ce=new o.Repetition({definition:ue.definition,idx:ue.idx}),G=ue.definition.concat([ce],n.drop(V)),ee={idx:U,def:G,ruleStack:ae,occurrenceStack:ne};A.push(ee)}else if(ue instanceof o.Alternation)for(var me=ue.definition.length-1;me>=0;me--){var Me=ue.definition[me],He={idx:U,def:Me.definition.concat(n.drop(V)),ruleStack:ae,occurrenceStack:ne};A.push(He),A.push(_)}else if(ue instanceof o.Alternative)A.push({idx:U,def:ue.definition.concat(n.drop(V)),ruleStack:ae,occurrenceStack:ne});else if(ue instanceof o.Rule)A.push(v(ue,U,ae,ne));else throw Error("non exhaustive match")}}return P}e.nextPossibleTokensAfter=p;function v(m,g,b,w){var x=n.cloneArr(b);x.push(m.name);var R=n.cloneArr(w);return R.push(1),{idx:g,def:m.definition,ruleStack:x,occurrenceStack:R}}}),cI=vr(e=>{"use strict";var t=e&&e.__extends||function(){var T=function(P,A){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var U in V)Object.prototype.hasOwnProperty.call(V,U)&&(O[U]=V[U])},T(P,A)};return function(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");T(P,A);function O(){this.constructor=P}P.prototype=A===null?Object.create(A):(O.prototype=A.prototype,new O)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.areTokenCategoriesNotUsed=e.isStrictPrefixOfPath=e.containsPath=e.getLookaheadPathsForOptionalProd=e.getLookaheadPathsForOr=e.lookAheadSequenceFromAlternatives=e.buildSingleAlternativeLookaheadFunction=e.buildAlternativesLookAheadFunc=e.buildLookaheadFuncForOptionalProd=e.buildLookaheadFuncForOr=e.getProdType=e.PROD_TYPE=void 0;var i=bo(),n=lI(),r=aB(),o=ES(),s=Dd(),a=DS(),l;(function(T){T[T.OPTION=0]="OPTION",T[T.REPETITION=1]="REPETITION",T[T.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",T[T.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",T[T.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",T[T.ALTERNATION=5]="ALTERNATION"})(l=e.PROD_TYPE||(e.PROD_TYPE={}));function c(T){if(T instanceof s.Option)return l.OPTION;if(T instanceof s.Repetition)return l.REPETITION;if(T instanceof s.RepetitionMandatory)return l.REPETITION_MANDATORY;if(T instanceof s.RepetitionMandatoryWithSeparator)return l.REPETITION_MANDATORY_WITH_SEPARATOR;if(T instanceof s.RepetitionWithSeparator)return l.REPETITION_WITH_SEPARATOR;if(T instanceof s.Alternation)return l.ALTERNATION;throw Error("non exhaustive match")}e.getProdType=c;function d(T,P,A,O,V,U){var ae=x(T,P,A),ne=F(ae)?o.tokenStructuredMatcherNoCategories:o.tokenStructuredMatcher;return U(ae,O,ne,V)}e.buildLookaheadFuncForOr=d;function u(T,P,A,O,V,U){var ae=R(T,P,V,A),ne=F(ae)?o.tokenStructuredMatcherNoCategories:o.tokenStructuredMatcher;return U(ae[0],ne,O)}e.buildLookaheadFuncForOptionalProd=u;function h(T,P,A,O){var V=T.length,U=i.every(T,function(ue){return i.every(ue,function(se){return se.length===1})});if(P)return function(ue){for(var se=i.map(ue,function(ce){return ce.GATE}),_e=0;_e<V;_e++){var Ve=T[_e],Ge=Ve.length,K=se[_e];if(!(K!==void 0&&K.call(this)===!1))e:for(var Q=0;Q<Ge;Q++){for(var ee=Ve[Q],Z=ee.length,G=0;G<Z;G++){var W=this.LA(G+1);if(A(W,ee[G])===!1)continue e}return _e}}};if(U&&!O){var ae=i.map(T,function(ue){return i.flatten(ue)}),ne=i.reduce(ae,function(ue,se,_e){return i.forEach(se,function(Ve){i.has(ue,Ve.tokenTypeIdx)||(ue[Ve.tokenTypeIdx]=_e),i.forEach(Ve.categoryMatches,function(Ge){i.has(ue,Ge)||(ue[Ge]=_e)})}),ue},[]);return function(){var ue=this.LA(1);return ne[ue.tokenTypeIdx]}}else return function(){for(var ue=0;ue<V;ue++){var se=T[ue],_e=se.length;e:for(var Ve=0;Ve<_e;Ve++){for(var Ge=se[Ve],K=Ge.length,Q=0;Q<K;Q++){var ee=this.LA(Q+1);if(A(ee,Ge[Q])===!1)continue e}return ue}}}}e.buildAlternativesLookAheadFunc=h;function f(T,P,A){var O=i.every(T,function(se){return se.length===1}),V=T.length;if(O&&!A){var U=i.flatten(T);if(U.length===1&&i.isEmpty(U[0].categoryMatches)){var ae=U[0],ne=ae.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===ne}}else{var ue=i.reduce(U,function(se,_e,Ve){return se[_e.tokenTypeIdx]=!0,i.forEach(_e.categoryMatches,function(Ge){se[Ge]=!0}),se},[]);return function(){var se=this.LA(1);return ue[se.tokenTypeIdx]===!0}}}else return function(){e:for(var se=0;se<V;se++){for(var _e=T[se],Ve=_e.length,Ge=0;Ge<Ve;Ge++){var K=this.LA(Ge+1);if(P(K,_e[Ge])===!1)continue e}return!0}return!1}}e.buildSingleAlternativeLookaheadFunction=f;var p=function(T){t(P,T);function P(A,O,V){var U=T.call(this)||this;return U.topProd=A,U.targetOccurrence=O,U.targetProdType=V,U}return P.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},P.prototype.checkIsTarget=function(A,O,V,U){return A.idx===this.targetOccurrence&&this.targetProdType===O?(this.restDef=V.concat(U),!0):!1},P.prototype.walkOption=function(A,O,V){this.checkIsTarget(A,l.OPTION,O,V)||T.prototype.walkOption.call(this,A,O,V)},P.prototype.walkAtLeastOne=function(A,O,V){this.checkIsTarget(A,l.REPETITION_MANDATORY,O,V)||T.prototype.walkOption.call(this,A,O,V)},P.prototype.walkAtLeastOneSep=function(A,O,V){this.checkIsTarget(A,l.REPETITION_MANDATORY_WITH_SEPARATOR,O,V)||T.prototype.walkOption.call(this,A,O,V)},P.prototype.walkMany=function(A,O,V){this.checkIsTarget(A,l.REPETITION,O,V)||T.prototype.walkOption.call(this,A,O,V)},P.prototype.walkManySep=function(A,O,V){this.checkIsTarget(A,l.REPETITION_WITH_SEPARATOR,O,V)||T.prototype.walkOption.call(this,A,O,V)},P}(r.RestWalker),v=function(T){t(P,T);function P(A,O,V){var U=T.call(this)||this;return U.targetOccurrence=A,U.targetProdType=O,U.targetRef=V,U.result=[],U}return P.prototype.checkIsTarget=function(A,O){A.idx===this.targetOccurrence&&this.targetProdType===O&&(this.targetRef===void 0||A===this.targetRef)&&(this.result=A.definition)},P.prototype.visitOption=function(A){this.checkIsTarget(A,l.OPTION)},P.prototype.visitRepetition=function(A){this.checkIsTarget(A,l.REPETITION)},P.prototype.visitRepetitionMandatory=function(A){this.checkIsTarget(A,l.REPETITION_MANDATORY)},P.prototype.visitRepetitionMandatoryWithSeparator=function(A){this.checkIsTarget(A,l.REPETITION_MANDATORY_WITH_SEPARATOR)},P.prototype.visitRepetitionWithSeparator=function(A){this.checkIsTarget(A,l.REPETITION_WITH_SEPARATOR)},P.prototype.visitAlternation=function(A){this.checkIsTarget(A,l.ALTERNATION)},P}(a.GAstVisitor);function m(T){for(var P=new Array(T),A=0;A<T;A++)P[A]=[];return P}function g(T){for(var P=[""],A=0;A<T.length;A++){for(var O=T[A],V=[],U=0;U<P.length;U++){var ae=P[U];V.push(ae+"_"+O.tokenTypeIdx);for(var ne=0;ne<O.categoryMatches.length;ne++){var ue="_"+O.categoryMatches[ne];V.push(ae+ue)}}P=V}return P}function b(T,P,A){for(var O=0;O<T.length;O++)if(O!==A)for(var V=T[O],U=0;U<P.length;U++){var ae=P[U];if(V[ae]===!0)return!1}return!0}function w(T,P){for(var A=i.map(T,function(_e){return n.possiblePathsFrom([_e],1)}),O=m(A.length),V=i.map(A,function(_e){var Ve={};return i.forEach(_e,function(Ge){var K=g(Ge.partialPath);i.forEach(K,function(Q){Ve[Q]=!0})}),Ve}),U=A,ae=1;ae<=P;ae++){var ne=U;U=m(ne.length);for(var ue=function(_e){for(var Ve=ne[_e],Ge=0;Ge<Ve.length;Ge++){var K=Ve[Ge].partialPath,Q=Ve[Ge].suffixDef,ee=g(K),Z=b(V,ee,_e);if(Z||i.isEmpty(Q)||K.length===P){var G=O[_e];if(_(G,K)===!1){G.push(K);for(var W=0;W<ee.length;W++){var ce=ee[W];V[_e][ce]=!0}}}else{var me=n.possiblePathsFrom(Q,ae+1,K);U[_e]=U[_e].concat(me),i.forEach(me,function(Me){var He=g(Me.partialPath);i.forEach(He,function($e){V[_e][$e]=!0})})}}},se=0;se<ne.length;se++)ue(se)}return O}e.lookAheadSequenceFromAlternatives=w;function x(T,P,A,O){var V=new v(T,l.ALTERNATION,O);return P.accept(V),w(V.result,A)}e.getLookaheadPathsForOr=x;function R(T,P,A,O){var V=new v(T,A);P.accept(V);var U=V.result,ae=new p(P,T,A),ne=ae.startWalking(),ue=new s.Alternative({definition:U}),se=new s.Alternative({definition:ne});return w([ue,se],O)}e.getLookaheadPathsForOptionalProd=R;function _(T,P){e:for(var A=0;A<T.length;A++){var O=T[A];if(O.length===P.length){for(var V=0;V<O.length;V++){var U=P[V],ae=O[V],ne=U===ae||ae.categoryMatchesMap[U.tokenTypeIdx]!==void 0;if(ne===!1)continue e}return!0}}return!1}e.containsPath=_;function L(T,P){return T.length<P.length&&i.every(T,function(A,O){var V=P[O];return A===V||V.categoryMatchesMap[A.tokenTypeIdx]})}e.isStrictPrefixOfPath=L;function F(T){return i.every(T,function(P){return i.every(P,function(A){return i.every(A,function(O){return i.isEmpty(O.categoryMatches)})})})}e.areTokenCategoriesNotUsed=F}),Vie=vr(e=>{"use strict";var t=e&&e.__extends||function(){var O=function(V,U){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,ne){ae.__proto__=ne}||function(ae,ne){for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&(ae[ue]=ne[ue])},O(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");O(V,U);function ae(){this.constructor=V}V.prototype=U===null?Object.create(U):(ae.prototype=U.prototype,new ae)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.checkPrefixAlternativesAmbiguities=e.validateSomeNonEmptyLookaheadPath=e.validateTooManyAlts=e.RepetionCollector=e.validateAmbiguousAlternationAlternatives=e.validateEmptyOrAlternative=e.getFirstNoneTerminal=e.validateNoLeftRecursion=e.validateRuleIsOverridden=e.validateRuleDoesNotAlreadyExist=e.OccurrenceValidationCollector=e.identifyProductionForDuplicates=e.validateGrammar=void 0;var i=bo(),n=bo(),r=fu(),o=sI(),s=cI(),a=lI(),l=Dd(),c=DS();function d(O,V,U,ae,ne){var ue=i.map(O,function(Z){return u(Z,ae)}),se=i.map(O,function(Z){return g(Z,Z,ae)}),_e=[],Ve=[],Ge=[];n.every(se,n.isEmpty)&&(_e=n.map(O,function(Z){return x(Z,ae)}),Ve=n.map(O,function(Z){return R(Z,V,ae)}),Ge=F(O,V,ae));var K=A(O,U,ae),Q=n.map(O,function(Z){return L(Z,ae)}),ee=n.map(O,function(Z){return v(Z,O,ne,ae)});return i.flatten(ue.concat(Ge,se,_e,Ve,K,Q,ee))}e.validateGrammar=d;function u(O,V){var U=new p;O.accept(U);var ae=U.allProductions,ne=i.groupBy(ae,h),ue=i.pick(ne,function(_e){return _e.length>1}),se=i.map(i.values(ue),function(_e){var Ve=i.first(_e),Ge=V.buildDuplicateFoundError(O,_e),K=o.getProductionDslName(Ve),Q={message:Ge,type:r.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:O.name,dslName:K,occurrence:Ve.idx},ee=f(Ve);return ee&&(Q.parameter=ee),Q});return se}function h(O){return o.getProductionDslName(O)+"_#_"+O.idx+"_#_"+f(O)}e.identifyProductionForDuplicates=h;function f(O){return O instanceof l.Terminal?O.terminalType.name:O instanceof l.NonTerminal?O.nonTerminalName:""}var p=function(O){t(V,O);function V(){var U=O!==null&&O.apply(this,arguments)||this;return U.allProductions=[],U}return V.prototype.visitNonTerminal=function(U){this.allProductions.push(U)},V.prototype.visitOption=function(U){this.allProductions.push(U)},V.prototype.visitRepetitionWithSeparator=function(U){this.allProductions.push(U)},V.prototype.visitRepetitionMandatory=function(U){this.allProductions.push(U)},V.prototype.visitRepetitionMandatoryWithSeparator=function(U){this.allProductions.push(U)},V.prototype.visitRepetition=function(U){this.allProductions.push(U)},V.prototype.visitAlternation=function(U){this.allProductions.push(U)},V.prototype.visitTerminal=function(U){this.allProductions.push(U)},V}(c.GAstVisitor);e.OccurrenceValidationCollector=p;function v(O,V,U,ae){var ne=[],ue=n.reduce(V,function(_e,Ve){return Ve.name===O.name?_e+1:_e},0);if(ue>1){var se=ae.buildDuplicateRuleNameError({topLevelRule:O,grammarName:U});ne.push({message:se,type:r.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:O.name})}return ne}e.validateRuleDoesNotAlreadyExist=v;function m(O,V,U){var ae=[],ne;return i.contains(V,O)||(ne="Invalid rule override, rule: ->"+O+"<- cannot be overridden in the grammar: ->"+U+"<-as it is not defined in any of the super grammars ",ae.push({message:ne,type:r.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:O})),ae}e.validateRuleIsOverridden=m;function g(O,V,U,ae){ae===void 0&&(ae=[]);var ne=[],ue=b(V.definition);if(i.isEmpty(ue))return[];var se=O.name,_e=i.contains(ue,O);_e&&ne.push({message:U.buildLeftRecursionError({topLevelRule:O,leftRecursionPath:ae}),type:r.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:se});var Ve=i.difference(ue,ae.concat([O])),Ge=i.map(Ve,function(K){var Q=i.cloneArr(ae);return Q.push(K),g(O,K,U,Q)});return ne.concat(i.flatten(Ge))}e.validateNoLeftRecursion=g;function b(O){var V=[];if(i.isEmpty(O))return V;var U=i.first(O);if(U instanceof l.NonTerminal)V.push(U.referencedRule);else if(U instanceof l.Alternative||U instanceof l.Option||U instanceof l.RepetitionMandatory||U instanceof l.RepetitionMandatoryWithSeparator||U instanceof l.RepetitionWithSeparator||U instanceof l.Repetition)V=V.concat(b(U.definition));else if(U instanceof l.Alternation)V=i.flatten(i.map(U.definition,function(se){return b(se.definition)}));else if(!(U instanceof l.Terminal))throw Error("non exhaustive match");var ae=o.isOptionalProd(U),ne=O.length>1;if(ae&&ne){var ue=i.drop(O);return V.concat(b(ue))}else return V}e.getFirstNoneTerminal=b;var w=function(O){t(V,O);function V(){var U=O!==null&&O.apply(this,arguments)||this;return U.alternations=[],U}return V.prototype.visitAlternation=function(U){this.alternations.push(U)},V}(c.GAstVisitor);function x(O,V){var U=new w;O.accept(U);var ae=U.alternations,ne=i.reduce(ae,function(ue,se){var _e=i.dropRight(se.definition),Ve=i.map(_e,function(Ge,K){var Q=a.nextPossibleTokensAfter([Ge],[],null,1);return i.isEmpty(Q)?{message:V.buildEmptyAlternationError({topLevelRule:O,alternation:se,emptyChoiceIdx:K}),type:r.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:O.name,occurrence:se.idx,alternative:K+1}:null});return ue.concat(i.compact(Ve))},[]);return ne}e.validateEmptyOrAlternative=x;function R(O,V,U){var ae=new w;O.accept(ae);var ne=ae.alternations;ne=n.reject(ne,function(se){return se.ignoreAmbiguities===!0});var ue=i.reduce(ne,function(se,_e){var Ve=_e.idx,Ge=_e.maxLookahead||V,K=s.getLookaheadPathsForOr(Ve,O,Ge,_e),Q=T(K,_e,O,U),ee=P(K,_e,O,U);return se.concat(Q,ee)},[]);return ue}e.validateAmbiguousAlternationAlternatives=R;var _=function(O){t(V,O);function V(){var U=O!==null&&O.apply(this,arguments)||this;return U.allProductions=[],U}return V.prototype.visitRepetitionWithSeparator=function(U){this.allProductions.push(U)},V.prototype.visitRepetitionMandatory=function(U){this.allProductions.push(U)},V.prototype.visitRepetitionMandatoryWithSeparator=function(U){this.allProductions.push(U)},V.prototype.visitRepetition=function(U){this.allProductions.push(U)},V}(c.GAstVisitor);e.RepetionCollector=_;function L(O,V){var U=new w;O.accept(U);var ae=U.alternations,ne=i.reduce(ae,function(ue,se){return se.definition.length>255&&ue.push({message:V.buildTooManyAlternativesError({topLevelRule:O,alternation:se}),type:r.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:O.name,occurrence:se.idx}),ue},[]);return ne}e.validateTooManyAlts=L;function F(O,V,U){var ae=[];return n.forEach(O,function(ne){var ue=new _;ne.accept(ue);var se=ue.allProductions;n.forEach(se,function(_e){var Ve=s.getProdType(_e),Ge=_e.maxLookahead||V,K=_e.idx,Q=s.getLookaheadPathsForOptionalProd(K,ne,Ve,Ge),ee=Q[0];if(n.isEmpty(n.flatten(ee))){var Z=U.buildEmptyRepetitionError({topLevelRule:ne,repetition:_e});ae.push({message:Z,type:r.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:ne.name})}})}),ae}e.validateSomeNonEmptyLookaheadPath=F;function T(O,V,U,ae){var ne=[],ue=n.reduce(O,function(_e,Ve,Ge){return V.definition[Ge].ignoreAmbiguities===!0||n.forEach(Ve,function(K){var Q=[Ge];n.forEach(O,function(ee,Z){Ge!==Z&&s.containsPath(ee,K)&&V.definition[Z].ignoreAmbiguities!==!0&&Q.push(Z)}),Q.length>1&&!s.containsPath(ne,K)&&(ne.push(K),_e.push({alts:Q,path:K}))}),_e},[]),se=i.map(ue,function(_e){var Ve=n.map(_e.alts,function(K){return K+1}),Ge=ae.buildAlternationAmbiguityError({topLevelRule:U,alternation:V,ambiguityIndices:Ve,prefixPath:_e.path});return{message:Ge,type:r.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:U.name,occurrence:V.idx,alternatives:[_e.alts]}});return se}function P(O,V,U,ae){var ne=[],ue=n.reduce(O,function(se,_e,Ve){var Ge=n.map(_e,function(K){return{idx:Ve,path:K}});return se.concat(Ge)},[]);return n.forEach(ue,function(se){var _e=V.definition[se.idx];if(_e.ignoreAmbiguities!==!0){var Ve=se.idx,Ge=se.path,K=n.findAll(ue,function(ee){return V.definition[ee.idx].ignoreAmbiguities!==!0&&ee.idx<Ve&&s.isStrictPrefixOfPath(ee.path,Ge)}),Q=n.map(K,function(ee){var Z=[ee.idx+1,Ve+1],G=V.idx===0?"":V.idx,W=ae.buildAlternationPrefixAmbiguityError({topLevelRule:U,alternation:V,ambiguityIndices:Z,prefixPath:ee.path});return{message:W,type:r.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:U.name,occurrence:G,alternatives:Z}});ne=ne.concat(Q)}}),ne}e.checkPrefixAlternativesAmbiguities=P;function A(O,V,U){var ae=[],ne=n.map(V,function(ue){return ue.name});return n.forEach(O,function(ue){var se=ue.name;if(n.contains(ne,se)){var _e=U.buildNamespaceConflictError(ue);ae.push({message:_e,type:r.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:se})}}),ae}}),fVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateGrammar=e.resolveGrammar=void 0;var t=bo(),i=hVe(),n=Vie(),r=aI();function o(a){a=t.defaults(a,{errMsgProvider:r.defaultGrammarResolverErrorProvider});var l={};return t.forEach(a.rules,function(c){l[c.name]=c}),i.resolveGrammar(l,a.errMsgProvider)}e.resolveGrammar=o;function s(a){return a=t.defaults(a,{errMsgProvider:r.defaultGrammarValidatorErrorProvider}),n.validateGrammar(a.rules,a.maxLookahead,a.tokenTypes,a.errMsgProvider,a.grammarName)}e.validateGrammar=s}),TS=vr(e=>{"use strict";var t=e&&e.__extends||function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EarlyExitException=e.NotAllInputParsedException=e.NoViableAltException=e.MismatchedTokenException=e.isRecognitionException=void 0;var i=bo(),n="MismatchedTokenException",r="NoViableAltException",o="EarlyExitException",s="NotAllInputParsedException",a=[n,r,o,s];Object.freeze(a);function l(p){return i.contains(a,p.name)}e.isRecognitionException=l;var c=function(p){t(v,p);function v(m,g){var b=this.constructor,w=p.call(this,m)||this;return w.token=g,w.resyncedTokens=[],Object.setPrototypeOf(w,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(w,w.constructor),w}return v}(Error),d=function(p){t(v,p);function v(m,g,b){var w=p.call(this,m,g)||this;return w.previousToken=b,w.name=n,w}return v}(c);e.MismatchedTokenException=d;var u=function(p){t(v,p);function v(m,g,b){var w=p.call(this,m,g)||this;return w.previousToken=b,w.name=r,w}return v}(c);e.NoViableAltException=u;var h=function(p){t(v,p);function v(m,g){var b=p.call(this,m,g)||this;return b.name=s,b}return v}(c);e.NotAllInputParsedException=h;var f=function(p){t(v,p);function v(m,g,b){var w=p.call(this,m,g)||this;return w.previousToken=b,w.name=o,w}return v}(c);e.EarlyExitException=f}),zie=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attemptInRepetitionRecovery=e.Recoverable=e.InRuleRecoveryException=e.IN_RULE_RECOVERY_EXCEPTION=e.EOF_FOLLOW_KEY=void 0;var t=Nv(),i=bo(),n=TS(),r=Bie(),o=fu();e.EOF_FOLLOW_KEY={},e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";function s(c){this.name=e.IN_RULE_RECOVERY_EXCEPTION,this.message=c}e.InRuleRecoveryException=s,s.prototype=Error.prototype;var a=function(){function c(){}return c.prototype.initRecoverable=function(d){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=i.has(d,"recoveryEnabled")?d.recoveryEnabled:o.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=l)},c.prototype.getTokenToInsert=function(d){var u=t.createTokenInstance(d,"",NaN,NaN,NaN,NaN,NaN,NaN);return u.isInsertedInRecovery=!0,u},c.prototype.canTokenTypeBeInsertedInRecovery=function(d){return!0},c.prototype.tryInRepetitionRecovery=function(d,u,h,f){for(var p=this,v=this.findReSyncTokenType(),m=this.exportLexerState(),g=[],b=!1,w=this.LA(1),x=this.LA(1),R=function(){var _=p.LA(0),L=p.errorMessageProvider.buildMismatchTokenMessage({expected:f,actual:w,previous:_,ruleName:p.getCurrRuleFullName()}),F=new n.MismatchedTokenException(L,w,p.LA(0));F.resyncedTokens=i.dropRight(g),p.SAVE_ERROR(F)};!b;)if(this.tokenMatcher(x,f)){R();return}else if(h.call(this)){R(),d.apply(this,u);return}else this.tokenMatcher(x,v)?b=!0:(x=this.SKIP_TOKEN(),this.addToResyncTokens(x,g));this.importLexerState(m)},c.prototype.shouldInRepetitionRecoveryBeTried=function(d,u,h){return!(h===!1||d===void 0||u===void 0||this.tokenMatcher(this.LA(1),d)||this.isBackTracking()||this.canPerformInRuleRecovery(d,this.getFollowsForInRuleRecovery(d,u)))},c.prototype.getFollowsForInRuleRecovery=function(d,u){var h=this.getCurrentGrammarPath(d,u),f=this.getNextPossibleTokenTypes(h);return f},c.prototype.tryInRuleRecovery=function(d,u){if(this.canRecoverWithSingleTokenInsertion(d,u)){var h=this.getTokenToInsert(d);return h}if(this.canRecoverWithSingleTokenDeletion(d)){var f=this.SKIP_TOKEN();return this.consumeToken(),f}throw new s("sad sad panda")},c.prototype.canPerformInRuleRecovery=function(d,u){return this.canRecoverWithSingleTokenInsertion(d,u)||this.canRecoverWithSingleTokenDeletion(d)},c.prototype.canRecoverWithSingleTokenInsertion=function(d,u){var h=this;if(!this.canTokenTypeBeInsertedInRecovery(d)||i.isEmpty(u))return!1;var f=this.LA(1),p=i.find(u,function(v){return h.tokenMatcher(f,v)})!==void 0;return p},c.prototype.canRecoverWithSingleTokenDeletion=function(d){var u=this.tokenMatcher(this.LA(2),d);return u},c.prototype.isInCurrentRuleReSyncSet=function(d){var u=this.getCurrFollowKey(),h=this.getFollowSetFromFollowKey(u);return i.contains(h,d)},c.prototype.findReSyncTokenType=function(){for(var d=this.flattenFollowSet(),u=this.LA(1),h=2;;){var f=u.tokenType;if(i.contains(d,f))return f;u=this.LA(h),h++}},c.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return e.EOF_FOLLOW_KEY;var d=this.getLastExplicitRuleShortName(),u=this.getLastExplicitRuleOccurrenceIndex(),h=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(d),idxInCallingRule:u,inRule:this.shortRuleNameToFullName(h)}},c.prototype.buildFullFollowKeyStack=function(){var d=this,u=this.RULE_STACK,h=this.RULE_OCCURRENCE_STACK;return i.map(u,function(f,p){return p===0?e.EOF_FOLLOW_KEY:{ruleName:d.shortRuleNameToFullName(f),idxInCallingRule:h[p],inRule:d.shortRuleNameToFullName(u[p-1])}})},c.prototype.flattenFollowSet=function(){var d=this,u=i.map(this.buildFullFollowKeyStack(),function(h){return d.getFollowSetFromFollowKey(h)});return i.flatten(u)},c.prototype.getFollowSetFromFollowKey=function(d){if(d===e.EOF_FOLLOW_KEY)return[t.EOF];var u=d.ruleName+d.idxInCallingRule+r.IN+d.inRule;return this.resyncFollows[u]},c.prototype.addToResyncTokens=function(d,u){return this.tokenMatcher(d,t.EOF)||u.push(d),u},c.prototype.reSyncTo=function(d){for(var u=[],h=this.LA(1);this.tokenMatcher(h,d)===!1;)h=this.SKIP_TOKEN(),this.addToResyncTokens(h,u);return i.dropRight(u)},c.prototype.attemptInRepetitionRecovery=function(d,u,h,f,p,v,m){},c.prototype.getCurrentGrammarPath=function(d,u){var h=this.getHumanReadableRuleStack(),f=i.cloneArr(this.RULE_OCCURRENCE_STACK),p={ruleStack:h,occurrenceStack:f,lastTok:d,lastTokOccurrence:u};return p},c.prototype.getHumanReadableRuleStack=function(){var d=this;return i.map(this.RULE_STACK,function(u){return d.shortRuleNameToFullName(u)})},c}();e.Recoverable=a;function l(c,d,u,h,f,p,v){var m=this.getKeyForAutomaticLookahead(h,f),g=this.firstAfterRepMap[m];if(g===void 0){var b=this.getCurrRuleFullName(),w=this.getGAstProductions()[b],x=new p(w,f);g=x.startWalking(),this.firstAfterRepMap[m]=g}var R=g.token,_=g.occurrence,L=g.isEndOfRule;this.RULE_STACK.length===1&&L&&R===void 0&&(R=t.EOF,_=1),this.shouldInRepetitionRecoveryBeTried(R,_,v)&&this.tryInRepetitionRecovery(c,d,u,R)}e.attemptInRepetitionRecovery=l}),lB=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyForAutomaticLookahead=e.AT_LEAST_ONE_SEP_IDX=e.MANY_SEP_IDX=e.AT_LEAST_ONE_IDX=e.MANY_IDX=e.OPTION_IDX=e.OR_IDX=e.BITS_FOR_ALT_IDX=e.BITS_FOR_RULE_IDX=e.BITS_FOR_OCCURRENCE_IDX=e.BITS_FOR_METHOD_TYPE=void 0,e.BITS_FOR_METHOD_TYPE=4,e.BITS_FOR_OCCURRENCE_IDX=8,e.BITS_FOR_RULE_IDX=12,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_OCCURRENCE_IDX,e.OPTION_IDX=2<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_IDX=3<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_OCCURRENCE_IDX;function t(n,r,o){return o|r|n}e.getKeyForAutomaticLookahead=t;var i=32-e.BITS_FOR_ALT_IDX}),pVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LooksAhead=void 0;var t=cI(),i=bo(),n=fu(),r=lB(),o=sI(),s=function(){function a(){}return a.prototype.initLooksAhead=function(l){this.dynamicTokensEnabled=i.has(l,"dynamicTokensEnabled")?l.dynamicTokensEnabled:n.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=i.has(l,"maxLookahead")?l.maxLookahead:n.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=i.isES2015MapSupported()?new Map:[],i.isES2015MapSupported()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},a.prototype.preComputeLookaheadFunctions=function(l){var c=this;i.forEach(l,function(d){c.TRACE_INIT(d.name+" Rule Lookahead",function(){var u=o.collectMethods(d),h=u.alternation,f=u.repetition,p=u.option,v=u.repetitionMandatory,m=u.repetitionMandatoryWithSeparator,g=u.repetitionWithSeparator;i.forEach(h,function(b){var w=b.idx===0?"":b.idx;c.TRACE_INIT(""+o.getProductionDslName(b)+w,function(){var x=t.buildLookaheadFuncForOr(b.idx,d,b.maxLookahead||c.maxLookahead,b.hasPredicates,c.dynamicTokensEnabled,c.lookAheadBuilderForAlternatives),R=r.getKeyForAutomaticLookahead(c.fullRuleNameToShort[d.name],r.OR_IDX,b.idx);c.setLaFuncCache(R,x)})}),i.forEach(f,function(b){c.computeLookaheadFunc(d,b.idx,r.MANY_IDX,t.PROD_TYPE.REPETITION,b.maxLookahead,o.getProductionDslName(b))}),i.forEach(p,function(b){c.computeLookaheadFunc(d,b.idx,r.OPTION_IDX,t.PROD_TYPE.OPTION,b.maxLookahead,o.getProductionDslName(b))}),i.forEach(v,function(b){c.computeLookaheadFunc(d,b.idx,r.AT_LEAST_ONE_IDX,t.PROD_TYPE.REPETITION_MANDATORY,b.maxLookahead,o.getProductionDslName(b))}),i.forEach(m,function(b){c.computeLookaheadFunc(d,b.idx,r.AT_LEAST_ONE_SEP_IDX,t.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,b.maxLookahead,o.getProductionDslName(b))}),i.forEach(g,function(b){c.computeLookaheadFunc(d,b.idx,r.MANY_SEP_IDX,t.PROD_TYPE.REPETITION_WITH_SEPARATOR,b.maxLookahead,o.getProductionDslName(b))})})})},a.prototype.computeLookaheadFunc=function(l,c,d,u,h,f){var p=this;this.TRACE_INIT(""+f+(c===0?"":c),function(){var v=t.buildLookaheadFuncForOptionalProd(c,l,h||p.maxLookahead,p.dynamicTokensEnabled,u,p.lookAheadBuilderForOptional),m=r.getKeyForAutomaticLookahead(p.fullRuleNameToShort[l.name],d,c);p.setLaFuncCache(m,v)})},a.prototype.lookAheadBuilderForOptional=function(l,c,d){return t.buildSingleAlternativeLookaheadFunction(l,c,d)},a.prototype.lookAheadBuilderForAlternatives=function(l,c,d,u){return t.buildAlternativesLookAheadFunc(l,c,d,u)},a.prototype.getKeyForAutomaticLookahead=function(l,c){var d=this.getLastExplicitRuleShortName();return r.getKeyForAutomaticLookahead(d,l,c)},a.prototype.getLaFuncFromCache=function(l){},a.prototype.getLaFuncFromMap=function(l){return this.lookAheadFuncsCache.get(l)},a.prototype.getLaFuncFromObj=function(l){return this.lookAheadFuncsCache[l]},a.prototype.setLaFuncCache=function(l,c){},a.prototype.setLaFuncCacheUsingMap=function(l,c){this.lookAheadFuncsCache.set(l,c)},a.prototype.setLaFuncUsingObj=function(l,c){this.lookAheadFuncsCache[l]=c},a}();e.LooksAhead=s}),mVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addNoneTerminalToCst=e.addTerminalToCst=e.setNodeLocationFull=e.setNodeLocationOnlyOffset=void 0;function t(o,s){isNaN(o.startOffset)===!0?(o.startOffset=s.startOffset,o.endOffset=s.endOffset):o.endOffset<s.endOffset&&(o.endOffset=s.endOffset)}e.setNodeLocationOnlyOffset=t;function i(o,s){isNaN(o.startOffset)===!0?(o.startOffset=s.startOffset,o.startColumn=s.startColumn,o.startLine=s.startLine,o.endOffset=s.endOffset,o.endColumn=s.endColumn,o.endLine=s.endLine):o.endOffset<s.endOffset&&(o.endOffset=s.endOffset,o.endColumn=s.endColumn,o.endLine=s.endLine)}e.setNodeLocationFull=i;function n(o,s,a){o.children[a]===void 0?o.children[a]=[s]:o.children[a].push(s)}e.addTerminalToCst=n;function r(o,s,a){o.children[s]===void 0?o.children[s]=[a]:o.children[s].push(a)}e.addNoneTerminalToCst=r}),Hie=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defineNameProp=e.functionName=e.classNameFromInstance=void 0;var t=bo();function i(s){return r(s.constructor)}e.classNameFromInstance=i;var n="name";function r(s){var a=s.name;return a||"anonymous"}e.functionName=r;function o(s,a){var l=Object.getOwnPropertyDescriptor(s,n);return t.isUndefined(l)||l.configurable?(Object.defineProperty(s,n,{enumerable:!1,configurable:!0,writable:!1,value:a}),!0):!1}e.defineNameProp=o}),gVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateRedundantMethods=e.validateMissingCstMethods=e.validateVisitor=e.CstVisitorDefinitionError=e.createBaseVisitorConstructorWithDefaults=e.createBaseSemanticVisitorConstructor=e.defaultVisit=void 0;var t=bo(),i=Hie();function n(u,h){for(var f=t.keys(u),p=f.length,v=0;v<p;v++)for(var m=f[v],g=u[m],b=g.length,w=0;w<b;w++){var x=g[w];x.tokenTypeIdx===void 0&&this[x.name](x.children,h)}}e.defaultVisit=n;function r(u,h){var f=function(){};i.defineNameProp(f,u+"BaseSemantics");var p={visit:function(v,m){if(t.isArray(v)&&(v=v[0]),!t.isUndefined(v))return this[v.name](v.children,m)},validateVisitor:function(){var v=a(this,h);if(!t.isEmpty(v)){var m=t.map(v,function(g){return g.msg});throw Error("Errors Detected in CST Visitor <"+i.functionName(this.constructor)+`>:
	`+(""+m.join(`

`).replace(/\n/g,`
	`)))}}};return f.prototype=p,f.prototype.constructor=f,f._RULE_NAMES=h,f}e.createBaseSemanticVisitorConstructor=r;function o(u,h,f){var p=function(){};i.defineNameProp(p,u+"BaseSemanticsWithDefaults");var v=Object.create(f.prototype);return t.forEach(h,function(m){v[m]=n}),p.prototype=v,p.prototype.constructor=p,p}e.createBaseVisitorConstructorWithDefaults=o;var s;(function(u){u[u.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",u[u.MISSING_METHOD=1]="MISSING_METHOD"})(s=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={}));function a(u,h){var f=l(u,h),p=d(u,h);return f.concat(p)}e.validateVisitor=a;function l(u,h){var f=t.map(h,function(p){if(!t.isFunction(u[p]))return{msg:"Missing visitor method: <"+p+"> on "+i.functionName(u.constructor)+" CST Visitor.",type:s.MISSING_METHOD,methodName:p}});return t.compact(f)}e.validateMissingCstMethods=l;var c=["constructor","visit","validateVisitor"];function d(u,h){var f=[];for(var p in u)t.isFunction(u[p])&&!t.contains(c,p)&&!t.contains(h,p)&&f.push({msg:"Redundant visitor method: <"+p+"> on "+i.functionName(u.constructor)+` CST Visitor
There is no Grammar Rule corresponding to this method's name.
`,type:s.REDUNDANT_METHOD,methodName:p});return f}e.validateRedundantMethods=d}),vVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TreeBuilder=void 0;var t=mVe(),i=bo(),n=gVe(),r=fu(),o=function(){function s(){}return s.prototype.initTreeBuilder=function(a){if(this.CST_STACK=[],this.outputCst=a.outputCst,this.nodeLocationTracking=i.has(a,"nodeLocationTracking")?a.nodeLocationTracking:r.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=i.NOOP,this.cstFinallyStateUpdate=i.NOOP,this.cstPostTerminal=i.NOOP,this.cstPostNonTerminal=i.NOOP,this.cstPostRule=i.NOOP;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationFull,this.setNodeLocationFromNode=t.setNodeLocationFull,this.cstPostRule=i.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.NOOP,this.setNodeLocationFromNode=i.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=t.setNodeLocationOnlyOffset,this.cstPostRule=i.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.NOOP,this.setNodeLocationFromNode=i.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=i.NOOP,this.setNodeLocationFromNode=i.NOOP,this.cstPostRule=i.NOOP,this.setInitialNodeLocation=i.NOOP;else throw Error('Invalid <nodeLocationTracking> config option: "'+a.nodeLocationTracking+'"')},s.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(a){a.location={startOffset:NaN,endOffset:NaN}},s.prototype.setInitialNodeLocationOnlyOffsetRegular=function(a){a.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},s.prototype.setInitialNodeLocationFullRecovery=function(a){a.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},s.prototype.setInitialNodeLocationFullRegular=function(a){var l=this.LA(1);a.location={startOffset:l.startOffset,startLine:l.startLine,startColumn:l.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},s.prototype.cstInvocationStateUpdate=function(a,l){var c={name:a,children:{}};this.setInitialNodeLocation(c),this.CST_STACK.push(c)},s.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},s.prototype.cstPostRuleFull=function(a){var l=this.LA(0),c=a.location;c.startOffset<=l.startOffset?(c.endOffset=l.endOffset,c.endLine=l.endLine,c.endColumn=l.endColumn):(c.startOffset=NaN,c.startLine=NaN,c.startColumn=NaN)},s.prototype.cstPostRuleOnlyOffset=function(a){var l=this.LA(0),c=a.location;c.startOffset<=l.startOffset?c.endOffset=l.endOffset:c.startOffset=NaN},s.prototype.cstPostTerminal=function(a,l){var c=this.CST_STACK[this.CST_STACK.length-1];t.addTerminalToCst(c,l,a),this.setNodeLocationFromToken(c.location,l)},s.prototype.cstPostNonTerminal=function(a,l){var c=this.CST_STACK[this.CST_STACK.length-1];t.addNoneTerminalToCst(c,l,a),this.setNodeLocationFromNode(c.location,a.location)},s.prototype.getBaseCstVisitorConstructor=function(){if(i.isUndefined(this.baseCstVisitorConstructor)){var a=n.createBaseSemanticVisitorConstructor(this.className,i.keys(this.gastProductionsCache));return this.baseCstVisitorConstructor=a,a}return this.baseCstVisitorConstructor},s.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(i.isUndefined(this.baseCstVisitorWithDefaultsConstructor)){var a=n.createBaseVisitorConstructorWithDefaults(this.className,i.keys(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=a,a}return this.baseCstVisitorWithDefaultsConstructor},s.prototype.getLastExplicitRuleShortName=function(){var a=this.RULE_STACK;return a[a.length-1]},s.prototype.getPreviousExplicitRuleShortName=function(){var a=this.RULE_STACK;return a[a.length-2]},s.prototype.getLastExplicitRuleOccurrenceIndex=function(){var a=this.RULE_OCCURRENCE_STACK;return a[a.length-1]},s}();e.TreeBuilder=o}),bVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LexerAdapter=void 0;var t=fu(),i=function(){function n(){}return n.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(n.prototype,"input",{get:function(){return this.tokVector},set:function(r){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=r,this.tokVectorLength=r.length},enumerable:!1,configurable:!0}),n.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):t.END_OF_FILE},n.prototype.LA=function(r){var o=this.currIdx+r;return o<0||this.tokVectorLength<=o?t.END_OF_FILE:this.tokVector[o]},n.prototype.consumeToken=function(){this.currIdx++},n.prototype.exportLexerState=function(){return this.currIdx},n.prototype.importLexerState=function(r){this.currIdx=r},n.prototype.resetLexerState=function(){this.currIdx=-1},n.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},n.prototype.getLexerPosition=function(){return this.exportLexerState()},n}();e.LexerAdapter=i}),_Ve=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RecognizerApi=void 0;var t=bo(),i=TS(),n=fu(),r=aI(),o=Vie(),s=Dd(),a=function(){function l(){}return l.prototype.ACTION=function(c){return c.call(this)},l.prototype.consume=function(c,d,u){return this.consumeInternal(d,c,u)},l.prototype.subrule=function(c,d,u){return this.subruleInternal(d,c,u)},l.prototype.option=function(c,d){return this.optionInternal(d,c)},l.prototype.or=function(c,d){return this.orInternal(d,c)},l.prototype.many=function(c,d){return this.manyInternal(c,d)},l.prototype.atLeastOne=function(c,d){return this.atLeastOneInternal(c,d)},l.prototype.CONSUME=function(c,d){return this.consumeInternal(c,0,d)},l.prototype.CONSUME1=function(c,d){return this.consumeInternal(c,1,d)},l.prototype.CONSUME2=function(c,d){return this.consumeInternal(c,2,d)},l.prototype.CONSUME3=function(c,d){return this.consumeInternal(c,3,d)},l.prototype.CONSUME4=function(c,d){return this.consumeInternal(c,4,d)},l.prototype.CONSUME5=function(c,d){return this.consumeInternal(c,5,d)},l.prototype.CONSUME6=function(c,d){return this.consumeInternal(c,6,d)},l.prototype.CONSUME7=function(c,d){return this.consumeInternal(c,7,d)},l.prototype.CONSUME8=function(c,d){return this.consumeInternal(c,8,d)},l.prototype.CONSUME9=function(c,d){return this.consumeInternal(c,9,d)},l.prototype.SUBRULE=function(c,d){return this.subruleInternal(c,0,d)},l.prototype.SUBRULE1=function(c,d){return this.subruleInternal(c,1,d)},l.prototype.SUBRULE2=function(c,d){return this.subruleInternal(c,2,d)},l.prototype.SUBRULE3=function(c,d){return this.subruleInternal(c,3,d)},l.prototype.SUBRULE4=function(c,d){return this.subruleInternal(c,4,d)},l.prototype.SUBRULE5=function(c,d){return this.subruleInternal(c,5,d)},l.prototype.SUBRULE6=function(c,d){return this.subruleInternal(c,6,d)},l.prototype.SUBRULE7=function(c,d){return this.subruleInternal(c,7,d)},l.prototype.SUBRULE8=function(c,d){return this.subruleInternal(c,8,d)},l.prototype.SUBRULE9=function(c,d){return this.subruleInternal(c,9,d)},l.prototype.OPTION=function(c){return this.optionInternal(c,0)},l.prototype.OPTION1=function(c){return this.optionInternal(c,1)},l.prototype.OPTION2=function(c){return this.optionInternal(c,2)},l.prototype.OPTION3=function(c){return this.optionInternal(c,3)},l.prototype.OPTION4=function(c){return this.optionInternal(c,4)},l.prototype.OPTION5=function(c){return this.optionInternal(c,5)},l.prototype.OPTION6=function(c){return this.optionInternal(c,6)},l.prototype.OPTION7=function(c){return this.optionInternal(c,7)},l.prototype.OPTION8=function(c){return this.optionInternal(c,8)},l.prototype.OPTION9=function(c){return this.optionInternal(c,9)},l.prototype.OR=function(c){return this.orInternal(c,0)},l.prototype.OR1=function(c){return this.orInternal(c,1)},l.prototype.OR2=function(c){return this.orInternal(c,2)},l.prototype.OR3=function(c){return this.orInternal(c,3)},l.prototype.OR4=function(c){return this.orInternal(c,4)},l.prototype.OR5=function(c){return this.orInternal(c,5)},l.prototype.OR6=function(c){return this.orInternal(c,6)},l.prototype.OR7=function(c){return this.orInternal(c,7)},l.prototype.OR8=function(c){return this.orInternal(c,8)},l.prototype.OR9=function(c){return this.orInternal(c,9)},l.prototype.MANY=function(c){this.manyInternal(0,c)},l.prototype.MANY1=function(c){this.manyInternal(1,c)},l.prototype.MANY2=function(c){this.manyInternal(2,c)},l.prototype.MANY3=function(c){this.manyInternal(3,c)},l.prototype.MANY4=function(c){this.manyInternal(4,c)},l.prototype.MANY5=function(c){this.manyInternal(5,c)},l.prototype.MANY6=function(c){this.manyInternal(6,c)},l.prototype.MANY7=function(c){this.manyInternal(7,c)},l.prototype.MANY8=function(c){this.manyInternal(8,c)},l.prototype.MANY9=function(c){this.manyInternal(9,c)},l.prototype.MANY_SEP=function(c){this.manySepFirstInternal(0,c)},l.prototype.MANY_SEP1=function(c){this.manySepFirstInternal(1,c)},l.prototype.MANY_SEP2=function(c){this.manySepFirstInternal(2,c)},l.prototype.MANY_SEP3=function(c){this.manySepFirstInternal(3,c)},l.prototype.MANY_SEP4=function(c){this.manySepFirstInternal(4,c)},l.prototype.MANY_SEP5=function(c){this.manySepFirstInternal(5,c)},l.prototype.MANY_SEP6=function(c){this.manySepFirstInternal(6,c)},l.prototype.MANY_SEP7=function(c){this.manySepFirstInternal(7,c)},l.prototype.MANY_SEP8=function(c){this.manySepFirstInternal(8,c)},l.prototype.MANY_SEP9=function(c){this.manySepFirstInternal(9,c)},l.prototype.AT_LEAST_ONE=function(c){this.atLeastOneInternal(0,c)},l.prototype.AT_LEAST_ONE1=function(c){return this.atLeastOneInternal(1,c)},l.prototype.AT_LEAST_ONE2=function(c){this.atLeastOneInternal(2,c)},l.prototype.AT_LEAST_ONE3=function(c){this.atLeastOneInternal(3,c)},l.prototype.AT_LEAST_ONE4=function(c){this.atLeastOneInternal(4,c)},l.prototype.AT_LEAST_ONE5=function(c){this.atLeastOneInternal(5,c)},l.prototype.AT_LEAST_ONE6=function(c){this.atLeastOneInternal(6,c)},l.prototype.AT_LEAST_ONE7=function(c){this.atLeastOneInternal(7,c)},l.prototype.AT_LEAST_ONE8=function(c){this.atLeastOneInternal(8,c)},l.prototype.AT_LEAST_ONE9=function(c){this.atLeastOneInternal(9,c)},l.prototype.AT_LEAST_ONE_SEP=function(c){this.atLeastOneSepFirstInternal(0,c)},l.prototype.AT_LEAST_ONE_SEP1=function(c){this.atLeastOneSepFirstInternal(1,c)},l.prototype.AT_LEAST_ONE_SEP2=function(c){this.atLeastOneSepFirstInternal(2,c)},l.prototype.AT_LEAST_ONE_SEP3=function(c){this.atLeastOneSepFirstInternal(3,c)},l.prototype.AT_LEAST_ONE_SEP4=function(c){this.atLeastOneSepFirstInternal(4,c)},l.prototype.AT_LEAST_ONE_SEP5=function(c){this.atLeastOneSepFirstInternal(5,c)},l.prototype.AT_LEAST_ONE_SEP6=function(c){this.atLeastOneSepFirstInternal(6,c)},l.prototype.AT_LEAST_ONE_SEP7=function(c){this.atLeastOneSepFirstInternal(7,c)},l.prototype.AT_LEAST_ONE_SEP8=function(c){this.atLeastOneSepFirstInternal(8,c)},l.prototype.AT_LEAST_ONE_SEP9=function(c){this.atLeastOneSepFirstInternal(9,c)},l.prototype.RULE=function(c,d,u){if(u===void 0&&(u=n.DEFAULT_RULE_CONFIG),t.contains(this.definedRulesNames,c)){var h=r.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:c,grammarName:this.className}),f={message:h,type:n.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:c};this.definitionErrors.push(f)}this.definedRulesNames.push(c);var p=this.defineRule(c,d,u);return this[c]=p,p},l.prototype.OVERRIDE_RULE=function(c,d,u){u===void 0&&(u=n.DEFAULT_RULE_CONFIG);var h=[];h=h.concat(o.validateRuleIsOverridden(c,this.definedRulesNames,this.className)),this.definitionErrors=this.definitionErrors.concat(h);var f=this.defineRule(c,d,u);return this[c]=f,f},l.prototype.BACKTRACK=function(c,d){return function(){this.isBackTrackingStack.push(1);var u=this.saveRecogState();try{return c.apply(this,d),!0}catch(h){if(i.isRecognitionException(h))return!1;throw h}finally{this.reloadRecogState(u),this.isBackTrackingStack.pop()}}},l.prototype.getGAstProductions=function(){return this.gastProductionsCache},l.prototype.getSerializedGastProductions=function(){return s.serializeGrammar(t.values(this.gastProductionsCache))},l}();e.RecognizerApi=a}),yVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RecognizerEngine=void 0;var t=bo(),i=lB(),n=TS(),r=cI(),o=lI(),s=fu(),a=zie(),l=Nv(),c=ES(),d=Hie(),u=function(){function h(){}return h.prototype.initRecognizerEngine=function(f,p){if(this.className=d.classNameFromInstance(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=c.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},t.has(p,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(t.isArray(f)){if(t.isEmpty(f))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof f[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(t.isArray(f))this.tokensMap=t.reduce(f,function(b,w){return b[w.name]=w,b},{});else if(t.has(f,"modes")&&t.every(t.flatten(t.values(f.modes)),c.isTokenType)){var v=t.flatten(t.values(f.modes)),m=t.uniq(v);this.tokensMap=t.reduce(m,function(b,w){return b[w.name]=w,b},{})}else if(t.isObject(f))this.tokensMap=t.cloneObj(f);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=l.EOF;var g=t.every(t.values(f),function(b){return t.isEmpty(b.categoryMatches)});this.tokenMatcher=g?c.tokenStructuredMatcherNoCategories:c.tokenStructuredMatcher,c.augmentTokenTypes(t.values(this.tokensMap))},h.prototype.defineRule=function(f,p,v){if(this.selfAnalysisDone)throw Error("Grammar rule <"+f+`> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);var m=t.has(v,"resyncEnabled")?v.resyncEnabled:s.DEFAULT_RULE_CONFIG.resyncEnabled,g=t.has(v,"recoveryValueFunc")?v.recoveryValueFunc:s.DEFAULT_RULE_CONFIG.recoveryValueFunc,b=this.ruleShortNameIdx<<i.BITS_FOR_METHOD_TYPE+i.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[b]=f,this.fullRuleNameToShort[f]=b;function w(_){try{if(this.outputCst===!0){p.apply(this,_);var L=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(L),L}else return p.apply(this,_)}catch(F){return this.invokeRuleCatch(F,m,g)}finally{this.ruleFinallyStateUpdate()}}var x=function(_,L){return _===void 0&&(_=0),this.ruleInvocationStateUpdate(b,f,_),w.call(this,L)},R="ruleName";return x[R]=f,x.originalGrammarAction=p,x},h.prototype.invokeRuleCatch=function(f,p,v){var m=this.RULE_STACK.length===1,g=p&&!this.isBackTracking()&&this.recoveryEnabled;if(n.isRecognitionException(f)){var b=f;if(g){var w=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(w))if(b.resyncedTokens=this.reSyncTo(w),this.outputCst){var x=this.CST_STACK[this.CST_STACK.length-1];return x.recoveredNode=!0,x}else return v();else{if(this.outputCst){var x=this.CST_STACK[this.CST_STACK.length-1];x.recoveredNode=!0,b.partialCstResult=x}throw b}}else{if(m)return this.moveToTerminatedState(),v();throw b}}else throw f},h.prototype.optionInternal=function(f,p){var v=this.getKeyForAutomaticLookahead(i.OPTION_IDX,p);return this.optionInternalLogic(f,p,v)},h.prototype.optionInternalLogic=function(f,p,v){var m=this,g=this.getLaFuncFromCache(v),b,w;if(f.DEF!==void 0){if(b=f.DEF,w=f.GATE,w!==void 0){var x=g;g=function(){return w.call(m)&&x.call(m)}}}else b=f;if(g.call(this)===!0)return b.call(this)},h.prototype.atLeastOneInternal=function(f,p){var v=this.getKeyForAutomaticLookahead(i.AT_LEAST_ONE_IDX,f);return this.atLeastOneInternalLogic(f,p,v)},h.prototype.atLeastOneInternalLogic=function(f,p,v){var m=this,g=this.getLaFuncFromCache(v),b,w;if(p.DEF!==void 0){if(b=p.DEF,w=p.GATE,w!==void 0){var x=g;g=function(){return w.call(m)&&x.call(m)}}}else b=p;if(g.call(this)===!0)for(var R=this.doSingleRepetition(b);g.call(this)===!0&&R===!0;)R=this.doSingleRepetition(b);else throw this.raiseEarlyExitException(f,r.PROD_TYPE.REPETITION_MANDATORY,p.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[f,p],g,i.AT_LEAST_ONE_IDX,f,o.NextTerminalAfterAtLeastOneWalker)},h.prototype.atLeastOneSepFirstInternal=function(f,p){var v=this.getKeyForAutomaticLookahead(i.AT_LEAST_ONE_SEP_IDX,f);this.atLeastOneSepFirstInternalLogic(f,p,v)},h.prototype.atLeastOneSepFirstInternalLogic=function(f,p,v){var m=this,g=p.DEF,b=p.SEP,w=this.getLaFuncFromCache(v);if(w.call(this)===!0){g.call(this);for(var x=function(){return m.tokenMatcher(m.LA(1),b)};this.tokenMatcher(this.LA(1),b)===!0;)this.CONSUME(b),g.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[f,b,x,g,o.NextTerminalAfterAtLeastOneSepWalker],x,i.AT_LEAST_ONE_SEP_IDX,f,o.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(f,r.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,p.ERR_MSG)},h.prototype.manyInternal=function(f,p){var v=this.getKeyForAutomaticLookahead(i.MANY_IDX,f);return this.manyInternalLogic(f,p,v)},h.prototype.manyInternalLogic=function(f,p,v){var m=this,g=this.getLaFuncFromCache(v),b,w;if(p.DEF!==void 0){if(b=p.DEF,w=p.GATE,w!==void 0){var x=g;g=function(){return w.call(m)&&x.call(m)}}}else b=p;for(var R=!0;g.call(this)===!0&&R===!0;)R=this.doSingleRepetition(b);this.attemptInRepetitionRecovery(this.manyInternal,[f,p],g,i.MANY_IDX,f,o.NextTerminalAfterManyWalker,R)},h.prototype.manySepFirstInternal=function(f,p){var v=this.getKeyForAutomaticLookahead(i.MANY_SEP_IDX,f);this.manySepFirstInternalLogic(f,p,v)},h.prototype.manySepFirstInternalLogic=function(f,p,v){var m=this,g=p.DEF,b=p.SEP,w=this.getLaFuncFromCache(v);if(w.call(this)===!0){g.call(this);for(var x=function(){return m.tokenMatcher(m.LA(1),b)};this.tokenMatcher(this.LA(1),b)===!0;)this.CONSUME(b),g.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[f,b,x,g,o.NextTerminalAfterManySepWalker],x,i.MANY_SEP_IDX,f,o.NextTerminalAfterManySepWalker)}},h.prototype.repetitionSepSecondInternal=function(f,p,v,m,g){for(;v();)this.CONSUME(p),m.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[f,p,v,m,g],v,i.AT_LEAST_ONE_SEP_IDX,f,g)},h.prototype.doSingleRepetition=function(f){var p=this.getLexerPosition();f.call(this);var v=this.getLexerPosition();return v>p},h.prototype.orInternal=function(f,p){var v=this.getKeyForAutomaticLookahead(i.OR_IDX,p),m=t.isArray(f)?f:f.DEF,g=this.getLaFuncFromCache(v),b=g.call(this,m);if(b!==void 0){var w=m[b];return w.ALT.call(this)}this.raiseNoAltException(p,f.ERR_MSG)},h.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var f=this.LA(1),p=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:f,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new n.NotAllInputParsedException(p,f))}},h.prototype.subruleInternal=function(f,p,v){var m;try{var g=v!==void 0?v.ARGS:void 0;return m=f.call(this,p,g),this.cstPostNonTerminal(m,v!==void 0&&v.LABEL!==void 0?v.LABEL:f.ruleName),m}catch(b){this.subruleInternalError(b,v,f.ruleName)}},h.prototype.subruleInternalError=function(f,p,v){throw n.isRecognitionException(f)&&f.partialCstResult!==void 0&&(this.cstPostNonTerminal(f.partialCstResult,p!==void 0&&p.LABEL!==void 0?p.LABEL:v),delete f.partialCstResult),f},h.prototype.consumeInternal=function(f,p,v){var m;try{var g=this.LA(1);this.tokenMatcher(g,f)===!0?(this.consumeToken(),m=g):this.consumeInternalError(f,g,v)}catch(b){m=this.consumeInternalRecovery(f,p,b)}return this.cstPostTerminal(v!==void 0&&v.LABEL!==void 0?v.LABEL:f.name,m),m},h.prototype.consumeInternalError=function(f,p,v){var m,g=this.LA(0);throw v!==void 0&&v.ERR_MSG?m=v.ERR_MSG:m=this.errorMessageProvider.buildMismatchTokenMessage({expected:f,actual:p,previous:g,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new n.MismatchedTokenException(m,p,g))},h.prototype.consumeInternalRecovery=function(f,p,v){if(this.recoveryEnabled&&v.name==="MismatchedTokenException"&&!this.isBackTracking()){var m=this.getFollowsForInRuleRecovery(f,p);try{return this.tryInRuleRecovery(f,m)}catch(g){throw g.name===a.IN_RULE_RECOVERY_EXCEPTION?v:g}}else throw v},h.prototype.saveRecogState=function(){var f=this.errors,p=t.cloneArr(this.RULE_STACK);return{errors:f,lexerState:this.exportLexerState(),RULE_STACK:p,CST_STACK:this.CST_STACK}},h.prototype.reloadRecogState=function(f){this.errors=f.errors,this.importLexerState(f.lexerState),this.RULE_STACK=f.RULE_STACK},h.prototype.ruleInvocationStateUpdate=function(f,p,v){this.RULE_OCCURRENCE_STACK.push(v),this.RULE_STACK.push(f),this.cstInvocationStateUpdate(p,f)},h.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},h.prototype.getCurrRuleFullName=function(){var f=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[f]},h.prototype.shortRuleNameToFullName=function(f){return this.shortRuleNameToFull[f]},h.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),l.EOF)},h.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},h}();e.RecognizerEngine=u}),wVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorHandler=void 0;var t=TS(),i=bo(),n=cI(),r=fu(),o=function(){function s(){}return s.prototype.initErrorHandler=function(a){this._errors=[],this.errorMessageProvider=i.has(a,"errorMessageProvider")?a.errorMessageProvider:r.DEFAULT_PARSER_CONFIG.errorMessageProvider},s.prototype.SAVE_ERROR=function(a){if(t.isRecognitionException(a))return a.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:i.cloneArr(this.RULE_OCCURRENCE_STACK)},this._errors.push(a),a;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(s.prototype,"errors",{get:function(){return i.cloneArr(this._errors)},set:function(a){this._errors=a},enumerable:!1,configurable:!0}),s.prototype.raiseEarlyExitException=function(a,l,c){for(var d=this.getCurrRuleFullName(),u=this.getGAstProductions()[d],h=n.getLookaheadPathsForOptionalProd(a,u,l,this.maxLookahead),f=h[0],p=[],v=1;v<=this.maxLookahead;v++)p.push(this.LA(v));var m=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:f,actual:p,previous:this.LA(0),customUserDescription:c,ruleName:d});throw this.SAVE_ERROR(new t.EarlyExitException(m,this.LA(1),this.LA(0)))},s.prototype.raiseNoAltException=function(a,l){for(var c=this.getCurrRuleFullName(),d=this.getGAstProductions()[c],u=n.getLookaheadPathsForOr(a,d,this.maxLookahead),h=[],f=1;f<=this.maxLookahead;f++)h.push(this.LA(f));var p=this.LA(0),v=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:u,actual:h,previous:p,customUserDescription:l,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new t.NoViableAltException(v,this.LA(1),p))},s}();e.ErrorHandler=o}),CVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentAssist=void 0;var t=lI(),i=bo(),n=function(){function r(){}return r.prototype.initContentAssist=function(){},r.prototype.computeContentAssist=function(o,s){var a=this.gastProductionsCache[o];if(i.isUndefined(a))throw Error("Rule ->"+o+"<- does not exist in this grammar.");return t.nextPossibleTokensAfter([a],s,this.tokenMatcher,this.maxLookahead)},r.prototype.getNextPossibleTokenTypes=function(o){var s=i.first(o.ruleStack),a=this.getGAstProductions(),l=a[s],c=new t.NextAfterTokenWalker(l,o).startWalking();return c},r}();e.ContentAssist=n}),xVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GastRecorder=void 0;var t=bo(),i=Dd(),n=oI(),r=ES(),o=Nv(),s=fu(),a=lB(),l={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(l);var c=!0,d=Math.pow(2,a.BITS_FOR_OCCURRENCE_IDX)-1,u=o.createToken({name:"RECORDING_PHASE_TOKEN",pattern:n.Lexer.NA});r.augmentTokenTypes([u]);var h=o.createTokenInstance(u,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(h);var f={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},p=function(){function w(){}return w.prototype.initGastRecorder=function(x){this.recordingProdStack=[],this.RECORDING_PHASE=!1},w.prototype.enableRecording=function(){var x=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var R=function(L){var F=L>0?L:"";x["CONSUME"+F]=function(T,P){return this.consumeInternalRecord(T,L,P)},x["SUBRULE"+F]=function(T,P){return this.subruleInternalRecord(T,L,P)},x["OPTION"+F]=function(T){return this.optionInternalRecord(T,L)},x["OR"+F]=function(T){return this.orInternalRecord(T,L)},x["MANY"+F]=function(T){this.manyInternalRecord(L,T)},x["MANY_SEP"+F]=function(T){this.manySepFirstInternalRecord(L,T)},x["AT_LEAST_ONE"+F]=function(T){this.atLeastOneInternalRecord(L,T)},x["AT_LEAST_ONE_SEP"+F]=function(T){this.atLeastOneSepFirstInternalRecord(L,T)}},_=0;_<10;_++)R(_);x.consume=function(L,F,T){return this.consumeInternalRecord(F,L,T)},x.subrule=function(L,F,T){return this.subruleInternalRecord(F,L,T)},x.option=function(L,F){return this.optionInternalRecord(F,L)},x.or=function(L,F){return this.orInternalRecord(F,L)},x.many=function(L,F){this.manyInternalRecord(L,F)},x.atLeastOne=function(L,F){this.atLeastOneInternalRecord(L,F)},x.ACTION=x.ACTION_RECORD,x.BACKTRACK=x.BACKTRACK_RECORD,x.LA=x.LA_RECORD})},w.prototype.disableRecording=function(){var x=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var R=0;R<10;R++){var _=R>0?R:"";delete x["CONSUME"+_],delete x["SUBRULE"+_],delete x["OPTION"+_],delete x["OR"+_],delete x["MANY"+_],delete x["MANY_SEP"+_],delete x["AT_LEAST_ONE"+_],delete x["AT_LEAST_ONE_SEP"+_]}delete x.consume,delete x.subrule,delete x.option,delete x.or,delete x.many,delete x.atLeastOne,delete x.ACTION,delete x.BACKTRACK,delete x.LA})},w.prototype.ACTION_RECORD=function(x){},w.prototype.BACKTRACK_RECORD=function(x,R){return function(){return!0}},w.prototype.LA_RECORD=function(x){return s.END_OF_FILE},w.prototype.topLevelRuleRecord=function(x,R){try{var _=new i.Rule({definition:[],name:x});return _.name=x,this.recordingProdStack.push(_),R.call(this),this.recordingProdStack.pop(),_}catch(L){if(L.KNOWN_RECORDER_ERROR!==!0)try{L.message=L.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw L}throw L}},w.prototype.optionInternalRecord=function(x,R){return v.call(this,i.Option,x,R)},w.prototype.atLeastOneInternalRecord=function(x,R){v.call(this,i.RepetitionMandatory,R,x)},w.prototype.atLeastOneSepFirstInternalRecord=function(x,R){v.call(this,i.RepetitionMandatoryWithSeparator,R,x,c)},w.prototype.manyInternalRecord=function(x,R){v.call(this,i.Repetition,R,x)},w.prototype.manySepFirstInternalRecord=function(x,R){v.call(this,i.RepetitionWithSeparator,R,x,c)},w.prototype.orInternalRecord=function(x,R){return m.call(this,x,R)},w.prototype.subruleInternalRecord=function(x,R,_){if(b(R),!x||t.has(x,"ruleName")===!1){var L=new Error("<SUBRULE"+g(R)+"> argument is invalid"+(" expecting a Parser method reference but got: <"+JSON.stringify(x)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw L.KNOWN_RECORDER_ERROR=!0,L}var F=t.peek(this.recordingProdStack),T=x.ruleName,P=new i.NonTerminal({idx:R,nonTerminalName:T,referencedRule:void 0});return F.definition.push(P),this.outputCst?f:l},w.prototype.consumeInternalRecord=function(x,R,_){if(b(R),!r.hasShortKeyProperty(x)){var L=new Error("<CONSUME"+g(R)+"> argument is invalid"+(" expecting a TokenType reference but got: <"+JSON.stringify(x)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw L.KNOWN_RECORDER_ERROR=!0,L}var F=t.peek(this.recordingProdStack),T=new i.Terminal({idx:R,terminalType:x});return F.definition.push(T),h},w}();e.GastRecorder=p;function v(w,x,R,_){_===void 0&&(_=!1),b(R);var L=t.peek(this.recordingProdStack),F=t.isFunction(x)?x:x.DEF,T=new w({definition:[],idx:R});return _&&(T.separator=x.SEP),t.has(x,"MAX_LOOKAHEAD")&&(T.maxLookahead=x.MAX_LOOKAHEAD),this.recordingProdStack.push(T),F.call(this),L.definition.push(T),this.recordingProdStack.pop(),l}function m(w,x){var R=this;b(x);var _=t.peek(this.recordingProdStack),L=t.isArray(w)===!1,F=L===!1?w:w.DEF,T=new i.Alternation({definition:[],idx:x,ignoreAmbiguities:L&&w.IGNORE_AMBIGUITIES===!0});t.has(w,"MAX_LOOKAHEAD")&&(T.maxLookahead=w.MAX_LOOKAHEAD);var P=t.some(F,function(A){return t.isFunction(A.GATE)});return T.hasPredicates=P,_.definition.push(T),t.forEach(F,function(A){var O=new i.Alternative({definition:[]});T.definition.push(O),t.has(A,"IGNORE_AMBIGUITIES")?O.ignoreAmbiguities=A.IGNORE_AMBIGUITIES:t.has(A,"GATE")&&(O.ignoreAmbiguities=!0),R.recordingProdStack.push(O),A.ALT.call(R),R.recordingProdStack.pop()}),l}function g(w){return w===0?"":""+w}function b(w){if(w<0||w>d){var x=new Error("Invalid DSL Method idx value: <"+w+`>
	`+("Idx value must be a none negative value smaller than "+(d+1)));throw x.KNOWN_RECORDER_ERROR=!0,x}}}),SVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceTracer=void 0;var t=bo(),i=fu(),n=function(){function r(){}return r.prototype.initPerformanceTracer=function(o){if(t.has(o,"traceInitPerf")){var s=o.traceInitPerf,a=typeof s=="number";this.traceInitMaxIdent=a?s:1/0,this.traceInitPerf=a?s>0:s}else this.traceInitMaxIdent=0,this.traceInitPerf=i.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},r.prototype.TRACE_INIT=function(o,s){if(this.traceInitPerf===!0){this.traceInitIndent++;var a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(a+"--> <"+o+">");var l=t.timer(s),c=l.time,d=l.value,u=c>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(a+"<-- <"+o+"> time: "+c+"ms"),this.traceInitIndent--,d}else return s()},r}();e.PerformanceTracer=n}),MVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyMixins=void 0;function t(i,n){n.forEach(function(r){var o=r.prototype;Object.getOwnPropertyNames(o).forEach(function(s){if(s!=="constructor"){var a=Object.getOwnPropertyDescriptor(o,s);a&&(a.get||a.set)?Object.defineProperty(i.prototype,s,a):i.prototype[s]=r.prototype[s]}})})}e.applyMixins=t}),fu=vr(e=>{"use strict";var t=e&&e.__extends||function(){var L=function(F,T){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,A){P.__proto__=A}||function(P,A){for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(P[O]=A[O])},L(F,T)};return function(F,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");L(F,T);function P(){this.constructor=F}F.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedActionsParser=e.CstParser=e.Parser=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.DEFAULT_RULE_CONFIG=e.DEFAULT_PARSER_CONFIG=e.END_OF_FILE=void 0;var i=bo(),n=uVe(),r=Nv(),o=aI(),s=fVe(),a=zie(),l=pVe(),c=vVe(),d=bVe(),u=_Ve(),h=yVe(),f=wVe(),p=CVe(),v=xVe(),m=SVe(),g=MVe();e.END_OF_FILE=r.createTokenInstance(r.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(e.END_OF_FILE),e.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:o.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),e.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});var b;(function(L){L[L.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",L[L.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",L[L.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",L[L.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",L[L.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",L[L.LEFT_RECURSION=5]="LEFT_RECURSION",L[L.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",L[L.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",L[L.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",L[L.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",L[L.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",L[L.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",L[L.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"})(b=e.ParserDefinitionErrorType||(e.ParserDefinitionErrorType={}));function w(L){return L===void 0&&(L=void 0),function(){return L}}e.EMPTY_ALT=w;var x=function(){function L(F,T){this.definitionErrors=[],this.selfAnalysisDone=!1;var P=this;if(P.initErrorHandler(T),P.initLexerAdapter(),P.initLooksAhead(T),P.initRecognizerEngine(F,T),P.initRecoverable(T),P.initTreeBuilder(T),P.initContentAssist(),P.initGastRecorder(T),P.initPerformanceTracer(T),i.has(T,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=i.has(T,"skipValidations")?T.skipValidations:e.DEFAULT_PARSER_CONFIG.skipValidations}return L.performSelfAnalysis=function(F){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},L.prototype.performSelfAnalysis=function(){var F=this;this.TRACE_INIT("performSelfAnalysis",function(){var T;F.selfAnalysisDone=!0;var P=F.className;F.TRACE_INIT("toFastProps",function(){i.toFastProperties(F)}),F.TRACE_INIT("Grammar Recording",function(){try{F.enableRecording(),i.forEach(F.definedRulesNames,function(O){var V=F[O],U=V.originalGrammarAction,ae=void 0;F.TRACE_INIT(O+" Rule",function(){ae=F.topLevelRuleRecord(O,U)}),F.gastProductionsCache[O]=ae})}finally{F.disableRecording()}});var A=[];if(F.TRACE_INIT("Grammar Resolving",function(){A=s.resolveGrammar({rules:i.values(F.gastProductionsCache)}),F.definitionErrors=F.definitionErrors.concat(A)}),F.TRACE_INIT("Grammar Validations",function(){if(i.isEmpty(A)&&F.skipValidations===!1){var O=s.validateGrammar({rules:i.values(F.gastProductionsCache),maxLookahead:F.maxLookahead,tokenTypes:i.values(F.tokensMap),errMsgProvider:o.defaultGrammarValidatorErrorProvider,grammarName:P});F.definitionErrors=F.definitionErrors.concat(O)}}),i.isEmpty(F.definitionErrors)&&(F.recoveryEnabled&&F.TRACE_INIT("computeAllProdsFollows",function(){var O=n.computeAllProdsFollows(i.values(F.gastProductionsCache));F.resyncFollows=O}),F.TRACE_INIT("ComputeLookaheadFunctions",function(){F.preComputeLookaheadFunctions(i.values(F.gastProductionsCache))})),!L.DEFER_DEFINITION_ERRORS_HANDLING&&!i.isEmpty(F.definitionErrors))throw T=i.map(F.definitionErrors,function(O){return O.message}),new Error(`Parser Definition Errors detected:
 `+T.join(`
-------------------------------
`))})},L.DEFER_DEFINITION_ERRORS_HANDLING=!1,L}();e.Parser=x,g.applyMixins(x,[a.Recoverable,l.LooksAhead,c.TreeBuilder,d.LexerAdapter,h.RecognizerEngine,u.RecognizerApi,f.ErrorHandler,p.ContentAssist,v.GastRecorder,m.PerformanceTracer]);var R=function(L){t(F,L);function F(T,P){P===void 0&&(P=e.DEFAULT_PARSER_CONFIG);var A=this,O=i.cloneObj(P);return O.outputCst=!0,A=L.call(this,T,O)||this,A}return F}(x);e.CstParser=R;var _=function(L){t(F,L);function F(T,P){P===void 0&&(P=e.DEFAULT_PARSER_CONFIG);var A=this,O=i.cloneObj(P);return O.outputCst=!1,A=L.call(this,T,O)||this,A}return F}(x);e.EmbeddedActionsParser=_}),EVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyntaxDiagramsCode=void 0;var t=Fie();function i(n,r){var o=r===void 0?{}:r,s=o.resourceBase,a=s===void 0?"https://unpkg.com/chevrotain@"+t.VERSION+"/diagrams/":s,l=o.css,c=l===void 0?"https://unpkg.com/chevrotain@"+t.VERSION+"/diagrams/diagrams.css":l,d=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,u=`
<link rel='stylesheet' href='`+c+`'>
`,h=`
<script src='`+a+`vendor/railroad-diagrams.js'><\/script>
<script src='`+a+`src/diagrams_builder.js'><\/script>
<script src='`+a+`src/diagrams_behavior.js'><\/script>
<script src='`+a+`src/main.js'><\/script>
`,f=`
<div id="diagrams" align="center"></div>
`,p=`
<script>
    window.serializedGrammar = `+JSON.stringify(n,null,"  ")+`;
<\/script>
`,v=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return d+u+h+f+p+v}e.createSyntaxDiagramsCode=i}),DVe=vr(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.createSyntaxDiagramsCode=e.clearCache=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Terminal=e.Rule=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Alternative=e.Alternation=e.defaultLexerErrorProvider=e.NoViableAltException=e.NotAllInputParsedException=e.MismatchedTokenException=e.isRecognitionException=e.EarlyExitException=e.defaultParserErrorProvider=e.tokenName=e.tokenMatcher=e.tokenLabel=e.EOF=e.createTokenInstance=e.createToken=e.LexerDefinitionErrorType=e.Lexer=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.EmbeddedActionsParser=e.CstParser=e.VERSION=void 0;var t=Fie();Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return t.VERSION}});var i=fu();Object.defineProperty(e,"CstParser",{enumerable:!0,get:function(){return i.CstParser}}),Object.defineProperty(e,"EmbeddedActionsParser",{enumerable:!0,get:function(){return i.EmbeddedActionsParser}}),Object.defineProperty(e,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return i.ParserDefinitionErrorType}}),Object.defineProperty(e,"EMPTY_ALT",{enumerable:!0,get:function(){return i.EMPTY_ALT}});var n=oI();Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return n.Lexer}}),Object.defineProperty(e,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return n.LexerDefinitionErrorType}});var r=Nv();Object.defineProperty(e,"createToken",{enumerable:!0,get:function(){return r.createToken}}),Object.defineProperty(e,"createTokenInstance",{enumerable:!0,get:function(){return r.createTokenInstance}}),Object.defineProperty(e,"EOF",{enumerable:!0,get:function(){return r.EOF}}),Object.defineProperty(e,"tokenLabel",{enumerable:!0,get:function(){return r.tokenLabel}}),Object.defineProperty(e,"tokenMatcher",{enumerable:!0,get:function(){return r.tokenMatcher}}),Object.defineProperty(e,"tokenName",{enumerable:!0,get:function(){return r.tokenName}});var o=aI();Object.defineProperty(e,"defaultParserErrorProvider",{enumerable:!0,get:function(){return o.defaultParserErrorProvider}});var s=TS();Object.defineProperty(e,"EarlyExitException",{enumerable:!0,get:function(){return s.EarlyExitException}}),Object.defineProperty(e,"isRecognitionException",{enumerable:!0,get:function(){return s.isRecognitionException}}),Object.defineProperty(e,"MismatchedTokenException",{enumerable:!0,get:function(){return s.MismatchedTokenException}}),Object.defineProperty(e,"NotAllInputParsedException",{enumerable:!0,get:function(){return s.NotAllInputParsedException}}),Object.defineProperty(e,"NoViableAltException",{enumerable:!0,get:function(){return s.NoViableAltException}});var a=Lie();Object.defineProperty(e,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return a.defaultLexerErrorProvider}});var l=Dd();Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return l.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return l.Alternative}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return l.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return l.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return l.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return l.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return l.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return l.RepetitionWithSeparator}}),Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return l.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return l.Terminal}});var c=Dd();Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return c.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return c.serializeProduction}});var d=DS();Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return d.GAstVisitor}});function u(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}e.clearCache=u;var h=EVe();Object.defineProperty(e,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return h.createSyntaxDiagramsCode}});var f=function(){function p(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return p}();e.Parser=f}),By=DVe();var dI=class extends qo{constructor(t){super(t)}load(t,i,n,r){let o=this,s=o.path===""?Np.extractUrlBase(t):o.path,a=new Bc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(t,function(l){try{i(o.parse(l,s))}catch(c){r?r(c):console.error(c),o.manager.itemError(t)}},n,r)}parse(t,i){let n={};function r(re){let J=o(),pe=new cB(J.tokens),Ee=new dB(J.tokenVocabulary),ke=s(Ee.getBaseCstVisitorConstructor()),Le=pe.lex(re);Ee.input=Le.tokens;let Ne=Ee.vrml();if(Ee.errors.length>0)throw console.error(Ee.errors),Error("THREE.VRMLLoader: Parsing errors detected.");return ke.visit(Ne)}function o(){let re=By.createToken,J=re({name:"RouteIdentifier",pattern:/[^\x30-\x39\0-\x20\x22\x27\x23\x2b\x2c\x2d\x2e\x5b\x5d\x5c\x7b\x7d][^\0-\x20\x22\x27\x23\x2b\x2c\x2d\x2e\x5b\x5d\x5c\x7b\x7d]*[\.][^\x30-\x39\0-\x20\x22\x27\x23\x2b\x2c\x2d\x2e\x5b\x5d\x5c\x7b\x7d][^\0-\x20\x22\x27\x23\x2b\x2c\x2d\x2e\x5b\x5d\x5c\x7b\x7d]*/}),pe=re({name:"Identifier",pattern:/[^\x30-\x39\0-\x20\x22\x27\x23\x2b\x2c\x2d\x2e\x5b\x5d\x5c\x7b\x7d]([^\0-\x20\x22\x27\x23\x2b\x2c\x2e\x5b\x5d\x5c\x7b\x7d])*/,longer_alt:J}),Ee=["Anchor","Billboard","Collision","Group","Transform","Inline","LOD","Switch","AudioClip","DirectionalLight","PointLight","Script","Shape","Sound","SpotLight","WorldInfo","CylinderSensor","PlaneSensor","ProximitySensor","SphereSensor","TimeSensor","TouchSensor","VisibilitySensor","Box","Cone","Cylinder","ElevationGrid","Extrusion","IndexedFaceSet","IndexedLineSet","PointSet","Sphere","Color","Coordinate","Normal","TextureCoordinate","Appearance","FontStyle","ImageTexture","Material","MovieTexture","PixelTexture","TextureTransform","ColorInterpolator","CoordinateInterpolator","NormalInterpolator","OrientationInterpolator","PositionInterpolator","ScalarInterpolator","Background","Fog","NavigationInfo","Viewpoint","Text"],ke=re({name:"Version",pattern:/#VRML.*/,longer_alt:pe}),Le=re({name:"NodeName",pattern:new RegExp(Ee.join("|")),longer_alt:pe}),Ne=re({name:"DEF",pattern:/DEF/,longer_alt:pe}),Ye=re({name:"USE",pattern:/USE/,longer_alt:pe}),Be=re({name:"ROUTE",pattern:/ROUTE/,longer_alt:pe}),ct=re({name:"TO",pattern:/TO/,longer_alt:pe}),gt=re({name:"StringLiteral",pattern:/"(?:[^\\"\n\r]|\\[bfnrtv"\\/]|\\u[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F])*"/}),Tt=re({name:"HexLiteral",pattern:/0[xX][0-9a-fA-F]+/}),Ft=re({name:"NumberLiteral",pattern:/[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/}),wi=re({name:"TrueLiteral",pattern:/TRUE/}),Vt=re({name:"FalseLiteral",pattern:/FALSE/}),li=re({name:"NullLiteral",pattern:/NULL/}),Ue=re({name:"LSquare",pattern:/\[/}),yt=re({name:"RSquare",pattern:/]/}),dt=re({name:"LCurly",pattern:/{/}),ht=re({name:"RCurly",pattern:/}/}),nt=re({name:"Comment",pattern:/#.*/,group:By.Lexer.SKIPPED}),Ei=[re({name:"WhiteSpace",pattern:/[ ,\s]/,group:By.Lexer.SKIPPED}),Le,Ne,Ye,Be,ct,wi,Vt,li,ke,pe,J,gt,Tt,Ft,Ue,yt,dt,ht,nt],Yi={};for(let Li=0,At=Ei.length;Li<At;Li++){let jt=Ei[Li];Yi[jt.name]=jt}return{tokens:Ei,tokenVocabulary:Yi}}function s(re){class J extends re{constructor(){super(),this.validateVisitor()}vrml(ke){let Le={version:this.visit(ke.version),nodes:[],routes:[]};for(let Ne=0,Ye=ke.node.length;Ne<Ye;Ne++){let Be=ke.node[Ne];Le.nodes.push(this.visit(Be))}if(ke.route)for(let Ne=0,Ye=ke.route.length;Ne<Ye;Ne++){let Be=ke.route[Ne];Le.routes.push(this.visit(Be))}return Le}version(ke){return ke.Version[0].image}node(ke){let Le={name:ke.NodeName[0].image,fields:[]};if(ke.field)for(let Ne=0,Ye=ke.field.length;Ne<Ye;Ne++){let Be=ke.field[Ne];Le.fields.push(this.visit(Be))}return ke.def&&(Le.DEF=this.visit(ke.def[0])),Le}field(ke){let Le={name:ke.Identifier[0].image,type:null,values:null},Ne;return ke.singleFieldValue&&(Ne=this.visit(ke.singleFieldValue[0])),ke.multiFieldValue&&(Ne=this.visit(ke.multiFieldValue[0])),Le.type=Ne.type,Le.values=Ne.values,Le}def(ke){return(ke.Identifier||ke.NodeName)[0].image}use(ke){return{USE:(ke.Identifier||ke.NodeName)[0].image}}singleFieldValue(ke){return pe(this,ke)}multiFieldValue(ke){return pe(this,ke)}route(ke){return{FROM:ke.RouteIdentifier[0].image,TO:ke.RouteIdentifier[1].image}}}function pe(Ee,ke){let Le={type:null,values:[]};if(ke.node){Le.type="node";for(let Ne=0,Ye=ke.node.length;Ne<Ye;Ne++){let Be=ke.node[Ne];Le.values.push(Ee.visit(Be))}}if(ke.use){Le.type="use";for(let Ne=0,Ye=ke.use.length;Ne<Ye;Ne++){let Be=ke.use[Ne];Le.values.push(Ee.visit(Be))}}if(ke.StringLiteral){Le.type="string";for(let Ne=0,Ye=ke.StringLiteral.length;Ne<Ye;Ne++){let Be=ke.StringLiteral[Ne];Le.values.push(Be.image.replace(/'|"/g,""))}}if(ke.NumberLiteral){Le.type="number";for(let Ne=0,Ye=ke.NumberLiteral.length;Ne<Ye;Ne++){let Be=ke.NumberLiteral[Ne];Le.values.push(parseFloat(Be.image))}}if(ke.HexLiteral){Le.type="hex";for(let Ne=0,Ye=ke.HexLiteral.length;Ne<Ye;Ne++){let Be=ke.HexLiteral[Ne];Le.values.push(Be.image)}}if(ke.TrueLiteral){Le.type="boolean";for(let Ne=0,Ye=ke.TrueLiteral.length;Ne<Ye;Ne++)ke.TrueLiteral[Ne].image==="TRUE"&&Le.values.push(!0)}if(ke.FalseLiteral){Le.type="boolean";for(let Ne=0,Ye=ke.FalseLiteral.length;Ne<Ye;Ne++)ke.FalseLiteral[Ne].image==="FALSE"&&Le.values.push(!1)}return ke.NullLiteral&&(Le.type="null",ke.NullLiteral.forEach(function(){Le.values.push(null)})),Le}return new J}function a(re){let J=re.nodes,pe=new rf;for(let Ee=0,ke=J.length;Ee<ke;Ee++){let Le=J[Ee];l(Le)}for(let Ee=0,ke=J.length;Ee<ke;Ee++){let Le=J[Ee],Ne=c(Le);Ne instanceof Po&&pe.add(Ne),Le.name==="WorldInfo"&&(pe.userData.worldInfo=Ne)}return pe}function l(re){re.DEF&&(n[re.DEF]=re);let J=re.fields;for(let pe=0,Ee=J.length;pe<Ee;pe++){let ke=J[pe];if(ke.type==="node"){let Le=ke.values;for(let Ne=0,Ye=Le.length;Ne<Ye;Ne++)l(Le[Ne])}}}function c(re){return re.USE?ne(re.USE):(re.build!==void 0||(re.build=d(re)),re.build)}function d(re){let J=re.name,pe;switch(J){case"Anchor":case"Group":case"Transform":case"Collision":pe=u(re);break;case"Background":pe=h(re);break;case"Shape":pe=f(re);break;case"Appearance":pe=p(re);break;case"Material":pe=v(re);break;case"ImageTexture":pe=w(re);break;case"PixelTexture":pe=b(re);break;case"TextureTransform":pe=x(re);break;case"IndexedFaceSet":pe=L(re);break;case"IndexedLineSet":pe=F(re);break;case"PointSet":pe=T(re);break;case"Box":pe=P(re);break;case"Cone":pe=A(re);break;case"Cylinder":pe=O(re);break;case"Sphere":pe=V(re);break;case"ElevationGrid":pe=U(re);break;case"Extrusion":pe=ae(re);break;case"Color":case"Coordinate":case"Normal":case"TextureCoordinate":pe=R(re);break;case"WorldInfo":pe=_(re);break;case"Billboard":case"Inline":case"LOD":case"Switch":case"AudioClip":case"DirectionalLight":case"PointLight":case"Script":case"Sound":case"SpotLight":case"CylinderSensor":case"PlaneSensor":case"ProximitySensor":case"SphereSensor":case"TimeSensor":case"TouchSensor":case"VisibilitySensor":case"Text":case"FontStyle":case"MovieTexture":case"ColorInterpolator":case"CoordinateInterpolator":case"NormalInterpolator":case"OrientationInterpolator":case"PositionInterpolator":case"ScalarInterpolator":case"Fog":case"NavigationInfo":case"Viewpoint":break;default:console.warn("THREE.VRMLLoader: Unknown node:",J);break}return pe!==void 0&&re.DEF!==void 0&&pe.hasOwnProperty("name")===!0&&(pe.name=re.DEF),pe}function u(re){let J=new Os,pe=re.fields;for(let Ee=0,ke=pe.length;Ee<ke;Ee++){let Le=pe[Ee],Ne=Le.name,Ye=Le.values;switch(Ne){case"bboxCenter":break;case"bboxSize":break;case"center":break;case"children":ue(Ye,J);break;case"description":break;case"collide":break;case"parameter":break;case"rotation":let Be=new Qe(Ye[0],Ye[1],Ye[2]).normalize(),ct=Ye[3];J.quaternion.setFromAxisAngle(Be,ct);break;case"scale":J.scale.set(Ye[0],Ye[1],Ye[2]);break;case"scaleOrientation":break;case"translation":J.position.set(Ye[0],Ye[1],Ye[2]);break;case"proxy":break;case"url":break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ne);break}}return J}function h(re){let J=new Os,pe,Ee,ke,Le,Ne=re.fields;for(let Be=0,ct=Ne.length;Be<ct;Be++){let gt=Ne[Be],Tt=gt.name,Ft=gt.values;switch(Tt){case"groundAngle":pe=Ft;break;case"groundColor":Ee=Ft;break;case"backUrl":break;case"bottomUrl":break;case"frontUrl":break;case"leftUrl":break;case"rightUrl":break;case"topUrl":break;case"skyAngle":ke=Ft;break;case"skyColor":Le=Ft;break;default:console.warn("THREE.VRMLLoader: Unknown field:",Tt);break}}let Ye=1e4;if(Le){let Be=new Mv(Ye,32,16),ct=new xd({fog:!1,side:Js,depthWrite:!1,depthTest:!1});Le.length>3?(ft(Be,Ye,ke,vt(Le),!0),ct.vertexColors=!0):ct.color.setRGB(Le[0],Le[1],Le[2],Hn);let gt=new go(Be,ct);J.add(gt)}if(Ee&&Ee.length>0){let Be=new Mv(Ye,32,16,0,2*Math.PI,.5*Math.PI,1.5*Math.PI),ct=new xd({fog:!1,side:Js,vertexColors:!0,depthWrite:!1,depthTest:!1});ft(Be,Ye,pe,vt(Ee),!1);let gt=new go(Be,ct);J.add(gt)}return J.renderOrder=-1/0,J}function f(re){let J=re.fields,pe=new xd({name:qo.DEFAULT_MATERIAL_NAME,color:0}),Ee;for(let Le=0,Ne=J.length;Le<Ne;Le++){let Ye=J[Le],Be=Ye.name,ct=Ye.values;switch(Be){case"appearance":ct[0]!==null&&(pe=c(ct[0]));break;case"geometry":ct[0]!==null&&(Ee=c(ct[0]));break;default:console.warn("THREE.VRMLLoader: Unknown field:",Be);break}}let ke;if(Ee&&Ee.attributes.position){let Le=Ee._type;if(Le==="points"){let Ne=new xy({name:qo.DEFAULT_MATERIAL_NAME,color:16777215,opacity:pe.opacity,transparent:pe.transparent});Ee.attributes.color!==void 0?Ne.vertexColors=!0:pe.isMeshPhongMaterial&&Ne.color.copy(pe.emissive),ke=new Kx(Ee,Ne)}else if(Le==="line"){let Ne=new pc({name:qo.DEFAULT_MATERIAL_NAME,color:16777215,opacity:pe.opacity,transparent:pe.transparent});Ee.attributes.color!==void 0?Ne.vertexColors=!0:pe.isMeshPhongMaterial&&Ne.color.copy(pe.emissive),ke=new of(Ee,Ne)}else Ee._solid!==void 0&&(pe.side=Ee._solid?Cd:rl),Ee.attributes.color!==void 0&&(pe.vertexColors=!0),ke=new go(Ee,pe)}else ke=new Po,ke.visible=!1;return ke}function p(re){let J=new cs,pe,Ee=re.fields;for(let ke=0,Le=Ee.length;ke<Le;ke++){let Ne=Ee[ke],Ye=Ne.name,Be=Ne.values;switch(Ye){case"material":if(Be[0]!==null){let gt=c(Be[0]);gt.diffuseColor&&J.color.copy(gt.diffuseColor),gt.emissiveColor&&J.emissive.copy(gt.emissiveColor),gt.shininess&&(J.shininess=gt.shininess),gt.specularColor&&J.specular.copy(gt.specularColor),gt.transparency&&(J.opacity=1-gt.transparency),gt.transparency>0&&(J.transparent=!0)}else J=new xd({name:qo.DEFAULT_MATERIAL_NAME,color:0});break;case"texture":let ct=Be[0];ct!==null&&(ct.name==="ImageTexture"||ct.name==="PixelTexture")&&(J.map=c(ct));break;case"textureTransform":Be[0]!==null&&(pe=c(Be[0]));break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ye);break}}if(J.map){if(J.map.__type){switch(J.map.__type){case rh.INTENSITY_ALPHA:J.opacity=1;break;case rh.RGB:J.color.set(16777215);break;case rh.RGBA:J.color.set(16777215),J.opacity=1;break;default:}delete J.map.__type}pe&&(J.map.center.copy(pe.center),J.map.rotation=pe.rotation,J.map.repeat.copy(pe.scale),J.map.offset.copy(pe.translation))}return J}function v(re){let J={},pe=re.fields;for(let Ee=0,ke=pe.length;Ee<ke;Ee++){let Le=pe[Ee],Ne=Le.name,Ye=Le.values;switch(Ne){case"ambientIntensity":break;case"diffuseColor":J.diffuseColor=new Ji().setRGB(Ye[0],Ye[1],Ye[2],Hn);break;case"emissiveColor":J.emissiveColor=new Ji().setRGB(Ye[0],Ye[1],Ye[2],Hn);break;case"shininess":J.shininess=Ye[0];break;case"specularColor":J.specularColor=new Ji().setRGB(Ye[0],Ye[1],Ye[2],Hn);break;case"transparency":J.transparency=Ye[0];break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ne);break}}return J}function m(re,J,pe){let Ee;switch(J){case rh.INTENSITY:Ee=parseInt(re),pe.r=Ee,pe.g=Ee,pe.b=Ee,pe.a=1;break;case rh.INTENSITY_ALPHA:Ee=parseInt("0x"+re.substring(2,4)),pe.r=Ee,pe.g=Ee,pe.b=Ee,pe.a=parseInt("0x"+re.substring(4,6));break;case rh.RGB:pe.r=parseInt("0x"+re.substring(2,4)),pe.g=parseInt("0x"+re.substring(4,6)),pe.b=parseInt("0x"+re.substring(6,8)),pe.a=1;break;case rh.RGBA:pe.r=parseInt("0x"+re.substring(2,4)),pe.g=parseInt("0x"+re.substring(4,6)),pe.b=parseInt("0x"+re.substring(6,8)),pe.a=parseInt("0x"+re.substring(8,10));break;default:}}function g(re){let J;switch(re){case 1:J=rh.INTENSITY;break;case 2:J=rh.INTENSITY_ALPHA;break;case 3:J=rh.RGB;break;case 4:J=rh.RGBA;break;default:}return J}function b(re){let J,pe=as,Ee=as,ke=re.fields;for(let Le=0,Ne=ke.length;Le<Ne;Le++){let Ye=ke[Le],Be=Ye.name,ct=Ye.values;switch(Be){case"image":let gt=ct[0],Tt=ct[1],Ft=ct[2],wi=g(Ft),Vt=new Uint8Array(4*gt*Tt),li={r:0,g:0,b:0,a:0};for(let Ue=3,yt=0,dt=ct.length;Ue<dt;Ue++,yt++){m(ct[Ue],wi,li);let ht=yt*4;Vt[ht+0]=li.r,Vt[ht+1]=li.g,Vt[ht+2]=li.b,Vt[ht+3]=li.a}J=new yv(Vt,gt,Tt),J.colorSpace=Hn,J.needsUpdate=!0,J.__type=wi;break;case"repeatS":ct[0]===!1&&(pe=Ms);break;case"repeatT":ct[0]===!1&&(Ee=Ms);break;default:console.warn("THREE.VRMLLoader: Unknown field:",Be);break}}return J&&(J.wrapS=pe,J.wrapT=Ee),J}function w(re){let J,pe=as,Ee=as,ke=re.fields;for(let Le=0,Ne=ke.length;Le<Ne;Le++){let Ye=ke[Le],Be=Ye.name,ct=Ye.values;switch(Be){case"url":let gt=ct[0];gt&&(J=kt.load(gt));break;case"repeatS":ct[0]===!1&&(pe=Ms);break;case"repeatT":ct[0]===!1&&(Ee=Ms);break;default:console.warn("THREE.VRMLLoader: Unknown field:",Be);break}}return J&&(J.wrapS=pe,J.wrapT=Ee,J.colorSpace=Hn),J}function x(re){let J={center:new On,rotation:new On,scale:new On,translation:new On},pe=re.fields;for(let Ee=0,ke=pe.length;Ee<ke;Ee++){let Le=pe[Ee],Ne=Le.name,Ye=Le.values;switch(Ne){case"center":J.center.set(Ye[0],Ye[1]);break;case"rotation":J.rotation=Ye[0];break;case"scale":J.scale.set(Ye[0],Ye[1]);break;case"translation":J.translation.set(Ye[0],Ye[1]);break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ne);break}}return J}function R(re){return re.fields[0].values}function _(re){let J={},pe=re.fields;for(let Ee=0,ke=pe.length;Ee<ke;Ee++){let Le=pe[Ee],Ne=Le.name,Ye=Le.values;switch(Ne){case"title":J.title=Ye[0];break;case"info":J.info=Ye;break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ne);break}}return J}function L(re){let J,pe,Ee,ke,Le=!0,Ne=!0,Ye=0,Be,ct,gt,Tt,Ft=!0,wi=!0,Vt=re.fields;for(let It=0,Ei=Vt.length;It<Ei;It++){let Yi=Vt[It],Li=Yi.name,At=Yi.values;switch(Li){case"color":let jt=At[0];jt!==null&&(J=c(jt));break;case"coord":let Qt=At[0];Qt!==null&&(pe=c(Qt));break;case"normal":let Di=At[0];Di!==null&&(Ee=c(Di));break;case"texCoord":let Vi=At[0];Vi!==null&&(ke=c(Vi));break;case"ccw":Le=At[0];break;case"colorIndex":Be=At;break;case"colorPerVertex":Ft=At[0];break;case"convex":break;case"coordIndex":ct=At;break;case"creaseAngle":Ye=At[0];break;case"normalIndex":gt=At;break;case"normalPerVertex":wi=At[0];break;case"solid":Ne=At[0];break;case"texCoordIndex":Tt=At;break;default:console.warn("THREE.VRMLLoader: Unknown field:",Li);break}}if(ct===void 0)return console.warn("THREE.VRMLLoader: Missing coordIndex."),new Wr;let li=se(ct,Le),Ue,yt,dt;if(J){if(Ft===!0)if(Be&&Be.length>0){let It=se(Be,Le);Ue=me(li,It,J,3)}else Ue=$e(li,new nn(J,3));else if(Be&&Be.length>0){let It=Ve(J,Be),Ei=_e(It,ct);Ue=Me(li,Ei)}else{let It=_e(J,ct);Ue=Me(li,It)}Pt(Ue)}if(Ee)if(wi===!0)if(gt&&gt.length>0){let It=se(gt,Le);yt=me(li,It,Ee,3)}else yt=$e(li,new nn(Ee,3));else if(gt&&gt.length>0){let It=Ve(Ee,gt),Ei=_e(It,ct);yt=Me(li,Ei)}else{let It=_e(Ee,ct);yt=Me(li,It)}else yt=ge(li,pe,Ye);if(ke)if(Tt&&Tt.length>0){let It=se(Tt,Le);dt=me(li,It,ke,2)}else dt=$e(li,new nn(ke,2));let ht=new Wr,nt=$e(li,new nn(pe,3));return ht.setAttribute("position",nt),ht.setAttribute("normal",yt),Ue&&ht.setAttribute("color",Ue),dt&&ht.setAttribute("uv",dt),ht._solid=Ne,ht._type="mesh",ht}function F(re){let J,pe,Ee,ke,Le=!0,Ne=re.fields;for(let Tt=0,Ft=Ne.length;Tt<Ft;Tt++){let wi=Ne[Tt],Vt=wi.name,li=wi.values;switch(Vt){case"color":let Ue=li[0];Ue!==null&&(J=c(Ue));break;case"coord":let yt=li[0];yt!==null&&(pe=c(yt));break;case"colorIndex":Ee=li;break;case"colorPerVertex":Le=li[0];break;case"coordIndex":ke=li;break;default:console.warn("THREE.VRMLLoader: Unknown field:",Vt);break}}let Ye,Be=Ge(ke);if(J){if(Le===!0)if(Ee.length>0){let Tt=Ge(Ee);Ye=me(Be,Tt,J,3)}else Ye=$e(Be,new nn(J,3));else if(Ee.length>0){let Tt=Ve(J,Ee),Ft=K(Tt,ke);Ye=He(Be,Ft)}else{let Tt=K(J,ke);Ye=He(Be,Tt)}Pt(Ye)}let ct=new Wr,gt=$e(Be,new nn(pe,3));return ct.setAttribute("position",gt),Ye&&ct.setAttribute("color",Ye),ct._type="line",ct}function T(re){let J,pe,Ee=re.fields;for(let Le=0,Ne=Ee.length;Le<Ne;Le++){let Ye=Ee[Le],Be=Ye.name,ct=Ye.values;switch(Be){case"color":let gt=ct[0];gt!==null&&(J=c(gt));break;case"coord":let Tt=ct[0];Tt!==null&&(pe=c(Tt));break;default:console.warn("THREE.VRMLLoader: Unknown field:",Be);break}}let ke=new Wr;if(ke.setAttribute("position",new nn(pe,3)),J){let Le=new nn(J,3);Pt(Le),ke.setAttribute("color",Le)}return ke._type="points",ke}function P(re){let J=new Qe(2,2,2),pe=re.fields;for(let ke=0,Le=pe.length;ke<Le;ke++){let Ne=pe[ke],Ye=Ne.name,Be=Ne.values;switch(Ye){case"size":J.x=Be[0],J.y=Be[1],J.z=Be[2];break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ye);break}}return new _g(J.x,J.y,J.z)}function A(re){let J=1,pe=2,Ee=!1,ke=re.fields;for(let Ne=0,Ye=ke.length;Ne<Ye;Ne++){let Be=ke[Ne],ct=Be.name,gt=Be.values;switch(ct){case"bottom":Ee=!gt[0];break;case"bottomRadius":J=gt[0];break;case"height":pe=gt[0];break;case"side":break;default:console.warn("THREE.VRMLLoader: Unknown field:",ct);break}}return new Qx(J,pe,16,1,Ee)}function O(re){let J=1,pe=2,Ee=re.fields;for(let Le=0,Ne=Ee.length;Le<Ne;Le++){let Ye=Ee[Le],Be=Ye.name,ct=Ye.values;switch(Be){case"bottom":break;case"radius":J=ct[0];break;case"height":pe=ct[0];break;case"side":break;case"top":break;default:console.warn("THREE.VRMLLoader: Unknown field:",Be);break}}return new Sy(J,J,pe,16,1)}function V(re){let J=1,pe=re.fields;for(let ke=0,Le=pe.length;ke<Le;ke++){let Ne=pe[ke],Ye=Ne.name,Be=Ne.values;switch(Ye){case"radius":J=Be[0];break;default:console.warn("THREE.VRMLLoader: Unknown field:",Ye);break}}return new Mv(J,16,16)}function U(re){let J,pe,Ee,ke,Le=!0,Ne=!0,Ye=!0,Be=!0,ct=0,gt=2,Tt=2,Ft=1,wi=1,Vt=re.fields;for(let At=0,jt=Vt.length;At<jt;At++){let Qt=Vt[At],Di=Qt.name,Vi=Qt.values;switch(Di){case"color":let Dn=Vi[0];Dn!==null&&(J=c(Dn));break;case"normal":let Tn=Vi[0];Tn!==null&&(pe=c(Tn));break;case"texCoord":let rr=Vi[0];rr!==null&&(Ee=c(rr));break;case"height":ke=Vi;break;case"ccw":Be=Vi[0];break;case"colorPerVertex":Le=Vi[0];break;case"creaseAngle":ct=Vi[0];break;case"normalPerVertex":Ne=Vi[0];break;case"solid":Ye=Vi[0];break;case"xDimension":gt=Vi[0];break;case"xSpacing":Ft=Vi[0];break;case"zDimension":Tt=Vi[0];break;case"zSpacing":wi=Vi[0];break;default:console.warn("THREE.VRMLLoader: Unknown field:",Di);break}}let li=[],Ue=[],yt=[],dt=[];for(let At=0;At<Tt;At++)for(let jt=0;jt<gt;jt++){let Qt=At*gt+jt,Di=Ft*At,Vi=ke[Qt],Dn=wi*jt;if(li.push(Di,Vi,Dn),J&&Le===!0){let Tn=J[Qt*3+0],rr=J[Qt*3+1],_r=J[Qt*3+2];yt.push(Tn,rr,_r)}if(pe&&Ne===!0){let Tn=pe[Qt*3+0],rr=pe[Qt*3+1],_r=pe[Qt*3+2];Ue.push(Tn,rr,_r)}if(Ee){let Tn=Ee[Qt*2+0],rr=Ee[Qt*2+1];dt.push(Tn,rr)}else dt.push(At/(gt-1),jt/(Tt-1))}let ht=[];for(let At=0;At<gt-1;At++)for(let jt=0;jt<Tt-1;jt++){let Qt=At+jt*gt,Di=At+(jt+1)*gt,Vi=At+1+(jt+1)*gt,Dn=At+1+jt*gt;Be===!0?(ht.push(Qt,Vi,Di),ht.push(Vi,Qt,Dn)):(ht.push(Qt,Di,Vi),ht.push(Vi,Dn,Qt))}let nt=$e(ht,new nn(li,3)),It=$e(ht,new nn(dt,2)),Ei,Yi;if(J){if(Le===!1){for(let At=0;At<gt-1;At++)for(let jt=0;jt<Tt-1;jt++){let Qt=At+jt*(gt-1),Di=J[Qt*3+0],Vi=J[Qt*3+1],Dn=J[Qt*3+2];yt.push(Di,Vi,Dn),yt.push(Di,Vi,Dn),yt.push(Di,Vi,Dn),yt.push(Di,Vi,Dn),yt.push(Di,Vi,Dn),yt.push(Di,Vi,Dn)}Ei=new nn(yt,3)}else Ei=$e(ht,new nn(yt,3));Pt(Ei)}if(pe)if(Ne===!1){for(let At=0;At<gt-1;At++)for(let jt=0;jt<Tt-1;jt++){let Qt=At+jt*(gt-1),Di=pe[Qt*3+0],Vi=pe[Qt*3+1],Dn=pe[Qt*3+2];Ue.push(Di,Vi,Dn),Ue.push(Di,Vi,Dn),Ue.push(Di,Vi,Dn),Ue.push(Di,Vi,Dn),Ue.push(Di,Vi,Dn),Ue.push(Di,Vi,Dn)}Yi=new nn(Ue,3)}else Yi=$e(ht,new nn(Ue,3));else Yi=ge(ht,li,ct);let Li=new Wr;return Li.setAttribute("position",nt),Li.setAttribute("normal",Yi),Li.setAttribute("uv",It),Ei&&Li.setAttribute("color",Ei),Li._solid=Ye,Li._type="mesh",Li}function ae(re){let J=[1,1,1,-1,-1,-1,-1,1,1,1],pe=[0,0,0,0,1,0],Ee,ke,Le=!0,Ne=!0,Ye=0,Be=!0,ct=!0,gt=re.fields;for(let Li=0,At=gt.length;Li<At;Li++){let jt=gt[Li],Qt=jt.name,Di=jt.values;switch(Qt){case"beginCap":Le=Di[0];break;case"ccw":Ne=Di[0];break;case"convex":break;case"creaseAngle":Ye=Di[0];break;case"crossSection":J=Di;break;case"endCap":Be=Di[0];break;case"orientation":ke=Di;break;case"scale":Ee=Di;break;case"solid":ct=Di[0];break;case"spine":pe=Di;break;default:console.warn("THREE.VRMLLoader: Unknown field:",Qt);break}}let Tt=J[0]===J[J.length-2]&&J[1]===J[J.length-1],Ft=[],wi=new Qe,Vt=new Qe,li=new Qe,Ue=new Qe,yt=new ls;for(let Li=0,At=0,jt=0,Qt=pe.length;Li<Qt;Li+=3,At+=2,jt+=4){wi.fromArray(pe,Li),Vt.x=Ee?Ee[At+0]:1,Vt.y=1,Vt.z=Ee?Ee[At+1]:1,li.x=ke?ke[jt+0]:0,li.y=ke?ke[jt+1]:0,li.z=ke?ke[jt+2]:1;let Di=ke?ke[jt+3]:0;for(let Vi=0,Dn=J.length;Vi<Dn;Vi+=2)Ue.x=J[Vi+0],Ue.y=0,Ue.z=J[Vi+1],Ue.multiply(Vt),yt.setFromAxisAngle(li,Di),Ue.applyQuaternion(yt),Ue.add(wi),Ft.push(Ue.x,Ue.y,Ue.z)}let dt=[],ht=pe.length/3,nt=J.length/2;for(let Li=0;Li<ht-1;Li++)for(let At=0;At<nt-1;At++){let jt=At+Li*nt,Qt=At+1+Li*nt,Di=At+(Li+1)*nt,Vi=At+1+(Li+1)*nt;At===nt-2&&Tt===!0&&(Qt=Li*nt,Vi=(Li+1)*nt),Ne===!0?(dt.push(jt,Qt,Di),dt.push(Di,Qt,Vi)):(dt.push(jt,Di,Qt),dt.push(Di,Vi,Qt))}if(Le===!0||Be===!0){let Li=[];for(let Qt=0,Di=J.length;Qt<Di;Qt+=2)Li.push(new On(J[Qt],J[Qt+1]));let At=xv.triangulateShape(Li,[]),jt=[];for(let Qt=0,Di=At.length;Qt<Di;Qt++){let Vi=At[Qt];jt.push(Vi[0],Vi[1],Vi[2])}if(Le===!0)for(let Qt=0,Di=jt.length;Qt<Di;Qt+=3)Ne===!0?dt.push(jt[Qt+0],jt[Qt+1],jt[Qt+2]):dt.push(jt[Qt+0],jt[Qt+2],jt[Qt+1]);if(Be===!0){let Qt=nt*(ht-1);for(let Di=0,Vi=jt.length;Di<Vi;Di+=3)Ne===!0?dt.push(Qt+jt[Di+0],Qt+jt[Di+2],Qt+jt[Di+1]):dt.push(Qt+jt[Di+0],Qt+jt[Di+1],Qt+jt[Di+2])}}let It=$e(dt,new nn(Ft,3)),Ei=ge(dt,Ft,Ye),Yi=new Wr;return Yi.setAttribute("position",It),Yi.setAttribute("normal",Ei),Yi._solid=ct,Yi._type="mesh",Yi}function ne(re){let J=n[re],pe=c(J);return pe.isObject3D||pe.isMaterial?pe.clone():pe}function ue(re,J){for(let pe=0,Ee=re.length;pe<Ee;pe++){let ke=c(re[pe]);ke instanceof Po&&J.add(ke)}}function se(re,J){let pe=[],Ee=0;for(let ke=0,Le=re.length;ke<Le;ke++){let Ne=re[Ee],Ye=re[ke+(J?1:2)],Be=re[ke+(J?2:1)];pe.push(Ne,Ye,Be),(re[ke+3]===-1||ke+3>=Le)&&(ke+=3,Ee=ke+1)}return pe}function _e(re,J){let pe=[],Ee=0;for(let ke=0,Le=J.length;ke<Le;ke++){let Ne=Ee*3,Ye=re[Ne],Be=re[Ne+1],ct=re[Ne+2];pe.push(Ye,Be,ct),(J[ke+3]===-1||ke+3>=Le)&&(ke+=3,Ee++)}return pe}function Ve(re,J){let pe=[];for(let Ee=0,ke=J.length;Ee<ke;Ee++){let Ne=J[Ee]*3,Ye=re[Ne],Be=re[Ne+1],ct=re[Ne+2];pe.push(Ye,Be,ct)}return pe}function Ge(re){let J=[];for(let pe=0,Ee=re.length;pe<Ee;pe++){let ke=re[pe],Le=re[pe+1];J.push(ke,Le),(re[pe+2]===-1||pe+2>=Ee)&&(pe+=2)}return J}function K(re,J){let pe=[],Ee=0;for(let ke=0,Le=J.length;ke<Le;ke++){let Ne=Ee*3,Ye=re[Ne],Be=re[Ne+1],ct=re[Ne+2];pe.push(Ye,Be,ct),(J[ke+2]===-1||ke+2>=Le)&&(ke+=2,Ee++)}return pe}let Q=new Qe,ee=new Qe,Z=new Qe,G=new On,W=new On,ce=new On;function me(re,J,pe,Ee){let ke=[];for(let Le=0,Ne=re.length;Le<Ne;Le+=3){let Ye=J[Le],Be=J[Le+1],ct=J[Le+2];Ee===2?(G.fromArray(pe,Ye*Ee),W.fromArray(pe,Be*Ee),ce.fromArray(pe,ct*Ee),ke.push(G.x,G.y),ke.push(W.x,W.y),ke.push(ce.x,ce.y)):(Q.fromArray(pe,Ye*Ee),ee.fromArray(pe,Be*Ee),Z.fromArray(pe,ct*Ee),ke.push(Q.x,Q.y,Q.z),ke.push(ee.x,ee.y,ee.z),ke.push(Z.x,Z.y,Z.z))}return new nn(ke,Ee)}function Me(re,J){let pe=[];for(let Ee=0,ke=0,Le=re.length;Ee<Le;Ee+=3,ke++)Q.fromArray(J,ke*3),pe.push(Q.x,Q.y,Q.z),pe.push(Q.x,Q.y,Q.z),pe.push(Q.x,Q.y,Q.z);return new nn(pe,3)}function He(re,J){let pe=[];for(let Ee=0,ke=0,Le=re.length;Ee<Le;Ee+=2,ke++)Q.fromArray(J,ke*3),pe.push(Q.x,Q.y,Q.z),pe.push(Q.x,Q.y,Q.z);return new nn(pe,3)}function $e(re,J){let pe=J.array,Ee=J.itemSize,ke=new pe.constructor(re.length*Ee),Le=0,Ne=0;for(let Ye=0,Be=re.length;Ye<Be;Ye++){Le=re[Ye]*Ee;for(let ct=0;ct<Ee;ct++)ke[Ne++]=pe[Le++]}return new nn(ke,Ee)}let Je=new Qe,ve=new Qe;function ge(re,J,pe){let Ee=[],ke={};for(let Ne=0,Ye=re.length;Ne<Ye;Ne+=3){let Be=re[Ne],ct=re[Ne+1],gt=re[Ne+2],Tt=new uB(Be,ct,gt);Q.fromArray(J,Be*3),ee.fromArray(J,ct*3),Z.fromArray(J,gt*3),ve.subVectors(Z,ee),Je.subVectors(Q,ee),ve.cross(Je),ve.normalize(),Tt.normal.copy(ve),ke[Be]===void 0&&(ke[Be]=[]),ke[ct]===void 0&&(ke[ct]=[]),ke[gt]===void 0&&(ke[gt]=[]),ke[Be].push(Tt.normal),ke[ct].push(Tt.normal),ke[gt].push(Tt.normal),Ee.push(Tt)}let Le=[];for(let Ne=0,Ye=Ee.length;Ne<Ye;Ne++){let Be=Ee[Ne],ct=pt(ke[Be.a],Be.normal,pe),gt=pt(ke[Be.b],Be.normal,pe),Tt=pt(ke[Be.c],Be.normal,pe);Q.fromArray(J,Be.a*3),ee.fromArray(J,Be.b*3),Z.fromArray(J,Be.c*3),Le.push(ct.x,ct.y,ct.z),Le.push(gt.x,gt.y,gt.z),Le.push(Tt.x,Tt.y,Tt.z)}return new nn(Le,3)}function pt(re,J,pe){let Ee=new Qe;if(pe===0)Ee.copy(J);else for(let ke=0,Le=re.length;ke<Le;ke++)re[ke].angleTo(J)<pe&&Ee.add(re[ke]);return Ee.normalize()}function vt(re){let J=[];for(let pe=0,Ee=re.length;pe<Ee;pe+=3)J.push(new Ji(re[pe],re[pe+1],re[pe+2]));return J}function Pt(re){let J=new Ji;for(let pe=0;pe<re.count;pe++)J.fromBufferAttribute(re,pe),Fn.toWorkingColorSpace(J,Hn),re.setXYZ(pe,J.r,J.g,J.b)}function ft(re,J,pe,Ee,ke){let Le=[],Ne=ke===!0?0:Math.PI;for(let Ft=0,wi=Ee.length;Ft<wi;Ft++){let Vt=Ft===0?0:pe[Ft-1];Vt=ke===!0?Vt:Ne-Vt;let li=new Qe;li.setFromSphericalCoords(J,Vt,0),Le.push(li)}let Ye=re.index,Be=re.attributes.position,ct=new il(new Float32Array(re.attributes.position.count*3),3),gt=new Qe,Tt=new Ji;for(let Ft=0;Ft<Ye.count;Ft++){let wi=Ye.getX(Ft);gt.fromBufferAttribute(Be,wi);let Vt,li,Ue=1;for(let ht=1;ht<Le.length;ht++){Vt=ht-1,li=ht;let nt=Le[Vt],It=Le[li];if(ke===!0){if(gt.y<=nt.y&&gt.y>It.y){Ue=Math.abs(nt.y-gt.y)/Math.abs(nt.y-It.y);break}}else if(gt.y>=nt.y&&gt.y<It.y){Ue=Math.abs(nt.y-gt.y)/Math.abs(nt.y-It.y);break}}let yt=Ee[Vt],dt=Ee[li];Tt.copy(yt).lerp(dt,Ue),Fn.toWorkingColorSpace(Tt,Hn),ct.setXYZ(wi,Tt.r,Tt.g,Tt.b)}re.setAttribute("color",ct)}let kt=new Sd(this.manager);if(kt.setPath(this.resourcePath||i).setCrossOrigin(this.crossOrigin),t.indexOf("#VRML V2.0")===-1)throw Error("THREE.VRMLLexer: Version of VRML asset not supported.");let be=r(t);return a(be)}},cB=class{constructor(t){this.lexer=new By.Lexer(t)}lex(t){let i=this.lexer.tokenize(t);if(i.errors.length>0)throw console.error(i.errors),Error("THREE.VRMLLexer: Lexing errors detected.");return i}},TVe=By.CstParser,dB=class extends TVe{constructor(t){super(t);let i=this,n=t.Version,r=t.LCurly,o=t.RCurly,s=t.LSquare,a=t.RSquare,l=t.Identifier,c=t.RouteIdentifier,d=t.StringLiteral,u=t.HexLiteral,h=t.NumberLiteral,f=t.TrueLiteral,p=t.FalseLiteral,v=t.NullLiteral,m=t.DEF,g=t.USE,b=t.ROUTE,w=t.TO,x=t.NodeName;i.RULE("vrml",function(){i.SUBRULE(i.version),i.AT_LEAST_ONE(function(){i.SUBRULE(i.node)}),i.MANY(function(){i.SUBRULE(i.route)})}),i.RULE("version",function(){i.CONSUME(n)}),i.RULE("node",function(){i.OPTION(function(){i.SUBRULE(i.def)}),i.CONSUME(x),i.CONSUME(r),i.MANY(function(){i.SUBRULE(i.field)}),i.CONSUME(o)}),i.RULE("field",function(){i.CONSUME(l),i.OR2([{ALT:function(){i.SUBRULE(i.singleFieldValue)}},{ALT:function(){i.SUBRULE(i.multiFieldValue)}}])}),i.RULE("def",function(){i.CONSUME(m),i.OR([{ALT:function(){i.CONSUME(l)}},{ALT:function(){i.CONSUME(x)}}])}),i.RULE("use",function(){i.CONSUME(g),i.OR([{ALT:function(){i.CONSUME(l)}},{ALT:function(){i.CONSUME(x)}}])}),i.RULE("singleFieldValue",function(){i.AT_LEAST_ONE(function(){i.OR([{ALT:function(){i.SUBRULE(i.node)}},{ALT:function(){i.SUBRULE(i.use)}},{ALT:function(){i.CONSUME(d)}},{ALT:function(){i.CONSUME(u)}},{ALT:function(){i.CONSUME(h)}},{ALT:function(){i.CONSUME(f)}},{ALT:function(){i.CONSUME(p)}},{ALT:function(){i.CONSUME(v)}}])})}),i.RULE("multiFieldValue",function(){i.CONSUME(s),i.MANY(function(){i.OR([{ALT:function(){i.SUBRULE(i.node)}},{ALT:function(){i.SUBRULE(i.use)}},{ALT:function(){i.CONSUME(d)}},{ALT:function(){i.CONSUME(u)}},{ALT:function(){i.CONSUME(h)}},{ALT:function(){i.CONSUME(v)}}])}),i.CONSUME(a)}),i.RULE("route",function(){i.CONSUME(b),i.CONSUME(c),i.CONSUME(w),i.CONSUME2(c)}),this.performSelfAnalysis()}},uB=class{constructor(t,i,n){this.a=t,this.b=i,this.c=n,this.normal=new Qe}},rh={INTENSITY:1,INTENSITY_ALPHA:2,RGB:3,RGBA:4};var hB=Hn,uI=class extends qo{constructor(t){super(t),this.availableExtensions=[]}load(t,i,n,r){let o=this,s=new Bc(o.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(t,function(a){try{i(o.parse(a))}catch(l){r?r(l):console.error(l),o.manager.itemError(t)}},n,r)}parse(t){let i=this,n=new Sd(this.manager);function r(G){let W=null,ce=null,me,Me,He=[],$e=[],Je,ve={},ge={},pt={},vt=new TextDecoder;try{W=Qk(new Uint8Array(G))}catch(oe){if(oe instanceof ReferenceError)return console.error("THREE.3MFLoader: fflate missing and file is compressed."),null}let Pt=null;for(ce in W)ce.match(/\_rels\/.rels$/)?me=ce:ce.match(/3D\/_rels\/.*\.model\.rels$/)?Me=ce:ce.match(/^3D\/[^\/]*\.model$/)?Pt=ce:ce.match(/^3D\/.*\/.*\.model$/)?He.push(ce):ce.match(/^3D\/Textures?\/.*/)&&$e.push(ce);if(He.push(Pt),me===void 0)throw new Error("THREE.ThreeMFLoader: Cannot find relationship file `rels` in 3MF archive.");let ft=W[me],kt=vt.decode(ft),be=o(kt);if(Me){let oe=W[Me],re=vt.decode(oe);Je=o(re)}for(let oe=0;oe<He.length;oe++){let re=He[oe],J=W[re],pe=vt.decode(J),Ee=new DOMParser().parseFromString(pe,"application/xml");Ee.documentElement.nodeName.toLowerCase()!=="model"&&console.error("THREE.3MFLoader: Error loading 3MF - no 3MF document found: ",re);let ke=Ee.querySelector("model"),Le={};for(let Ye=0;Ye<ke.attributes.length;Ye++){let Be=ke.attributes[Ye];Be.name.match(/^xmlns:(.+)$/)&&(Le[Be.value]=RegExp.$1)}let Ne=_(ke);Ne.xml=ke,0<Object.keys(Le).length&&(Ne.extensions=Le),ve[re]=Ne}for(let oe=0;oe<$e.length;oe++){let re=$e[oe];pt[re]=W[re].buffer}return{rels:be,modelRels:Je,model:ve,printTicket:ge,texture:pt}}function o(G){let W=[],me=new DOMParser().parseFromString(G,"application/xml").querySelectorAll("Relationship");for(let Me=0;Me<me.length;Me++){let He=me[Me],$e={target:He.getAttribute("Target"),id:He.getAttribute("Id"),type:He.getAttribute("Type")};W.push($e)}return W}function s(G){let W={};for(let ce=0;ce<G.length;ce++){let me=G[ce],Me=me.getAttribute("name");0<=["Title","Designer","Description","Copyright","LicenseTerms","Rating","CreationDate","ModificationDate"].indexOf(Me)&&(W[Me]=me.textContent)}return W}function a(G){let W={id:G.getAttribute("id"),basematerials:[]},ce=G.querySelectorAll("base");for(let me=0;me<ce.length;me++){let Me=ce[me],He=p(Me);He.index=me,W.basematerials.push(He)}return W}function l(G){return{id:G.getAttribute("id"),path:G.getAttribute("path"),contenttype:G.getAttribute("contenttype"),tilestyleu:G.getAttribute("tilestyleu"),tilestylev:G.getAttribute("tilestylev"),filter:G.getAttribute("filter")}}function c(G){let W={id:G.getAttribute("id"),texid:G.getAttribute("texid"),displaypropertiesid:G.getAttribute("displaypropertiesid")},ce=G.querySelectorAll("tex2coord"),me=[];for(let Me=0;Me<ce.length;Me++){let He=ce[Me],$e=He.getAttribute("u"),Je=He.getAttribute("v");me.push(parseFloat($e),parseFloat(Je))}return W.uvs=new Float32Array(me),W}function d(G){let W={id:G.getAttribute("id"),displaypropertiesid:G.getAttribute("displaypropertiesid")},ce=G.querySelectorAll("color"),me=[],Me=new Ji;for(let He=0;He<ce.length;He++){let Je=ce[He].getAttribute("color");Me.setStyle(Je.substring(0,7),hB),me.push(Me.r,Me.g,Me.b)}return W.colors=new Float32Array(me),W}function u(G){let W=G.children,ce={};for(let me=0;me<W.length;me++){let Me={type:W[me].nodeName.substring(2)};for(let He=0;He<W[me].attributes.length;He++){let $e=W[me].attributes[He];$e.specified&&(Me[$e.name]=$e.value)}ce[W[me].getAttribute("identifier")]=Me}return ce}function h(G){let W={id:G.getAttribute("id"),displayname:G.getAttribute("displayname")},ce=G.children,me={};for(let Me=0;Me<ce.length;Me++){let He=ce[Me];if(He.nodeName==="i:in"||He.nodeName==="i:out")me[He.nodeName==="i:in"?"inputs":"outputs"]=u(He);else{let $e=He.children,Je={op:He.nodeName.substring(2),identifier:He.getAttribute("identifier")};for(let ve=0;ve<$e.length;ve++)Je[$e[ve].nodeName.substring(2)]=u($e[ve]);me[Je.identifier]=Je}}return W.operations=me,W}function f(G){let W={id:G.getAttribute("id")},ce=G.querySelectorAll("pbmetallic"),me=[];for(let Me=0;Me<ce.length;Me++){let He=ce[Me];me.push({name:He.getAttribute("name"),metallicness:parseFloat(He.getAttribute("metallicness")),roughness:parseFloat(He.getAttribute("roughness"))})}return W.data=me,W}function p(G){let W={};return W.name=G.getAttribute("name"),W.displaycolor=G.getAttribute("displaycolor"),W.displaypropertiesid=G.getAttribute("displaypropertiesid"),W}function v(G){let W={},ce=[],me=G.querySelectorAll("vertices vertex");for(let Je=0;Je<me.length;Je++){let ve=me[Je],ge=ve.getAttribute("x"),pt=ve.getAttribute("y"),vt=ve.getAttribute("z");ce.push(parseFloat(ge),parseFloat(pt),parseFloat(vt))}W.vertices=new Float32Array(ce);let Me=[],He=[],$e=G.querySelectorAll("triangles triangle");for(let Je=0;Je<$e.length;Je++){let ve=$e[Je],ge=ve.getAttribute("v1"),pt=ve.getAttribute("v2"),vt=ve.getAttribute("v3"),Pt=ve.getAttribute("p1"),ft=ve.getAttribute("p2"),kt=ve.getAttribute("p3"),be=ve.getAttribute("pid"),oe={};oe.v1=parseInt(ge,10),oe.v2=parseInt(pt,10),oe.v3=parseInt(vt,10),He.push(oe.v1,oe.v2,oe.v3),Pt&&(oe.p1=parseInt(Pt,10)),ft&&(oe.p2=parseInt(ft,10)),kt&&(oe.p3=parseInt(kt,10)),be&&(oe.pid=be),0<Object.keys(oe).length&&Me.push(oe)}return W.triangleProperties=Me,W.triangles=new Uint32Array(He),W}function m(G){let W=[],ce=G.querySelectorAll("component");for(let me=0;me<ce.length;me++){let Me=ce[me],He=g(Me);W.push(He)}return W}function g(G){let W={};W.objectId=G.getAttribute("objectid");let ce=G.getAttribute("transform");return ce&&(W.transform=b(ce)),W}function b(G){let W=[];G.split(" ").forEach(function(me){W.push(parseFloat(me))});let ce=new Ki;return ce.set(W[0],W[3],W[6],W[9],W[1],W[4],W[7],W[10],W[2],W[5],W[8],W[11],0,0,0,1),ce}function w(G){let W={type:G.getAttribute("type")},ce=G.getAttribute("id");ce&&(W.id=ce);let me=G.getAttribute("pid");me&&(W.pid=me);let Me=G.getAttribute("pindex");Me&&(W.pindex=Me);let He=G.getAttribute("thumbnail");He&&(W.thumbnail=He);let $e=G.getAttribute("partnumber");$e&&(W.partnumber=$e);let Je=G.getAttribute("name");Je&&(W.name=Je);let ve=G.querySelector("mesh");ve&&(W.mesh=v(ve));let ge=G.querySelector("components");return ge&&(W.components=m(ge)),W}function x(G){let W={};W.basematerials={};let ce=G.querySelectorAll("basematerials");for(let ge=0;ge<ce.length;ge++){let pt=ce[ge],vt=a(pt);W.basematerials[vt.id]=vt}W.texture2d={};let me=G.querySelectorAll("texture2d");for(let ge=0;ge<me.length;ge++){let pt=me[ge],vt=l(pt);W.texture2d[vt.id]=vt}W.colorgroup={};let Me=G.querySelectorAll("colorgroup");for(let ge=0;ge<Me.length;ge++){let pt=Me[ge],vt=d(pt);W.colorgroup[vt.id]=vt}let He=G.querySelectorAll("implicitfunction");He.length>0&&(W.implicitfunction={});for(let ge=0;ge<He.length;ge++){let pt=He[ge],vt=h(pt);W.implicitfunction[vt.id]=vt}W.pbmetallicdisplayproperties={};let $e=G.querySelectorAll("pbmetallicdisplayproperties");for(let ge=0;ge<$e.length;ge++){let pt=$e[ge],vt=f(pt);W.pbmetallicdisplayproperties[vt.id]=vt}W.texture2dgroup={};let Je=G.querySelectorAll("texture2dgroup");for(let ge=0;ge<Je.length;ge++){let pt=Je[ge],vt=c(pt);W.texture2dgroup[vt.id]=vt}W.object={};let ve=G.querySelectorAll("object");for(let ge=0;ge<ve.length;ge++){let pt=ve[ge],vt=w(pt);W.object[vt.id]=vt}return W}function R(G){let W=[],ce=G.querySelectorAll("item");for(let me=0;me<ce.length;me++){let Me=ce[me],He={objectId:Me.getAttribute("objectid")},$e=Me.getAttribute("transform");$e&&(He.transform=b($e)),W.push(He)}return W}function _(G){let W={unit:G.getAttribute("unit")||"millimeter"},ce=G.querySelectorAll("metadata");ce&&(W.metadata=s(ce));let me=G.querySelector("resources");me&&(W.resources=x(me));let Me=G.querySelector("build");return Me&&(W.build=R(Me)),W}function L(G,W,ce,me){let Me=G.texid,$e=ce.resources.texture2d[Me];if($e){let Je=me[$e.path],ve=$e.contenttype,ge=new Blob([Je],{type:ve}),pt=URL.createObjectURL(ge),vt=n.load(pt,function(){URL.revokeObjectURL(pt)});switch(vt.colorSpace=hB,$e.tilestyleu){case"wrap":vt.wrapS=as;break;case"mirror":vt.wrapS=mv;break;case"none":case"clamp":vt.wrapS=Ms;break;default:vt.wrapS=as}switch($e.tilestylev){case"wrap":vt.wrapT=as;break;case"mirror":vt.wrapT=mv;break;case"none":case"clamp":vt.wrapT=Ms;break;default:vt.wrapT=as}switch($e.filter){case"auto":vt.magFilter=Ia,vt.minFilter=Vc;break;case"linear":vt.magFilter=Ia,vt.minFilter=Ia,vt.generateMipmaps=!1;break;case"nearest":vt.magFilter=xl,vt.minFilter=xl,vt.generateMipmaps=!1;break;default:vt.magFilter=Ia,vt.minFilter=Vc}return vt}else return null}function F(G,W,ce,me,Me,He,$e){let Je=$e.pindex,ve={};for(let vt=0,Pt=W.length;vt<Pt;vt++){let ft=W[vt],kt=ft.p1!==void 0?ft.p1:Je;ve[kt]===void 0&&(ve[kt]=[]),ve[kt].push(ft)}let ge=Object.keys(ve),pt=[];for(let vt=0,Pt=ge.length;vt<Pt;vt++){let ft=ge[vt],kt=ve[ft],be=G.basematerials[ft],oe=ue(be,me,Me,He,$e,se),re=new Wr,J=[],pe=ce.vertices;for(let ke=0,Le=kt.length;ke<Le;ke++){let Ne=kt[ke];J.push(pe[Ne.v1*3+0]),J.push(pe[Ne.v1*3+1]),J.push(pe[Ne.v1*3+2]),J.push(pe[Ne.v2*3+0]),J.push(pe[Ne.v2*3+1]),J.push(pe[Ne.v2*3+2]),J.push(pe[Ne.v3*3+0]),J.push(pe[Ne.v3*3+1]),J.push(pe[Ne.v3*3+2])}re.setAttribute("position",new nn(J,3));let Ee=new go(re,oe);pt.push(Ee)}return pt}function T(G,W,ce,me,Me,He,$e){let Je=new Wr,ve=[],ge=[],pt=ce.vertices,vt=G.uvs;for(let be=0,oe=W.length;be<oe;be++){let re=W[be];ve.push(pt[re.v1*3+0]),ve.push(pt[re.v1*3+1]),ve.push(pt[re.v1*3+2]),ve.push(pt[re.v2*3+0]),ve.push(pt[re.v2*3+1]),ve.push(pt[re.v2*3+2]),ve.push(pt[re.v3*3+0]),ve.push(pt[re.v3*3+1]),ve.push(pt[re.v3*3+2]),ge.push(vt[re.p1*2+0]),ge.push(vt[re.p1*2+1]),ge.push(vt[re.p2*2+0]),ge.push(vt[re.p2*2+1]),ge.push(vt[re.p3*2+0]),ge.push(vt[re.p3*2+1])}Je.setAttribute("position",new nn(ve,3)),Je.setAttribute("uv",new nn(ge,2));let Pt=ue(G,me,Me,He,$e,L),ft=new cs({map:Pt,flatShading:!0});return new go(Je,ft)}function P(G,W,ce,me){let Me=new Wr,He=[],$e=[],Je=ce.vertices,ve=G.colors;for(let vt=0,Pt=W.length;vt<Pt;vt++){let ft=W[vt],kt=ft.v1,be=ft.v2,oe=ft.v3;He.push(Je[kt*3+0]),He.push(Je[kt*3+1]),He.push(Je[kt*3+2]),He.push(Je[be*3+0]),He.push(Je[be*3+1]),He.push(Je[be*3+2]),He.push(Je[oe*3+0]),He.push(Je[oe*3+1]),He.push(Je[oe*3+2]);let re=ft.p1!==void 0?ft.p1:me.pindex,J=ft.p2!==void 0?ft.p2:re,pe=ft.p3!==void 0?ft.p3:re;$e.push(ve[re*3+0]),$e.push(ve[re*3+1]),$e.push(ve[re*3+2]),$e.push(ve[J*3+0]),$e.push(ve[J*3+1]),$e.push(ve[J*3+2]),$e.push(ve[pe*3+0]),$e.push(ve[pe*3+1]),$e.push(ve[pe*3+2])}Me.setAttribute("position",new nn(He,3)),Me.setAttribute("color",new nn($e,3));let ge=new cs({vertexColors:!0,flatShading:!0});return new go(Me,ge)}function A(G){let W=new Wr;W.setIndex(new il(G.triangles,1)),W.setAttribute("position",new il(G.vertices,3));let ce=new cs({name:qo.DEFAULT_MATERIAL_NAME,color:16777215,flatShading:!0});return new go(W,ce)}function O(G,W,ce,me,Me,He){let $e=Object.keys(G),Je=[];for(let ve=0,ge=$e.length;ve<ge;ve++){let pt=$e[ve],vt=G[pt];switch(V(pt,me)){case"material":let ft=me.resources.basematerials[pt],kt=F(ft,vt,W,ce,me,Me,He);for(let re=0,J=kt.length;re<J;re++)Je.push(kt[re]);break;case"texture":let be=me.resources.texture2dgroup[pt];Je.push(T(be,vt,W,ce,me,Me,He));break;case"vertexColors":let oe=me.resources.colorgroup[pt];Je.push(P(oe,vt,W,He));break;case"default":Je.push(A(W));break;default:console.error("THREE.3MFLoader: Unsupported resource type.")}}if(He.name)for(let ve=0;ve<Je.length;ve++)Je[ve].name=He.name;return Je}function V(G,W){return W.resources.texture2dgroup[G]!==void 0?"texture":W.resources.basematerials[G]!==void 0?"material":W.resources.colorgroup[G]!==void 0?"vertexColors":G==="default"?"default":void 0}function U(G,W){let ce={},me=G.triangleProperties,Me=W.pid;for(let He=0,$e=me.length;He<$e;He++){let Je=me[He],ve=Je.pid!==void 0?Je.pid:Me;ve===void 0&&(ve="default"),ce[ve]===void 0&&(ce[ve]=[]),ce[ve].push(Je)}return ce}function ae(G,W,ce,me,Me){let He=new Os,$e=U(G,Me),Je=O($e,G,W,ce,me,Me);for(let ve=0,ge=Je.length;ve<ge;ve++)He.add(Je[ve]);return He}function ne(G,W,ce){if(!G)return;let me=[],Me=Object.keys(G);for(let He=0;He<Me.length;He++){let $e=Me[He];for(let Je=0;Je<i.availableExtensions.length;Je++){let ve=i.availableExtensions[Je];ve.ns===$e&&me.push(ve)}}for(let He=0;He<me.length;He++){let $e=me[He];$e.apply(ce,G[$e.ns],W)}}function ue(G,W,ce,me,Me,He){return G.build!==void 0||(G.build=He(G,W,ce,me,Me)),G.build}function se(G,W,ce){let me,Me=G.displaypropertiesid,He=ce.resources.pbmetallicdisplayproperties;if(Me!==null&&He[Me]!==void 0){let ge=He[Me].data[G.index];me=new wg({flatShading:!0,roughness:ge.roughness,metalness:ge.metallicness})}else me=new cs({flatShading:!0});me.name=G.name;let $e=G.displaycolor,Je=$e.substring(0,7);return me.color.setStyle(Je,hB),$e.length===9&&(me.opacity=parseInt($e.charAt(7)+$e.charAt(8),16)/255),me}function _e(G,W,ce,me){let Me=new Os;for(let He=0;He<G.length;He++){let $e=G[He],Je=W[$e.objectId];Je===void 0&&(Ve($e.objectId,W,ce,me),Je=W[$e.objectId]);let ve=Je.clone(),ge=$e.transform;ge&&ve.applyMatrix4(ge),Me.add(ve)}return Me}function Ve(G,W,ce,me){let Me=ce.resources.object[G];if(Me.mesh){let He=Me.mesh,$e=ce.extensions,Je=ce.xml;ne($e,He,Je),W[Me.id]=ue(He,W,ce,me,Me,ae)}else{let He=Me.components;W[Me.id]=ue(He,W,ce,me,Me,_e)}Me.name&&(W[Me.id].name=Me.name),ce.resources.implicitfunction&&console.warn("THREE.ThreeMFLoader: Implicit Functions are implemented in data-only.",ce.resources.implicitfunction)}function Ge(G){let W=G.model,ce=G.modelRels,me={},Me=Object.keys(W),He={};if(ce)for(let $e=0,Je=ce.length;$e<Je;$e++){let ve=ce[$e],ge=ve.target.substring(1);G.texture[ge]&&(He[ve.target]=G.texture[ge])}for(let $e=0;$e<Me.length;$e++){let Je=Me[$e],ve=W[Je],ge=Object.keys(ve.resources.object);for(let pt=0;pt<ge.length;pt++){let vt=ge[pt];Ve(vt,me,ve,He)}}return me}function K(G){for(let W=0;W<G.length;W++){let ce=G[W];if(ce.target.split(".").pop().toLowerCase()==="model")return ce}}function Q(G,W){let ce=new Os,me=K(W.rels),Me=W.model[me.target.substring(1)].build;for(let He=0;He<Me.length;He++){let $e=Me[He],Je=G[$e.objectId].clone(),ve=$e.transform;ve&&Je.applyMatrix4(ve),ce.add(Je)}return ce}let ee=r(t),Z=Ge(ee);return Q(Z,ee)}addExtension(t){this.availableExtensions.push(t)}};var hI=class extends qo{constructor(t){super(t)}load(t,i,n,r){let o=this,s=new Bc(o.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(t,function(a){try{i(o.parse(a))}catch(l){r?r(l):console.error(l),o.manager.itemError(t)}},n,r)}parse(t){function i(x){let R=new DataView(x);if(String.fromCharCode(R.getUint8(0),R.getUint8(1))==="PK"){let T=null,P=null;console.log("THREE.AMFLoader: Loading Zip");try{T=Qk(new Uint8Array(x))}catch(A){if(A instanceof ReferenceError)return console.log("THREE.AMFLoader: fflate missing and file is compressed."),null}for(P in T)if(P.toLowerCase().slice(-4)===".amf")break;console.log("THREE.AMFLoader: Trying to load file asset: "+P),R=new DataView(T[P].buffer)}let L=new TextDecoder().decode(R),F=new DOMParser().parseFromString(L,"application/xml");return F.documentElement.nodeName.toLowerCase()!=="amf"?(console.log("THREE.AMFLoader: Error loading AMF - no AMF document found."),null):F}function n(x){let R=1,_="millimeter";x.documentElement.attributes.unit!==void 0&&(_=x.documentElement.attributes.unit.value.toLowerCase());let L={millimeter:1,inch:25.4,feet:304.8,meter:1e3,micron:.001};return L[_]!==void 0&&(R=L[_]),console.log("THREE.AMFLoader: Unit scale: "+R),R}function r(x){let R="AMF Material",_=x.attributes.id.textContent,L={r:1,g:1,b:1,a:1},F=null;for(let T=0;T<x.childNodes.length;T++){let P=x.childNodes[T];P.nodeName==="metadata"&&P.attributes.type!==void 0?P.attributes.type.value==="name"&&(R=P.textContent):P.nodeName==="color"&&(L=o(P))}return F=new cs({flatShading:!0,color:new Ji(L.r,L.g,L.b),name:R}),L.a!==1&&(F.transparent=!0,F.opacity=L.a),{id:_,material:F}}function o(x){let R={r:1,g:1,b:1,a:1};for(let _=0;_<x.childNodes.length;_++){let L=x.childNodes[_];L.nodeName==="r"?R.r=L.textContent:L.nodeName==="g"?R.g=L.textContent:L.nodeName==="b"?R.b=L.textContent:L.nodeName==="a"&&(R.a=L.textContent)}return R}function s(x){let R={name:"",triangles:[],materialId:null},_=x.firstElementChild;for(x.attributes.materialid!==void 0&&(R.materialId=x.attributes.materialid.nodeValue);_;){if(_.nodeName==="metadata")_.attributes.type!==void 0&&_.attributes.type.value==="name"&&(R.name=_.textContent);else if(_.nodeName==="triangle"){let L=_.getElementsByTagName("v1")[0].textContent,F=_.getElementsByTagName("v2")[0].textContent,T=_.getElementsByTagName("v3")[0].textContent;R.triangles.push(L,F,T)}_=_.nextElementSibling}return R}function a(x){let R=[],_=[],L=x.firstElementChild;for(;L;){if(L.nodeName==="vertex"){let F=L.firstElementChild;for(;F;){if(F.nodeName==="coordinates"){let T=F.getElementsByTagName("x")[0].textContent,P=F.getElementsByTagName("y")[0].textContent,A=F.getElementsByTagName("z")[0].textContent;R.push(T,P,A)}else if(F.nodeName==="normal"){let T=F.getElementsByTagName("nx")[0].textContent,P=F.getElementsByTagName("ny")[0].textContent,A=F.getElementsByTagName("nz")[0].textContent;_.push(T,P,A)}F=F.nextElementSibling}}L=L.nextElementSibling}return{vertices:R,normals:_}}function l(x){let R=x.attributes.id.textContent,_={name:"amfobject",meshes:[]},L=null,F=x.firstElementChild;for(;F;){if(F.nodeName==="metadata")F.attributes.type!==void 0&&F.attributes.type.value==="name"&&(_.name=F.textContent);else if(F.nodeName==="color")L=o(F);else if(F.nodeName==="mesh"){let T=F.firstElementChild,P={vertices:[],normals:[],volumes:[],color:L};for(;T;){if(T.nodeName==="vertices"){let A=a(T);P.normals=P.normals.concat(A.normals),P.vertices=P.vertices.concat(A.vertices)}else T.nodeName==="volume"&&P.volumes.push(s(T));T=T.nextElementSibling}_.meshes.push(P)}F=F.nextElementSibling}return{id:R,obj:_}}let c=i(t),d="",u="",h=n(c),f={},p={},v=c.documentElement.childNodes,m,g;for(m=0;m<v.length;m++){let x=v[m];if(x.nodeName==="metadata")x.attributes.type!==void 0&&(x.attributes.type.value==="name"?d=x.textContent:x.attributes.type.value==="author"&&(u=x.textContent));else if(x.nodeName==="material"){let R=r(x);f[R.id]=R.material}else if(x.nodeName==="object"){let R=l(x);p[R.id]=R.obj}}let b=new Os,w=new cs({name:qo.DEFAULT_MATERIAL_NAME,color:11184895,flatShading:!0});b.name=d,b.userData.author=u,b.userData.loader="AMF";for(let x in p){let R=p[x],_=R.meshes,L=new Os;for(L.name=R.name||"",m=0;m<_.length;m++){let F=w,T=_[m],P=new nn(T.vertices,3),A=null;if(T.normals.length&&(A=new nn(T.normals,3)),T.color){let V=T.color;F=w.clone(),F.color=new Ji(V.r,V.g,V.b),V.a!==1&&(F.transparent=!0,F.opacity=V.a)}let O=T.volumes;for(g=0;g<O.length;g++){let V=O[g],U=new Wr,ae=F;U.setIndex(V.triangles),U.setAttribute("position",P.clone()),A&&U.setAttribute("normal",A.clone()),f[V.materialId]!==void 0&&(ae=f[V.materialId]),U.scale(h,h,h),L.add(new go(U,ae.clone()))}}b.add(L)}return b}};function bB(e){return e!=null}function AVe(e,t){if(bB(e))for(let i of Object.keys(e))bB(e[i])&&(t[i]=e[i])}function RVe(e){return Object.keys(e).length===0}function kVe(e,...t){return e.replace(/{([0-9]+)}/g,(i,n)=>t[n]===void 0?i:t[n])}var fI=null,fB=null;function Yn(e){return fI===null||fB===null||!fI[e]||!fI[e][fB]?e:fI[e][fB]}function Yie(e,...t){return kVe(Yn(e),...t)}var yI=class{constructor(){this.count=null,this.current=null,this.callbacks=null}Run(t,i){this.count=t,this.current=0,this.callbacks=i,t===0?this.TaskReady():this.RunOnce()}RunBatch(t,i,n){let r=0;t>0&&(r=parseInt((t-1)/i,10)+1),this.Run(r,{runTask:(o,s)=>{let a=o*i,l=Math.min((o+1)*i,t)-1;n.runTask(a,l,s)},onReady:n.onReady})}RunOnce(){setTimeout(()=>{this.callbacks.runTask(this.current,this.TaskReady.bind(this))},0)}TaskReady(){this.current+=1,this.current<this.count?this.RunOnce():this.callbacks.onReady&&this.callbacks.onReady()}};function Uie(e){setTimeout(()=>{e()},10)}function IVe(e,t){new yI().Run(e,t)}function PVe(e,t,i){new yI().RunBatch(e,t,i)}function FVe(e){function t(i){i()&&setTimeout(()=>{t(i)},10)}t(e)}var GS=1e-8;var kS=.017453292519943;function $ie(e){return Math.abs(e)<GS}function Xie(e,t){return t-e>GS}function OVe(e,t){return e-t>GS}function Ml(e,t){return Math.abs(t-e)<GS}function Gie(e){return e>GS}function Kie(e){return e<-1e-8}var Fo={X:1,Y:2,Z:3},zs=class e{constructor(t,i){this.x=t,this.y=i}Clone(){return new e(this.x,this.y)}};function pI(e,t){return Ml(e.x,t.x)&&Ml(e.y,t.y)}function wI(e,t){return new zs(e.x-t.x,e.y-t.y)}function wV(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function Wie(e,t){return e.x*t.x+e.y*t.y}var Es=class e{constructor(t,i,n){this.r=t,this.g=i,this.b=n}Set(t,i,n){this.r=t,this.g=i,this.b=n}Clone(){return new e(this.r,this.g,this.b)}},FS=class e{constructor(t,i,n,r){this.r=t,this.g=i,this.b=n,this.a=r}Set(t,i,n,r){this.r=t,this.g=i,this.b=n,this.a=r}Clone(){return new e(this.r,this.g,this.b,this.a)}};function sh(e){return parseInt(Math.round(e*255),10)}function mI(e){return e/255}function Uy(e,t,i){return new Es(sh(e),sh(t),sh(i))}function bI(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}function Tg(e){let t=parseInt(e,10).toString(16);for(;t.length<2;)t="0"+t;return t}function CI(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}var Wv=class{constructor(){this.name=null,this.mimeType=null,this.buffer=null,this.offset=new zs(0,0),this.scale=new zs(1,1),this.rotation=0}IsValid(){return this.name!==null&&this.buffer!==null}HasTransformation(){return!pI(this.offset,new zs(0,0))||!pI(this.scale,new zs(1,1))||!Ml(this.rotation,0)}IsEqual(t){return!(this.name!==t.name||this.mimeType!==t.mimeType||!pI(this.offset,t.offset)||!pI(this.scale,t.scale)||!Ml(this.rotation,t.rotation))}};function Vy(e,t){return e===null&&t===null?!0:e===null||t===null?!1:e.IsEqual(t)}var Gy={Phong:1,Physical:2},ah={Model:1,DefaultFace:2,DefaultLine:3},_B=class{constructor(t){this.type=t,this.source=ah.Model,this.name="",this.color=new Es(0,0,0),this.vertexColors=!1}IsEqual(t){return!(this.type!==t.type||this.source!==t.source||this.name!==t.name||!CI(this.color,t.color)||this.vertexColors!==t.vertexColors)}},xI=class extends _B{constructor(t){super(t),this.emissive=new Es(0,0,0),this.opacity=1,this.transparent=!1,this.diffuseMap=null,this.bumpMap=null,this.normalMap=null,this.emissiveMap=null,this.alphaTest=0,this.multiplyDiffuseMap=!1}IsEqual(t){return!(!super.IsEqual(t)||!CI(this.emissive,t.emissive)||!Ml(this.opacity,t.opacity)||this.transparent!==t.transparent||!Vy(this.diffuseMap,t.diffuseMap)||!Vy(this.bumpMap,t.bumpMap)||!Vy(this.normalMap,t.normalMap)||!Vy(this.emissiveMap,t.emissiveMap)||!Ml(this.alphaTest,t.alphaTest)||this.multiplyDiffuseMap!==t.multiplyDiffuseMap)}},hf=class extends xI{constructor(){super(Gy.Phong),this.ambient=new Es(0,0,0),this.specular=new Es(0,0,0),this.shininess=0,this.specularMap=null}IsEqual(t){return!(!super.IsEqual(t)||!CI(this.ambient,t.ambient)||!CI(this.specular,t.specular)||!Ml(this.shininess,t.shininess)||!Vy(this.specularMap,t.specularMap))}},SI=class extends xI{constructor(){super(Gy.Physical),this.metalness=0,this.roughness=1,this.metalnessMap=null}IsEqual(t){return!(!super.IsEqual(t)||!Ml(this.metalness,t.metalness)||!Ml(this.roughness,t.roughness)||!Vy(this.metalnessMap,t.metalnessMap))}};var jie=new Set;function pB(e){return new Promise((t,i)=>{if(jie.has(e)){t();return}let n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=()=>{jie.add(e),t()},n.onerror=()=>{i()},document.head.appendChild(n)})}function AS(e,t,i){let n=e.substring(t),r=n.indexOf(i);return r!==-1&&(n=n.substring(0,r)),n.trim()}function OS(e,t){if(t!==null){let i=e.indexOf(t);i!==-1&&(e=e.substring(0,i).trim())}return e.split(/\s+/u)}function Wy(e,t){function i(o,s){let a=o.trim();a.length>0&&s(a)}let n=0,r=e.indexOf(`
`,n);for(;r!==-1;)i(e.substring(n,r),t),n=r+1,r=e.indexOf(`
`,n);i(e.substring(n),t)}function Ag(e){e.transparent=!1,Xie(e.opacity,1)&&(e.transparent=!0)}var jv=class{constructor(t){this.model=t,this.colorToMaterialIndex=new Map}GetMaterialIndex(t,i,n,r){let o=Tg(t)+Tg(i)+Tg(n),s=r!=null;if(s&&(o+=Tg(r)),this.colorToMaterialIndex.has(o))return this.colorToMaterialIndex.get(o);{let a=new hf;a.name=o.toUpperCase(),a.color=new Es(t,i,n),s&&r<255&&(a.opacity=r/255,Ag(a));let l=this.model.AddMaterial(a);return this.colorToMaterialIndex.set(o,l),l}}},gI=null;function Zie(e){return new Promise((t,i)=>{if(gI!==null){t(new Worker(gI));return}let n="https://cdn.jsdelivr.net/npm/occt-import-js@0.0.22/dist/";fetch(n+"occt-import-js-worker.js").then(r=>r.ok?r.text():i()).then(r=>{r=r.replace("occt-import-js.js",n+"occt-import-js.js"),r=r.replace("return path","return '"+n+"occt-import-js.wasm'");let o=new Blob([r],{type:"text/javascript"});return gI=URL.createObjectURL(o),t(new Worker(gI))}).catch(i)})}function CV(e){return e==="rhino3dm"?pB("https://cdn.jsdelivr.net/npm/rhino3dm@8.17.0/rhino3dm.min.js"):e==="webifc"?pB("https://cdn.jsdelivr.net/npm/web-ifc@0.0.68/web-ifc-api-iife.js"):e==="draco3d"?pB("https://cdn.jsdelivr.net/npm/draco3d@1.5.7/draco_decoder_nodejs.min.js"):null}var zv={Url:1,File:2,Decompressed:3};function Rg(e){let t=e,i=t.indexOf("?");i!==-1&&(t=t.substring(0,i));let n=t.lastIndexOf("/");return n===-1&&(n=t.lastIndexOf("\\")),n!==-1&&(t=t.substring(n+1)),decodeURI(t)}function xV(e){let t=Rg(e),i=t.lastIndexOf(".");return i===-1?"":t.substring(i+1).toLowerCase()}function LVe(e,t){return new Promise((i,n)=>{let r=new XMLHttpRequest;r.open("GET",e,!0),r.onprogress=o=>{t(o.loaded,o.total)},r.onload=()=>{r.status===200?i(r.response):n()},r.onerror=()=>{n()},r.responseType="arraybuffer",r.send(null)})}function NVe(e,t){return new Promise((i,n)=>{let r=new FileReader;r.onprogress=o=>{t(o.loaded,o.total)},r.onloadend=o=>{o.target.readyState===FileReader.DONE&&i(o.target.result)},r.onerror=()=>{n()},r.readAsArrayBuffer(e)})}function BVe(e){for(let t=0;t<e.length;t++){let i=e[t];i.indexOf("www.dropbox.com")!==-1?(i=i.replace("www.dropbox.com","dl.dropbox.com"),e[t]=i):i.indexOf("github.com")!==-1&&(i=i.replace("github.com","raw.githubusercontent.com"),i=i.replace("/blob",""),e[t]=i)}}var $n=class e{constructor(t,i,n){this.x=t,this.y=i,this.z=n}Length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}MultiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}Normalize(){let t=this.Length();return t>0&&this.MultiplyScalar(1/t),this}Offset(t,i){let n=t.Clone().Normalize();return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this}Rotate(t,i,n){let r=t.Clone().Normalize(),o=r.x,s=r.y,a=r.z,l=this.x-n.x,c=this.y-n.y,d=this.z-n.z,u=Math.sin(i),h=Math.cos(i);return this.x=-o*(-o*l-s*c-a*d)*(1-h)+l*h+(-a*c+s*d)*u,this.y=-s*(-o*l-s*c-a*d)*(1-h)+c*h+(a*l-o*d)*u,this.z=-a*(-o*l-s*c-a*d)*(1-h)+d*h+(-s*l+o*c)*u,this.x+=n.x,this.y+=n.y,this.z+=n.z,this}Clone(){return new e(this.x,this.y,this.z)}};function IS(e,t){return Ml(e.x,t.x)&&Ml(e.y,t.y)&&Ml(e.z,t.z)}function VVe(e,t){return new $n(e.x+t.x,e.y+t.y,e.z+t.z)}function lh(e,t){return new $n(e.x-t.x,e.y-t.y,e.z-t.z)}function jy(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z))}function zVe(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}function HVe(e,t){let i=e.Clone().Normalize(),n=t.Clone().Normalize();if(IS(i,n))return 0;let r=zVe(i,n);return Math.acos(r)}function RS(e,t){let i=new $n(0,0,0);return i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,i}function mB(e,t,i){return Math.sqrt(e*e+t*t+i*i)}function Uv(e){return new $n(e[0],e[1],e[2])}function Gp(e){return new TextDecoder("utf-8").decode(e)}function yB(e){let t="data:";if(!e.startsWith(t))return null;let i=e.indexOf(";");if(i===-1)return null;let n=e.indexOf(",");if(n===-1)return null;let r=e.substring(t.length,t.length+i-5),o=atob(e.substring(n+1)),s=new ArrayBuffer(o.length),a=new Uint8Array(s);for(let l=0;l<o.length;l++)a[l]=o.charCodeAt(l);return{mimeType:r,buffer:s}}function MI(e){if(e==null)return"";let t=e.split("/");return t.length===0?"":t[t.length-1]}function wB(e){let t=new Blob([e]);return URL.createObjectURL(t)}function UVe(e,t){let i=new Blob([e],{type:t});return URL.createObjectURL(i)}function GVe(e){URL.revokeObjectURL(e)}var Yl={Text:1,Integer:2,Number:3,Boolean:4,Percent:5,Color:6},Sl=class e{constructor(t,i,n){this.type=t,this.name=i,this.value=n}Clone(){return this.type===Yl.Color?new e(this.type,this.name,this.value.Clone()):new e(this.type,this.name,this.value)}},Wp=class e{constructor(t){this.name=t,this.properties=[]}PropertyCount(){return this.properties.length}AddProperty(t){this.properties.push(t)}GetProperty(t){return this.properties[t]}Clone(){let t=new e(this.name);for(let i of this.properties)t.AddProperty(i.Clone());return t}};var qy=class e{constructor(t,i,n,r){this.x=t,this.y=i,this.z=n,this.w=r}Clone(){return new e(this.x,this.y,this.z,this.w)}},uf=class{constructor(t,i,n,r){this.x=t,this.y=i,this.z=n,this.w=r}};function Qie(e){return new uf(e[0],e[1],e[2],e[3])}function WVe(e,t){let i=t/2,n=Math.sin(i);return new uf(e.x*n,e.y*n,e.z*n,Math.cos(i))}var Ad=class e{constructor(t){this.matrix=null,t!=null&&(this.matrix=t)}IsValid(){return this.matrix!==null}Set(t){return this.matrix=t,this}Get(){return this.matrix}Clone(){let t=[this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5],this.matrix[6],this.matrix[7],this.matrix[8],this.matrix[9],this.matrix[10],this.matrix[11],this.matrix[12],this.matrix[13],this.matrix[14],this.matrix[15]];return new e(t)}CreateIdentity(){return this.matrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this}IsIdentity(){let t=new e().CreateIdentity().Get();for(let i=0;i<16;i++)if(!Ml(this.matrix[i],t[i]))return!1;return!0}CreateTranslation(t,i,n){return this.matrix=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,n,1],this}CreateRotation(t,i,n,r){let o=t+t,s=i+i,a=n+n,l=t*o,c=t*s,d=t*a,u=i*s,h=i*a,f=n*a,p=r*o,v=r*s,m=r*a;return this.matrix=[1-(u+f),c+m,d-v,0,c-m,1-(l+f),h+p,0,d+v,h-p,1-(l+u),0,0,0,0,1],this}CreateRotationAxisAngle(t,i){let n=WVe(t,i);return this.CreateRotation(n.x,n.y,n.z,n.w)}CreateScale(t,i,n){return this.matrix=[t,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1],this}ComposeTRS(t,i,n){let r=t.x,o=t.y,s=t.z,a=i.x,l=i.y,c=i.z,d=i.w,u=n.x,h=n.y,f=n.z,p=a+a,v=l+l,m=c+c,g=a*p,b=a*v,w=a*m,x=l*v,R=l*m,_=c*m,L=d*p,F=d*v,T=d*m;return this.matrix=[(1-(x+_))*u,(b+T)*u,(w-F)*u,0,(b-T)*h,(1-(g+_))*h,(R+L)*h,0,(w+F)*f,(R-L)*f,(1-(g+x))*f,0,r,o,s,1],this}DecomposeTRS(){let t=new $n(this.matrix[12],this.matrix[13],this.matrix[14]),i=mB(this.matrix[0],this.matrix[1],this.matrix[2]),n=mB(this.matrix[4],this.matrix[5],this.matrix[6]),r=mB(this.matrix[8],this.matrix[9],this.matrix[10]),o=this.Determinant();Kie(o)&&(i*=-1);let s=new $n(i,n,r),a=this.matrix[0]/i,l=this.matrix[4]/n,c=this.matrix[8]/r,d=this.matrix[1]/i,u=this.matrix[5]/n,h=this.matrix[9]/r,f=this.matrix[2]/i,p=this.matrix[6]/n,v=this.matrix[10]/r,m=null,g=a+u+v;if(g>0){let b=Math.sqrt(g+1)*2;m=new uf((p-h)/b,(c-f)/b,(d-l)/b,.25*b)}else if(a>u&&a>v){let b=Math.sqrt(1+a-u-v)*2;m=new uf(.25*b,(l+d)/b,(c+f)/b,(p-h)/b)}else if(u>v){let b=Math.sqrt(1+u-a-v)*2;m=new uf((l+d)/b,.25*b,(h+p)/b,(c-f)/b)}else{let b=Math.sqrt(1+v-a-u)*2;m=new uf((c+f)/b,(h+p)/b,.25*b,(d-l)/b)}return{translation:t,rotation:m,scale:s}}Determinant(){let t=this.matrix[0],i=this.matrix[1],n=this.matrix[2],r=this.matrix[3],o=this.matrix[4],s=this.matrix[5],a=this.matrix[6],l=this.matrix[7],c=this.matrix[8],d=this.matrix[9],u=this.matrix[10],h=this.matrix[11],f=this.matrix[12],p=this.matrix[13],v=this.matrix[14],m=this.matrix[15],g=t*s-i*o,b=t*a-n*o,w=t*l-r*o,x=i*a-n*s,R=i*l-r*s,_=n*l-r*a,L=c*p-d*f,F=c*v-u*f,T=c*m-h*f,P=d*v-u*p,A=d*m-h*p,O=u*m-h*v;return g*O-b*A+w*P+x*T-R*F+_*L}Invert(){let t=this.matrix[0],i=this.matrix[1],n=this.matrix[2],r=this.matrix[3],o=this.matrix[4],s=this.matrix[5],a=this.matrix[6],l=this.matrix[7],c=this.matrix[8],d=this.matrix[9],u=this.matrix[10],h=this.matrix[11],f=this.matrix[12],p=this.matrix[13],v=this.matrix[14],m=this.matrix[15],g=t*s-i*o,b=t*a-n*o,w=t*l-r*o,x=i*a-n*s,R=i*l-r*s,_=n*l-r*a,L=c*p-d*f,F=c*v-u*f,T=c*m-h*f,P=d*v-u*p,A=d*m-h*p,O=u*m-h*v,V=g*O-b*A+w*P+x*T-R*F+_*L;if(Ml(V,0))return null;let U=[(s*O-a*A+l*P)/V,(n*A-i*O-r*P)/V,(p*_-v*R+m*x)/V,(u*R-d*_-h*x)/V,(a*T-o*O-l*F)/V,(t*O-n*T+r*F)/V,(v*w-f*_-m*b)/V,(c*_-u*w+h*b)/V,(o*A-s*T+l*L)/V,(i*T-t*A-r*L)/V,(f*R-p*w+m*g)/V,(d*w-c*R-h*g)/V,(s*F-o*P-a*L)/V,(t*P-i*F+n*L)/V,(p*b-f*x-v*g)/V,(c*x-d*b+u*g)/V];return new e(U)}Transpose(){let t=[this.matrix[0],this.matrix[4],this.matrix[8],this.matrix[12],this.matrix[1],this.matrix[5],this.matrix[9],this.matrix[13],this.matrix[2],this.matrix[6],this.matrix[10],this.matrix[14],this.matrix[3],this.matrix[7],this.matrix[11],this.matrix[15]];return new e(t)}InvertTranspose(){let t=this.Invert();return t===null?null:t.Transpose()}MultiplyVector(t){let i=t.x,n=t.y,r=t.z,o=t.w,s=this.matrix[0],a=this.matrix[1],l=this.matrix[2],c=this.matrix[3],d=this.matrix[4],u=this.matrix[5],h=this.matrix[6],f=this.matrix[7],p=this.matrix[8],v=this.matrix[9],m=this.matrix[10],g=this.matrix[11],b=this.matrix[12],w=this.matrix[13],x=this.matrix[14],R=this.matrix[15];return new qy(i*s+n*d+r*p+o*b,i*a+n*u+r*v+o*w,i*l+n*h+r*m+o*x,i*c+n*f+r*g+o*R)}MultiplyMatrix(t){let i=this.matrix[0],n=this.matrix[1],r=this.matrix[2],o=this.matrix[3],s=this.matrix[4],a=this.matrix[5],l=this.matrix[6],c=this.matrix[7],d=this.matrix[8],u=this.matrix[9],h=this.matrix[10],f=this.matrix[11],p=this.matrix[12],v=this.matrix[13],m=this.matrix[14],g=this.matrix[15],b=t.matrix[0],w=t.matrix[1],x=t.matrix[2],R=t.matrix[3],_=t.matrix[4],L=t.matrix[5],F=t.matrix[6],T=t.matrix[7],P=t.matrix[8],A=t.matrix[9],O=t.matrix[10],V=t.matrix[11],U=t.matrix[12],ae=t.matrix[13],ne=t.matrix[14],ue=t.matrix[15],se=[i*b+n*_+r*P+o*U,i*w+n*L+r*A+o*ae,i*x+n*F+r*O+o*ne,i*R+n*T+r*V+o*ue,s*b+a*_+l*P+c*U,s*w+a*L+l*A+c*ae,s*x+a*F+l*O+c*ne,s*R+a*T+l*V+c*ue,d*b+u*_+h*P+f*U,d*w+u*L+h*A+f*ae,d*x+u*F+h*O+f*ne,d*R+u*T+h*V+f*ue,p*b+v*_+m*P+g*U,p*w+v*L+m*A+g*ae,p*x+v*F+m*O+g*ne,p*R+v*T+m*V+g*ue];return new e(se)}};var ch=class e{constructor(t){t!=null?this.matrix=t:(this.matrix=new Ad,this.matrix.CreateIdentity())}SetMatrix(t){return this.matrix=t,this}GetMatrix(){return this.matrix}IsIdentity(){return this.matrix.IsIdentity()}AppendMatrix(t){return this.matrix=this.matrix.MultiplyMatrix(t),this}Append(t){return this.AppendMatrix(t.GetMatrix()),this}TransformCoord3D(t){let i=new qy(t.x,t.y,t.z,1),n=this.matrix.MultiplyVector(i);return new $n(n.x,n.y,n.z)}Clone(){let t=this.matrix.Clone();return new e(t)}};function SV(e){return e.LineCount()===0&&e.TriangleCount()===0}function qie(e,t,i){let n=lh(t,e),r=lh(i,e),o=RS(n,r);return o.Normalize(),o}function MV(e,t){if(!t.IsIdentity()){for(let i=0;i<e.VertexCount();i++){let n=e.GetVertex(i),r=t.TransformCoord3D(n);n.x=r.x,n.y=r.y,n.z=r.z}if(e.NormalCount()>0){let i=t.GetMatrix().InvertTranspose();if(i!==null){let n=new ch(i);for(let r=0;r<e.NormalCount();r++){let o=e.GetNormal(r),s=n.TransformCoord3D(o);o.x=s.x,o.y=s.y,o.z=s.z}}}}}function jVe(e){for(let t=0;t<e.TriangleCount();t++){let i=e.GetTriangle(t),n=i.v1;i.v1=i.v2,i.v2=n}}var CB=class{constructor(){}VertexCount(){return 0}VertexColorCount(){return 0}NormalCount(){return 0}TextureUVCount(){return 0}LineCount(){return 0}LineSegmentCount(){return 0}TriangleCount(){return 0}EnumerateVertices(t){}EnumerateTriangleVertexIndices(t){}EnumerateTriangleVertices(t){}},LS=class extends CB{constructor(){super(),this.name="",this.propertyGroups=[]}GetName(){return this.name}SetName(t){this.name=t}PropertyGroupCount(){return this.propertyGroups.length}AddPropertyGroup(t){return this.propertyGroups.push(t),this.propertyGroups.length-1}GetPropertyGroup(t){return this.propertyGroups[t]}CloneProperties(t){for(let i of this.propertyGroups)t.AddPropertyGroup(i.Clone())}},NS=class{constructor(t,i){this.nodeId=t,this.meshIndex=i}IsEqual(t){return this.nodeId===t.nodeId&&this.meshIndex===t.meshIndex}GetKey(){return this.nodeId.toString()+":"+this.meshIndex.toString()}},BS=class extends LS{constructor(t,i,n){super(),this.id=t,this.node=i,this.mesh=n}GetId(){return this.id}GetTransformation(){return this.node.GetWorldTransformation()}GetMesh(){return this.mesh}VertexCount(){return this.mesh.VertexCount()}VertexColorCount(){return this.mesh.VertexColorCount()}NormalCount(){return this.mesh.NormalCount()}TextureUVCount(){return this.mesh.TextureUVCount()}LineCount(){return this.mesh.LineCount()}LineSegmentCount(){return this.mesh.LineSegmentCount()}TriangleCount(){return this.mesh.TriangleCount()}EnumerateVertices(t){let i=this.node.GetWorldTransformation();i.IsIdentity()?this.mesh.EnumerateVertices(t):this.mesh.EnumerateVertices(n=>{let r=i.TransformCoord3D(n);t(r)})}EnumerateTriangleVertexIndices(t){this.mesh.EnumerateTriangleVertexIndices(t)}EnumerateTriangleVertices(t){let i=this.node.GetWorldTransformation();i.IsIdentity()?this.mesh.EnumerateTriangleVertices(t):this.mesh.EnumerateTriangleVertices((n,r,o)=>{let s=i.TransformCoord3D(n),a=i.TransformCoord3D(r),l=i.TransformCoord3D(o);t(s,a,l)})}PropertyGroupCount(){return this.mesh.PropertyGroupCount()}AddPropertyGroup(t){return this.mesh.AddPropertyGroup(t)}GetPropertyGroup(t){return this.mesh.GetPropertyGroup(t)}GetTransformedMesh(){let t=this.node.GetWorldTransformation(),i=this.mesh.Clone();return MV(i,t),i}};var xB=class e{constructor(t,i){this.beg=t,this.end=i}Clone(){return new e(this.beg,this.end)}};function qVe(e,t){let i=wI(e.end,e.beg),n=wI(t,e.beg),r=Wie(i,n),o=Wie(i,i);if($ie(o))return e.beg.Clone();let s=r/o;return s=Math.max(0,Math.min(1,s)),new zs(e.beg.x+s*i.x,e.beg.y+s*i.y)}function YVe(e,t){let i=qVe(e,t);return wV(i,t)}function $Ve(e,t,i){let n=t/i,r=n*n;return e*(r/(2*(r-n)+1))}function gB(e,t,i,n){let r=lh(t,e).Normalize(),o=jy(e,t),s=[];for(let a=0;a<i;a++){let l=n(o,a,i-1);s.push(e.Clone().Offset(r,l))}return s}var EI=class{constructor(t,i,n){this.name=t,this.source=i,this.data=n}};function XVe(e){let t=[];for(let i of e){let n=Rg(i);t.push(new EI(n,zv.Url,i))}return t}function KVe(e){let t=[];for(let i of e){let n=Rg(i.name);t.push(new EI(n,zv.File,i))}return t}var DI=class{constructor(t,i,n){this.name=Rg(t),this.extension=xV(t),this.source=i,this.data=n,this.content=null}SetContent(t){this.content=t}},TI=class{constructor(){this.files=[]}FillFromInputFiles(t){this.files=[];for(let i of t){let n=new DI(i.name,i.source,i.data);this.files.push(n)}}ExtendFromFileList(t){let i=t.GetFiles();for(let n=0;n<i.length;n++){let r=i[n];this.ContainsFileByPath(r.name)||this.files.push(r)}}GetFiles(){return this.files}GetContent(t){IVe(this.files.length,{runTask:(i,n)=>{t.onFileListProgress(i,this.files.length),this.GetFileContent(this.files[i],{onReady:n,onProgress:t.onFileLoadProgress})},onReady:t.onReady})}ContainsFileByPath(t){return this.FindFileByPath(t)!==null}FindFileByPath(t){let i=Rg(t).toLowerCase();for(let n=0;n<this.files.length;n++){let r=this.files[n];if(r.name.toLowerCase()===i)return r}return null}IsOnlyUrlSource(){if(this.files.length===0)return!1;for(let t=0;t<this.files.length;t++){let i=this.files[t];if(i.source!==zv.Url&&i.source!==zv.Decompressed)return!1}return!0}AddFile(t){this.files.push(t)}GetFileContent(t,i){if(t.content!==null){i.onReady();return}let n=null;if(t.source===zv.Url)n=LVe(t.data,i.onProgress);else if(t.source===zv.File)n=NVe(t.data,i.onProgress);else{i.onReady();return}n.then(r=>{t.SetContent(r)}).catch(()=>{}).finally(()=>{i.onReady()})}},SB=class{constructor(){this.nextId=0}GenerateId(){let t=this.nextId;return this.nextId+=1,t}},jp=class{constructor(){this.name="",this.parent=null,this.transformation=new ch,this.childNodes=[],this.meshIndices=[],this.idGenerator=new SB,this.id=this.idGenerator.GenerateId()}IsEmpty(){return this.childNodes.length===0&&this.meshIndices.length===0}IsMeshNode(){return this.childNodes.length===0&&this.meshIndices.length===1}GetId(){return this.id}GetName(){return this.name}SetName(t){this.name=t}HasParent(){return this.parent!==null}GetParent(){return this.parent}GetTransformation(){return this.transformation}GetWorldTransformation(){let t=this.transformation.Clone(),i=this.parent;for(;i!==null;)t.Append(i.transformation),i=i.parent;return t}SetTransformation(t){this.transformation=t}AddChildNode(t){return t.parent=this,t.idGenerator=this.idGenerator,t.id=t.idGenerator.GenerateId(),this.childNodes.push(t),this.childNodes.length-1}RemoveChildNode(t){t.parent=null;let i=this.childNodes.indexOf(t);this.childNodes.splice(i,1)}GetChildNodes(){return this.childNodes}ChildNodeCount(){return this.childNodes.length}GetChildNode(t){return this.childNodes[t]}AddMeshIndex(t){return this.meshIndices.push(t),this.meshIndices.length-1}MeshIndexCount(){return this.meshIndices.length}GetMeshIndex(t){return this.meshIndices[t]}GetMeshIndices(){return this.meshIndices}Enumerate(t){t(this);for(let i of this.childNodes)i.Enumerate(t)}EnumerateChildren(t){for(let i of this.childNodes)t(i),i.EnumerateChildren(t)}EnumerateMeshIndices(t){for(let i of this.meshIndices)t(i);for(let i of this.childNodes)i.EnumerateMeshIndices(t)}},EV={Unknown:0,Millimeter:1,Centimeter:2,Meter:3,Inch:4,Foot:5},MB=class extends LS{constructor(){super(),this.unit=EV.Unknown,this.root=new jp,this.materials=[],this.meshes=[]}GetUnit(){return this.unit}SetUnit(t){this.unit=t}GetRootNode(){return this.root}NodeCount(){let t=0;return this.root.Enumerate(i=>{t+=1}),t-1}MaterialCount(){return this.materials.length}MeshCount(){return this.meshes.length}MeshInstanceCount(){let t=0;return this.root.Enumerate(i=>{t+=i.MeshIndexCount()}),t}VertexCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.VertexCount()}),t}VertexColorCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.VertexColorCount()}),t}NormalCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.NormalCount()}),t}TextureUVCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.TextureUVCount()}),t}LineCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.LineCount()}),t}LineSegmentCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.LineSegmentCount()}),t}TriangleCount(){let t=0;return this.EnumerateMeshInstances(i=>{t+=i.TriangleCount()}),t}AddMaterial(t){return this.materials.push(t),this.materials.length-1}GetMaterial(t){return this.materials[t]}AddMesh(t){return this.meshes.push(t),this.meshes.length-1}AddMeshToRootNode(t){let i=this.AddMesh(t);return this.root.AddMeshIndex(i),i}RemoveMesh(t){this.meshes.splice(t,1),this.root.Enumerate(i=>{for(let n=0;n<i.meshIndices.length;n++)i.meshIndices[n]===t?(i.meshIndices.splice(n,1),n-=1):i.meshIndices[n]>t&&(i.meshIndices[n]-=1)})}GetMesh(t){return this.meshes[t]}GetMeshInstance(t){let i=null;if(this.root.Enumerate(s=>{s.GetId()===t.nodeId&&(i=s)}),i===null||i.GetMeshIndices().indexOf(t.meshIndex)===-1)return null;let r=this.GetMesh(t.meshIndex),o=new NS(i.GetId(),t.meshIndex);return new BS(o,i,r)}EnumerateMeshes(t){for(let i of this.meshes)t(i)}EnumerateMeshInstances(t){this.root.Enumerate(i=>{for(let n of i.GetMeshIndices()){let r=new NS(i.GetId(),n),o=this.GetMesh(n),s=new BS(r,i,o);t(s)}})}EnumerateTransformedMeshInstances(t){this.EnumerateMeshInstances(i=>{let n=i.GetTransformedMesh();t(n)})}EnumerateVertices(t){this.EnumerateMeshInstances(i=>{i.EnumerateVertices(t)})}EnumerateTriangleVertexIndices(t){this.EnumerateMeshInstances(i=>{i.EnumerateTriangleVertexIndices(t)})}EnumerateTriangleVertices(t){this.EnumerateMeshInstances(i=>{i.EnumerateTriangleVertices(t)})}};function Jie(e){let t=!0;return e.EnumerateMeshInstances(i=>{SV(i)||(t=!1)}),t}var mu=class e extends LS{constructor(){super(),this.vertices=[],this.vertexColors=[],this.normals=[],this.uvs=[],this.lines=[],this.triangles=[]}VertexCount(){return this.vertices.length}VertexColorCount(){return this.vertexColors.length}NormalCount(){return this.normals.length}TextureUVCount(){return this.uvs.length}LineCount(){return this.lines.length}LineSegmentCount(){let t=0;for(let i of this.lines)t+=i.SegmentCount();return t}TriangleCount(){return this.triangles.length}AddVertex(t){return this.vertices.push(t),this.vertices.length-1}SetVertex(t,i){this.vertices[t]=i}GetVertex(t){return this.vertices[t]}AddVertexColor(t){return this.vertexColors.push(t),this.vertexColors.length-1}SetVertexColor(t,i){this.vertexColors[t]=i}GetVertexColor(t){return this.vertexColors[t]}AddNormal(t){return this.normals.push(t),this.normals.length-1}SetNormal(t,i){this.normals[t]=i}GetNormal(t){return this.normals[t]}AddTextureUV(t){return this.uvs.push(t),this.uvs.length-1}SetTextureUV(t,i){this.uvs[t]=i}GetTextureUV(t){return this.uvs[t]}AddLine(t){return this.lines.push(t),this.lines.length-1}GetLine(t){return this.lines[t]}AddTriangle(t){return this.triangles.push(t),this.triangles.length-1}GetTriangle(t){return this.triangles[t]}EnumerateVertices(t){for(let i of this.vertices)t(i)}EnumerateTriangleVertexIndices(t){for(let i of this.triangles)t(i.v0,i.v1,i.v2)}EnumerateTriangleVertices(t){for(let i of this.triangles){let n=this.vertices[i.v0],r=this.vertices[i.v1],o=this.vertices[i.v2];t(n,r,o)}}Clone(){let t=new e;t.SetName(this.GetName()),this.CloneProperties(t);for(let i=0;i<this.VertexCount();i++){let n=this.GetVertex(i);t.AddVertex(n.Clone())}for(let i=0;i<this.VertexColorCount();i++){let n=this.GetVertexColor(i);t.AddVertexColor(n.Clone())}for(let i=0;i<this.NormalCount();i++){let n=this.GetNormal(i);t.AddNormal(n.Clone())}for(let i=0;i<this.TextureUVCount();i++){let n=this.GetTextureUV(i);t.AddTextureUV(n.Clone())}for(let i=0;i<this.LineCount();i++){let n=this.GetLine(i);t.AddLine(n.Clone())}for(let i=0;i<this.TriangleCount();i++){let n=this.GetTriangle(i);t.AddTriangle(n.Clone())}return t}},Gc=class e{constructor(t,i,n){this.v0=t,this.v1=i,this.v2=n,this.c0=null,this.c1=null,this.c2=null,this.n0=null,this.n1=null,this.n2=null,this.u0=null,this.u1=null,this.u2=null,this.mat=null,this.curve=null}HasVertices(){return this.v0!==null&&this.v1!==null&&this.v2!==null}HasVertexColors(){return this.c0!==null&&this.c1!==null&&this.c2!==null}HasNormals(){return this.n0!==null&&this.n1!==null&&this.n2!==null}HasTextureUVs(){return this.u0!==null&&this.u1!==null&&this.u2!==null}SetVertices(t,i,n){return this.v0=t,this.v1=i,this.v2=n,this}SetVertexColors(t,i,n){return this.c0=t,this.c1=i,this.c2=n,this}SetNormals(t,i,n){return this.n0=t,this.n1=i,this.n2=n,this}SetTextureUVs(t,i,n){return this.u0=t,this.u1=i,this.u2=n,this}SetMaterial(t){return this.mat=t,this}SetCurve(t){return this.curve=t,this}Clone(){let t=new e(this.v0,this.v1,this.v2);return t.SetVertexColors(this.c0,this.c1,this.c2),t.SetNormals(this.n0,this.n1,this.n2),t.SetTextureUVs(this.u0,this.u1,this.u2),t.SetMaterial(this.mat),t.SetCurve(this.curve),t}};function ZVe(){let e=document.createElement("canvas");document.body.appendChild(e);let t={canvas:e,antialias:!0},i=new CS(t);i.outputColorSpace=Qu,i.setClearColor("#ffffff",1),i.setSize(10,10);let n=new rf,r=new af(8947848);n.add(r);let o=new sf(8947848);o.position.set(0,0,1),n.add(o);let s=new ss(45,1,.1,1e3);s.position.set(0,0,1),s.up.set(0,1,0),s.lookAt(new Qe(0,0,0)),n.add(s);let a=new Sv(1,1),l=new go(a,new cs({color:13369344}));n.add(l),i.render(n,s);let c=i.getContext(),d=new Uint8Array(4);c.readPixels(5,5,1,1,c.RGBA,c.UNSIGNED_BYTE,d),document.body.removeChild(e);let u=50;return d[0]<u&&d[1]<u&&d[2]<u}var Up={Phong:1,Physical:2};function QVe(e){let t=0,i=0;for(let n=0;n<e.MaterialCount();n++){let r=e.GetMaterial(n);r.type===Gy.Phong?t+=1:r.type===Gy.Physical&&(i+=1)}return t>=i?Up.Phong:Up.Physical}var EB=class{Convert(t){return null}};var DB=class extends EB{Convert(t){return new Ji().copySRGBToLinear(t)}};function ene(e){return Uy(e.r,e.g,e.b)}function Uc(e){return new Ji(e.r/255,e.g/255,e.b/255)}function VS(e,t,i){let n=new mu,r=e.attributes.position.array,o=e.attributes.position.itemSize||3;for(let d=0;d<r.length;d+=o){let u=r[d],h=r[d+1],f=r[d+2];n.AddVertex(new $n(u,h,f))}let s=e.attributes.color!==void 0;if(s){let d=e.attributes.color.array,u=e.attributes.color.itemSize||3;for(let h=0;h<d.length;h+=u){let f=new Ji(d[h],d[h+1],d[h+2]);i!==null&&(f=i.Convert(f)),n.AddVertexColor(ene(f))}}let a=e.attributes.normal!==void 0;if(a){let d=e.attributes.normal.array,u=e.attributes.normal.itemSize||3;for(let h=0;h<d.length;h+=u){let f=d[h],p=d[h+1],v=d[h+2];n.AddNormal(new $n(f,p,v))}}let l=e.attributes.uv!==void 0;if(l){let d=e.attributes.uv.array,u=e.attributes.uv.itemSize||2;for(let h=0;h<d.length;h+=u){let f=d[h],p=d[h+1];n.AddTextureUV(new zs(f,p))}}let c=null;if(e.index!==null)c=e.index.array;else{c=[];for(let d=0;d<r.length/3;d++)c.push(d)}for(let d=0;d<c.length;d+=3){let u=c[d],h=c[d+1],f=c[d+2],p=new Gc(u,h,f);s&&p.SetVertexColors(u,h,f),a&&p.SetNormals(u,h,f),l&&p.SetTextureUVs(u,h,f),t!==null&&p.SetMaterial(t),n.AddTriangle(p)}return n}function JVe(e,t,i){let n=null;return e.type==="MeshPhongMaterial"?n=new cs({color:Uc(t),side:rl}):e.type==="MeshStandardMaterial"?n=new wg({color:Uc(t),side:rl}):e.type==="LineBasicMaterial"&&(n=new pc({color:Uc(t)})),n!==null&&i&&(n.polygonOffset=!0,n.polygonOffsetUnit=1,n.polygonOffsetFactor=1),n}function e7e(e,t,i){let n=new Map,r=[];for(let o of e){if(n.has(o.type)){r.push(n.get(o.type));continue}let s=JVe(o,t,i);n.set(o.type,s),r.push(s)}return r}function t7e(e){e!==null&&e.traverse(t=>{if(t.isMesh||t.isLineSegments){if(Array.isArray(t.material))for(let i of t.material)i.dispose();else t.material.dispose();t.userData=null,t.geometry.dispose()}})}function i7e(e,t,i,n,r){function o(c,d,u,h,f,p){let v=new Qe(f[3*p],f[3*p+1],f[3*p+2]);v.applyMatrix4(h.matrixWorld);let m=v.project(c);return new zs((m.x+1)*d/2,-(m.y-1)*u/2)}let s=n.geometry.attributes.position.array,a=s.length/6,l=1/0;for(let c=0;c<a;c++){let d=new xB(o(e,t,i,n,s,2*c),o(e,t,i,n,s,2*c+1));l=Math.min(l,YVe(d,r))}return l}var TB=class{constructor(t){this.params={defaultLineMaterialColor:new Es(0,0,0),defaultMaterialColor:new Es(0,0,0)},AVe(t,this.params),this.defaultLineMaterialIndex=null,this.defaultMaterialIndex=null}Finalize(t){this.Reset(),this.FinalizeMeshes(t),this.FinalizeMaterials(t),this.FinalizeNodes(t)}FinalizeMaterials(t){if(t.VertexColorCount()===0)return;let i=new Map;for(let n=0;n<t.MeshCount();n++){let r=t.GetMesh(n);for(let o=0;o<r.TriangleCount();o++){let s=r.GetTriangle(o),a=s.HasVertexColors();i.has(s.mat)?a||i.set(s.mat,!1):i.set(s.mat,a)}}for(let[n,r]of i){let o=t.GetMaterial(n);o.vertexColors=r}}FinalizeMeshes(t){for(let i=0;i<t.MeshCount();i++){let n=t.GetMesh(i);if(SV(n)){t.RemoveMesh(i),i=i-1;continue}this.FinalizeMesh(t,n)}}FinalizeMesh(t,i){function n(o){function s(c,d,u,h,f){function p(b,w){for(let x=0;x<b.length;x++){let R=b[x];if(IS(R,w))return!0}return!1}let v=[],m=f.get(u);for(let b=0;b<m.length;b++){let w=m[b],x=c.GetTriangle(w);if(d.curve===x.curve){let R=h[w];p(v,R)||v.push(R)}}let g=new $n(0,0,0);for(let b=0;b<v.length;b++)g=VVe(g,v[b]);return g.MultiplyScalar(1/v.length),g.Normalize(),c.AddNormal(g)}let a=[],l=new Map;for(let c=0;c<o.VertexCount();c++)l.set(c,[]);for(let c=0;c<o.TriangleCount();c++){let d=o.GetTriangle(c),u=o.GetVertex(d.v0),h=o.GetVertex(d.v1),f=o.GetVertex(d.v2),p=qie(u,h,f);a.push(p),l.get(d.v0).push(c),l.get(d.v1).push(c),l.get(d.v2).push(c)}for(let c=0;c<o.TriangleCount();c++){let d=o.GetTriangle(c);if(!d.HasNormals()){let u=s(o,d,d.v0,a,l),h=s(o,d,d.v1,a,l),f=s(o,d,d.v2,a,l);d.SetNormals(u,h,f)}}}let r={calculateCurveNormals:!1};for(let o=0;o<i.LineCount();o++){let s=i.GetLine(o);s.mat===null&&(s.mat=this.GetDefaultMaterialIndex(t,ah.DefaultLine))}for(let o=0;o<i.TriangleCount();o++){let s=i.GetTriangle(o);this.FinalizeTriangle(i,s,r),s.mat===null&&(s.mat=this.GetDefaultMaterialIndex(t,ah.DefaultFace))}r.calculateCurveNormals&&n(i)}FinalizeTriangle(t,i,n){if(!i.HasNormals())if(i.curve===null||i.curve===0){let r=t.GetVertex(i.v0),o=t.GetVertex(i.v1),s=t.GetVertex(i.v2),a=qie(r,o,s),l=t.AddNormal(a);i.SetNormals(l,l,l)}else n.calculateCurveNormals=!0;i.curve===null&&(i.curve=0)}FinalizeNodes(t){let i=t.GetRootNode(),n=[];i.EnumerateChildren(r=>{r.IsEmpty()&&n.push(r)});for(let r=0;r<n.length;r++){let o=n[r],s=o.GetParent();s!==null&&(s.RemoveChildNode(o),s.IsEmpty()&&n.push(s))}}GetDefaultMaterialIndex(t,i){function n(r,o,s,a){if(o!==null)return o;let l=new hf;return l.color=a,l.source=s,r.AddMaterial(l)}return i===ah.DefaultLine?(this.defaultLineMaterialIndex=n(t,this.defaultLineMaterialIndex,ah.DefaultLine,this.params.defaultLineMaterialColor),this.defaultLineMaterialIndex):i===ah.DefaultFace?(this.defaultMaterialIndex=n(t,this.defaultMaterialIndex,ah.DefaultFace,this.params.defaultMaterialColor),this.defaultMaterialIndex):null}Reset(){this.defaultLineMaterialIndex=null,this.defaultMaterialIndex=null}};function n7e(e,t){new TB(t).Finalize(e)}var Wc=class{constructor(){this.name=null,this.extension=null,this.callbacks=null,this.model=null,this.error=null,this.message=null}Import(t,i,n,r){this.Clear(),this.name=t,this.extension=i,this.callbacks=r,this.model=new MB,this.error=!1,this.message=null,this.ResetContent(),this.ImportContent(n,()=>{this.CreateResult(r)})}Clear(){this.name=null,this.extension=null,this.callbacks=null,this.model=null,this.error=null,this.message=null,this.ClearContent()}CreateResult(t){if(this.error){t.onError(),t.onComplete();return}if(Jie(this.model)){this.SetError(Yn("The model doesn't contain any meshes.")),t.onError(),t.onComplete();return}n7e(this.model,{defaultLineMaterialColor:this.callbacks.getDefaultLineMaterialColor(),defaultMaterialColor:this.callbacks.getDefaultMaterialColor()}),t.onSuccess(),t.onComplete()}CanImportExtension(t){return!1}GetUpDirection(){return Fo.Z}ClearContent(){}ResetContent(){}ImportContent(t,i){}GetModel(){return this.model}SetError(t){this.error=!0,t!=null&&(this.message=t)}WasError(){return this.error}GetErrorMessage(){return this.message}},zS=class e{constructor(t){this.vertices=t,this.mat=null}HasVertices(){return this.vertices!==null&&this.vertices.length>=2}GetVertices(){return this.vertices}SetMaterial(t){return this.mat=t,this}SegmentCount(){return this.vertices===null?0:this.vertices.length-1}Clone(){let t=new e([...this.vertices]);return t.SetMaterial(this.mat),t}},AB=class extends Wc{constructor(){super(),this.rhino=null}CanImportExtension(t){return t==="3dm"}GetUpDirection(){return Fo.Z}ClearContent(){this.instanceIdToObject=null,this.instanceIdToDefinition=null}ResetContent(){this.instanceIdToObject=new Map,this.instanceIdToDefinition=new Map}ImportContent(t,i){this.rhino===null?CV("rhino3dm").then(()=>{rhino3dm().then(n=>{this.rhino=n,this.ImportRhinoContent(t),i()})}).catch(()=>{this.SetError(Yn("Failed to load rhino3dm.")),i()}):(this.ImportRhinoContent(t),i())}ImportRhinoContent(t){let i=this.rhino.File3dm.fromByteArray(t);if(i===null){this.SetError(Yn("Failed to read Rhino file."));return}this.ImportRhinoDocument(i),Jie(this.model)&&this.SetError(Yn("The model doesn't contain any 3D meshes. Try to save the model while you are in shaded view in Rhino."))}ImportRhinoDocument(t){this.InitRhinoInstances(t),this.ImportRhinoUserStrings(t),this.ImportRhinoGeometry(t)}InitRhinoInstances(t){let i=t.objects();for(let r=0;r<i.count;r++){let o=i.get(r),s=o.attributes();s.isInstanceDefinitionObject&&this.instanceIdToObject.set(s.id,o)}let n=t.instanceDefinitions();for(let r=0;r<n.count;r++){let o=n.get(r);this.instanceIdToDefinition.set(o.id,o)}}ImportRhinoUserStrings(t){let i=t.strings();if(i.count>0){let n=new Wp(Yn("Document user texts"));for(let r=0;r<i.count;r++){let o=i.get(r);n.AddProperty(new Sl(Yl.Text,o[0],o[1]))}this.model.AddPropertyGroup(n)}}ImportRhinoGeometry(t){let i=t.objects();for(let n=0;n<i.count;n++){let r=i.get(n);this.ImportRhinoGeometryObject(t,r,[])}}ImportRhinoGeometryObject(t,i,n){let r=i.geometry(),o=i.attributes(),s=r.objectType;if(!(o.isInstanceDefinitionObject&&n.length===0)){if(s===this.rhino.ObjectType.Mesh)this.ImportRhinoGeometryAsMesh(t,r,i,n);else if(s===this.rhino.ObjectType.Extrusion){let a=r.getMesh(this.rhino.MeshType.Any);a!==null&&(this.ImportRhinoGeometryAsMesh(t,a,i,n),a.delete())}else if(s===this.rhino.ObjectType.Brep){let a=new this.rhino.Mesh,l=r.faces();for(let c=0;c<l.count;c++){let d=l.get(c),u=d.getMesh(this.rhino.MeshType.Any);u&&(a.append(u),u.delete()),d.delete()}l.delete(),a.compact(),this.ImportRhinoGeometryAsMesh(t,a,i,n),a.delete()}else if(s===this.rhino.ObjectType.SubD){r.subdivide(3);let a=this.rhino.Mesh.createFromSubDControlNet(r,!0);a!==null&&(this.ImportRhinoGeometryAsMesh(t,a,i,n),a.delete())}else if(s===this.rhino.ObjectType.Curve)this.ImportRhinoGeometryAsMesh(t,r,i,n);else if(s===this.rhino.ObjectType.InstanceReference){let a=r.parentIdefId;if(this.instanceIdToDefinition.has(a)){let c=this.instanceIdToDefinition.get(a).getObjectIds();for(let d=0;d<c.length;d++){let u=c[d];if(this.instanceIdToObject.has(u)){let h=this.instanceIdToObject.get(u);n.push(i),this.ImportRhinoGeometryObject(t,h,n),n.pop()}}}}}}ImportRhinoGeometryAsMesh(t,i,n,r){function o(d){let u=d.domain[1]-d.domain[0],h=Math.max(parseInt(u/.2,10),1),f=u/h,p=[];for(let v=0;v<=h;v++)if(v===h&&d.isClosed)p.push(p[0]);else{let m=i.pointAt(d.domain[0]+v*f);p.push(a.AddVertex(Uv(m)))}return new zS(p)}let s=this.GetMaterialIndex(t,n,r),a=null;if(i.objectType===this.rhino.ObjectType.Mesh){let d=i.toThreejsJSON();a=VS(d.data,s,null)}else if(i.objectType===this.rhino.ObjectType.Curve){if(a=new mu,i instanceof this.rhino.LineCurve){let d=a.AddVertex(Uv(i.line.from)),u=a.AddVertex(Uv(i.line.to)),h=new zS([d,u]);h.SetMaterial(s),a.AddLine(h)}else if(i instanceof this.rhino.NurbsCurve){let d=o(i);d.SetMaterial(s),a.AddLine(d)}else if(i instanceof this.rhino.ArcCurve){let d=o(i);d.SetMaterial(s),a.AddLine(d)}}if(a===null)return null;let l=n.attributes();a.SetName(l.name);let c=l.getUserStrings();if(c.length>0){let d=new Wp(Yn("User texts"));for(let u=0;u<c.length;u++){let h=c[u];d.AddProperty(new Sl(Yl.Text,h[0],h[1]))}a.AddPropertyGroup(d)}if(r.length!==0){let d=new Ad().CreateIdentity();for(let h=r.length-1;h>=0;h--){let v=r[h].geometry().xform.toFloatArray(!1),m=new Ad(v);d=d.MultiplyMatrix(m)}let u=new ch(d);MV(a,u)}this.model.AddMeshToRootNode(a)}GetMaterialIndex(t,i,n){function r(l,c,d){let u=c.attributes();if(u.materialSource===l.ObjectMaterialSource.MaterialFromObject){let h=u.materialIndex;if(h>-1)return t.materials().get(h)}else if(u.materialSource===l.ObjectMaterialSource.MaterialFromLayer){let h=u.layerIndex;if(h>-1){let f=t.layers().get(h),p=f.renderMaterialIndex;if(p>-1)return t.materials().get(p);if(c.geometry().objectType===l.ObjectType.Curve){let m=new l.Material;return m.name=f.name,m.diffuseColor=f.color,m}}}else if(u.materialSource===l.ObjectMaterialSource.MaterialFromParent&&d.length!==0)return r(l,d[0],[]);return null}function o(l,c){function d(m,g){m.Set(g.r,g.g,g.b)}function u(m){return m.r===0&&m.g===0&&m.b===0}function h(m){return m.r===255&&m.g===255&&m.b===255}let f=null,p=l.physicallyBased();p.supported?(f=new SI,f.metalness=p.metallic?1:0,f.roughness=p.roughness):(f=new hf,d(f.ambient,l.ambientColor),d(f.specular,l.specularColor)),f.name=l.name,d(f.color,l.diffuseColor),f.opacity=1-l.transparency,Ag(f),u(f.color)&&!h(l.reflectionColor)&&d(f.color,l.reflectionColor),u(f.color)&&!h(l.transparentColor)&&d(f.color,l.transparentColor);let v=l.getBitmapTexture();if(v){let m=new Wv,g=Rg(v.fileName),b=c.getFileBuffer(g);m.name=g,m.buffer=b,f.diffuseMap=m}return f}function s(l,c,d){let u=o(c,d);for(let h=0;h<l.MaterialCount();h++)if(l.GetMaterial(h).IsEqual(u))return h;return l.AddMaterial(u)}let a=r(this.rhino,i,n);return a===null?null:s(this.model,a,this.callbacks)}},qp=class{constructor(t,i){this.arrayBuffer=t,this.dataView=new DataView(t),this.isLittleEndian=i,this.position=0}GetPosition(){return this.position}SetPosition(t){this.position=t}GetByteLength(){return this.arrayBuffer.byteLength}Skip(t){this.position=this.position+t}End(){return this.position>=this.arrayBuffer.byteLength}ReadArrayBuffer(t){let i=new Uint8Array(this.arrayBuffer),n=new ArrayBuffer(t),r=new Uint8Array(n),o=i.subarray(this.position,this.position+t);return r.set(o,0),this.position+=t,n}ReadBoolean8(){let t=this.dataView.getInt8(this.position);return this.position=this.position+1,!!t}ReadCharacter8(){let t=this.dataView.getInt8(this.position);return this.position=this.position+1,t}ReadUnsignedCharacter8(){let t=this.dataView.getUint8(this.position);return this.position=this.position+1,t}ReadInteger16(){let t=this.dataView.getInt16(this.position,this.isLittleEndian);return this.position=this.position+2,t}ReadUnsignedInteger16(){let t=this.dataView.getUint16(this.position,this.isLittleEndian);return this.position=this.position+2,t}ReadInteger32(){let t=this.dataView.getInt32(this.position,this.isLittleEndian);return this.position=this.position+4,t}ReadUnsignedInteger32(){let t=this.dataView.getUint32(this.position,this.isLittleEndian);return this.position=this.position+4,t}ReadFloat32(){let t=this.dataView.getFloat32(this.position,this.isLittleEndian);return this.position=this.position+4,t}ReadDouble64(){let t=this.dataView.getFloat64(this.position,this.isLittleEndian);return this.position=this.position+8,t}},ar={MAIN3DS:19789,EDIT3DS:15677,EDIT_MATERIAL:45055,MAT_NAME:40960,MAT_AMBIENT:40976,MAT_DIFFUSE:40992,MAT_SPECULAR:41008,MAT_SHININESS:41024,MAT_SHININESS_STRENGTH:41025,MAT_TRANSPARENCY:41040,MAT_COLOR_F:16,MAT_COLOR:17,MAT_LIN_COLOR:18,MAT_LIN_COLOR_F:19,MAT_TEXMAP:41472,MAT_TEXMAP_NAME:41728,MAT_TEXMAP_UOFFSET:41816,MAT_TEXMAP_VOFFSET:41818,MAT_TEXMAP_USCALE:41812,MAT_TEXMAP_VSCALE:41814,MAT_TEXMAP_ROTATION:41820,PERCENTAGE:48,PERCENTAGE_F:49,EDIT_OBJECT:16384,OBJ_TRIMESH:16640,TRI_VERTEX:16656,TRI_TEXVERTEX:16704,TRI_FACE:16672,TRI_TRANSFORMATION:16736,TRI_MATERIAL:16688,TRI_SMOOTH:16720,KF3DS:45056,OBJECT_NODE:45058,OBJECT_HIERARCHY:45072,OBJECT_INSTANCE_NAME:45073,OBJECT_PIVOT:45075,OBJECT_POSITION:45088,OBJECT_ROTATION:45089,OBJECT_SCALE:45090,OBJECT_ID:45104},RB=class{constructor(){this.id=-1,this.name="",this.flags=-1,this.parentId=-1,this.instanceName="",this.pivot=[0,0,0],this.positions=[],this.rotations=[],this.scales=[]}},kB=class{constructor(){this.nodes=[],this.nodeIdToNode=new Map}IsEmpty(){return this.nodes.length===0}AddNode(t){this.nodes.push(t),this.nodeIdToNode.set(t.nodeId,t)}GetNodes(){return this.nodes}},IB=class extends Wc{constructor(){super()}CanImportExtension(t){return t==="3ds"}GetUpDirection(){return Fo.Z}ClearContent(){this.materialNameToIndex=null,this.meshNameToIndex=null,this.nodeList=null}ResetContent(){this.materialNameToIndex=new Map,this.meshNameToIndex=new Map,this.nodeList=new kB}ImportContent(t,i){this.ProcessBinary(t),i()}ProcessBinary(t){let i=new qp(t,!0),n=i.GetByteLength();this.ReadChunks(i,n,(r,o)=>{r===ar.MAIN3DS?this.ReadMainChunk(i,o):this.SkipChunk(i,o)})}ReadMainChunk(t,i){let n=this.GetChunkEnd(t,i);this.ReadChunks(t,n,(r,o)=>{r===ar.EDIT3DS?this.ReadEditorChunk(t,o):r===ar.KF3DS?this.ReadKeyFrameChunk(t,o):this.SkipChunk(t,o)}),this.BuildNodeHierarchy()}ReadEditorChunk(t,i){let n=this.GetChunkEnd(t,i);this.ReadChunks(t,n,(r,o)=>{r===ar.EDIT_MATERIAL?this.ReadMaterialChunk(t,o):r===ar.EDIT_OBJECT?this.ReadObjectChunk(t,o):this.SkipChunk(t,o)})}ReadMaterialChunk(t,i){let n=new hf,r=this.GetChunkEnd(t,i),o=null,s=null;this.ReadChunks(t,r,(l,c)=>{l===ar.MAT_NAME?n.name=this.ReadName(t):l===ar.MAT_AMBIENT?n.ambient=this.ReadColorChunk(t,c):l===ar.MAT_DIFFUSE?n.color=this.ReadColorChunk(t,c):l===ar.MAT_SPECULAR?n.specular=this.ReadColorChunk(t,c):l===ar.MAT_SHININESS?o=this.ReadPercentageChunk(t,c):l===ar.MAT_SHININESS_STRENGTH?s=this.ReadPercentageChunk(t,c):l===ar.MAT_TRANSPARENCY?(n.opacity=1-this.ReadPercentageChunk(t,c),Ag(n)):l===ar.MAT_TEXMAP?(n.diffuseMap=this.ReadTextureMapChunk(t,c),Ag(n)):this.SkipChunk(t,c)}),o!==null&&s!==null&&(n.shininess=o*s/10);let a=this.model.AddMaterial(n);this.materialNameToIndex.set(n.name,a)}ReadTextureMapChunk(t,i){let n=new Wv,r=this.GetChunkEnd(t,i);return this.ReadChunks(t,r,(o,s)=>{if(o===ar.MAT_TEXMAP_NAME){let a=this.ReadName(t),l=this.callbacks.getFileBuffer(a);n.name=a,n.buffer=l}else o===ar.MAT_TEXMAP_UOFFSET?n.offset.x=t.ReadFloat32():o===ar.MAT_TEXMAP_VOFFSET?n.offset.y=t.ReadFloat32():o===ar.MAT_TEXMAP_USCALE?n.scale.x=t.ReadFloat32():o===ar.MAT_TEXMAP_VSCALE?n.scale.y=t.ReadFloat32():o===ar.MAT_TEXMAP_ROTATION?n.rotation=t.ReadFloat32()*kS:this.SkipChunk(t,s)}),n}ReadColorChunk(t,i){let n=new Es(0,0,0),r=this.GetChunkEnd(t,i),o=!1;return this.ReadChunks(t,r,(s,a)=>{s===ar.MAT_COLOR?o||(n.r=t.ReadUnsignedCharacter8(),n.g=t.ReadUnsignedCharacter8(),n.b=t.ReadUnsignedCharacter8()):s===ar.MAT_LIN_COLOR?(n.r=t.ReadUnsignedCharacter8(),n.g=t.ReadUnsignedCharacter8(),n.b=t.ReadUnsignedCharacter8(),o=!0):s===ar.MAT_COLOR_F?o||(n.r=sh(t.ReadFloat32()),n.g=sh(t.ReadFloat32()),n.b=sh(t.ReadFloat32())):s===ar.MAT_LIN_COLOR_F?(n.r=sh(t.ReadFloat32()),n.g=sh(t.ReadFloat32()),n.b=sh(t.ReadFloat32()),o=!0):this.SkipChunk(t,a)}),n}ReadPercentageChunk(t,i){let n=0,r=this.GetChunkEnd(t,i);return this.ReadChunks(t,r,(o,s)=>{o===ar.PERCENTAGE?n=t.ReadUnsignedInteger16()/100:o===ar.PERCENTAGE_F?n=t.ReadFloat32():this.SkipChunk(t,s)}),n}ReadObjectChunk(t,i){let n=this.GetChunkEnd(t,i),r=this.ReadName(t);this.ReadChunks(t,n,(o,s)=>{o===ar.OBJ_TRIMESH?this.ReadMeshChunk(t,s,r):this.SkipChunk(t,s)})}ReadMeshChunk(t,i,n){function r(d,u){if(!u.IsValid())return;let h=u.Determinant(),f=Kie(h);f&&(u=new Ad().CreateScale(-1,1,1).MultiplyMatrix(u));let p=u.Invert();if(p===null)return;let v=new ch(p);MV(d,v),f&&jVe(d)}let o=new mu;o.SetName(n);let s=this.GetChunkEnd(t,i),a=null;if(this.ReadChunks(t,s,(d,u)=>{d===ar.TRI_VERTEX?this.ReadVerticesChunk(o,t):d===ar.TRI_TEXVERTEX?this.ReadTextureVerticesChunk(o,t):d===ar.TRI_FACE?this.ReadFacesChunk(o,t,u):d===ar.TRI_TRANSFORMATION?a=this.ReadTransformationChunk(t):this.SkipChunk(t,u)}),o.VertexCount()===o.TextureUVCount())for(let d=0;d<o.TriangleCount();d++){let u=o.GetTriangle(d);u.SetTextureUVs(u.v0,u.v1,u.v2)}let l=new Ad(a);r(o,l);let c=this.model.AddMesh(o);this.meshNameToIndex.set(o.GetName(),c)}ReadVerticesChunk(t,i){let n=i.ReadUnsignedInteger16();for(let r=0;r<n;r++){let o=i.ReadFloat32(),s=i.ReadFloat32(),a=i.ReadFloat32();t.AddVertex(new $n(o,s,a))}}ReadTextureVerticesChunk(t,i){let n=i.ReadUnsignedInteger16();for(let r=0;r<n;r++){let o=i.ReadFloat32(),s=i.ReadFloat32();t.AddTextureUV(new zs(o,s))}}ReadFacesChunk(t,i,n){let r=this.GetChunkEnd(i,n),o=i.ReadUnsignedInteger16();for(let s=0;s<o;s++){let a=i.ReadUnsignedInteger16(),l=i.ReadUnsignedInteger16(),c=i.ReadUnsignedInteger16();i.ReadUnsignedInteger16(),t.AddTriangle(new Gc(a,l,c))}this.ReadChunks(i,r,(s,a)=>{s===ar.TRI_MATERIAL?this.ReadFaceMaterialsChunk(t,i):s===ar.TRI_SMOOTH?this.ReadFaceSmoothingGroupsChunk(t,o,i):this.SkipChunk(i,a)})}ReadFaceMaterialsChunk(t,i){let n=this.ReadName(i),r=this.materialNameToIndex.get(n),o=i.ReadUnsignedInteger16();for(let s=0;s<o;s++){let a=i.ReadUnsignedInteger16(),l=t.GetTriangle(a);r!==void 0&&(l.mat=r)}}ReadFaceSmoothingGroupsChunk(t,i,n){for(let r=0;r<i;r++){let o=n.ReadUnsignedInteger32(),s=t.GetTriangle(r);s.curve=o}}ReadTransformationChunk(t){let i=[];for(let n=0;n<4;n++){for(let r=0;r<3;r++)i.push(t.ReadFloat32());n<3?i.push(0):i.push(1)}return i}ReadKeyFrameChunk(t,i){let n=this.GetChunkEnd(t,i);this.ReadChunks(t,n,(r,o)=>{r===ar.OBJECT_NODE?this.ReadObjectNodeChunk(t,o):this.SkipChunk(t,o)})}BuildNodeHierarchy(){function t(n,r){function o(c){return c.positions.length===0?[0,0,0]:c.positions[0]}function s(c){function d(h){let f=[0,0,0,1],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]);if(p>0){let v=h[3]*-.5,m=Math.sin(v)/p;f=[m*h[0],m*h[1],m*h[2],Math.cos(v)]}return f}if(c.rotations.length===0)return[0,0,0,1];let u=c.rotations[0];return d(u)}function a(c){return c.scales.length===0?[1,1,1]:c.scales[0]}let l=new Ad;if(l.ComposeTRS(Uv(o(n)),Qie(s(n)),Uv(a(n))),r){let c=n.pivot;l=new Ad().CreateTranslation(-c[0],-c[1],-c[2]).MultiplyMatrix(l)}return new ch(l)}let i=this.model.GetRootNode();if(this.nodeList.IsEmpty())for(let n=0;n<this.model.MeshCount();n++)i.AddMeshIndex(n);else{let n=new Map;for(let r of this.nodeList.GetNodes()){let o=new jp;r.name.length>0&&r.name!=="$$$DUMMY"&&(o.SetName(r.name),r.instanceName.length>0&&o.SetName(o.GetName()+" "+r.instanceName)),r.parentId===65535||!n.has(r.parentId)?i.AddChildNode(o):n.get(r.parentId).AddChildNode(o),n.set(r.id,o);let s=this.meshNameToIndex.has(r.name);o.SetTransformation(t(r,s)),s&&o.AddMeshIndex(this.meshNameToIndex.get(r.name))}}}ReadObjectNodeChunk(t,i){function n(s,a,l){let c=[];a.Skip(10);let d=a.ReadInteger32();for(let u=0;u<d;u++){a.ReadInteger32(),a.ReadUnsignedInteger16()!==0&&a.ReadFloat32();let f=null;if(l===ar.OBJECT_ROTATION){let p=a.ReadFloat32();f=s.ReadVector(a),f[3]=p}else f=s.ReadVector(a);c.push(f)}return c}let r=new RB,o=this.GetChunkEnd(t,i);this.ReadChunks(t,o,(s,a)=>{s===ar.OBJECT_HIERARCHY?(r.name=this.ReadName(t),r.flags=t.ReadUnsignedInteger32(),r.parentId=t.ReadUnsignedInteger16()):s===ar.OBJECT_INSTANCE_NAME?r.instanceName=this.ReadName(t):s===ar.OBJECT_PIVOT?r.pivot=this.ReadVector(t):s===ar.OBJECT_POSITION?r.positions=n(this,t,ar.OBJECT_POSITION):s===ar.OBJECT_ROTATION?r.rotations=n(this,t,ar.OBJECT_ROTATION):s===ar.OBJECT_SCALE?r.scales=n(this,t,ar.OBJECT_SCALE):s===ar.OBJECT_ID?r.id=t.ReadUnsignedInteger16():this.SkipChunk(t,a)}),this.nodeList.AddNode(r)}ReadName(t){let i="",n=0,r=0;for(;r<64&&(n=t.ReadCharacter8(),n!==0);)i=i+String.fromCharCode(n),r=r+1;return i}ReadVector(t){return[t.ReadFloat32(),t.ReadFloat32(),t.ReadFloat32()]}ReadChunks(t,i,n){for(;t.GetPosition()<=i-6;){let r=t.ReadUnsignedInteger16(),o=t.ReadUnsignedInteger32();n(r,o)}}GetChunkEnd(t,i){return t.GetPosition()+i-6}SkipChunk(t,i){t.Skip(i-6)}},Hc={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126},oh={SCALAR:0,VEC2:1,VEC3:2,VEC4:3,MAT2:4,MAT3:5,MAT4:6},Bv={TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},vB={GLTF_STRING:1179937895,JSON_CHUNK_TYPE:1313821514,BINARY_CHUNK_TYPE:5130562};function PS(e){return Uy(bI(e[0]),bI(e[1]),bI(e[2]))}function r7e(e,t){function i(n,r){let o=n;return r===Hc.UNSIGNED_BYTE?o/=255:r===Hc.UNSIGNED_SHORT&&(o/=65535),sh(bI(o))}return new Es(i(e[0],t),i(e[1],t),i(e[2],t))}var PB=class{constructor(t){this.reader=new qp(t,!0),this.componentType=null,this.dataType=null,this.byteStride=null,this.dataCount=null,this.sparseReader=null}SetComponentType(t){this.componentType=t}SetDataType(t){t==="SCALAR"?this.dataType=oh.SCALAR:t==="VEC2"?this.dataType=oh.VEC2:t==="VEC3"?this.dataType=oh.VEC3:t==="VEC4"?this.dataType=oh.VEC4:t==="MAT2"?this.dataType=oh.MAT2:t==="MAT3"?this.dataType=oh.MAT3:t==="MAT4"&&(this.dataType=oh.MAT4)}SetByteStride(t){this.byteStride=t}SetDataCount(t){this.dataCount=t}SetSparseReader(t,i){this.sparseReader={indexReader:t,valueReader:i}}ReadArrayBuffer(t){return this.reader.ReadArrayBuffer(t)}GetDataCount(){return this.dataCount}ReadData(){if(this.dataType===null)return null;if(this.dataType===oh.SCALAR){let t=this.ReadComponent();return this.SkipBytesByStride(1),t}else if(this.dataType===oh.VEC2){let t=this.ReadComponent(),i=this.ReadComponent();return this.SkipBytesByStride(2),new zs(t,i)}else if(this.dataType===oh.VEC3){let t=this.ReadComponent(),i=this.ReadComponent(),n=this.ReadComponent();return this.SkipBytesByStride(3),new $n(t,i,n)}else if(this.dataType===oh.VEC4){let t=this.ReadComponent(),i=this.ReadComponent(),n=this.ReadComponent(),r=this.ReadComponent();return this.SkipBytesByStride(4),new qy(t,i,n,r)}return null}EnumerateData(t){if(this.sparseReader===null)for(let i=0;i<this.dataCount;i++)t(this.ReadData());else{let i=[];for(let r=0;r<this.sparseReader.indexReader.GetDataCount();r++){let o=this.sparseReader.indexReader.ReadData(),s=this.sparseReader.valueReader.ReadData();i.push({index:o,value:s})}let n=0;for(let r=0;r<this.dataCount;r++){let o=this.ReadData();n<i.length&&i[n].index===r?(t(i[n].value),n+=1):t(o)}}}SkipBytes(t){this.reader.Skip(t)}ReadComponent(){return this.componentType===null?null:this.componentType===Hc.BYTE?this.reader.ReadCharacter8():this.componentType===Hc.UNSIGNED_BYTE?this.reader.ReadUnsignedCharacter8():this.componentType===Hc.SHORT?this.reader.ReadInteger16():this.componentType===Hc.UNSIGNED_SHORT?this.reader.ReadUnsignedInteger16():this.componentType===Hc.UNSIGNED_INT?this.reader.ReadInteger32():this.componentType===Hc.FLOAT?this.reader.ReadFloat32():null}SkipBytesByStride(t){if(this.byteStride===null)return;let i=t*this.GetComponentSize();this.reader.Skip(this.byteStride-i)}GetComponentSize(){return this.componentType===Hc.BYTE||this.componentType===Hc.UNSIGNED_BYTE?1:this.componentType===Hc.SHORT||this.componentType===Hc.UNSIGNED_SHORT?2:this.componentType===Hc.UNSIGNED_INT||this.componentType===Hc.FLOAT?4:0}},FB=class{constructor(){this.supportedExtensions=["KHR_draco_mesh_compression","KHR_materials_pbrSpecularGlossiness","KHR_texture_transform"],this.draco=null}LoadLibraries(t,i){if(t===void 0){i.onSuccess();return}this.draco===null&&t.indexOf("KHR_draco_mesh_compression")!==-1?CV("draco3d").then(()=>{DracoDecoderModule().then(n=>{this.draco=n,i.onSuccess()})}).catch(()=>{i.onError(Yn("Failed to load draco decoder."))}):i.onSuccess()}GetUnsupportedExtensions(t){let i=[];if(t===void 0)return i;for(let n=0;n<t.length;n++){let r=t[n];this.supportedExtensions.indexOf(r)===-1&&i.push(r)}return i}ProcessMaterial(t,i,n){if(t.extensions===void 0)return null;let r=t.extensions.KHR_materials_pbrSpecularGlossiness;if(r===void 0)return null;let o=new hf,s=r.diffuseFactor;s!==void 0&&(o.color=PS(s),o.opacity=s[3]);let a=r.diffuseTexture;a!==void 0&&(o.diffuseMap=n(a));let l=r.specularFactor;l!==void 0&&(o.specular=PS(l));let c=r.specularGlossinessTexture;c!==void 0&&(o.specularMap=n(c));let d=r.glossinessFactor;return d!==void 0&&(o.shininess=d),o}ProcessTexture(t,i){if(t.extensions===void 0)return;let n=t.extensions.KHR_texture_transform;n!==void 0&&(n.offset!==void 0&&(i.offset.x=n.offset[0],i.offset.y=-n.offset[1]),n.scale!==void 0&&(i.scale.x=n.scale[0],i.scale.y=n.scale[1]),n.rotation!==void 0&&(i.rotation=-n.rotation))}ProcessPrimitive(t,i,n,r){function o(O,V,U,ae,ne){let ue=V.GetAttributeByUniqueId(U,ae),se=ue.num_components(),Ve=U.num_points()*se,Ge=Ve*4,K=O._malloc(Ge);V.GetAttributeDataArrayForAllPoints(U,ue,O.DT_FLOAT32,Ge,K);let Q=new Float32Array(O.HEAPF32.buffer,K,Ve).slice();if(se===2)for(let ee=0;ee<Q.length;ee+=2)ne(new zs(Q[ee+0],Q[ee+1]));else if(se===3)for(let ee=0;ee<Q.length;ee+=3)ne(new $n(Q[ee+0],Q[ee+1],Q[ee+2]));else if(se===4)for(let ee=0;ee<Q.length;ee+=4)ne(new qy(Q[ee+0],Q[ee+1],Q[ee+2],Q[ee+3]));O._free(K)}if(this.draco===null||n.extensions===void 0||n.extensions.KHR_draco_mesh_compression===void 0)return!1;let s=new this.draco.Decoder,a=new this.draco.DecoderBuffer,l=n.extensions.KHR_draco_mesh_compression,c=i.bufferViews[l.bufferView],u=t.GetReaderFromBufferView(c).ReadArrayBuffer(c.byteLength);if(a.Init(new Int8Array(u),u.byteLength),s.GetEncodedGeometryType(a)!==this.draco.TRIANGULAR_MESH)return!0;let f=new this.draco.Mesh;if(!s.DecodeBufferToMesh(a,f).ok())return!0;let v=l.attributes.POSITION!==void 0,m=!1,g=l.attributes.NORMAL!==void 0,b=l.attributes.TEXCOORD_0!==void 0;if(!v)return!0;let w=r.VertexCount(),x=r.VertexColorCount(),R=r.NormalCount(),_=r.TextureUVCount();o(this.draco,s,f,l.attributes.POSITION,O=>{r.AddVertex(O)}),g&&o(this.draco,s,f,l.attributes.NORMAL,O=>{r.AddNormal(O)}),b&&o(this.draco,s,f,l.attributes.TEXCOORD_0,O=>{O.y=-O.y,r.AddTextureUV(O)});let F=f.num_faces()*3,T=F*4,P=this.draco._malloc(T);s.GetTrianglesUInt32Array(f,T,P);let A=new Uint32Array(this.draco.HEAPU32.buffer,P,F).slice();for(let O=0;O<A.length;O+=3){let V=A[O],U=A[O+1],ae=A[O+2];t.AddTriangle(n,r,V,U,ae,m,g,b,w,x,R,_)}return this.draco._free(P),!0}},OB=class extends Wc{constructor(){super(),this.gltfExtensions=new FB}CanImportExtension(t){return t==="gltf"||t==="glb"}GetUpDirection(){return Fo.Y}ClearContent(){this.bufferContents=null,this.imageIndexToTextureParams=null}ResetContent(){this.bufferContents=[],this.imageIndexToTextureParams=new Map}ImportContent(t,i){this.extension==="gltf"?this.ProcessGltf(t,i):this.extension==="glb"&&this.ProcessBinaryGltf(t,i)}ProcessGltf(t,i){let n=Gp(t),r=JSON.parse(n);if(r.asset.version!=="2.0"){this.SetError(Yn("Invalid glTF version.")),i();return}for(let o=0;o<r.buffers.length;o++){let s=null,a=r.buffers[o],l=yB(a.uri);if(l!==null)s=l.buffer;else{let c=this.callbacks.getFileBuffer(a.uri);c!==null&&(s=c)}if(s===null){this.SetError(Yn("One of the requested buffers is missing.")),i();return}this.bufferContents.push(s)}this.ProcessMainFile(r,i)}ProcessBinaryGltf(t,i){function n(c){let d=c.ReadUnsignedInteger32(),u=c.ReadUnsignedInteger32(),h=c.ReadArrayBuffer(d);return{type:u,buffer:h}}let r=new qp(t,!0);if(r.ReadUnsignedInteger32()!==vB.GLTF_STRING){this.SetError(Yn("Invalid glTF file.")),i();return}if(r.ReadUnsignedInteger32()!==2){this.SetError(Yn("Invalid glTF version.")),i();return}if(r.ReadUnsignedInteger32()!==r.GetByteLength()){this.SetError(Yn("Invalid glTF file.")),i();return}let l=null;for(;!r.End();){let c=n(r);c.type===vB.JSON_CHUNK_TYPE?l=Gp(c.buffer):c.type===vB.BINARY_CHUNK_TYPE&&this.bufferContents.push(c.buffer)}if(l!==null){let c=JSON.parse(l);this.ProcessMainFile(c,i)}}ProcessMainFile(t,i){let n=this.gltfExtensions.GetUnsupportedExtensions(t.extensionsRequired);if(n.length>0){this.SetError(Yie("Unsupported extension: {0}.",n.join(", "))),i();return}this.gltfExtensions.LoadLibraries(t.extensionsRequired,{onSuccess:()=>{this.ImportModel(t),i()},onError:r=>{this.SetError(r),i()}})}ImportModel(t){let i=t.materials;if(i!==void 0)for(let r of i)this.ImportMaterial(t,r);let n=t.meshes;if(n!==void 0)for(let r of n)this.ImportMesh(t,r);this.ImportProperties(this.model,t.asset,Yn("Asset properties")),this.ImportScene(t)}ImportProperties(t,i,n){if(i==null)return;let r=new Wp(n);for(let o in i)if(Object.prototype.hasOwnProperty.call(i,o)){let s=null,a=i[o];typeof a=="string"?s=new Sl(Yl.Text,o,a):typeof a=="number"&&(Number.isInteger(a)?s=new Sl(Yl.Integer,o,a):s=new Sl(Yl.Number,o,a)),s!==null&&r.AddProperty(s)}r.PropertyCount()!==0&&t.AddPropertyGroup(r)}GetDefaultScene(t){let i=t.scene||0;return i>=t.scenes.length?null:t.scenes[i]}ImportMaterial(t,i){let n=new SI;if(i.name!==void 0&&(n.name=i.name),n.color=PS([1,1,1]),i.pbrMetallicRoughness!==void 0){let o=i.pbrMetallicRoughness.baseColorFactor;o!==void 0&&(n.color=PS(o),n.opacity=o[3]);let s=i.pbrMetallicRoughness.metallicFactor;s!==void 0&&(n.metalness=s);let a=i.pbrMetallicRoughness.roughnessFactor;a!==void 0&&(n.roughness=a);let l=i.emissiveFactor;l!==void 0&&(n.emissive=PS(l)),n.diffuseMap=this.ImportTexture(t,i.pbrMetallicRoughness.baseColorTexture),n.metalnessMap=this.ImportTexture(t,i.pbrMetallicRoughness.metallicRoughnessTexture),n.normalMap=this.ImportTexture(t,i.normalTexture),n.emissiveMap=this.ImportTexture(t,i.emissiveTexture),n.diffuseMap!==null&&(n.multiplyDiffuseMap=!0);let c=i.alphaMode;c!==void 0&&(c==="BLEND"?n.transparent=!0:c==="MASK"&&(n.transparent=!0,n.alphaTest=i.alphaCutoff||.5))}let r=this.gltfExtensions.ProcessMaterial(i,n,o=>this.ImportTexture(t,o));r!==null&&(n=r),this.model.AddMaterial(n)}ImportTexture(t,i){if(i==null)return null;let n=new Wv,o=t.textures[i.index].source,s=t.images[o],a=null;if(this.imageIndexToTextureParams.has(o))a=this.imageIndexToTextureParams.get(o);else{a={name:null,mimeType:null,buffer:null};let l=o.toString();if(s.uri!==void 0){let c=yB(s.uri);if(c!==null)a.name="Embedded_"+l+"."+MI(c.mimeType),a.mimeType=c.mimeType,a.buffer=c.buffer;else{let d=this.callbacks.getFileBuffer(s.uri);a.name=s.uri,a.buffer=d}}else if(s.bufferView!==void 0){let c=t.bufferViews[s.bufferView],d=this.GetReaderFromBufferView(c);if(d!==null){let u=d.ReadArrayBuffer(c.byteLength);a.name="Binary_"+l+"."+MI(s.mimeType),a.mimeType=s.mimeType,a.buffer=u}}this.imageIndexToTextureParams.set(o,a)}return n.name=a.name,n.mimeType=a.mimeType,n.buffer=a.buffer,this.gltfExtensions.ProcessTexture(i,n),n}ImportMesh(t,i){let n=new mu;this.model.AddMesh(n),i.name!==void 0&&n.SetName(i.name);for(let r=0;r<i.primitives.length;r++){let o=i.primitives[r];this.ImportPrimitive(t,o,n)}this.ImportProperties(n,i.extras,Yn("Mesh properties"))}ImportPrimitive(t,i,n){function r(g,b,w){let x=b.attributes[w];if(x===void 0)return!1;let R=g.accessors[x];return!(R===void 0||R.count===0)}if(this.gltfExtensions.ProcessPrimitive(this,t,i,n)||i.attributes===void 0)return;let o=r(t,i,"POSITION"),s=r(t,i,"COLOR_0"),a=r(t,i,"NORMAL"),l=r(t,i,"TEXCOORD_0"),c=i.indices!==void 0,d=Bv.TRIANGLES;if(i.mode!==void 0&&(d=i.mode),d!==Bv.TRIANGLES&&d!==Bv.TRIANGLE_STRIP&&d!==Bv.TRIANGLE_FAN)return;let u=n.VertexCount(),h=n.VertexColorCount(),f=n.NormalCount(),p=n.TextureUVCount();if(o){let g=t.accessors[i.attributes.POSITION],b=this.GetReaderFromAccessor(t,g);if(b===null)return;b.EnumerateData(w=>{n.AddVertex(w)})}else return;let v=n.VertexCount()-u;if(s){let g=t.accessors[i.attributes.COLOR_0],b=this.GetReaderFromAccessor(t,g);if(b===null)return;b.EnumerateData(w=>{let x=r7e([w.x,w.y,w.z],b.componentType);n.AddVertexColor(x)}),n.VertexColorCount()-h!==v&&(s=!1)}if(a){let g=t.accessors[i.attributes.NORMAL],b=this.GetReaderFromAccessor(t,g);if(b===null)return;b.EnumerateData(w=>{n.AddNormal(w)}),n.NormalCount()-f!==v&&(a=!1)}if(l){let g=t.accessors[i.attributes.TEXCOORD_0],b=this.GetReaderFromAccessor(t,g);if(b===null)return;b.EnumerateData(w=>{w.y=-w.y,n.AddTextureUV(w)}),n.TextureUVCount()-p!==v&&(l=!1)}let m=[];if(c){let g=t.accessors[i.indices],b=this.GetReaderFromAccessor(t,g);if(b===null)return;b.EnumerateData(w=>{m.push(w)})}else{let g=n.VertexCount()-u;for(let b=0;b<g;b++)m.push(b)}if(d===Bv.TRIANGLES)for(let g=0;g<m.length;g+=3){let b=m[g],w=m[g+1],x=m[g+2];this.AddTriangle(i,n,b,w,x,s,a,l,u,h,f,p)}else if(d===Bv.TRIANGLE_STRIP)for(let g=0;g<m.length-2;g++){let b=m[g],w=m[g+1],x=m[g+2];if(g%2===1){let R=w;w=x,x=R}this.AddTriangle(i,n,b,w,x,s,a,l,u,h,f,p)}else if(d===Bv.TRIANGLE_FAN)for(let g=1;g<m.length-1;g++){let b=m[0],w=m[g],x=m[g+1];this.AddTriangle(i,n,b,w,x,s,a,l,u,h,f,p)}}AddTriangle(t,i,n,r,o,s,a,l,c,d,u,h){let f=new Gc(c+n,c+r,c+o);s&&f.SetVertexColors(d+n,d+r,d+o),a&&f.SetNormals(u+n,u+r,u+o),l&&f.SetTextureUVs(h+n,h+r,h+o),t.material!==void 0&&(f.mat=t.material),i.AddTriangle(f)}ImportScene(t){let i=this.GetDefaultScene(t);if(i===null)return;let n=this.model.GetRootNode();for(let r of i.nodes){let o=t.nodes[r];this.ImportNode(t,o,n)}this.ImportProperties(this.model,i.extras,Yn("Scene properties"))}ImportNode(t,i,n){function r(s){let a=new Ad().CreateIdentity();if(s.matrix!==void 0)a.Set(s.matrix);else{let l=[0,0,0],c=[0,0,0,1],d=[1,1,1];s.translation!==void 0&&(l=s.translation),s.rotation!==void 0&&(c=s.rotation),s.scale!==void 0&&(d=s.scale),a.ComposeTRS(Uv(l),Qie(c),Uv(d))}return new ch(a)}if(i.children===void 0&&i.mesh===void 0)return;let o=new jp;if(i.name!==void 0&&o.SetName(i.name),o.SetTransformation(r(i)),n.AddChildNode(o),i.children!==void 0)for(let s of i.children){let a=t.nodes[s];this.ImportNode(t,a,o)}if(i.mesh!==void 0){let s=this.model.GetMesh(i.mesh);this.ImportProperties(s,i.extras,Yn("Node properties")),o.AddMeshIndex(i.mesh)}}GetReaderFromBufferView(t){let i=t.buffer||0,n=this.bufferContents[i];if(n==null)return null;let r=new PB(n);r.SkipBytes(t.byteOffset||0);let o=t.byteStride;return o!==void 0&&o!==0&&r.SetByteStride(o),r}GetReaderFromAccessor(t,i){let n=i.bufferView||0,r=t.bufferViews[n],o=this.GetReaderFromBufferView(r);if(o===null)return null;if(o.SetComponentType(i.componentType),o.SetDataType(i.type),o.SetDataCount(i.count),o.SkipBytes(i.byteOffset||0),i.sparse!==void 0){let s=this.GetReaderFromSparseAccessor(t,i.sparse.indices,i.sparse.indices.componentType,"SCALAR",i.sparse.count),a=this.GetReaderFromSparseAccessor(t,i.sparse.values,i.componentType,i.type,i.sparse.count);s!==null&&a!==null&&o.SetSparseReader(s,a)}return o}GetReaderFromSparseAccessor(t,i,n,r,o){if(i.bufferView===void 0)return null;let s=t.bufferViews[i.bufferView],a=this.GetReaderFromBufferView(s);return a===null?null:(a.SetComponentType(n),a.SetDataType(r),a.SetDataCount(o),a.SkipBytes(i.byteOffset||0),a)}},LB=class extends Wc{constructor(){super(),this.ifc=null}CanImportExtension(t){return t==="ifc"}GetUpDirection(){return Fo.Y}ClearContent(){this.expressIDToMesh=null,this.colorToMaterial=null}ResetContent(){this.expressIDToMesh=new Map,this.colorToMaterial=new jv(this.model)}ImportContent(t,i){this.ifc===null?CV("webifc").then(()=>{this.ifc=new WebIFC.IfcAPI,this.ifc.Init().then(()=>{this.ImportIfcContent(t),i()})}).catch(()=>{this.SetError(Yn("Failed to load web-ifc.")),i()}):(this.ImportIfcContent(t),i())}ImportIfcContent(t){let i=new Uint8Array(t),n=this.ifc.OpenModel(i,{COORDINATE_TO_ORIGIN:!0}),r=this.ifc.LoadAllGeometry(n);for(let o=0;o<r.size();o++){let s=r.get(o);s.geometries.size()>0&&this.ImportIfcMesh(n,s)}this.ImportProperties(n),this.ifc.CloseModel(n)}ImportIfcMesh(t,i){let n=new mu;n.SetName(Yie("Mesh {0}",i.expressID.toString()));let r=0,o=i.geometries;for(let s=0;s<o.size();s++){let a=o.get(s),l=this.ifc.GetGeometry(t,a.geometryExpressID),c=this.ifc.GetVertexArray(l.GetVertexData(),l.GetVertexDataSize()),d=this.ifc.GetIndexArray(l.GetIndexData(),l.GetIndexDataSize()),u=this.GetMaterialIndexByColor(a.color),h=new Ad(a.flatTransformation),f=new ch(h);for(let p=0;p<c.length;p+=6){let v=c[p],m=c[p+1],g=c[p+2],b=new $n(v,m,g),w=f.TransformCoord3D(b);n.AddVertex(w)}for(let p=0;p<d.length;p+=3){let v=d[p],m=d[p+1],g=d[p+2],b=new Gc(r+v,r+m,r+g);b.SetMaterial(u),n.AddTriangle(b)}r+=c.length/6}this.expressIDToMesh.set(i.expressID,n),this.model.AddMeshToRootNode(n)}ImportProperties(t){let i=this.ifc.GetLineIDsWithType(t,WebIFC.IFCRELDEFINESBYPROPERTIES);for(let n=0;n<i.size();n++){let r=i.get(n),o=this.ifc.GetLine(t,r);Array.isArray(o.RelatingPropertyDefinition)||o.RelatedObjects.forEach(s=>{let a=null;if(this.expressIDToMesh.has(s.value)?a=this.expressIDToMesh.get(s.value):this.ifc.GetLine(t,s.value,!0).type===WebIFC.IFCBUILDING&&(a=this.model),a===null)return;let l=o.RelatingPropertyDefinition,c=this.ifc.GetLine(t,l.value,!0);if(!c||!c.HasProperties)return;let d=new Wp(c.Name.value);c.HasProperties.forEach(u=>{if(!u||!u.Name||!u.NominalValue||!u.NominalValue.constructor||u.type!==WebIFC.IFCPROPERTYSINGLEVALUE)return;let h=this.GetIFCString(u.Name.value),f=null,p=null;switch(u.NominalValue.constructor.name){case"IfcText":case"IfcLabel":case"IfcIdentifier":case WebIFC.IFCLABEL:f=new Sl(Yl.Text,h,this.GetIFCString(u.NominalValue.value));break;case"IfcBoolean":case"IfcLogical":p=Yn("Unknown"),u.NominalValue.value==="T"?p=Yn("True"):u.NominalValue.value==="F"&&(p=Yn("False")),f=new Sl(Yl.Text,h,p);break;case"IfcInteger":case"IfcCountMeasure":f=new Sl(Yl.Integer,h,u.NominalValue.value);break;case"IfcReal":case"IfcLengthMeasure":case"IfcPositiveLengthMeasure":case"IfcAreaMeasure":case"IfcVolumeMeasure":case"IfcRatioMeasure":case"IfcPositiveRatioMeasure":case"IfcMassMeasure":case"IfcMassPerLengthMeasure":case"IfcPlaneAngleMeasure":case"IfcThermalTransmittanceMeasure":f=new Sl(Yl.Number,h,u.NominalValue.value);break;default:console.log(u);break}f!==null&&d.AddProperty(f)}),d.PropertyCount()>0&&a.AddPropertyGroup(d)})}}GetMaterialIndexByColor(t){let i=Uy(t.x,t.y,t.z),n=parseInt(t.w*255,10);return this.colorToMaterial.GetMaterialIndex(i.r,i.g,i.b,n)}GetIFCString(t){let i=this.DecodeIFCString(t);return i.length===0&&(i="-"),i}DecodeIFCString(t){let i=/\\X2\\(.*?)\\X0\\/uig,n=t,r=i.exec(t);for(;r;){let o=String.fromCharCode(parseInt(r[1],16));n=n.replace(r[0],o),r=i.exec(t)}return n}},NB=class{constructor(t){this.mesh=t,this.globalToMeshVertices=new Map,this.globalToMeshVertexColors=new Map,this.globalToMeshNormals=new Map,this.globalToMeshUvs=new Map}AddVertex(t,i){return this.GetMeshIndex(t,i,this.globalToMeshVertices,n=>this.mesh.AddVertex(new $n(n.x,n.y,n.z)))}AddVertexColor(t,i){return this.GetMeshIndex(t,i,this.globalToMeshVertexColors,n=>this.mesh.AddVertexColor(new Es(n.r,n.g,n.b)))}AddNormal(t,i){return this.GetMeshIndex(t,i,this.globalToMeshNormals,n=>this.mesh.AddNormal(new $n(n.x,n.y,n.z)))}AddUV(t,i){return this.GetMeshIndex(t,i,this.globalToMeshUvs,n=>this.mesh.AddTextureUV(new zs(n.x,n.y)))}AddLine(t){this.mesh.AddLine(t)}AddTriangle(t){this.mesh.AddTriangle(t)}GetMeshIndex(t,i,n,r){if(isNaN(t)||t<0||t>=i.length)return null;if(n.has(t))return n.get(t);{let o=i[t],s=r(o);return n.set(t,s),s}}};function vI(e,t,i){return Uy(parseFloat(e),parseFloat(t),parseFloat(i))}var BB=class extends Wc{constructor(){super()}CanImportExtension(t){return t==="obj"}GetUpDirection(){return Fo.Y}ClearContent(){this.globalVertices=null,this.globalVertexColors=null,this.globalNormals=null,this.globalUvs=null,this.currentMeshConverter=null,this.currentMaterial=null,this.currentMaterialIndex=null,this.meshNameToConverter=null,this.materialNameToIndex=null}ResetContent(){this.globalVertices=[],this.globalVertexColors=[],this.globalNormals=[],this.globalUvs=[],this.currentMeshConverter=null,this.currentMaterial=null,this.currentMaterialIndex=null,this.meshNameToConverter=new Map,this.materialNameToIndex=new Map}ImportContent(t,i){let n=Gp(t);Wy(n,r=>{this.WasError()||this.ProcessLine(r)}),i()}ProcessLine(t){if(t[0]==="#")return;let i=OS(t,"#");if(i.length===0)return;let n=i[0].toLowerCase();i.shift(),!this.ProcessMeshParameter(n,i,t)&&this.ProcessMaterialParameter(n,i,t)}AddNewMesh(t){if(this.meshNameToConverter.has(t))this.currentMeshConverter=this.meshNameToConverter.get(t);else{let i=new mu;i.SetName(t),this.model.AddMeshToRootNode(i),this.currentMeshConverter=new NB(i),this.meshNameToConverter.set(t,this.currentMeshConverter)}}ProcessMeshParameter(t,i,n){if(t==="g"||t==="o"){if(i.length===0)return!0;let r=AS(n,t.length,"#");return this.AddNewMesh(r),!0}else{if(t==="v")return i.length<3||(this.globalVertices.push(new $n(parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2]))),i.length>=6&&this.globalVertexColors.push(vI(i[3],i[4],i[5]))),!0;if(t==="vn")return i.length<3||this.globalNormals.push(new $n(parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2]))),!0;if(t==="vt")return i.length<2||this.globalUvs.push(new zs(parseFloat(i[0]),parseFloat(i[1]))),!0;if(t==="l"){if(i.length<2)return!0;this.ProcessLineCommand(i)}else if(t==="f")return i.length<3||this.ProcessFaceCommand(i),!0}return!1}ProcessMaterialParameter(t,i,n){function r(s){let a=new Map,l=null;for(let c=0;c<s.length-1;c++){let d=s[c];if(d.startsWith("-")){l=d,a.set(l,[]);continue}l!==null&&a.get(l).push(d)}return a}function o(s,a){let l=new Wv,c=s[s.length-1],d=a.getFileBuffer(c);l.name=c,l.buffer=d;let u=r(s);if(u.has("-o")){let h=u.get("-o");h.length>0&&(l.offset.x=parseFloat(h[0])),h.length>1&&(l.offset.y=parseFloat(h[1]))}if(u.has("-s")){let h=u.get("-s");h.length>0&&(l.scale.x=parseFloat(h[0])),h.length>1&&(l.scale.y=parseFloat(h[1]))}return l}if(t==="newmtl"){if(i.length===0)return!0;let s=new hf,a=AS(n,t.length,"#"),l=this.model.AddMaterial(s);return s.name=a,this.currentMaterial=s,this.materialNameToIndex.set(a,l),!0}else if(t==="usemtl"){if(i.length===0)return!0;let s=AS(n,t.length,"#");return this.materialNameToIndex.has(s)&&(this.currentMaterialIndex=this.materialNameToIndex.get(s)),!0}else if(t==="mtllib"){if(i.length===0)return!0;let s=AS(n,t.length,"#"),a=this.callbacks.getFileBuffer(s);if(a!==null){let l=Gp(a);Wy(l,c=>{this.WasError()||this.ProcessLine(c)})}return!0}else{if(t==="map_kd")return this.currentMaterial===null||i.length===0||(this.currentMaterial.diffuseMap=o(i,this.callbacks),Ag(this.currentMaterial)),!0;if(t==="map_ks")return this.currentMaterial===null||i.length===0||(this.currentMaterial.specularMap=o(i,this.callbacks)),!0;if(t==="map_bump"||t==="bump")return this.currentMaterial===null||i.length===0||(this.currentMaterial.bumpMap=o(i,this.callbacks)),!0;if(t==="ka")return this.currentMaterial===null||i.length<3||(this.currentMaterial.ambient=vI(i[0],i[1],i[2])),!0;if(t==="kd")return this.currentMaterial===null||i.length<3||(this.currentMaterial.color=vI(i[0],i[1],i[2])),!0;if(t==="ks")return this.currentMaterial===null||i.length<3||(this.currentMaterial.specular=vI(i[0],i[1],i[2])),!0;if(t==="ns")return this.currentMaterial===null||i.length<1||(this.currentMaterial.shininess=parseFloat(i[0])/1e3),!0;if(t==="tr")return this.currentMaterial===null||i.length<1||(this.currentMaterial.opacity=1-parseFloat(i[0]),Ag(this.currentMaterial)),!0;if(t==="d")return this.currentMaterial===null||i.length<1||(this.currentMaterial.opacity=parseFloat(i[0]),Ag(this.currentMaterial)),!0}return!1}ProcessLineCommand(t){this.currentMeshConverter===null&&this.AddNewMesh("");let i=[];for(let r=0;r<t.length;r++){let o=t[r].split("/"),s=this.GetRelativeIndex(parseInt(o[0],10),this.globalVertices.length),a=this.currentMeshConverter.AddVertex(s,this.globalVertices);if(a===null){this.SetError(Yn("Invalid vertex index."));break}i.push(a)}let n=new zS(i);this.currentMaterialIndex!==null&&(n.mat=this.currentMaterialIndex),this.currentMeshConverter.AddLine(n)}ProcessFaceCommand(t){let i=[],n=[],r=[],o=[];this.currentMeshConverter===null&&this.AddNewMesh("");for(let s=0;s<t.length;s++){let a=t[s].split("/");i.push(this.GetRelativeIndex(parseInt(a[0],10),this.globalVertices.length)),this.globalVertices.length===this.globalVertexColors.length&&n.push(this.GetRelativeIndex(parseInt(a[0],10),this.globalVertices.length)),a.length>1&&a[1].length>0&&o.push(this.GetRelativeIndex(parseInt(a[1],10),this.globalUvs.length)),a.length>2&&a[2].length>0&&r.push(this.GetRelativeIndex(parseInt(a[2],10),this.globalNormals.length))}for(let s=0;s<i.length-2;s++){let a=this.currentMeshConverter.AddVertex(i[0],this.globalVertices),l=this.currentMeshConverter.AddVertex(i[s+1],this.globalVertices),c=this.currentMeshConverter.AddVertex(i[s+2],this.globalVertices);if(a===null||l===null||c===null){this.SetError(Yn("Invalid vertex index."));break}let d=new Gc(a,l,c);if(n.length===i.length){let u=this.currentMeshConverter.AddVertexColor(n[0],this.globalVertexColors),h=this.currentMeshConverter.AddVertexColor(n[s+1],this.globalVertexColors),f=this.currentMeshConverter.AddVertexColor(n[s+2],this.globalVertexColors);if(u===null||h===null||f===null){this.SetError(Yn("Invalid vertex color index."));break}d.SetVertexColors(u,h,f)}if(r.length===i.length){let u=this.currentMeshConverter.AddNormal(r[0],this.globalNormals),h=this.currentMeshConverter.AddNormal(r[s+1],this.globalNormals),f=this.currentMeshConverter.AddNormal(r[s+2],this.globalNormals);if(u===null||h===null||f===null){this.SetError(Yn("Invalid normal index."));break}d.SetNormals(u,h,f)}if(o.length===i.length){let u=this.currentMeshConverter.AddUV(o[0],this.globalUvs),h=this.currentMeshConverter.AddUV(o[s+1],this.globalUvs),f=this.currentMeshConverter.AddUV(o[s+2],this.globalUvs);if(u===null||h===null||f===null){this.SetError(Yn("Invalid uv index."));break}d.SetTextureUVs(u,h,f)}this.currentMaterialIndex!==null&&(d.mat=this.currentMaterialIndex),this.currentMeshConverter.AddTriangle(d)}}GetRelativeIndex(t,i){return t>0?t-1:i+t}},VB=class extends Wc{constructor(){super()}CanImportExtension(t){return t==="off"}GetUpDirection(){return Fo.Y}ClearContent(){this.mesh=null,this.status=null,this.colorToMaterial=null}ResetContent(){this.mesh=new mu,this.model.AddMeshToRootNode(this.mesh),this.status={vertexCount:0,faceCount:0,foundVertex:0,foundFace:0},this.colorToMaterial=new jv(this.model)}ImportContent(t,i){let n=Gp(t);Wy(n,r=>{this.WasError()||this.ProcessLine(r)}),i()}ProcessLine(t){function i(o){return o.indexOf(".")!==-1?sh(parseFloat(o)):parseInt(o,10)}if(t[0]==="#")return;let n=OS(t,"#");if(n.length===0||n[0]==="OFF")return;if(this.status.vertexCount===0&&this.status.faceCount===0){n.length>1&&(this.status.vertexCount=parseInt(n[0],10),this.status.faceCount=parseInt(n[1],10));return}if(this.status.foundVertex<this.status.vertexCount){n.length>=3&&(this.mesh.AddVertex(new $n(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]))),this.status.foundVertex+=1),n.length>=6&&this.mesh.AddVertexColor(new Es(i(n[3]),i(n[4]),i(n[5])));return}let r=this.mesh.VertexCount()===this.mesh.VertexColorCount();if(this.status.foundFace<this.status.faceCount){if(n.length>=4){let o=parseInt(n[0],10);if(n.length<o+1)return;let s=null;if(!r&&n.length>=o+4){let a=new Es(i(n[o+1]),i(n[o+2]),i(n[o+3]));s=this.colorToMaterial.GetMaterialIndex(a.r,a.g,a.b)}for(let a=0;a<o-2;a++){let l=parseInt(n[1]),c=parseInt(n[a+2]),d=parseInt(n[a+3]),u=new Gc(l,c,d);r?u.SetVertexColors(l,c,d):u.SetMaterial(s),this.mesh.AddTriangle(u)}this.status.foundFace+=1}return}}},Dg={Ok:1,NoVertices:2,NoFaces:3,UnknownError:4},zB=class{constructor(){this.format=null,this.elements=[]}SetFormat(t){this.format=t}AddElement(t,i){this.elements.push({name:t,count:i,format:[]})}GetElements(){return this.elements}AddSingleFormat(t,i){this.elements[this.elements.length-1].format.push({name:i,isSingle:!0,elemType:t})}AddListFormat(t,i,n){this.elements[this.elements.length-1].format.push({name:n,isSingle:!1,countType:t,elemType:i})}GetElement(t){for(let i=0;i<this.elements.length;i++){let n=this.elements[i];if(n.name===t)return n}return null}Check(){let t=this.GetElement("vertex");if(t===null||t.length===0||t.format.length<3)return Dg.NoVertices;let i=this.GetElement("face");if(this.format==="ascii"){if(i===null||i.count===0||i.format.length<0)return Dg.NoFaces}else if(this.format==="binary_little_endian"||this.format==="binary_big_endian"){let n=this.GetElement("tristrips"),r=i!==null&&i.count>0&&i.format.length>0,o=n!==null&&n.count>0&&n.format.length>0;if(!r&&!o)return Dg.NoFaces}else return Dg.UnknownError;return Dg.Ok}},HB=class{constructor(t){this.model=t,this.colorToMaterial=new Map}GetMaterialIndexByColor(t){let i="Color "+Tg(t[0])+Tg(t[1])+Tg(t[2])+Tg(t[3]);if(this.colorToMaterial.has(i))return this.colorToMaterial.get(i);{let n=new hf;n.name=i,n.color=new Es(t[0],t[1],t[2]),n.opacity=t[3]/255,Ag(n);let r=this.model.AddMaterial(n);return this.colorToMaterial.set(i,r),r}}},UB=class extends Wc{constructor(){super()}CanImportExtension(t){return t==="ply"}GetUpDirection(){return Fo.Y}ClearContent(){this.mesh=null}ResetContent(){this.mesh=new mu,this.model.AddMeshToRootNode(this.mesh)}ImportContent(t,i){let n=this.GetHeaderContent(t),r=this.ReadHeader(n),o=r.Check();if(o===Dg.Ok)if(r.format==="ascii"){let s=Gp(t);s=s.substring(n.length),this.ReadAsciiContent(r,s)}else(r.format==="binary_little_endian"||r.format==="binary_big_endian")&&this.ReadBinaryContent(r,t,n.length);else o===Dg.NoVertices?this.SetError(Yn("The model contains no vertices.")):o===Dg.NoFaces?this.SetError(Yn("The model contains no faces.")):this.SetError(Yn("Invalid header information."));i()}GetHeaderContent(t){let i="",n=new Uint8Array(t),r=0;for(r=0;r<t.byteLength&&(i+=String.fromCharCode(n[r]),!i.endsWith("end_header"));r++);for(r+=1;r<t.byteLength;){let o=String.fromCharCode(n[r]);if(i+=o,r+=1,o===`
`)break}return i}ReadHeader(t){let i=new zB;return Wy(t,n=>{let r=OS(n,null);r.length===0||r[0]==="comment"||r[0]!=="ply"&&(r[0]==="format"&&r.length>=2?i.SetFormat(r[1]):r[0]==="element"&&r.length>=3?i.AddElement(r[1],parseInt(r[2],10)):r[0]==="property"&&r.length>=3&&(r[1]==="list"&&r.length>=5?i.AddListFormat(r[2],r[3],r[4]):i.AddSingleFormat(r[1],r[2])))}),i}ReadAsciiContent(t,i){let n=t.GetElement("vertex"),r=t.GetElement("face"),o=0,s=0;Wy(i,a=>{if(this.WasError())return;let l=OS(a,null);if(!(l.length===0||l[0]==="comment")){if(o<n.count){l.length>=3&&(this.mesh.AddVertex(new $n(parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]))),o+=1);return}if(r!==null&&s<r.count){if(l.length>=4){let c=parseInt(l[0],10);if(l.length<c+1)return;for(let d=0;d<c-2;d++){let u=parseInt(l[1]),h=parseInt(l[d+2]),f=parseInt(l[d+3]),p=new Gc(u,h,f);this.mesh.AddTriangle(p)}s+=1}return}}})}ReadBinaryContent(t,i,n){function r(d,u){function h(f,p){return p==="char"||p==="int8"?f.ReadCharacter8():p==="uchar"||p==="uint8"?f.ReadUnsignedCharacter8():p==="short"||p==="int16"?f.ReadInteger16():p==="ushort"||p==="uint16"?f.ReadUnsignedInteger16():p==="int"||p==="int32"?f.ReadInteger32():p==="uint"||p==="uint32"?f.ReadUnsignedInteger32():p==="float"||p==="float32"?f.ReadFloat32():p==="double"||p==="double64"?f.ReadDouble64():null}if(u.isSingle)return h(d,u.elemType);{let f=[],p=h(d,u.countType);for(let v=0;v<p;v++)f.push(h(d,u.elemType));return f}}function o(d,u,h){for(let f=h;f<u.length;f++)r(d,u[f])}function s(d,u,h){let f=null,p=null,v=null,m=255;for(let g=h;g<u.length;g++){let b=u[g],w=r(d,b);b.name==="red"?f=w:b.name==="green"?p=w:b.name==="blue"?v=w:b.name==="alpha"&&(m=w)}return f!==null&&p!==null&&v!==null?[f,p,v,m]:null}let a=null;if(t.format==="binary_little_endian")a=new qp(i,!0);else if(t.format==="binary_big_endian")a=new qp(i,!1);else return;a.Skip(n);let l=new HB(this.model),c=t.GetElements();for(let d=0;d<c.length;d++){let u=c[d];if(u.name==="vertex")for(let h=0;h<u.count;h++){let f=r(a,u.format[0]),p=r(a,u.format[1]),v=r(a,u.format[2]),m=s(a,u.format,3);m!==null&&this.mesh.AddVertexColor(new Es(m[0],m[1],m[2])),this.mesh.AddVertex(new $n(f,p,v))}else if(u.name==="face")for(let h=0;h<u.count;h++){let f=r(a,u.format[0]),p=s(a,u.format,1);for(let v=0;v<f.length-2;v++){let m=f[0],g=f[v+1],b=f[v+2],w=new Gc(m,g,b);p!==null?w.mat=l.GetMaterialIndexByColor(p):this.mesh.VertexColorCount()>0&&w.SetVertexColors(m,g,b),this.mesh.AddTriangle(w)}}else if(u.name==="tristrips")for(let h=0;h<u.count;h++){let f=r(a,u.format[0]);o(a,u.format,1);let p=!0;for(let v=0;v<f.length-2;v++){let m=f[v],g=f[v+1],b=f[v+2];if(b===-1){v+=2,p=!0;continue}if(!p){let x=g;g=b,b=x}p=!p;let w=new Gc(m,g,b);this.mesh.AddTriangle(w)}}else o(a,u.format,0)}}},GB=class extends Wc{constructor(){super(),this.worker=null}CanImportExtension(t){return t==="stp"||t==="step"||t==="igs"||t==="iges"||t==="brp"||t==="brep"}GetUpDirection(){return Fo.Y}ClearContent(){this.worker!==null&&(this.worker.terminate(),this.worker=null)}ResetContent(){this.worker=null}ImportContent(t,i){Zie().then(n=>{this.worker=n,this.worker.addEventListener("message",a=>{this.ImportResultJson(a.data,i)}),this.worker.addEventListener("error",a=>{this.SetError(Yn("Failed to load occt-import-js.")),i()});let r=null;if(this.extension==="stp"||this.extension==="step")r="step";else if(this.extension==="igs"||this.extension==="iges")r="iges";else if(this.extension==="brp"||this.extension==="brep")r="brep";else{i();return}(r==="step"||r==="iges")&&this.model.SetUnit(EV.Millimeter);let o={linearUnit:"millimeter",linearDeflectionType:"bounding_box_ratio",linearDeflection:.001,angularDeflection:.5},s=new Uint8Array(t);this.worker.postMessage({format:r,buffer:s,params:o})}).catch(()=>{this.SetError(Yn("Failed to load occt-import-js.")),i()})}ImportResultJson(t,i){if(!t.success){i();return}let n=new jv(this.model),r=this.model.GetRootNode();this.ImportNode(t,t.root,r,n),i()}ImportNode(t,i,n,r){for(let o of i.meshes){let s=t.meshes[o],a=this.ImportMesh(s,r),l=this.model.AddMesh(a);n.AddMeshIndex(l)}for(let o of i.children){let s=new jp;s.SetName(o.name),n.AddChildNode(s),this.ImportNode(t,o,s,r)}}ImportMesh(t,i){let n=null;if(t.color){let o=Uy(t.color[0],t.color[1],t.color[2]);n=i.GetMaterialIndex(o.r,o.g,o.b,null)}let r=VS(t,n,null);t.name&&r.SetName(t.name);for(let o of t.brep_faces){if(o.color===null)continue;let s=Uy(o.color[0],o.color[1],o.color[2]),a=i.GetMaterialIndex(s.r,s.g,s.b,null);for(let l=o.first;l<=o.last;l++)r.GetTriangle(l).SetMaterial(a)}return r}},WB=class extends Wc{constructor(){super()}CanImportExtension(t){return t==="stl"}GetUpDirection(){return Fo.Z}ClearContent(){this.mesh=null,this.triangle=null}ResetContent(){this.mesh=new mu,this.model.AddMeshToRootNode(this.mesh),this.triangle=null}ImportContent(t,i){if(this.IsBinaryStlFile(t))this.ProcessBinary(t);else{let n=Gp(t);Wy(n,r=>{this.WasError()||this.ProcessLine(r)})}i()}IsBinaryStlFile(t){let i=t.byteLength;if(i<84)return!1;let n=new qp(t,!0);n.Skip(80);let r=n.ReadUnsignedInteger32();return i===r*50+84}ProcessLine(t){if(t[0]==="#")return;let i=OS(t,"#");if(i.length===0)return;let n=i[0];if(n==="solid"){if(i.length>1){let r=AS(t,n.length,"#");this.mesh.SetName(r)}return}if(n==="facet"){if(this.triangle=new Gc(-1,-1,-1),i.length>=5&&i[1]==="normal"){let r=new $n(parseFloat(i[2]),parseFloat(i[3]),parseFloat(i[4]));if(Gie(r.Length())){let o=this.mesh.AddNormal(r);this.triangle.SetNormals(o,o,o)}}return}if(n==="vertex"&&this.triangle!==null){if(i.length>=4){let r=this.mesh.AddVertex(new $n(parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])));this.triangle.v0===-1?this.triangle.v0=r:this.triangle.v1===-1?this.triangle.v1=r:this.triangle.v2===-1&&(this.triangle.v2=r)}return}if(n==="endfacet"&&this.triangle!==null){this.triangle.v0!==-1&&this.triangle.v1!==-1&&this.triangle.v2!==null&&this.mesh.AddTriangle(this.triangle),this.triangle=null;return}}ProcessBinary(t){function i(s){let a=new $n;return a.x=s.ReadFloat32(),a.y=s.ReadFloat32(),a.z=s.ReadFloat32(),a}function n(s,a){let l=i(a);return s.AddVertex(l)}let r=new qp(t,!0);r.Skip(80);let o=r.ReadUnsignedInteger32();for(let s=0;s<o;s++){let a=i(r),l=n(this.mesh,r),c=n(this.mesh,r),d=n(this.mesh,r);r.Skip(2);let u=new Gc(l,c,d);if(Gie(a.Length())){let h=this.mesh.AddNormal(a);u.SetNormals(h,h,h)}this.mesh.AddTriangle(u)}}},jB=class extends Wc{constructor(){super()}CanImportExtension(t){return t==="bim"}GetUpDirection(){return Fo.Z}ClearContent(){this.meshIdToMesh=null,this.colorToMaterial=null}ResetContent(){this.meshIdToMesh=new Map,this.colorToMaterial=new jv(this.model)}ImportContent(t,i){this.model.SetUnit(EV.Meter);let n=Gp(t),r=null;try{r=JSON.parse(n)}catch{this.SetError(Yn("Failed to parse bim file.")),i();return}for(let o of r.meshes)this.meshIdToMesh.set(o.mesh_id,o);this.ImportProperties(r,this.model);for(let o of r.elements){let s=this.ImportElement(o);s.SetName(o.type),this.ImportProperties(o,s)}i()}ImportElement(t){let i=null;t.color&&(i=this.colorToMaterial.GetMaterialIndex(t.color.r,t.color.g,t.color.b,t.color.a));let n=this.model.GetRootNode(),r=this.meshIdToMesh.get(t.mesh_id),o=this.ImportMesh(r,h=>t.face_colors?this.colorToMaterial.GetMaterialIndex(t.face_colors[h*4+0],t.face_colors[h*4+1],t.face_colors[h*4+2],t.face_colors[h*4+3]):i),s=this.model.AddMesh(o),a=new jp;a.AddMeshIndex(s);let l=new $n(0,0,0);t.vector&&(l=new $n(t.vector.x,t.vector.y,t.vector.z));let c=new uf(0,0,0,1);t.rotation&&(c=new uf(t.rotation.qx,t.rotation.qy,t.rotation.qz,t.rotation.qw));let d=new $n(1,1,1),u=new Ad().ComposeTRS(l,c,d);return a.SetTransformation(new ch(u)),n.AddChildNode(a),o}ImportMesh(t,i){let n=new mu;for(let r=0;r<t.coordinates.length;r+=3)n.AddVertex(new $n(t.coordinates[r+0],t.coordinates[r+1],t.coordinates[r+2]));for(let r=0;r<t.indices.length;r+=3){let o=new Gc(t.indices[r+0],t.indices[r+1],t.indices[r+2]);o.SetMaterial(i(r/3)),n.AddTriangle(o)}return n}ImportProperties(t,i){function n(s,a,l){if(l==null)return;let c=new Sl(Yl.Text,a,l);s.AddProperty(c)}if(!t.info||RVe(t.info))return;let r=t.info,o=new Wp(Yn("Info"));n(o,Yn("Guid"),t.guid),n(o,Yn("Type"),t.type);for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&typeof r[s]=="string"&&n(o,s,r[s]);i.AddPropertyGroup(o)}},qv=class extends Wc{constructor(){super(),this.colorConverter=null}CreateLoader(t){return null}GetMainObject(t){return t}IsMeshVisible(t){return!0}ClearContent(){this.loader=null,this.materialIdToIndex=null,this.objectUrlToFileName=null}ResetContent(){this.loader=null,this.materialIdToIndex=new Map,this.objectUrlToFileName=new Map}ImportContent(t,i){this.LoadModel(t,i)}LoadModel(t,i){let n=!1,r=new Ey(()=>{n=!0}),o=wB(t);r.setURLModifier(a=>{if(a===o)return a;let l=Rg(a);if(xV(a).length>0){let d=this.callbacks.getFileBuffer(a);if(d!==null){let u=wB(d);return this.objectUrlToFileName.set(u,l),u}}return a});let s=this.CreateLoader(r);if(s===null){i();return}s.load(o,a=>{FVe(()=>n?(this.OnThreeObjectsLoaded(a,i),!1):!0)},()=>{},a=>{this.SetError(a),i()})}OnThreeObjectsLoaded(t,i){function n(a){let l=new Ad().CreateIdentity();return a.updateMatrix(),a.matrix!==void 0&&a.matrix!==null&&l.Set(a.matrix.elements),new ch(l)}function r(a,l,c,d){let u=new jp;c.name!==void 0&&u.SetName(c.name),u.SetTransformation(n(c)),d.AddChildNode(u);for(let h of c.children)r(a,l,h,u);if(c.isMesh&&a.IsMeshVisible(c)){let h=a.ConvertThreeMesh(c),f=l.AddMesh(h);u.AddMeshIndex(f)}}let o=this.GetMainObject(t),s=this.model.GetRootNode();s.SetTransformation(n(o));for(let a of o.children)r(this,this.model,a,s);i()}ConvertThreeMesh(t){let i=null;if(Array.isArray(t.material)){if(i=VS(t.geometry,null,this.colorConverter),t.geometry.attributes.color===void 0||t.geometry.attributes.color===null){let n=[];for(let r=0;r<t.material.length;r++){let o=t.material[r],s=this.FindOrCreateMaterial(o);n.push(s)}for(let r=0;r<t.geometry.groups.length;r++){let o=t.geometry.groups[r],s=null;o.count===1/0?s=i.TriangleCount():s=o.start/3+o.count/3;for(let a=o.start/3;a<s;a++)i.GetTriangle(a).SetMaterial(n[o.materialIndex])}}}else{let n=this.FindOrCreateMaterial(t.material);i=VS(t.geometry,n,this.colorConverter)}return t.name!==void 0&&t.name!==null&&i.SetName(t.name),i}FindOrCreateMaterial(t){if(this.materialIdToIndex.has(t.id))return this.materialIdToIndex.get(t.id);let i=this.ConvertThreeMaterial(t),n=null;return i!==null&&(n=this.model.AddMaterial(i)),this.materialIdToIndex.set(t.id,n),n}ConvertThreeMaterial(t){function i(r,o){function s(a){if(a.data!==void 0&&a.data!==null){let l=new ImageData(a.width,a.height),c=a.width*a.height*4;for(let d=0;d<c;d++)l.data[d]=a.data[d];return vv.getDataURL(l)}else return vv.getDataURL(a)}if(r==null||r.image===void 0||r.image===null)return null;try{let a=s(r.image),l=yB(a),c=new Wv,d=null;return o.has(r.image.src)?d=o.get(r.image.src):r.name!==void 0&&r.name!==null?d=r.name+"."+MI(l.mimeType):d="Embedded_"+r.id.toString()+"."+MI(l.mimeType),c.name=d,c.mimeType=l.mimeType,c.buffer=l.buffer,c.rotation=r.rotation,c.offset.x=r.offset.x,c.offset.y=r.offset.y,c.scale.x=r.repeat.x,c.scale.y=r.repeat.y,c}catch{return null}}if(t.name===qo.DEFAULT_MATERIAL_NAME)return null;let n=new hf;return n.name=t.name,n.color=this.ConvertThreeColor(t.color),n.opacity=t.opacity,n.transparent=t.transparent,n.alphaTest=t.alphaTest,t.type==="MeshPhongMaterial"&&(n.specular=this.ConvertThreeColor(t.specular),n.shininess=t.shininess/100),n.diffuseMap=i(t.map,this.objectUrlToFileName),n.normalMap=i(t.normalMap,this.objectUrlToFileName),n.bumpMap=i(t.bumpMap,this.objectUrlToFileName),n}ConvertThreeColor(t){return this.colorConverter!==null&&(t=this.colorConverter.Convert(t)),ene(t)}},qB=class extends qv{constructor(){super()}CanImportExtension(t){return t==="fbx"}GetUpDirection(){return Fo.Y}CreateLoader(t){return t.addHandler(/\.tga$/i,new Eg(t)),new tI(t)}GetMainObject(t){return t}},YB=class extends qv{constructor(){super()}CanImportExtension(t){return t==="dae"}GetUpDirection(){return Fo.Y}CreateLoader(t){return t.addHandler(/\.tga$/i,new Eg(t)),new rI(t)}GetMainObject(t){return t.scene}},$B=class extends qv{constructor(){super()}CanImportExtension(t){return t==="wrl"}GetUpDirection(){return Fo.Y}CreateLoader(t){return new dI(t)}GetMainObject(t){return t}IsMeshVisible(t){let i=!0;if(Array.isArray(t.material)){for(let n=0;n<t.material.length;n++)if(t.material[n].side===Js){i=!1;break}}else i=t.material.side!==Js;return i}},XB=class extends qv{constructor(){super(),this.colorConverter=new DB}CanImportExtension(t){return t==="3mf"}GetUpDirection(){return Fo.Z}CreateLoader(t){return new uI(t)}GetMainObject(t){return t}},KB=class extends qv{constructor(){super()}CanImportExtension(t){return t==="amf"}GetUpDirection(){return Fo.Z}CreateLoader(t){return new hI(t)}GetMainObject(t){return t}},ZB={Success:0,NoDocumentXml:1},QB=class{constructor(t,i){this.name=t,this.type=i,this.shapeName=null,this.isVisible=!1,this.color=null,this.fileName=null,this.fileContent=null,this.inLinkCount=0,this.properties=null}IsConvertible(){return!(this.fileName===null||this.fileContent===null||!this.isVisible||this.inLinkCount>0)}},JB=class{constructor(){this.files=null,this.properties=null,this.objectNames=[],this.objectData=new Map}Init(t){let i=new Uint8Array(t);return this.files=FO(i),this.LoadDocumentXml()?(this.LoadGuiDocumentXml(),ZB.Success):ZB.NoDocumentXml}GetObjectListToConvert(){let t=[];for(let i of this.objectNames){let n=this.objectData.get(i);n.IsConvertible()&&t.push(n)}return t}IsSupportedType(t){return!(!t.startsWith("Part::")&&!t.startsWith("PartDesign::")||t.indexOf("Part2D")!==-1)}HasFile(t){return t in this.files}LoadDocumentXml(){let t=this.GetXMLContent("Document.xml");if(t===null)return!1;this.properties=new Wp(Yn("Properties"));let i=t.getElementsByTagName("Document");for(let o of i)for(let s of o.childNodes)s.tagName==="Properties"&&this.GetPropertiesFromElement(s,this.properties);let n=t.getElementsByTagName("Objects");for(let o of n){let s=o.getElementsByTagName("Object");for(let a of s){let l=a.getAttribute("name"),c=a.getAttribute("type");if(!this.IsSupportedType(c))continue;let d=new QB(l,c);this.objectNames.push(l),this.objectData.set(l,d)}}let r=t.getElementsByTagName("ObjectData");for(let o of r){let s=o.getElementsByTagName("Object");for(let a of s){let l=a.getAttribute("name");if(!this.objectData.has(l))continue;let c=this.objectData.get(l);c.properties=new Wp(Yn("Properties"));for(let h of a.childNodes)h.tagName==="Properties"&&this.GetPropertiesFromElement(h,c.properties);let d=a.getElementsByTagName("Property");for(let h of d){let f=h.getAttribute("name");if(f==="Label")c.shapeName=this.GetFirstChildValue(h,"String","value");else if(f==="Visibility"){let p=this.GetFirstChildValue(h,"Bool","value");c.isVisible=p==="true"}else if(f==="Visible"){let p=this.GetFirstChildValue(h,"Bool","value");c.isVisible=p==="true"}else if(f==="Shape"){let p=this.GetFirstChildValue(h,"Part","file");if(!this.HasFile(p))continue;let v=xV(p);if(v!=="brp"&&v!=="brep")continue;c.fileName=p,c.fileContent=this.files[p]}}let u=a.getElementsByTagName("Link");for(let h of u){let f=h.getAttribute("value");if(this.objectData.has(f)){let p=this.objectData.get(f);p.inLinkCount+=1}}}}return!0}LoadGuiDocumentXml(){let t=this.GetXMLContent("GuiDocument.xml");if(t===null)return!1;let i=t.getElementsByTagName("ViewProvider");for(let n of i){let r=n.getAttribute("name");if(!this.objectData.has(r))continue;let o=this.objectData.get(r),s=n.getElementsByTagName("Property");for(let a of s){let l=a.getAttribute("name");if(l==="Visibility"){let c=this.GetFirstChildValue(a,"Bool","value");o.isVisible=c==="true"}else if(l==="ShapeColor"){let c=this.GetFirstChildValue(a,"PropertyColor","value"),d=parseInt(c,10);o.color=new FS(d>>24&255,d>>16&255,d>>8&255,255)}}}return!0}GetPropertiesFromElement(t,i){let n=t.getElementsByTagName("Property");for(let r of n){let o=r.getAttribute("name"),s=r.getAttribute("type"),a=null;if(s==="App::PropertyBool"){let l=this.GetFirstChildValue(r,"String","bool");l!==null&&l.length>0&&(a=new Sl(Yl.Boolean,o,l==="true"))}else if(s==="App::PropertyInteger"){let l=this.GetFirstChildValue(r,"Integer","value");l!==null&&l.length>0&&(a=new Sl(Yl.Integer,o,parseInt(l)))}else if(s==="App::PropertyString"){let l=this.GetFirstChildValue(r,"String","value");l!==null&&l.length>0&&(a=new Sl(Yl.Text,o,l))}else if(s==="App::PropertyUUID"){let l=this.GetFirstChildValue(r,"Uuid","value");l!==null&&l.length>0&&(a=new Sl(Yl.Text,o,l))}else if(s==="App::PropertyFloat"||s==="App::PropertyLength"||s==="App::PropertyDistance"||s==="App::PropertyArea"||s==="App::PropertyVolume"){let l=this.GetFirstChildValue(r,"Float","value");l!==null&&l.length>0&&(a=new Sl(Yl.Number,o,parseFloat(l)))}a!==null&&i.AddProperty(a)}}GetXMLContent(t){if(!this.HasFile(t))return null;let i=new DOMParser,n=Gp(this.files[t]);return i.parseFromString(n,"text/xml")}GetFirstChildValue(t,i,n){let r=t.getElementsByTagName(i);return r.length===0?null:r[0].getAttribute(n)}},eV=class extends Wc{constructor(){super(),this.worker=null,this.document=null}CanImportExtension(t){return t==="fcstd"}GetUpDirection(){return Fo.Z}ClearContent(){this.worker!==null&&(this.worker.terminate(),this.worker=null),this.document=null}ResetContent(){this.worker=null,this.document=new JB}ImportContent(t,i){if(this.document.Init(t)===ZB.NoDocumentXml){this.SetError(Yn("No Document.xml found.")),i();return}this.document.properties!==null&&this.document.properties.PropertyCount()>0&&this.model.AddPropertyGroup(this.document.properties);let r=this.document.GetObjectListToConvert();if(r.length===0){this.SetError(Yn("No importable object found.")),i();return}this.ConvertObjects(r,i)}ConvertObjects(t,i){Zie().then(n=>{this.worker=n,this.worker.addEventListener("message",l=>{s(l.data)}),this.worker.addEventListener("error",l=>{s(null)});let r=0,o=new jv(this.model),s=l=>{if(l!==null){let c=t[r];this.OnFileConverted(c,l,o)}if(r+=1,r===t.length)i();else{let c=t[r];this.worker.postMessage({format:"brep",buffer:c.fileContent})}},a=t[r];this.worker.postMessage({format:"brep",buffer:a.fileContent})}).catch(()=>{this.SetError(Yn("Failed to load occt-import-js.")),i()})}OnFileConverted(t,i,n){if(!i.success||i.meshes.length===0)return;let r=new jp;t.shapeName!==null&&r.SetName(t.shapeName);let o=1;for(let a of i.meshes){let l=null;t.color!==null&&(l=n.GetMaterialIndex(t.color.r,t.color.g,t.color.b,t.color.a));let c=VS(a,l,null);if(t.shapeName!==null){let u=o.toString().padStart(3,"0");c.SetName(t.shapeName+" "+u)}t.properties!==null&&t.properties.PropertyCount()>0&&c.AddPropertyGroup(t.properties);let d=this.model.AddMesh(c);r.AddMeshIndex(d),o+=1}this.model.GetRootNode().AddChildNode(r)}},tV=class{constructor(){this.defaultLineColor=new Es(100,100,100),this.defaultColor=new Es(200,200,200)}},Hv={NoImportableFile:1,FailedToLoadFile:2,ImportFailed:3,UnknownError:4},zy=class{constructor(t){this.code=t,this.mainFile=null,this.message=null}},iV=class{constructor(){this.model=null,this.mainFile=null,this.upVector=null,this.usedFiles=null,this.missingFiles=null}},nV=class{constructor(t){this.getBufferCallback=t,this.fileBuffers=new Map}GetFileBuffer(t){let i=Rg(t);if(this.fileBuffers.has(i))return this.fileBuffers.get(i);let n=this.getBufferCallback(i);return this.fileBuffers.set(i,n),n}},rV=class{constructor(){this.importers=[new BB,new WB,new VB,new UB,new IB,new OB,new jB,new AB,new LB,new GB,new eV,new qB,new YB,new $B,new XB,new KB],this.fileList=new TI,this.model=null,this.usedFiles=[],this.missingFiles=[]}AddImporter(t){this.importers.push(t)}ImportFiles(t,i,n){n.onLoadStart(),this.LoadFiles(t,{onReady:()=>{n.onImportStart(),Uie(()=>{this.DecompressArchives(this.fileList,()=>{this.ImportLoadedFiles(i,n)})})},onFileListProgress:n.onFileListProgress,onFileLoadProgress:n.onFileLoadProgress})}LoadFiles(t,i){let n=new TI;n.FillFromInputFiles(t);let r=!1;if(this.HasImportableFile(n))r=!0;else{let o=!1;for(let s=0;s<this.missingFiles.length;s++){let a=this.missingFiles[s];n.ContainsFileByPath(a)&&(o=!0)}o?(this.fileList.ExtendFromFileList(n),r=!1):r=!0}r&&(this.fileList=n),this.fileList.GetContent({onReady:i.onReady,onFileListProgress:i.onFileListProgress,onFileLoadProgress:i.onFileLoadProgress})}ImportLoadedFiles(t,i){let n=this.GetImportableFiles(this.fileList);if(n.length===0){i.onImportError(new zy(Hv.NoImportableFile));return}if(n.length===1||!i.onSelectMainFile){let r=n[0];this.ImportLoadedMainFile(r,t,i)}else{let r=n.map(o=>o.file.name);i.onSelectMainFile(r,o=>{if(o===null){i.onImportError(new zy(Hv.NoImportableFile));return}Uie(()=>{let s=n[o];this.ImportLoadedMainFile(s,t,i)})})}}ImportLoadedMainFile(t,i,n){if(t===null||t.file===null||t.file.content===null){let s=new zy(Hv.FailedToLoadFile);t!==null&&t.file!==null&&(s.mainFile=t.file.name),n.onImportError(s);return}this.model=null,this.usedFiles=[],this.missingFiles=[],this.usedFiles.push(t.file.name);let r=t.importer,o=new nV(s=>{let a=null,l=this.fileList.FindFileByPath(s);return l===null||l.content===null?(this.missingFiles.push(s),a=null):(this.usedFiles.push(s),a=l.content),a});r.Import(t.file.name,t.file.extension,t.file.content,{getDefaultLineMaterialColor:()=>i.defaultLineColor,getDefaultMaterialColor:()=>i.defaultColor,getFileBuffer:s=>o.GetFileBuffer(s),onSuccess:()=>{this.model=r.GetModel();let s=new iV;s.mainFile=t.file.name,s.model=this.model,s.usedFiles=this.usedFiles,s.missingFiles=this.missingFiles,s.upVector=r.GetUpDirection(),n.onImportSuccess(s)},onError:()=>{let s=new zy(Hv.ImportFailed);s.mainFile=t.file.name,s.message=r.GetErrorMessage(),n.onImportError(s)},onComplete:()=>{r.Clear()}})}DecompressArchives(t,i){let n=t.GetFiles(),r=[];for(let o of n)o.extension==="zip"&&r.push(o);if(r.length===0){i();return}for(let o=0;o<r.length;o++){let s=r[o],a=new Uint8Array(s.content),l=FO(a);for(let c in l)if(Object.prototype.hasOwnProperty.call(l,c)){let d=new DI(c,zv.Decompressed,null);d.SetContent(l[c].buffer),t.AddFile(d)}}i()}GetFileList(){return this.fileList}HasImportableFile(t){return this.GetImportableFiles(t).length>0}GetImportableFiles(t){function i(o,s){for(let a=0;a<s.length;a++){let l=s[a];if(l.CanImportExtension(o.extension))return l}return null}let n=[],r=t.GetFiles();for(let o=0;o<r.length;o++){let s=r[o],a=i(s,this.importers);a!==null&&n.push({file:s,importer:a})}return n}};var _I={FixedUpVector:1,FreeOrbit:2},Vv={Perspective:1,Orthographic:2},Gv=class e{constructor(t,i,n,r){this.eye=t,this.center=i,this.up=n,this.fov=r}Clone(){return new e(this.eye.Clone(),this.center.Clone(),this.up.Clone(),this.fov)}};function o7e(e,t){return IS(e.eye,t.eye)&&IS(e.center,t.center)&&IS(e.up,t.up)&&Ml(e.fov,t.fov)}var s7e=10,kI={MeshOnly:1,MeshAndLine:2};function a7e(e,t){function i(n,r){for(let o of n)o.polygonOffset=r,o.polygonOffsetUnit=1,o.polygonOffsetFactor=1}i(e.material,t),e.userData.threeMaterials&&i(e.userData.threeMaterials,t)}var HS=class{constructor(t){this.scene=t,this.rootObject=null}IsEmpty(){return this.rootObject===null}SetRootObject(t){this.rootObject!==null&&this.Clear(),this.rootObject=t,this.scene.add(this.rootObject)}GetRootObject(){return this.rootObject}AddObject(t){if(this.rootObject===null){let i=new Po;this.SetRootObject(i)}this.rootObject.add(t)}Traverse(t){this.rootObject!==null&&this.rootObject.traverse(i=>{t(i)})}UpdateWorldMatrix(){this.rootObject!==null&&this.rootObject.updateWorldMatrix(!0,!0)}Clear(){t7e(this.rootObject),this.scene.remove(this.rootObject),this.rootObject=null}},US=class e{constructor(t,i,n){this.showEdges=t,this.edgeColor=i,this.edgeThreshold=n}Clone(){return new e(this.showEdges,this.edgeColor.Clone(),this.edgeThreshold)}},oV=class{constructor(t){this.scene=t,this.mainModel=new HS(this.scene),this.edgeModel=new HS(this.scene),this.edgeSettings=new US(!1,new Es(0,0,0),1),this.hasLines=!1,this.hasPolygonOffset=!1}SetMainObject(t){this.mainModel.SetRootObject(t),this.hasLines=!1,this.hasPolygonOffset=!1,this.EnumerateLines(i=>{this.hasLines=!0}),this.edgeSettings.showEdges&&this.GenerateEdgeModel(),this.UpdatePolygonOffset()}UpdateWorldMatrix(){this.mainModel.UpdateWorldMatrix(),this.edgeModel.UpdateWorldMatrix()}SetEdgeSettings(t){let i=!1;if(t.showEdges&&(!this.edgeSettings.showEdges||this.edgeSettings.edgeThreshold!==t.edgeThreshold)&&(i=!0),this.edgeSettings=t,!this.mainModel.IsEmpty())if(this.edgeSettings.showEdges)if(i)this.ClearEdgeModel(),this.GenerateEdgeModel();else{let n=Uc(this.edgeSettings.edgeColor);this.EnumerateEdges(r=>{r.material.color=n})}else this.ClearEdgeModel()}GenerateEdgeModel(){let t=Uc(this.edgeSettings.edgeColor);this.UpdateWorldMatrix(),this.EnumerateMeshes(i=>{let n=new Jx(i.geometry,this.edgeSettings.edgeThreshold),r=new of(n,new pc({color:t}));r.applyMatrix4(i.matrixWorld),r.userData=i.userData,r.visible=i.visible,this.edgeModel.AddObject(r)}),this.UpdatePolygonOffset()}GetBoundingBox(t){let i=!1,n=new au;return this.EnumerateMeshesAndLines(r=>{t(r.userData)&&(n.union(new au().setFromObject(r)),i=!0)}),i?n:null}GetBoundingSphere(t){let i=this.GetBoundingBox(t);if(i===null)return null;let n=new lu;return i.getBoundingSphere(n),n}Clear(){this.mainModel.Clear(),this.ClearEdgeModel()}ClearEdgeModel(){this.edgeModel.IsEmpty()||(this.UpdatePolygonOffset(),this.edgeModel.Clear())}EnumerateMeshes(t){this.mainModel.Traverse(i=>{i.isMesh&&t(i)})}EnumerateLines(t){this.mainModel.Traverse(i=>{i.isLineSegments&&t(i)})}EnumerateMeshesAndLines(t){this.mainModel.Traverse(i=>{(i.isMesh||i.isLineSegments)&&t(i)})}EnumerateEdges(t){this.edgeModel.Traverse(i=>{i.isLineSegments&&t(i)})}HasLinesOrEdges(){return this.hasLines||this.edgeSettings.showEdges}UpdatePolygonOffset(){let t=this.HasLinesOrEdges();t!==this.hasPolygonOffset&&(this.EnumerateMeshes(i=>{a7e(i,t)}),this.hasPolygonOffset=t)}GetMeshIntersectionUnderMouse(t,i,n,r,o){if(this.mainModel.IsEmpty()||i.x<0||i.x>r||i.y<0||i.y>o)return null;let s=new On;s.x=i.x/r*2-1,s.y=-(i.y/o)*2+1;let a=new dS;a.setFromCamera(s,n),a.params.Line.threshold=10;let l=a.intersectObject(this.mainModel.GetRootObject(),!0);for(let c=0;c<l.length;c++){let d=l[c];if(d.object.visible){if(d.object.isMesh)return d;if(d.object.isLineSegments){if(t===kI.MeshOnly||i7e(n,r,o,d.object,i)>s7e)continue;return d}}}return null}};var Yy={Line:1,Face:2},sV=class{constructor(){this.forceMediumpForMaterials=!1}},aV=class{constructor(){this.defaultMaterials=[],this.objectUrls=[]}},lV=class{constructor(t){this.callbacks=t,this.texturesNeeded=0,this.texturesLoaded=0,this.threeObject=null}OnTextureNeeded(){this.texturesNeeded+=1}OnTextureLoaded(){this.texturesLoaded+=1,this.callbacks.onTextureLoaded(),this.Finish()}OnModelLoaded(t){this.threeObject=t,this.Finish()}Finish(){this.threeObject!==null&&this.texturesNeeded===this.texturesLoaded&&this.callbacks.onModelLoaded(this.threeObject)}},cV=class{constructor(t,i){this.model=t,this.threeNodeItems=[],this.AddNode(t.GetRootNode(),i)}AddNode(t,i){let n=t.GetTransformation().GetMatrix(),r=new Ki().fromArray(n.Get());i.applyMatrix4(r);for(let o of t.GetChildNodes()){let s=new Po;i.add(s),this.AddNode(o,s)}for(let o of t.GetMeshIndices()){let s=new NS(t.GetId(),o),a=this.model.GetMesh(o);this.threeNodeItems.push({meshInstance:new BS(s,t,a),threeNode:i})}}GetNodeItems(){return this.threeNodeItems}},dV=class{constructor(t,i,n,r){this.model=t,this.stateHandler=i,this.conversionParams=n,this.conversionOutput=r,this.shadingType=QVe(t),this.modelToThreeLineMaterial=new Map,this.modelToThreeMaterial=new Map}GetThreeMaterial(t,i){if(i===Yy.Face){if(!this.modelToThreeMaterial.has(t)){let n=this.CreateThreeFaceMaterial(t);this.modelToThreeMaterial.set(t,n)}return this.modelToThreeMaterial.get(t)}else if(i===Yy.Line){if(!this.modelToThreeLineMaterial.has(t)){let n=this.CreateThreeLineMaterial(t);this.modelToThreeLineMaterial.set(t,n)}return this.modelToThreeLineMaterial.get(t)}else return null}CreateThreeFaceMaterial(t){let i=this.model.GetMaterial(t),n=Uc(i.color);i.vertexColors&&n.setRGB(1,1,1);let r={color:n,vertexColors:i.vertexColors,opacity:i.opacity,transparent:i.transparent,alphaTest:i.alphaTest,side:rl};this.conversionParams.forceMediumpForMaterials&&(r.precision="mediump");let o=null;if(this.shadingType===Up.Phong){if(o=new cs(r),i.type===Gy.Phong){let a=Uc(i.specular);Ml(i.shininess,0)&&a.setRGB(0,0,0),o.specular=a,o.shininess=i.shininess*100,this.LoadFaceTexture(o,i.specularMap,l=>{o.specularMap=l})}}else this.shadingType===Up.Physical&&(o=new wg(r),i.type===Gy.Physical&&(o.metalness=i.metalness,o.roughness=i.roughness,this.LoadFaceTexture(o,i.metalnessMap,a=>{o.metalness=1,o.roughness=1,o.metalnessMap=a,o.roughnessMap=a})));let s=Uc(i.emissive);return o.emissive=s,this.LoadFaceTexture(o,i.diffuseMap,a=>{i.multiplyDiffuseMap||o.color.setRGB(1,1,1),o.map=a}),this.LoadFaceTexture(o,i.bumpMap,a=>{o.bumpMap=a}),this.LoadFaceTexture(o,i.normalMap,a=>{o.normalMap=a}),this.LoadFaceTexture(o,i.emissiveMap,a=>{o.emissiveMap=a}),i.source!==ah.Model&&(o.userData.source=i.source,this.conversionOutput.defaultMaterials.push(o)),o}CreateThreeLineMaterial(t){let i=this.model.GetMaterial(t),r={color:Uc(i.color),opacity:i.opacity};this.conversionParams.forceMediumpForMaterials&&(r.precision="mediump");let o=new pc(r);return i.source!==ah.Model&&(o.userData.source=i.source,this.conversionOutput.defaultMaterials.push(o)),o}LoadFaceTexture(t,i,n){function r(a,l){l.wrapS=as,l.wrapT=as,l.rotation=a.rotation,l.offset.x=a.offset.x,l.offset.y=a.offset.y,l.repeat.x=a.scale.x,l.repeat.y=a.scale.y}if(i===null||!i.IsValid())return;let o=new Sd;this.stateHandler.OnTextureNeeded();let s=null;i.mimeType!==null?s=UVe(i.buffer,i.mimeType):s=wB(i.buffer),this.conversionOutput.objectUrls.push(s),o.load(s,a=>{r(i,a),t.needsUpdate=!0,n(a),this.stateHandler.OnTextureLoaded()},null,a=>{this.stateHandler.OnTextureLoaded()})}},AI=class{constructor(t,i,n){this.threeGeometry=t,this.geometryType=i,this.materialHandler=n,this.itemVertexCount=null,i===Yy.Face?this.itemVertexCount=3:i===Yy.Line&&(this.itemVertexCount=2),this.meshThreeMaterials=[],this.meshOriginalMaterials=[],this.groupStart=null,this.previousMaterialIndex=null}ProcessItem(t,i){if(this.previousMaterialIndex!==i){this.groupStart!==null&&this.AddGroup(this.groupStart,t-1),this.groupStart=t;let n=this.materialHandler.GetThreeMaterial(i,this.geometryType);this.meshThreeMaterials.push(n),this.meshOriginalMaterials.push(i),this.previousMaterialIndex=i}}Finalize(t){this.AddGroup(this.groupStart,t-1)}AddGroup(t,i){let n=this.meshThreeMaterials.length-1;this.threeGeometry.addGroup(t*this.itemVertexCount,(i-t+1)*this.itemVertexCount,n)}};function l7e(e,t,i,n){function r(u,h){let f=u.mesh,p=f.TriangleCount();if(p===0)return null;let v=[];for(let P=0;P<p;P++)v.push(P);v.sort((P,A)=>{let O=f.GetTriangle(P),V=f.GetTriangle(A);return O.mat-V.mat});let m=new Wr,g=new AI(m,Yy.Face,h),b=[],w=[],x=[],R=[],_=f.VertexColorCount()>0,L=f.TextureUVCount()>0,F=0;for(let P of v){let A=f.GetTriangle(P),O=f.GetVertex(A.v0),V=f.GetVertex(A.v1),U=f.GetVertex(A.v2);if(b.push(O.x,O.y,O.z,V.x,V.y,V.z,U.x,U.y,U.z),A.HasVertexColors()){let se=Uc(f.GetVertexColor(A.c0)),_e=Uc(f.GetVertexColor(A.c1)),Ve=Uc(f.GetVertexColor(A.c2));w.push(se.r,se.g,se.b,_e.r,_e.g,_e.b,Ve.r,Ve.g,Ve.b)}else _&&w.push(0,0,0,0,0,0,0,0,0);let ae=f.GetNormal(A.n0),ne=f.GetNormal(A.n1),ue=f.GetNormal(A.n2);if(x.push(ae.x,ae.y,ae.z,ne.x,ne.y,ne.z,ue.x,ue.y,ue.z),A.HasTextureUVs()){let se=f.GetTextureUV(A.u0),_e=f.GetTextureUV(A.u1),Ve=f.GetTextureUV(A.u2);R.push(se.x,se.y,_e.x,_e.y,Ve.x,Ve.y)}else L&&R.push(0,0,0,0,0,0);g.ProcessItem(F,A.mat),F+=1}g.Finalize(F),m.setAttribute("position",new nn(b,3)),w.length!==0&&m.setAttribute("color",new nn(w,3)),m.setAttribute("normal",new nn(x,3)),R.length!==0&&m.setAttribute("uv",new nn(R,2));let T=new go(m,g.meshThreeMaterials);return T.name=f.GetName(),T.userData={originalMeshInstance:u,originalMaterials:g.meshOriginalMaterials,threeMaterials:null},T}function o(u,h){let f=u.mesh,p=f.LineCount();if(p===0)return null;let v=[];for(let R=0;R<p;R++)v.push(R);v.sort((R,_)=>{let L=f.GetLine(R),F=f.GetLine(_);return L.mat-F.mat});let m=new Wr,g=new AI(m,Yy.Line,h),b=[],w=0;for(let R=0;R<v.length;R++){let _=f.GetLine(v[R]),L=_.GetVertices();for(let F=0;F<L.length;F++){let T=L[F],P=f.GetVertex(T);b.push(P.x,P.y,P.z),F>0&&F<L.length-1&&b.push(P.x,P.y,P.z)}g.ProcessItem(w,_.mat),w+=_.SegmentCount()}g.Finalize(w),m.setAttribute("position",new nn(b,3));let x=new of(m,g.meshThreeMaterials);return x.userData={originalMeshInstance:u,originalMaterials:g.meshOriginalMaterials,threeMaterials:null},x}function s(u,h,f){if(SV(h.mesh))return;let p=r(h,f);p!==null&&u.add(p);let v=o(h,f);v!==null&&u.add(v)}function a(u,h,f,p){let m=new cV(h,u).GetNodeItems();PVe(m.length,100,{runTask:(g,b,w)=>{for(let x=g;x<=b;x++){let R=m[x];s(R.threeNode,R.meshInstance,f)}w()},onReady:()=>{p.OnModelLoaded(u)}})}let l=new lV(n),c=new dV(e,l,t,i),d=new Po;a(d,e,c,l)}var uV=class{constructor(){this.importer=new rV,this.inProgress=!1,this.defaultMaterials=null,this.objectUrls=null,this.hasHighpDriverIssue=ZVe()}InProgress(){return this.inProgress}LoadModel(t,i,n){this.inProgress||(this.inProgress=!0,this.RevokeObjectUrls(),this.importer.ImportFiles(t,i,{onLoadStart:()=>{n.onLoadStart()},onFileListProgress:(r,o)=>{n.onFileListProgress(r,o)},onFileLoadProgress:(r,o)=>{n.onFileLoadProgress(r,o)},onImportStart:()=>{n.onImportStart()},onSelectMainFile:(r,o)=>{n.onSelectMainFile?n.onSelectMainFile(r,o):o(0)},onImportSuccess:r=>{n.onVisualizationStart();let o=new sV;o.forceMediumpForMaterials=this.hasHighpDriverIssue;let s=new aV;l7e(r.model,o,s,{onTextureLoaded:()=>{n.onTextureLoaded()},onModelLoaded:a=>{if(this.defaultMaterials=s.defaultMaterials,this.objectUrls=s.objectUrls,r.upVector===Fo.X){let l=new ls().setFromAxisAngle(new Qe(0,0,1),Math.PI/2);a.quaternion.multiply(l)}else if(r.upVector===Fo.Z){let l=new ls().setFromAxisAngle(new Qe(1,0,0),-Math.PI/2);a.quaternion.multiply(l)}n.onModelFinished(r,a),this.inProgress=!1}})},onImportError:r=>{n.onLoadError(r),this.inProgress=!1}}))}GetImporter(){return this.importer}GetDefaultMaterials(){return this.defaultMaterials}ReplaceDefaultMaterialsColor(t,i){if(this.defaultMaterials!==null)for(let n of this.defaultMaterials)n.vertexColors||(n.userData.source===ah.DefaultFace?n.color=Uc(t):n.userData.source===ah.DefaultLine&&(n.color=Uc(i)))}RevokeObjectUrls(){if(this.objectUrls!==null){for(let t of this.objectUrls)GVe(t);this.objectUrls=null}}Destroy(){this.RevokeObjectUrls(),this.importer=null}};function pu(e){return Math.round(parseFloat(e))}function c7e(e){let t=pu(e.paddingLeft)+pu(e.paddingRight),i=pu(e.borderLeftWidth)+pu(e.borderRightWidth),n=pu(e.marginLeft)+pu(e.marginRight);return t+i+n}function d7e(e){let t=pu(e.paddingTop)+pu(e.paddingBottom),i=pu(e.borderTopWidth)+pu(e.borderBottomWidth),n=pu(e.marginTop)+pu(e.marginBottom);return t+i+n}function u7e(e,t,i){let n=getComputedStyle(e),r=t-c7e(n),o=i-d7e(n);return{width:r,height:o}}function Hy(e,t,i){if(e.getBoundingClientRect){let n=e.getBoundingClientRect();t-=n.left,i-=n.top}return window.pageXOffset&&window.pageYOffset&&(t+=window.pageXOffset,i+=window.pageYOffset),new zs(t,i)}var hV=class{constructor(){this.prev=new zs(0,0),this.curr=new zs(0,0),this.diff=new zs(0,0),this.buttons=[]}Down(t,i){this.buttons.push(i.which),this.curr=this.GetPositionFromEvent(t,i),this.prev=this.curr.Clone()}Move(t,i){this.curr=this.GetPositionFromEvent(t,i),this.diff=wI(this.curr,this.prev),this.prev=this.curr.Clone()}Up(t,i){let n=this.buttons.indexOf(i.which);n!==-1&&this.buttons.splice(n,1),this.curr=this.GetPositionFromEvent(t,i)}Leave(t,i){this.buttons=[],this.curr=this.GetPositionFromEvent(t,i)}IsButtonDown(){return this.buttons.length>0}GetButton(){let t=this.buttons.length;return t===0?0:this.buttons[t-1]}GetPosition(){return this.curr}GetMoveDiff(){return this.diff}GetPositionFromEvent(t,i){return Hy(t,i.clientX,i.clientY)}},fV=class{constructor(){this.prevPos=new zs(0,0),this.currPos=new zs(0,0),this.diffPos=new zs(0,0),this.prevDist=0,this.currDist=0,this.diffDist=0,this.fingers=0}Start(t,i){i.touches.length!==0&&(this.fingers=i.touches.length,this.currPos=this.GetPositionFromEvent(t,i),this.prevPos=this.currPos.Clone(),this.currDist=this.GetTouchDistanceFromEvent(t,i),this.prevDist=this.currDist)}Move(t,i){i.touches.length!==0&&(this.currPos=this.GetPositionFromEvent(t,i),this.diffPos=wI(this.currPos,this.prevPos),this.prevPos=this.currPos.Clone(),this.currDist=this.GetTouchDistanceFromEvent(t,i),this.diffDist=this.currDist-this.prevDist,this.prevDist=this.currDist)}End(t,i){i.touches.length!==0&&(this.fingers=0,this.currPos=this.GetPositionFromEvent(t,i),this.currDist=this.GetTouchDistanceFromEvent(t,i))}IsFingerDown(){return this.fingers!==0}GetFingerCount(){return this.fingers}GetPosition(){return this.currPos}GetMoveDiff(){return this.diffPos}GetDistanceDiff(){return this.diffDist}GetPositionFromEvent(t,i){let n=null;if(i.touches.length!==0){let r=i.touches[0];n=Hy(t,r.pageX,r.pageY)}return n}GetTouchDistanceFromEvent(t,i){if(i.touches.length!==2)return 0;let n=i.touches[0],r=i.touches[1];return wV(Hy(t,n.pageX,n.pageY),Hy(t,r.pageX,r.pageY))}},pV=class{constructor(){this.isClick=!1,this.startPosition=null}Start(t){this.isClick=!0,this.startPosition=t}Move(t){this.isClick&&(this.startPosition!==null?wV(this.startPosition,t)>3&&this.Cancel():this.Cancel())}End(){this.startPosition=null}Cancel(){this.isClick=!1,this.startPosition=null}IsClick(){return this.isClick}},Td={None:0,Orbit:1,Pan:2,Zoom:3},mV=class{constructor(t,i,n){this.canvas=t,this.camera=i,this.callbacks=n,this.navigationMode=_I.FixedUpVector,this.mouse=new hV,this.touch=new fV,this.clickDetector=new pV,this.onMouseClick=null,this.onMouseMove=null,this.onContext=null,this.canvas.addEventListener&&(this.canvas.addEventListener("mousedown",this.OnMouseDown.bind(this)),this.canvas.addEventListener("wheel",this.OnMouseWheel.bind(this)),this.canvas.addEventListener("touchstart",this.OnTouchStart.bind(this)),this.canvas.addEventListener("touchmove",this.OnTouchMove.bind(this)),this.canvas.addEventListener("touchcancel",this.OnTouchEnd.bind(this)),this.canvas.addEventListener("touchend",this.OnTouchEnd.bind(this)),this.canvas.addEventListener("contextmenu",this.OnContextMenu.bind(this))),document.addEventListener&&(document.addEventListener("mousemove",this.OnMouseMove.bind(this)),document.addEventListener("mouseup",this.OnMouseUp.bind(this)),document.addEventListener("mouseleave",this.OnMouseLeave.bind(this)))}SetMouseClickHandler(t){this.onMouseClick=t}SetMouseMoveHandler(t){this.onMouseMove=t}SetContextMenuHandler(t){this.onContext=t}GetNavigationMode(){return this.navigationMode}SetNavigationMode(t){this.navigationMode=t}GetCamera(){return this.camera}SetCamera(t){this.camera=t}MoveCamera(t,i){function n(r,o,s,a){r.camera.eye=o.eye[a],r.camera.center=o.center[a],r.camera.up=o.up[a],r.Update(),a<s-1&&requestAnimationFrame(()=>{n(r,o,s,a+1)})}if(t!==null){if(i===0||o7e(this.camera,t))this.camera=t;else{let r=$Ve,o={eye:gB(this.camera.eye,t.eye,i,r),center:gB(this.camera.center,t.center,i,r),up:gB(this.camera.up,t.up,i,r)};requestAnimationFrame(()=>{n(this,o,i,0)})}this.Update()}}GetFitToSphereCamera(t,i){if($ie(i))return null;let n=this.camera.Clone(),r=lh(n.center,t);n.eye=lh(n.eye,r),n.center=t.Clone();let o=lh(n.eye,n.center).Normalize(),s=this.camera.fov/2;this.canvas.width<this.canvas.height&&(s=s*this.canvas.width/this.canvas.height);let a=i/Math.sin(s*kS);return n.eye=n.center.Clone().Offset(o,a),n}OnMouseDown(t){t.preventDefault(),this.mouse.Down(this.canvas,t),this.clickDetector.Start(this.mouse.GetPosition())}OnMouseMove(t){if(this.mouse.Move(this.canvas,t),this.clickDetector.Move(this.mouse.GetPosition()),this.onMouseMove){let o=Hy(this.canvas,t.clientX,t.clientY);this.onMouseMove(o)}if(!this.mouse.IsButtonDown())return;let i=this.mouse.GetMoveDiff(),n=this.mouse.GetButton(),r=Td.None;if(n===1?t.ctrlKey?r=Td.Zoom:t.shiftKey?r=Td.Pan:r=Td.Orbit:(n===2||n===3)&&(r=Td.Pan),r===Td.Orbit){let o=.5;this.Orbit(i.x*o,i.y*o)}else if(r===Td.Pan){let s=.001*jy(this.camera.eye,this.camera.center);this.Pan(i.x*s,i.y*s)}else r===Td.Zoom&&this.Zoom(-i.y*.005);this.Update()}OnMouseUp(t){if(this.mouse.Up(this.canvas,t),this.clickDetector.End(),this.clickDetector.IsClick()){let i=this.mouse.GetPosition();this.Click(t.which,i)}}OnMouseLeave(t){this.mouse.Leave(this.canvas,t),this.clickDetector.Cancel()}OnTouchStart(t){t.preventDefault(),this.touch.Start(this.canvas,t),this.clickDetector.Start(this.touch.GetPosition())}OnTouchMove(t){if(t.preventDefault(),this.touch.Move(this.canvas,t),this.clickDetector.Move(this.touch.GetPosition()),!this.touch.IsFingerDown())return;let i=this.touch.GetMoveDiff(),n=this.touch.GetDistanceDiff(),r=this.touch.GetFingerCount(),o=Td.None;if(r===1?o=Td.Orbit:r===2&&(o=Td.Pan),o===Td.Orbit){let s=.5;this.Orbit(i.x*s,i.y*s)}else if(o===Td.Pan){this.Zoom(n*.005);let a=.001*jy(this.camera.eye,this.camera.center);this.Pan(i.x*a,i.y*a)}this.Update()}OnTouchEnd(t){if(t.preventDefault(),this.touch.End(this.canvas,t),this.clickDetector.End(),this.clickDetector.IsClick()){let i=this.touch.GetPosition();this.touch.GetFingerCount()===1&&this.Click(1,i)}}OnMouseWheel(t){let i=t||window.event;i.preventDefault();let n=-i.deltaY/40,r=.1;n<0&&(r=r*-1),this.Zoom(r),this.Update()}OnContextMenu(t){t.preventDefault(),this.clickDetector.IsClick()&&(this.Context(t.clientX,t.clientY),this.clickDetector.Cancel())}Orbit(t,i){let n=t*kS,r=i*kS,o=lh(this.camera.center,this.camera.eye).Normalize(),s=RS(o,this.camera.up).Normalize();if(this.navigationMode===_I.FixedUpVector){let l=HVe(o,this.camera.up)+r;OVe(l,0)&&Xie(l,Math.PI)&&this.camera.eye.Rotate(s,-r,this.camera.center),this.camera.eye.Rotate(this.camera.up,-n,this.camera.center)}else if(this.navigationMode===_I.FreeOrbit){let a=RS(s,o).Normalize();this.camera.eye.Rotate(s,-r,this.camera.center),this.camera.eye.Rotate(a,-n,this.camera.center),this.camera.up=a}}Pan(t,i){let n=lh(this.camera.center,this.camera.eye).Normalize(),r=RS(n,this.camera.up).Normalize(),o=RS(r,n).Normalize();this.camera.eye.Offset(r,-t),this.camera.center.Offset(r,-t),this.camera.eye.Offset(o,i),this.camera.center.Offset(o,i)}Zoom(t){let i=lh(this.camera.center,this.camera.eye),r=i.Length()*t;this.camera.eye.Offset(i,r)}Update(){this.callbacks.onUpdate()}Click(t,i){this.onMouseClick&&this.onMouseClick(t,i)}Context(t,i){if(this.onContext){let n={x:t,y:i},r=Hy(this.canvas,t,i);this.onContext(n,r)}}},gV=class e{constructor(t,i){this.textureNames=t,this.backgroundIsEnvMap=i}Clone(){let t=null;if(this.textureNames!==null){t=[];for(let i of this.textureNames)t.push(i)}return new e(t,this.backgroundIsEnvMap)}},vV=class{constructor(t){this.scene=t,this.type=Up.Phong,this.projectionMode=Vv.Perspective,this.ambientLight=new af(8947848,1*Math.PI),this.directionalLight=new sf(8947848,1*Math.PI),this.environmentSettings=new gV(null,!1),this.environment=null,this.scene.add(this.ambientLight),this.scene.add(this.directionalLight)}SetShadingType(t){this.type=t,this.UpdateShading()}SetProjectionMode(t){this.projectionMode=t,this.UpdateShading()}UpdateShading(){this.type===Up.Phong?(this.ambientLight.color.set(8947848),this.directionalLight.color.set(8947848),this.scene.environment=null):this.type===Up.Physical&&(this.ambientLight.color.set(0),this.directionalLight.color.set(5592405),this.scene.environment=this.environment),this.environmentSettings.backgroundIsEnvMap&&this.projectionMode===Vv.Perspective?this.scene.background=this.environment:this.scene.background=null}SetEnvironmentMapSettings(t,i){let n=new aS;this.environment=n.load(t.textureNames,r=>{r.colorSpace=Qu,i()}),this.environmentSettings=t}UpdateByCamera(t){let i=lh(t.eye,t.center);this.directionalLight.position.set(i.x,i.y,i.z)}};function tne(e){let t=45;return e===Fo.X?new Gv(new $n(2,-3,1.5),new $n(0,0,0),new $n(1,0,0),t):e===Fo.Y?new Gv(new $n(-1.5,2,3),new $n(0,0,0),new $n(0,1,0),t):e===Fo.Z?new Gv(new $n(-1.5,-3,2),new $n(0,0,0),new $n(0,0,1),t):null}function ine(e,t){if(!t(e))return!1;for(let i of e.children)if(!ine(i,t))return!1;return!0}function h7e(e){let t=null;return ine(e,i=>{if(i.isMesh)for(let n of i.material)return n.type==="MeshPhongMaterial"?t=Up.Phong:n.type==="MeshStandardMaterial"&&(t=Up.Physical),!1;return!0}),t}var bV=class{constructor(){this.eyeCenterDistance=0,this.forceUpdate=!0}ForceUpdate(){this.forceUpdate=!0}ValidatePerspective(){return this.forceUpdate?(this.forceUpdate=!1,!1):!0}ValidateOrthographic(t){return this.forceUpdate||!Ml(this.eyeCenterDistance,t)?(this.eyeCenterDistance=t,this.forceUpdate=!1,!1):!0}},_V=class{constructor(){this.direction=Fo.Y,this.isFixed=!0,this.isFlipped=!1}SetDirection(t,i){this.direction=t,this.isFlipped=!1;let n=tne(this.direction),r=lh(n.eye,n.center),o=jy(i.center,i.eye),s=i.center.Clone().Offset(r,o),a=i.Clone();return this.direction===Fo.X?(a.up=new $n(1,0,0),a.eye=s):this.direction===Fo.Y?(a.up=new $n(0,1,0),a.eye=s):this.direction===Fo.Z&&(a.up=new $n(0,0,1),a.eye=s),a}SetFixed(t,i){return this.isFixed=t,this.isFixed?this.SetDirection(this.direction,i):null}Flip(t){this.isFlipped=!this.isFlipped;let i=t.Clone();return i.up.MultiplyScalar(-1),i}},yV=class{constructor(){Fn.enabled=!1,this.canvas=null,this.renderer=null,this.scene=null,this.mainModel=null,this.extraModel=null,this.camera=null,this.projectionMode=null,this.cameraValidator=null,this.shadingModel=null,this.navigation=null,this.upVector=null,this.settings={animationSteps:40}}Init(t){this.canvas=t,this.canvas.id="viewer";let i={canvas:this.canvas,antialias:!0};this.renderer=new CS(i),this.renderer.outputColorSpace=Qu,window.devicePixelRatio&&this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor("#ffffff",1),this.renderer.setSize(this.canvas.width,this.canvas.height),this.scene=new rf,this.mainModel=new oV(this.scene),this.extraModel=new HS(this.scene),this.InitNavigation(),this.InitShading(),this.Render()}SetMouseClickHandler(t){this.navigation.SetMouseClickHandler(t)}SetMouseMoveHandler(t){this.navigation.SetMouseMoveHandler(t)}SetContextMenuHandler(t){this.navigation.SetContextMenuHandler(t)}SetEdgeSettings(t){let i=t.Clone();this.mainModel.SetEdgeSettings(i),this.Render()}SetEnvironmentMapSettings(t){let i=t.Clone();this.shadingModel.SetEnvironmentMapSettings(i,()=>{this.Render()}),this.shadingModel.UpdateShading(),this.Render()}SetBackgroundColor(t){let i=new Ji(mI(t.r),mI(t.g),mI(t.b)),n=mI(t.a);this.renderer.setClearColor(i,n),this.Render()}GetCanvas(){return this.canvas}GetCamera(){return this.navigation.GetCamera()}GetProjectionMode(){return this.projectionMode}SetCamera(t){this.navigation.SetCamera(t),this.cameraValidator.ForceUpdate(),this.Render()}SetProjectionMode(t){this.projectionMode!==t&&(this.scene.remove(this.camera),t===Vv.Perspective?this.camera=new ss(45,1,.1,1e3):t===Vv.Orthographic&&(this.camera=new Lp(-1,1,1,-1,.1,1e3)),this.scene.add(this.camera),this.projectionMode=t,this.shadingModel.SetProjectionMode(t),this.cameraValidator.ForceUpdate(),this.AdjustClippingPlanes(),this.Render())}Resize(t,i){let n=u7e(this.canvas,t,i);this.ResizeRenderer(n.width,n.height)}ResizeRenderer(t,i){window.devicePixelRatio&&this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(t,i),this.cameraValidator.ForceUpdate(),this.Render()}FitSphereToWindow(t,i){if(t===null)return;let n=new $n(t.center.x,t.center.y,t.center.z),r=t.radius,o=this.navigation.GetFitToSphereCamera(n,r);this.navigation.MoveCamera(o,i?this.settings.animationSteps:0)}AdjustClippingPlanes(){let t=this.GetBoundingSphere(i=>!0);this.AdjustClippingPlanesToSphere(t)}AdjustClippingPlanesToSphere(t){t!==null&&(t.radius<10?(this.camera.near=.01,this.camera.far=100):t.radius<100?(this.camera.near=.1,this.camera.far=1e3):t.radius<1e3?(this.camera.near=10,this.camera.far=1e4):(this.camera.near=100,this.camera.far=1e6),this.cameraValidator.ForceUpdate(),this.Render())}GetNavigationMode(){return this.navigation.GetNavigationMode()}SetNavigationMode(t){let i=this.navigation.GetCamera(),n=this.upVector.SetFixed(t===_I.FixedUpVector,i);this.navigation.SetNavigationMode(t),n!==null&&this.navigation.MoveCamera(n,this.settings.animationSteps),this.Render()}SetUpVector(t,i){let n=this.navigation.GetCamera(),r=this.upVector.SetDirection(t,n),o=i?this.settings.animationSteps:0;this.navigation.MoveCamera(r,o),this.Render()}FlipUpVector(){let t=this.navigation.GetCamera(),i=this.upVector.Flip(t);this.navigation.MoveCamera(i,0),this.Render()}Render(){let t=this.navigation.GetCamera();if(this.camera.position.set(t.eye.x,t.eye.y,t.eye.z),this.camera.up.set(t.up.x,t.up.y,t.up.z),this.camera.lookAt(new Qe(t.center.x,t.center.y,t.center.z)),this.projectionMode===Vv.Perspective)this.cameraValidator.ValidatePerspective()||(this.camera.aspect=this.canvas.width/this.canvas.height,this.camera.fov=t.fov,this.camera.updateProjectionMatrix());else if(this.projectionMode===Vv.Orthographic){let i=jy(t.eye,t.center);if(!this.cameraValidator.ValidateOrthographic(i)){let n=this.canvas.width/this.canvas.height,o=jy(t.eye,t.center)*Math.tan(.5*t.fov*kS);this.camera.left=-o*n,this.camera.right=o*n,this.camera.top=o,this.camera.bottom=-o,this.camera.updateProjectionMatrix()}}this.shadingModel.UpdateByCamera(t),this.renderer.render(this.scene,this.camera)}SetMainObject(t){let i=h7e(t);this.mainModel.SetMainObject(t),this.shadingModel.SetShadingType(i),this.Render()}AddExtraObject(t){this.extraModel.AddObject(t),this.Render()}Clear(){this.mainModel.Clear(),this.extraModel.Clear(),this.Render()}ClearExtra(){this.extraModel.Clear(),this.Render()}SetMeshesVisibility(t){this.mainModel.EnumerateMeshesAndLines(i=>{let n=t(i.userData);i.visible!==n&&(i.visible=n)}),this.mainModel.EnumerateEdges(i=>{let n=t(i.userData);i.visible!==n&&(i.visible=n)}),this.Render()}SetMeshesHighlight(t,i){let n=this.mainModel.HasLinesOrEdges();this.mainModel.EnumerateMeshesAndLines(r=>{i(r.userData)?r.userData.threeMaterials===null&&(r.userData.threeMaterials=r.material,r.material=e7e(r.userData.threeMaterials,t,n)):r.userData.threeMaterials!==null&&(r.material=r.userData.threeMaterials,r.userData.threeMaterials=null)}),this.Render()}GetMeshUserDataUnderMouse(t,i){let n=this.GetMeshIntersectionUnderMouse(t,i);return n===null?null:n.object.userData}GetMeshIntersectionUnderMouse(t,i){let n=this.GetCanvasSize(),r=this.mainModel.GetMeshIntersectionUnderMouse(t,i,this.camera,n.width,n.height);return r===null?null:r}GetBoundingBox(t){return this.mainModel.GetBoundingBox(t)}GetBoundingSphere(t){return this.mainModel.GetBoundingSphere(t)}EnumerateMeshesAndLinesUserData(t){this.mainModel.EnumerateMeshesAndLines(i=>{t(i.userData)})}InitNavigation(){let t=tne(Fo.Y);this.camera=new ss(45,1,.1,1e3),this.projectionMode=Vv.Perspective,this.cameraValidator=new bV,this.scene.add(this.camera);let i=this.renderer.domElement;this.navigation=new mV(i,t,{onUpdate:()=>{this.Render()}}),this.upVector=new _V}InitShading(){this.shadingModel=new vV(this.scene)}GetShadingType(){return this.shadingModel.type}GetImageSize(){let t=new On;return this.renderer.getSize(t),{width:parseInt(t.x,10),height:parseInt(t.y,10)}}GetCanvasSize(){let t=this.canvas.width,i=this.canvas.height;return window.devicePixelRatio&&(t/=window.devicePixelRatio,i/=window.devicePixelRatio),{width:t,height:i}}GetImageAsDataUrl(t,i,n){let r=this.GetImageSize(),o=t,s=i;window.devicePixelRatio&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio);let a=this.renderer.getClearAlpha();n&&this.renderer.setClearAlpha(0),this.ResizeRenderer(o,s),this.Render();let l=this.renderer.domElement.toDataURL();return this.ResizeRenderer(r.width,r.height),this.renderer.setClearAlpha(a),l}Destroy(){this.Clear(),this.renderer.dispose()}},RI=class{constructor(t,i){this.parentElement=t,this.parameters={},bB(i)&&(this.parameters=i),this.canvas=document.createElement("canvas"),this.parentElement.appendChild(this.canvas),this.viewer=new yV,this.viewer.Init(this.canvas);let n=this.parentElement.clientWidth,r=this.parentElement.clientHeight;this.viewer.Resize(n,r),this.parameters.projectionMode&&this.viewer.SetProjectionMode(this.parameters.projectionMode),this.parameters.backgroundColor&&this.viewer.SetBackgroundColor(this.parameters.backgroundColor),this.parameters.edgeSettings&&this.viewer.SetEdgeSettings(this.parameters.edgeSettings),this.parameters.environmentSettings&&this.viewer.SetEnvironmentMapSettings(this.parameters.environmentSettings),this.model=null,this.modelLoader=new uV,this.progressDiv=null,window.addEventListener("resize",()=>{this.Resize()})}LoadModelFromUrlList(t){BVe(t);let i=XVe(t);this.LoadModelFromInputFiles(i)}LoadModelFromFileList(t){let i=KVe(t);this.LoadModelFromInputFiles(i)}LoadModelFromInputFiles(t){if(t===null||t.length===0)return;this.viewer.Clear();let i=new tV;this.parameters.defaultColor&&(i.defaultColor=this.parameters.defaultColor),this.parameters.defaultLineColor&&(i.defaultLineColor=this.parameters.defaultLineColor),this.model=null,this.progressDiv!==null&&(this.parentElement.removeChild(this.progressDiv),this.progressDiv=null),this.modelLoader.LoadModel(t,i,{onLoadStart:()=>{this.canvas.style.display="none",this.progressDiv=document.createElement("div"),this.progressDiv.innerHTML=Yn("Loading model..."),this.parentElement.appendChild(this.progressDiv)},onFileListProgress:(n,r)=>{},onFileLoadProgress:(n,r)=>{},onImportStart:()=>{this.progressDiv.innerHTML=Yn("Importing model...")},onVisualizationStart:()=>{this.progressDiv.innerHTML=Yn("Visualizing model...")},onModelFinished:(n,r)=>{this.parentElement.removeChild(this.progressDiv),this.progressDiv=null,this.canvas.style.display="inherit",this.viewer.SetMainObject(r);let o=this.viewer.GetBoundingSphere(s=>!0);this.viewer.AdjustClippingPlanesToSphere(o),this.parameters.camera?this.viewer.SetCamera(this.parameters.camera):(this.viewer.SetUpVector(Fo.Y,!1),this.viewer.FitSphereToWindow(o,!1)),this.model=n.model,this.parameters.onModelLoaded&&this.parameters.onModelLoaded()},onTextureLoaded:()=>{this.viewer.Render()},onLoadError:n=>{let r=Yn("Unknown error.");n.code===Hv.NoImportableFile?r=Yn("No importable file found."):n.code===Hv.FailedToLoadFile?r=Yn("Failed to load file for import."):n.code===Hv.ImportFailed&&(r=Yn("Failed to import model.")),n.message!==null&&(r+=" ("+n.message+")"),this.progressDiv.innerHTML=r,this.parameters.onModelLoadFailed&&this.parameters.onModelLoadFailed()}})}GetViewer(){return this.viewer}GetModel(){return this.model}Resize(){let t=this.parentElement.clientWidth,i=this.parentElement.clientHeight;this.viewer.Resize(t,i)}Destroy(){this.modelLoader.Destroy(),this.viewer.Destroy(),this.model=null}};function p7e(e,t){e&1&&(Se(0,"span",9),Dt(1,"img",10),Pe())}function m7e(e,t){e&1&&(Se(0,"span",9),Dt(1,"img",11),Pe())}function g7e(e,t){e&1&&(Se(0,"span",9),Dt(1,"img",12),Pe())}function v7e(e,t){e&1&&(Se(0,"span",9),Dt(1,"img",13),Pe())}function b7e(e,t){e&1&&(Se(0,"span",9),Dt(1,"img",14),Pe())}function _7e(e,t){e&1&&Dt(0,"span",15)}function y7e(e,t){e&1&&Dt(0,"span",16)}function w7e(e,t){e&1&&Dt(0,"span",17)}function C7e(e,t){e&1&&Dt(0,"span",18)}function x7e(e,t){e&1&&Dt(0,"span",19)}function S7e(e,t){if(e&1){let i=tn();Se(0,"div",2),Ot("click",function(r){let o=Gt(i).$implicit,s=lt();return Wt(s.onContextMenuClick(r,o.menuEvent))}),Xt(1,p7e,2,0,"span",3)(2,m7e,2,0,"span",3)(3,g7e,2,0,"span",3)(4,v7e,2,0,"span",3)(5,b7e,2,0,"span",3)(6,_7e,1,0,"span",4)(7,y7e,1,0,"span",5)(8,w7e,1,0,"span",6)(9,C7e,1,0,"span",7)(10,x7e,1,0,"span",8),Lt(11," menu "),Pe()}if(e&2){let i=t.$implicit;Fe(),Ze("ngIf",i.menuEvent==="HideMesh"),Fe(),Ze("ngIf",i.menuEvent==="FitMeshToWindow"||i.menuEvent==="FitModelToWindow"),Fe(),Ze("ngIf",i.menuEvent==="IsolateMesh"),Fe(),Ze("ngIf",i.menuEvent==="ShowAllMeshes"),Fe(),Ze("ngIf",i.menuEvent==="RemoveIsolation"),Fe(),Ze("ngIf",i.menuEvent==="AsRequired"),Fe(),Ze("ngIf",i.menuEvent==="Default"),Fe(),Ze("ngIf",i.menuEvent==="Attachment"),Fe(),Ze("ngIf",i.menuEvent==="Image"),Fe(),Ze("ngIf",i.menuEvent==="Cancel")}}var II=class e{contextMenuItems=[];onContextMenuItemClick=new et;onContextMenuClick(t,i){this.onContextMenuItemClick.emit({event:t,data:i})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ti({type:e,selectors:[["app-contextmenu"]],inputs:{contextMenuItems:"contextMenuItems"},outputs:{onContextMenuItemClick:"onContextMenuItemClick"},standalone:!1,decls:3,vars:1,consts:[[1,"content_menu3D"],["class","menu-link",3,"click",4,"ngFor","ngForOf"],[1,"menu-link",3,"click"],["class","mess_space",4,"ngIf"],["class","mess_space icon-order",4,"ngIf"],["class","mess_space icon-order-default",4,"ngIf"],["class","mess_space icon-attach",4,"ngIf"],["class","mess_space icon-camera",4,"ngIf"],["class","mess_space icon-cancel",4,"ngIf"],[1,"mess_space"],["src","assets/icons/context-3D/EyeSlash.svg"],["src","assets/icons/context-3D/ArrowsOut.svg"],["src","assets/icons/context-3D/CirclesFour.svg"],["src","assets/icons/context-3D/Eye.svg"],["src","assets/icons/context-3D/CirclesFour-2.svg"],[1,"mess_space","icon-order"],[1,"mess_space","icon-order-default"],[1,"mess_space","icon-attach"],[1,"mess_space","icon-camera"],[1,"mess_space","icon-cancel"]],template:function(i,n){i&1&&(is(0),Se(1,"div",0),Xt(2,S7e,12,10,"div",1),Pe(),ns()),i&2&&(Fe(2),Ze("ngForOf",n.contextMenuItems))},dependencies:[gh,kl],styles:['.menu-link[_ngcontent-%COMP%]{margin:0;padding:5px 5px 5px 15px;cursor:pointer;background-color:#fff;color:#282828;border-bottom:1px solid rgba(0,0,0,.2);font-size:12px;font-family:Roboto;display:flex;align-items:center}.menu-link[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.menu-link[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.content_menu3D[_ngcontent-%COMP%]{box-shadow:0 2px 10px 1px #0003;border-left:1px solid var(--brand-bg);border-right:1px solid var(--brand-bg);border-top:1px solid var(--brand-bg);border-bottom:1px solid var(--brand-bg);border-radius:4px;background:#fff}.content_menu3D[_ngcontent-%COMP%]:before, .content_menu3D[_ngcontent-%COMP%]:after{right:100%;top:16px;border:solid transparent;content:"";height:0;width:0;position:absolute;pointer-events:none}.content_menu3D[_ngcontent-%COMP%]:after{border-color:#fff0;border-right-color:#fff;border-width:5px;margin-top:-5px}.content_menu3D[_ngcontent-%COMP%]:before{border-color:#e4163600;border-right-color:var(--brand-bg);border-width:6px;margin-top:-6px}.content_menu3D[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{transition:.3s ease-in-out}.content_menu3D[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%] + menu-link[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.2)}.content_menu3D[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:hover{background-color:#00000026}.contextmenu_icons3d[_ngcontent-%COMP%]{font-size:14px;color:gray;position:relative;left:-5px;top:1px}.mess_space[_ngcontent-%COMP%]{width:25px!important;display:inline-block;margin-left:-7px}.mess_space[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px!important}']})};function E7e(e,t){if(e&1){let i=tn();Se(0,"app-contextmenu",3),Ot("onContextMenuItemClick",function(r){Gt(i);let o=lt();return Wt(o.handleMenuItemClick(r))}),Pe()}if(e&2){let i=lt();Ze("ngStyle",i.getRightClickMenuStyle())("contextMenuItems",i.rightClickMenuItems)}}function D7e(e,t){e&1&&(Se(0,"div",4)(1,"div",5),Lt(2,"'Loading'"),Pe()())}var PI=class e{model3d;loadfrom;actionEvent=new et;selectedMesData=[];triggerAction(){this.actionEvent.emit("Hello from Child!")}isModelLoading=!0;mesData=[];viewer;underlyingViewer;viewerModel;highlightColor;viewer3d=!0;isDisplayContextMenu;rightClickMenuItems=[];rightClickMenuPositionX;rightClickMenuPositionY;meshTohide;hiddenMeshes={};meshIsolation=!1;Close(){}ngAfterViewInit(){let t={meshIndex:1,nodeId:0}}ngOnInit(){(this.model3d==null||this.model3d=="")&&(this.model3d=["../../assets/3d-view/44.3ds"]);let t="development",i=document.getElementById("viewerd");if(i){debugger;this.viewer=new RI(i,{camera:new Gv(new $n(-.5,2,3),new $n(2,1,0),new $n(0,1,0),45),backgroundColor:new FS(255,255,255,255),defaultColor:new Es(200,200,200),edgeSettings:new US(!1,new Es(0,0,0),1),onModelLoaded:()=>{this.viewer3d&&(this.populateMeshes(),this.underlyingViewer=this.viewer.GetViewer(),this.viewerModel=this.viewer.GetModel(),this.centerModel(),this.isModelLoading=!1)}}),this.loadfrom!="file"?this.viewer.LoadModelFromUrlList(this.model3d):this.viewer.LoadModelFromFileList(this.model3d),this.highlightColor=new Es(142,201,240)}}populateMeshes(){let t=[];this.viewer.GetModel().EnumerateMeshInstances(n=>t.push({id:n.id,name:n.mesh.name,nodeName:n.node.name})),this.mesData=t}highlightMeshOnClick(t){let i=this.underlyingViewer.GetMeshUserDataUnderMouse(kI.MeshAndLine,{x:t.offsetX,y:t.offsetY}),n=i?.originalMeshInstance.id??null;if(n){this.highlightLocalMesh(n);var r=i?.originalMeshInstance.node.name;this.highlightGrid(r),this.selectedMesData.push({mesid:r,name:r})}}highlightGrid(t){var i=t,n=i.indexOf("_");n!=null&&n>2&&(i=i.substring(0,n)),this.actionEvent.emit(i)}highlightLocalMesh(t){}deselectall(){this.underlyingViewer.SetMeshesHighlight(this.highlightColor,t=>!1)}saveSnapshot(){let t=this.underlyingViewer.GetImageAsDataUrl(1e3,1e3,!1),i=document.createElement("a");i.href=t,i.download=`${new Date().toDateString()}_snapshot.jpg`,i.click()}toggle3d(){this.viewer3d=!this.viewer3d,this.viewer3d?(this.populateMeshes(),this.underlyingViewer=this.viewer.GetViewer()):this.mesData=[]}centerMesh(t){let i=this.underlyingViewer.GetBoundingSphere(n=>n.originalMeshInstance.id.IsEqual(t));this.underlyingViewer.FitSphereToWindow(i,!0)}hidemesh(t,i=!1){this.hiddenMeshes[t.meshIndex]=t,this.underlyingViewer.SetMeshesVisibility(n=>!i&&this.hiddenMeshes[n.originalMeshInstance.id.meshIndex]!==void 0||t!==null&&n.originalMeshInstance.id.IsEqual(t)?i:!i)}showAllMeshes(){this.underlyingViewer.SetMeshesVisibility(t=>!0)}IsMeshIsolated(t){return this.underlyingViewer.IsMeshIsolated(t)}IsolateMesh(t){this.underlyingViewer.IsolateMesh(t)}centerModel(){let t=this.underlyingViewer.GetBoundingSphere(()=>!0);this.underlyingViewer.FitSphereToWindow(t,!0)}displayContextMenu(t){let n=this.underlyingViewer.GetMeshUserDataUnderMouse(kI.MeshAndLine,{x:t.offsetX,y:t.offsetY})?.originalMeshInstance.id??null;n?(this.meshTohide=n,this.rightClickMenuItems=[{menuText:"Hide Mesh",menuEvent:"HideMesh"},{menuText:"Fit Mesh To window",menuEvent:"FitMeshToWindow"}],this.meshIsolation||this.rightClickMenuItems.push({menuText:"Isolate Mesh",menuEvent:"IsolateMesh"})):this.rightClickMenuItems=[{menuText:"Fit Model to Window",menuEvent:"FitModelToWindow"}],!n&&Object.keys(this.hiddenMeshes).length&&this.rightClickMenuItems.push({menuText:"Show all meshes",menuEvent:"ShowAllMeshes"}),this.meshIsolation&&this.rightClickMenuItems.push({menuText:"Remove Isolation",menuEvent:"RemoveIsolation"}),this.isDisplayContextMenu=this.loadfrom!="file",this.rightClickMenuPositionX=t.clientX,this.rightClickMenuPositionY=t.clientY}getRightClickMenuStyle(){return{position:"fixed",left:`${this.rightClickMenuPositionX}px`,top:`${this.rightClickMenuPositionY}px`}}handleMenuItemClick(t){switch(t.data){case"HideMesh":this.hidemesh(this.meshTohide);break;case"IsolateMesh":this.meshIsolation=!0,this.hidemesh(this.meshTohide,!0);break;case"FitMeshToWindow":this.centerMesh(this.meshTohide);break;case"FitModelToWindow":this.centerModel();break;case"ShowAllMeshes":this.showAllMeshes();break;case"RemoveIsolation":this.showAllMeshes(),this.meshIsolation=!1;break}}documentClick(){this.isDisplayContextMenu=!1}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ti({type:e,selectors:[["app-three-dveiw"]],hostBindings:function(i,n){i&1&&Ot("click",function(){return n.documentClick()},!1,N2)},inputs:{model3d:"model3d",loadfrom:"loadfrom"},outputs:{actionEvent:"actionEvent",selectedMesData:"selectedMesData"},standalone:!1,decls:3,vars:2,consts:[["id","viewerd",2,"height","100%","width","inherit","position","relative",3,"click","contextmenu"],[3,"ngStyle","contextMenuItems","onContextMenuItemClick",4,"ngIf"],["class","loaderWrapper threeDWrapper",4,"ngIf"],[3,"onContextMenuItemClick","ngStyle","contextMenuItems"],[1,"loaderWrapper","threeDWrapper"],[1,"loader","threeD"]],template:function(i,n){i&1&&(Se(0,"div",0),Ot("click",function(o){return n.highlightMeshOnClick(o)})("contextmenu",function(o){return n.displayContextMenu(o),!1}),Xt(1,E7e,1,2,"app-contextmenu",1)(2,D7e,3,0,"div",2),Pe()),i&2&&(Fe(),Ze("ngIf",n.rightClickMenuItems.length>0&&n.isDisplayContextMenu),Fe(),Ze("ngIf",n.isModelLoading))},dependencies:[kl,Iw,II],encapsulation:2})};var T7e=[{path:"",component:Ox},{path:"3d-viewer",component:PI},{path:"dashboard",component:hR},{path:"ag-grid",component:JT},{path:"imageview",component:eA},{path:"login",component:Ox},{path:"voice",component:fR}],FI=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ZM.forRoot(T7e),ZM]})};var A7e=(()=>{class e extends K2{constructor(i,n,r){super(i,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||e)(ji(Qi),ji(Mw),ji(X2))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();function R7e(){return new vz}function k7e(e,t,i){return new _z(e,t,i)}var rne=[{provide:X2,useFactory:R7e},{provide:K2,useClass:A7e},{provide:Ns,useFactory:k7e,deps:[Xg,K2,Si]}],I7e=[{provide:Mw,useClass:gz},{provide:br,useValue:"NoopAnimations"},...rne],nne=[{provide:Mw,useFactory:()=>new bz},{provide:br,useFactory:()=>"BrowserAnimations"},...rne],one=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?I7e:nne}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:nne,imports:[Vw]})}return e})();var sne={black:{"--brand-bg":"#000","--brand-rgb":"0,0,0","--brand-sec":"#E41636","--primary-btn":"#E41636","--primary-btn-hover":"#000","--card-btn-color":"#B5B5B5","--slider-bg-color":"#000000","--common_part_srch_txt_color":"#4a4a4a",brandBg:"#000"},red:{"--text-ag-header":"#fff","--text-white":"#fff","--text-black":"#000","--brand-bg":"#e41636","--brand-bg-hover":"#149A11","--brand-bg-active":"#0F7F0D","--brand-bg-focus":"#1FCC1B","--brand-rgb":"23, 171, 19","--icon-color":"#e41636","--text-primary":"#000","--icon-color-hover":"red","--text-primary-hover":"#fff","--brand-sec":"#E8FCE8","--brand-third":"#FFFFFF","--surface-hover":"rgba(23,171,19,0.08)","--surface-focus":"rgba(23,171,19,0.12)","--surface-pressed":"rgba(23,171,19,0.16)","--primary-btn":"#e41636","--primary-btn-hover":"#e41636","--primary-btn-active":"#e41636","--primary-btn-text":"#e41636","--card-btn-color":"#B5B5B5","--slider-bg-color":"#17AB13",brandBg:"linear-gradient(180deg, #E8FCE8 0%, #17AB13 120%)"},blue:{"--text-ag-header":"#fff","--text-white":"#fff","--text-black":"#000","--brand-bg":"#663399","--brand-bg-hover":"#149A11","--brand-bg-active":"#0F7F0D","--brand-bg-focus":"#1FCC1B","--brand-rgb":"23, 171, 19","--icon-color":"#663399","--text-primary":"#000","--icon-color-hover":"red","--text-primary-hover":"#fff","--brand-sec":"#E8FCE8","--brand-third":"#FFFFFF","--surface-hover":"rgba(23,171,19,0.08)","--surface-focus":"rgba(23,171,19,0.12)","--surface-pressed":"rgba(23,171,19,0.16)","--primary-btn":"#663399","--primary-btn-hover":"#663399","--primary-btn-active":"#0F7F0D","--primary-btn-text":"#663399","--card-btn-color":"#B5B5B5","--slider-bg-color":"#17AB13",brandBg:"linear-gradient(180deg, #E8FCE8 0%, #17AB13 120%)"}};var kg=class e{side_menu=new Ha(null);subject=new Yt;sendClickEvent(t=!0){this.subject.next(t)}getClickEvent(){return this.subject.asObservable()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})},OI=class e{loader=!1;show(){this.loader=!0}hide(){this.loader=!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})};var P7e=(e,t)=>({side_expand:e,side_closed:t}),ff=class e{constructor(t,i,n,r,o,s){this.router=t;this.loaderService=i;this.datashare=n;this.route=r;this.elementRef=o;this.document=s;this.updateTheme("blue")}show=!1;ngOnInit(){}title="intelli-agent";menuItems=[{icon:"add",label:"New Chat",route:"/new-chat"},{icon:"search",label:"Search Chat",route:"/search"},{icon:"psychology",label:"Intelli GPT",route:"/intelli-gpt"}];isExpanded=!1;chatHistory=[{icon:"description",label:'Order Detail Analysis from 1-Jan-2023 to 16-Jun-2025 of "Auto Motors Co. HCV"',route:"/chat/1"},{icon:"description",label:"Top 5 Selling Parts",route:"/chat/2"},{icon:"description",label:"Compare Cost Of Quarter 1 & Quarter 2, 2024",route:"/chat/3"}];bottomMenuItems=[{icon:"help_outline",label:"Help",route:"/help"},{icon:"settings",label:"Settings",route:"/settings"},{icon:"clear_all",label:"Clear conversations",route:"/clear"},{icon:"logout",label:"Log out",route:"/logout"}];check_view(){this.datashare.side_menu.subscribe(t=>{t==null&&(t=!1),this.isExpanded=t})}updateTheme(t){let i=this.elementRef.nativeElement,n=sne[t];switch(Object.entries(n).forEach(([r,o])=>{i.style.setProperty(r,o),this.document.body.style.setProperty(r,o)}),document.documentElement.style.setProperty("--anchor-hover-color",n.brandBg),t){case"red":{this.document.body.classList.add("redTheme");break}case"black":{this.document.body.classList.add("blackTheme");break}case"green":{this.document.body.classList.add("greenTheme");break}}}static \u0275fac=function(i){return new(i||e)(ri(Au),ri(OI),ri(kg),ri(Ua),ri(pi),ri(Qi))};static \u0275cmp=ti({type:e,selectors:[["app-root"]],standalone:!1,decls:10,vars:5,consts:[[2,"height","calc(100vh - 60px)"],["mode","side",3,"opened"],[1,"drawer-content-leftM",3,"ngClass"],[1,"main_container"]],template:function(i,n){i&1&&(Se(0,"body")(1,"div"),Dt(2,"app-header"),Pe(),Se(3,"div")(4,"mat-sidenav-container",0)(5,"mat-sidenav",1),Dt(6,"app-sidemenu"),Pe(),Se(7,"mat-sidenav-content",2)(8,"div",3),Dt(9,"router-outlet"),Pe()()()()()),i&2&&(Fe(5),Ze("opened",!0),Fe(2),Ze("ngClass",Pf(2,P7e,n.isExpanded==!1,n.isExpanded==!0)))},encapsulation:2})};var F7e="@",O7e=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=j(Bn);loadingSchedulerFn=j(L7e,{optional:!0});_engine;constructor(i,n,r,o,s){this.doc=i,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let i=()=>this.moduleImpl??import("./chunk-AEPRRRKG.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(i):n=i(),n.catch(r=>{throw new fr(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,n){let r=this.delegate.createRenderer(i,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new TV(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(i,n);o.use(a),this.scheduler??=this.injector.get(B7,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(i){this._engine?.flush(),this.delegate.componentReplaced?.(i)}static \u0275fac=function(n){lb()};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),TV=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n,r){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(t,i,n,r)),this.delegate.listen(t,i,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(F7e)}},L7e=new Nt("");function lne(e="animations"){return ob("NgAsyncAnimations"),rm([{provide:Ns,useFactory:(t,i,n)=>new O7e(t,i,n,e),deps:[Qi,Xg,Si]},{provide:br,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var N7e=["*",[["mat-toolbar-row"]]],B7e=["*","mat-toolbar-row"],V7e=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),cne=(()=>{class e{_elementRef=j(pi);_platform=j(ir);_document=j(Qi);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,r,o){if(n&1&&zn(o,V7e,5),n&2){let s;ui(s=hi())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){n&2&&(pr(r.color?"mat-"+r.color:""),yi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:B7e,decls:2,vars:0,template:function(n,r){n&1&&(In(N7e),Ui(0),Ui(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var LI=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var VI=["*"],H7e=["content"],U7e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],G7e=["mat-drawer","mat-drawer-content","*"];function W7e(e,t){if(e&1){let i=tn();Se(0,"div",1),Ot("click",function(){Gt(i);let r=lt();return Wt(r._onBackdropClicked())}),Pe()}if(e&2){let i=lt();yi("mat-drawer-shown",i._isShowingBackdrop())}}function j7e(e,t){e&1&&(Se(0,"mat-drawer-content"),Ui(1,2),Pe())}var q7e=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Y7e=["mat-sidenav","mat-sidenav-content","*"];function $7e(e,t){if(e&1){let i=tn();Se(0,"div",1),Ot("click",function(){Gt(i);let r=lt();return Wt(r._onBackdropClicked())}),Pe()}if(e&2){let i=lt();yi("mat-drawer-shown",i._isShowingBackdrop())}}function X7e(e,t){e&1&&(Se(0,"mat-sidenav-content"),Ui(1,2),Pe())}var K7e=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var Z7e=new Nt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Q7e}),kV=new Nt("MAT_DRAWER_CONTAINER");function Q7e(){return!1}var NI=(()=>{class e extends sp{_platform=j(ir);_changeDetectorRef=j(An);_container=j(RV);constructor(){let i=j(pi),n=j(op),r=j(Si);super(i,n,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:i,end:n}=this._container;return i!=null&&i.mode!=="over"&&i.opened||n!=null&&n.mode!=="over"&&n.opened}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(n,r){n&2&&(Vo("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),yi("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[Mn([{provide:sp,useExisting:e}]),Wn],ngContentSelectors:VI,decls:1,vars:0,template:function(n,r){n&1&&(In(),Ui(0))},encapsulation:2,changeDetection:0})}return e})(),AV=(()=>{class e{_elementRef=j(pi);_focusTrapFactory=j(R_);_focusMonitor=j(ka);_platform=j(ir);_ngZone=j(Si);_renderer=j(Ar);_interactivityChecker=j(A_);_doc=j(Qi,{optional:!0});_container=j(kV,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(i){i=i==="end"?"end":"start",i!==this._position&&(this._isAttached&&this._updatePositionInParent(i),this._position=i,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=ks(i)}_disableClose=!1;get autoFocus(){let i=this._autoFocus;return i??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(i){(i==="true"||i==="false"||i==null)&&(i=ks(i)),this._autoFocus=i}_autoFocus;get opened(){return this._opened}set opened(i){this.toggle(ks(i))}_opened=!1;_openedVia;_animationStarted=new Yt;_animationEnd=new Yt;openedChange=new et(!0);_openedStream=this.openedChange.pipe(Dr(i=>i),yn(()=>{}));openedStart=this._animationStarted.pipe(Dr(()=>this.opened),$3(void 0));_closedStream=this.openedChange.pipe(Dr(i=>!i),yn(()=>{}));closedStart=this._animationStarted.pipe(Dr(()=>!this.opened),$3(void 0));_destroyed=new Yt;onPositionChanged=new et;_content;_modeChanged=new Yt;_injector=j(Bn);_changeDetectorRef=j(An);constructor(){this.openedChange.pipe(kn(this._destroyed)).subscribe(i=>{i?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let i=this._elementRef.nativeElement;R7(i,"keydown").pipe(Dr(n=>n.keyCode===27&&!this.disableClose&&!xs(n)),kn(this._destroyed)).subscribe(n=>this._ngZone.run(()=>{this.close(),n.stopPropagation(),n.preventDefault()})),this._eventCleanups=[this._renderer.listen(i,"transitionrun",this._handleTransitionEvent),this._renderer.listen(i,"transitionend",this._handleTransitionEvent),this._renderer.listen(i,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),i.removeAttribute("tabindex")},o=this._renderer.listen(i,"blur",r),s=this._renderer.listen(i,"mousedown",r)})),i.focus(n)}_focusByCssSelector(i,n){let r=this._elementRef.nativeElement.querySelector(i);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;let i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ys(()=>{!this._focusTrap.focusInitialElement()&&typeof i.focus=="function"&&i.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(i){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let i=this._doc.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(i=>i()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,n){i&&n&&(this._openedVia=n);let r=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),r}_setOpen(i,n,r){return i===this._opened?Promise.resolve(i?"open":"close"):(this._opened=i,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",i),!i&&n&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ts(1)).subscribe(s=>o(s?"open":"close"))}))}_setIsAnimating(i){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",i)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(i){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,r=n.parentNode;i==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}_handleTransitionEvent=i=>{let n=this._elementRef.nativeElement;i.target===n&&this._ngZone.run(()=>{i.type==="transitionrun"?this._animationStarted.next(i):(i.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(i))})};static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(n&1&&ln(H7e,5),n&2){let o;ui(o=hi())&&(r._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){n&2&&(Mi("align",null)("tabIndex",r.mode!=="side"?"-1":null),Vo("visibility",!r._container&&!r.opened?"hidden":null),yi("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:VI,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(In(),Se(0,"div",1,0),Ui(2),Pe())},dependencies:[sp],encapsulation:2,changeDetection:0})}return e})(),RV=(()=>{class e{_dir=j(Ho,{optional:!0});_element=j(pi);_ngZone=j(Si);_changeDetectorRef=j(An);_animationMode=j(br,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Od;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=ks(i)}_autosize=j(Z7e);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(i){this._backdropOverride=i==null?null:ks(i)}_backdropOverride;backdropClick=new et;_start;_end;_left;_right;_destroyed=new Yt;_doCheckSubject=new Yt;_contentMargins={left:null,right:null};_contentMarginChanges=new Yt;get scrollable(){return this._userContent||this._content}_injector=j(Bn);constructor(){let i=j(ir),n=j(Jd);this._dir?.change.pipe(kn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),n.change().pipe(kn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&i.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Qr(this._allDrawers),kn(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Qr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(im(10),kn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")i+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();i+=r,n-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();n+=r,i-=r}}i=i||null,n=n||null,(i!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:i,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(kn(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),i.mode!=="side"&&i.openedChange.pipe(kn(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){i.onPositionChanged.pipe(kn(this._drawers.changes)).subscribe(()=>{ys({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(i){i._modeChanged.pipe(kn(es(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){let n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";i?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{i.position=="end"?(this._end!=null,this._end=i):(this._start!=null,this._start=i)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._drawerHasBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(i){return i!=null&&i.opened}_drawerHasBackdrop(i){return this._backdropOverride==null?!!i&&i.mode!=="side":this._backdropOverride}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,o){if(n&1&&(zn(o,NI,5),zn(o,AV,5)),n&2){let s;ui(s=hi())&&(r._content=s.first),ui(s=hi())&&(r._allDrawers=s)}},viewQuery:function(n,r){if(n&1&&ln(NI,5),n&2){let o;ui(o=hi())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Mn([{provide:kV,useExisting:e}])],ngContentSelectors:G7e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(In(U7e),Xt(0,W7e,1,2,"div",0),Ui(1),Ui(2,1),Xt(3,j7e,2,0,"mat-drawer-content")),n&2&&(Sn(r.hasBackdrop?0:-1),Fe(3),Sn(r._content?-1:3))},dependencies:[NI],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return e})(),BI=(()=>{class e extends NI{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[Mn([{provide:sp,useExisting:e}]),Wn],ngContentSelectors:VI,decls:1,vars:0,template:function(n,r){n&1&&(In(),Ui(0))},encapsulation:2,changeDetection:0})}return e})(),IV=(()=>{class e extends AV{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=ks(i)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=Ka(i)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=Ka(i)}_fixedBottomGap=0;static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(n,r){n&2&&(Mi("tabIndex",r.mode!=="side"?"-1":null)("align",null),Vo("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),yi("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Mn([{provide:AV,useExisting:e}]),Wn],ngContentSelectors:VI,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(In(),Se(0,"div",1,0),Ui(2),Pe())},dependencies:[sp],encapsulation:2,changeDetection:0})}return e})(),dne=(()=>{class e extends RV{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(n,r,o){if(n&1&&(zn(o,BI,5),zn(o,IV,5)),n&2){let s;ui(s=hi())&&(r._content=s.first),ui(s=hi())&&(r._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Mn([{provide:kV,useExisting:e},{provide:RV,useExisting:e}]),Wn],ngContentSelectors:Y7e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(In(q7e),Xt(0,$7e,1,2,"div",0),Ui(1),Ui(2,1),Xt(3,X7e,2,0,"mat-sidenav-content")),n&2&&(Sn(r.hasBackdrop?0:-1),Fe(3),Sn(r._content?-1:3))},dependencies:[BI],styles:[K7e],encapsulation:2,changeDetection:0})}return e})(),zI=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,Za,Za,ki]})}return e})();var HI=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var eze=["*"],tze=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,ize=["unscopedContent"],nze=["text"],rze=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],oze=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var sze=new Nt("ListOption"),aze=(()=>{class e{_elementRef=j(pi);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return e})(),lze=(()=>{class e{_elementRef=j(pi);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return e})(),cze=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return e})(),une=(()=>{class e{_listOption=j(sze,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,hostVars:4,hostBindings:function(n,r){n&2&&yi("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return e})(),dze=(()=>{class e extends une{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Wn]})}return e})(),uze=(()=>{class e extends une{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Wn]})}return e})(),hze=new Nt("MAT_LIST_CONFIG"),PV=(()=>{class e{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=ks(i)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=ks(i)}_disabled=!1;_defaultOptions=j(hze,{optional:!0});static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,hostVars:1,hostBindings:function(n,r){n&2&&Mi("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return e})(),fze=(()=>{class e{_elementRef=j(pi);_ngZone=j(Si);_listBase=j(PV,{optional:!0});_platform=j(ir);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(i){this._explicitLines=Ka(i,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(i){this._disableRipple=ks(i)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(i){this._disabled=ks(i)}_disabled=!1;_subscriptions=new Yr;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){j(Xr).load(Qa);let i=j($1,{optional:!0}),n=j(br,{optional:!0});this.rippleConfig=i||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=n==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new j0(this,this._ngZone,this._hostElement,this._platform,j(Bn)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(es(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(i){if(!this._lines||!this._titles||!this._unscopedContent)return;i&&this._checkDomForUnscopedTextContent();let n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",n===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",n===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&n===1;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let i=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(i+=1),i}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(i=>i.nodeType!==i.COMMENT_NODE).some(i=>!!(i.textContent&&i.textContent.trim()))}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,contentQueries:function(n,r,o){if(n&1&&(zn(o,dze,4),zn(o,uze,4)),n&2){let s;ui(s=hi())&&(r._avatars=s),ui(s=hi())&&(r._icons=s)}},hostVars:4,hostBindings:function(n,r){n&2&&(Mi("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),yi("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return e})();var hne=(()=>{class e extends fze{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(i){this._activated=ks(i)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,o){if(n&1&&(zn(o,lze,5),zn(o,aze,5),zn(o,cze,5)),n&2){let s;ui(s=hi())&&(r._lines=s),ui(s=hi())&&(r._titles=s),ui(s=hi())&&(r._meta=s)}},viewQuery:function(n,r){if(n&1&&(ln(ize,5),ln(nze,5)),n&2){let o;ui(o=hi())&&(r._unscopedContent=o.first),ui(o=hi())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(n,r){n&2&&(Mi("aria-current",r._getAriaCurrent()),yi("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Wn],ngContentSelectors:oze,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(n,r){if(n&1){let o=tn();In(rze),Ui(0),Se(1,"span",1),Ui(2,1),Ui(3,2),Se(4,"span",2,0),Ot("cdkObserveContent",function(){return Gt(o),Wt(r._updateItemLines(!0))}),Ui(6,3),Pe()(),Ui(7,4),Ui(8,5),Dt(9,"div",3)}},dependencies:[cX],encapsulation:2,changeDetection:0})}return e})();var fne=(()=>{class e extends PV{_isNonInteractive=!1;static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Mn([{provide:PV,useExisting:e}]),Wn],ngContentSelectors:eze,decls:1,vars:0,template:function(n,r){n&1&&(In(),Ui(0))},styles:[tze],encapsulation:2,changeDetection:0})}return e})();var UI=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[T_,ki,Cl,Y0,HI]})}return e})();var GI;function mze(){if(GI===void 0&&(GI=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(GI=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return GI}function WS(e){return mze()?.createHTML(e)||e}function pne(e){return Error(`Unable to find icon with the name "${e}"`)}function gze(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function mne(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function gne(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Yp=class{url;svgText;options;svgElement;constructor(t,i,n){this.url=t,this.svgText=i,this.options=n}},bne=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(i,n,r,o){this._httpClient=i,this._sanitizer=n,this._errorHandler=o,this._document=r}addSvgIcon(i,n,r){return this.addSvgIconInNamespace("",i,n,r)}addSvgIconLiteral(i,n,r){return this.addSvgIconLiteralInNamespace("",i,n,r)}addSvgIconInNamespace(i,n,r,o){return this._addSvgIconConfig(i,n,new Yp(r,null,o))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,r,o){let s=this._sanitizer.sanitize(ic.HTML,r);if(!s)throw gne(r);let a=WS(s);return this._addSvgIconConfig(i,n,new Yp("",a,o))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,r){return this._addSvgIconSetConfig(i,new Yp(n,null,r))}addSvgIconSetLiteralInNamespace(i,n,r){let o=this._sanitizer.sanitize(ic.HTML,n);if(!o)throw gne(n);let s=WS(o);return this._addSvgIconSetConfig(i,new Yp("",s,r))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let n=this._sanitizer.sanitize(ic.RESOURCE_URL,i);if(!n)throw mne(i);let r=this._cachedIconsByUrl.get(n);return r?Xi(WI(r)):this._loadSvgIconFromConfig(new Yp(i,null)).pipe(_s(o=>this._cachedIconsByUrl.set(n,o)),yn(o=>WI(o)))}getNamedSvgIcon(i,n=""){let r=vne(n,i),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,i),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(i,s):Ef(pne(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Xi(WI(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(yn(n=>WI(n)))}_getSvgFromIconSetConfigs(i,n){let r=this._extractIconWithNameFromAnySet(i,n);if(r)return Xi(r);let o=n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(rd(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(ic.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Xi(null)})));return F2(o).pipe(yn(()=>{let s=this._extractIconWithNameFromAnySet(i,n);if(!s)throw pne(i);return s}))}_extractIconWithNameFromAnySet(i,n){for(let r=n.length-1;r>=0;r--){let o=n[r];if(o.svgText&&o.svgText.toString().indexOf(i)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,i,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(_s(n=>i.svgText=n),yn(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Xi(null):this._fetchIcon(i).pipe(_s(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,r){let o=i.querySelector(`[id="${n}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(WS("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(i){let n=this._document.createElement("DIV");n.innerHTML=i;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(i){let n=this._svgElementFromString(WS("<svg></svg>")),r=i.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&n.setAttribute(s,a)}for(let o=0;o<i.childNodes.length;o++)i.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){let{url:n,options:r}=i,o=r?.withCredentials??!1;if(!this._httpClient)throw gze();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let s=this._sanitizer.sanitize(ic.RESOURCE_URL,n);if(!s)throw mne(n);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(yn(c=>WS(c)),Af(()=>this._inProgressUrlFetches.delete(s)),F7());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(i,n,r){return this._svgIconConfigs.set(vne(i,n),r),this}_addSvgIconSetConfig(i,n){let r=this._iconSetConfigs.get(i);return r?r.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){let n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](n,i);if(o)return vze(o)?new Yp(o.url,null,o.options):new Yp(o,null)}}static \u0275fac=function(n){return new(n||e)(ji(cm,8),ji(Ww),ji(Qi,8),ji(om))};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function WI(e){return e.cloneNode(!0)}function vne(e,t){return e+":"+t}function vze(e){return!!(e.url&&e.options)}var bze=["*"],_ze=new Nt("MAT_ICON_DEFAULT_OPTIONS"),yze=new Nt("mat-icon-location",{providedIn:"root",factory:wze});function wze(){let e=j(Qi),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var _ne=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Cze=_ne.map(e=>`[${e}]`).join(", "),xze=/^url\(['"]?#(.*?)['"]?\)$/,jI=(()=>{class e{_elementRef=j(pi);_iconRegistry=j(bne);_location=j(yze);_errorHandler=j(om);_defaultColor;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(i){let n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(i){let n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Yr.EMPTY;constructor(){let i=j(new Fd("aria-hidden"),{optional:!0}),n=j(_ze,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),i||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=i.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>i.classList.remove(r)),n.forEach(r=>i.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${i}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(i){let n=i.querySelectorAll(Cze),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)_ne.forEach(s=>{let a=n[o],l=a.getAttribute(s),c=l?l.match(xze):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[n,r]=this._splitIconName(i);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(ts(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${n}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(Mi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),pr(r.color?"mat-"+r.color:""),yi("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Xe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:bze,decls:1,vars:0,template:function(n,r){n&1&&(In(),Ui(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return e})(),Ig=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var Mze=["mat-menu-item",""],Eze=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Dze=["mat-icon, [matMenuItemIcon]","*"];function Tze(e,t){e&1&&(Fr(),Se(0,"svg",2),Dt(1,"polygon",3),Pe())}var Aze=["*"];function Rze(e,t){if(e&1){let i=tn();Se(0,"div",0),Ot("click",function(){Gt(i);let r=lt();return Wt(r.closed.emit("click"))})("animationstart",function(r){Gt(i);let o=lt();return Wt(o._onAnimationStart(r.animationName))})("animationend",function(r){Gt(i);let o=lt();return Wt(o._onAnimationDone(r.animationName))})("animationcancel",function(r){Gt(i);let o=lt();return Wt(o._onAnimationDone(r.animationName))}),Se(1,"div",1),Ui(2),Pe()()}if(e&2){let i=lt();pr(i._classList),yi("mat-menu-panel-animations-disabled",i._animationsDisabled)("mat-menu-panel-exit-animation",i._panelAnimationState==="void")("mat-menu-panel-animating",i._isAnimating),Ze("id",i.panelId),Mi("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var LV=new Nt("MAT_MENU_PANEL"),OV=(()=>{class e{_elementRef=j(pi);_document=j(Qi);_focusMonitor=j(ka);_parentMenu=j(LV,{optional:!0});_changeDetectorRef=j(An);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Yt;_focused=new Yt;_highlighted=!1;_triggersSubmenu=!1;constructor(){j(Xr).load(Qa),this._parentMenu?.addItem?.(this)}focus(i,n){this._focusMonitor&&i?this._focusMonitor.focusVia(this._getHostElement(),i,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(i){this.disabled&&(i.preventDefault(),i.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let i=this._elementRef.nativeElement.cloneNode(!0),n=i.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return i.textContent?.trim()||""}_setHighlighted(i){this._highlighted=i,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(i){this._triggersSubmenu=i,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(n,r){n&1&&Ot("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),n&2&&(Mi("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),yi("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Xe],disableRipple:[2,"disableRipple","disableRipple",Xe]},exportAs:["matMenuItem"],attrs:Mze,ngContentSelectors:Dze,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){n&1&&(In(Eze),Ui(0),Se(1,"span",0),Ui(2,1),Pe(),Dt(3,"div",1),Xt(4,Tze,2,0,":svg:svg",2)),n&2&&(Fe(3),Ze("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Fe(),Sn(r._triggersSubmenu?4:-1))},dependencies:[iu],encapsulation:2,changeDetection:0})}return e})();var kze=new Nt("MatMenuContent");var Ize=new Nt("mat-menu-default-options",{providedIn:"root",factory:Pze});function Pze(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var FV="_mat-menu-enter",qI="_mat-menu-exit",$y=(()=>{class e{_elementRef=j(pi);_changeDetectorRef=j(An);_injector=j(Bn);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Od;_classList={};_panelAnimationState="void";_animationDone=new Yt;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(i){this._xPosition=i,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(i){this._yPosition=i,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(i){let n=this._previousPanelClass,r=Ie({},this._classList);n&&n.length&&n.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=i,i&&i.length&&(i.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(i){this.panelClass=i}closed=new et;close=this.closed;panelId=j(oo).getId("mat-menu-panel-");constructor(){let i=j(Ize);this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop,this._animationsDisabled=j(br,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new z0(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Qr(this._directDescendantItems),bs(i=>es(...i.map(n=>n._focused)))).subscribe(i=>this._keyManager.updateActiveItem(i)),this._directDescendantItems.changes.subscribe(i=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let r=i.toArray(),o=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[o]&&!r[o].disabled?n.setActiveItem(o):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Qr(this._directDescendantItems),bs(n=>es(...n.map(r=>r._hovered))))}addItem(i){}removeItem(i){}_handleKeydown(i){let n=i.keyCode,r=this._keyManager;switch(n){case 27:xs(i)||(i.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(i);return}}focusFirstItem(i="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ys(()=>{let n=this._resolvePanel();if(!n||!n.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(i).setFirstItemActive(),!r.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(i){}setPositionClasses(i=this.xPosition,n=this.yPosition){this._classList=Zt(Ie({},this._classList),{"mat-menu-before":i==="before","mat-menu-after":i==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(i){let n=i===qI;(n||i===FV)&&(n&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(n?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(i){(i===FV||i===qI)&&(this._isAnimating=!0)}_setIsOpen(i){if(this._panelAnimationState=i?"enter":"void",i){if(this._keyManager.activeItemIndex===0){let n=this._resolvePanel();n&&(n.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(qI),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(i?FV:qI)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Qr(this._allItems)).subscribe(i=>{this._directDescendantItems.reset(i.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let i=null;return this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),i}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-menu"]],contentQueries:function(n,r,o){if(n&1&&(zn(o,kze,5),zn(o,OV,5),zn(o,OV,4)),n&2){let s;ui(s=hi())&&(r.lazyContent=s.first),ui(s=hi())&&(r._allItems=s),ui(s=hi())&&(r.items=s)}},viewQuery:function(n,r){if(n&1&&ln(da,5),n&2){let o;ui(o=hi())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(n,r){n&2&&Mi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Xe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",i=>i==null?null:Xe(i)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Mn([{provide:LV,useExisting:e}])],ngContentSelectors:Aze,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(n,r){n&1&&(In(),Xt(0,Rze,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return e})(),yne=new Nt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.reposition()}});function Fze(e){return()=>e.scrollStrategies.reposition()}var Oze={provide:yne,deps:[Ao],useFactory:Fze},Lze={passive:!0};var jS=new WeakMap,YI=(()=>{class e{_overlay=j(Ao);_element=j(pi);_viewContainerRef=j(Bo);_menuItemInstance=j(OV,{optional:!0,self:!0});_dir=j(Ho,{optional:!0});_focusMonitor=j(ka);_ngZone=j(Si);_scrollStrategy=j(yne);_changeDetectorRef=j(An);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Yr.EMPTY;_hoverSubscription=Yr.EMPTY;_menuCloseSubscription=Yr.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(i){this.menu=i}get menu(){return this._menu}set menu(i){i!==this._menu&&(this._menu=i,this._menuCloseSubscription.unsubscribe(),i&&(this._parentMaterialMenu,this._menuCloseSubscription=i.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new et;onMenuOpen=this.menuOpened;menuClosed=new et;onMenuClose=this.menuClosed;constructor(){let i=j(LV,{optional:!0}),n=j(Ar);this._parentMaterialMenu=i instanceof $y?i:void 0,this._cleanupTouchstart=ro(n,this._element.nativeElement,"touchstart",r=>{np(r)||(this._openedBy="touch")},Lze)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&jS.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let i=this.menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();let n=jS.get(i);jS.set(i,this),n&&n!==this&&n.closeMenu();let r=this._createOverlay(i),o=r.getConfig(),s=o.positionStrategy;this._setPosition(i,s),o.hasBackdrop=i.hasBackdrop==null?!this.triggersSubmenu():i.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),i.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof $y&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe(kn(i.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(i,n){this._focusMonitor&&i?this._focusMonitor.focusVia(this._element,i,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(i){let n=this._overlayRef,r=this._menu;!n||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof $y&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(ts(1)).subscribe(()=>{n.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(n.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&jS.delete(r),this.restoreFocus&&(i==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(i){i!==this._menuOpen&&(this._menuOpen=i,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(i),this._changeDetectorRef.markForCheck())}_createOverlay(i){if(!this._overlayRef){let n=this._getOverlayConfig(i);this._subscribeToPositions(i,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof $y&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(i){return new Hu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:i.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:i.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(i,n){i.setPositionClasses&&n.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";i.setPositionClasses(o,s)})})}_setPosition(i,n){let[r,o]=i.xPosition==="before"?["end","start"]:["start","end"],[s,a]=i.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[d,u]=[r,o],h=0;if(this.triggersSubmenu()){if(u=r=i.xPosition==="before"?"start":"end",o=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}h=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else i.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");n.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:r,originY:c,overlayX:d,overlayY:a,offsetY:-h},{originX:o,originY:c,overlayX:u,overlayY:a,offsetY:-h}])}_menuClosingActions(){let i=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Xi(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Dr(s=>this._menuOpen&&s!==this._menuItemInstance)):Xi();return es(i,r,o,n)}_handleMousedown(i){ip(i)||(this._openedBy=i.button===0?"mouse":void 0,this.triggersSubmenu()&&i.preventDefault())}_handleKeydown(i){let n=i.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(i){this.triggersSubmenu()?(i.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(i=>{i===this._menuItemInstance&&!i.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(i){return(!this._portal||this._portal.templateRef!==i.templateRef)&&(this._portal=new Rc(i.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(i){return jS.get(i)===this}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){n&1&&Ot("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),n&2&&Mi("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return e})(),$I=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[Oze],imports:[Cl,ki,wl,Za,ki]})}return e})(),wne={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},ivt=wne.fadeInItems,nvt=wne.transformMenu;var Bze=["search_model"],Vze=["menuTrigger"],zze=e=>[e];function Hze(e,t){if(e&1){let i=tn();Se(0,"mat-list-item",6),Ot("click",function(){let r=Gt(i).$implicit,o=lt();return Wt(o.onMenuItemClick(r.label))}),Se(1,"div",7)(2,"span")(3,"i",8),Dt(4,"img",9)(5,"img",10),Pe()(),Se(6,"span",11),Lt(7),Pe()()()}if(e&2){let i=t.$implicit;Fe(),oz("title",i.label),Ze("routerLink",If(7,zze,i.route)),Fe(3),sP("src","assets/menu-icons/",i.icon,"",ab),Fe(),sP("src","assets/menu-icons/hover/",i.icon,"",ab),Fe(2),jn(i.label)}}function Uze(e,t){e&1&&(Se(0,"div",12)(1,"div",13)(2,"h4",14)(3,"button",15)(4,"span",16),Lt(5,"\xD7"),Pe()()()(),Se(6,"div",17)(7,"div",18)(8,"div",19),Dt(9,"input",20),Pe(),Se(10,"div",21)(11,"button",22)(12,"div",23)(13,"div",24),Dt(14,"img",25),Pe()(),Se(15,"div",26),Lt(16,' Order Detail Analysis from 1-Jan-2023 to 16-Jun-2025 of "Auto Motors Co. HCV" '),Pe()(),Se(17,"button",22)(18,"div",23)(19,"div",24),Dt(20,"img",25),Pe()(),Se(21,"div",26),Lt(22," Show me the average Cost "),Pe()(),Se(23,"button",22)(24,"div",23)(25,"div",24),Dt(26,"img",25),Pe()(),Se(27,"div",26),Lt(28," Compare Cost Of Quarter 1 & Quarter 2, 2024 "),Pe()()()()()())}var Gze,Pg=class e{constructor(t,i,n,r){this.dialog=t;this._router=i;this.datashare=n;this.app=r}search_model;trigger;menuTrigger;menu=[];activeIndex=-1;positionSubM="below";isMobile=!1;pos="listMenu_new";lastActiveRoute="Dashboard";isExpanded=!1;menuItems=[{icon:"dashboard.svg",label:"Dashboard",route:"/dashboard"},{icon:"table.svg",label:"AG GRID",route:"/ag-grid"},{icon:"login.svg",label:"Login",route:"/login"},{icon:"three-icon.svg",label:"3D File view",route:"/3d-viewer"}];chatHistory=[{icon:"description",label:'Order Detail Analysis from 1-Jan-2023 to 16-Jun-2025 of "Auto Motors Co. HCV"',route:""},{icon:"description",label:"Top 5 Selling Parts",route:""},{icon:"description",label:"Compare Cost Of Quarter 1 & Quarter 2, 2024",route:""}];menuRef=[];bottomMenuItems=[{icon:"help.svg",label:"Help",route:"/",sub_menu:[{label:"Product Updates",icon:"product.svg",route:"/"},{label:"FAQs",icon:"faq.svg",route:"/"},{label:"Terms & Conditions",icon:"term.svg",route:"/"}]},{icon:"setting.svg",label:"Settings",route:"/",sub_menu:[]},{icon:"trash.svg",label:"Clear conversations",route:"/",sub_menu:[]},{icon:"logout.svg",label:"Log out",route:"/",sub_menu:[]}];isMiniBar=!1;recheckIfInMenu;toggle_head(){this.trigger.openMenu()}toggle(){localStorage.getItem("expand")=="yes"&&(this.isExpanded=!0,localStorage.removeItem("expand")),this.isExpanded=!this.isExpanded,this.datashare.side_menu.next(this.isExpanded),this.app.check_view()}ngDoCheck(){this.isMiniBar=!1,this.isExpanded==!0&&(this.isMiniBar=!0)}onResize(t){this.ResizeHC()}ResizeHC(){window.innerWidth<769&&setTimeout(()=>{this.isExpanded=!0},200)}showSubmenu(t){t.classList.toggle("showMenu")}ngOnInit(){Gze=this,this.datashare.side_menu.subscribe(t=>{t==null&&(t=!1),this.isExpanded=t})}listClick(t,i){this.isExpanded==!1&&this.toggle(),this.isExpanded==!0?localStorage.setItem("expand","yes"):localStorage.setItem("expand","no")}hide_sub(){$("#nav-links").find(".showMenu").removeClass("showMenu")}show_search(t){this.dialog.open(t,{panelClass:["mat_pop"],width:"600px",maxWidth:"90vw",disableClose:!0}).afterOpened().subscribe(()=>{setTimeout(()=>{})})}onMenuItemClick(t){t=="Search Chat"&&this.show_search(this.search_model)}static \u0275fac=function(i){return new(i||e)(ri(kc),ri(Ua),ri(kg),ri(ff))};static \u0275cmp=ti({type:e,selectors:[["app-sidemenu"]],viewQuery:function(i,n){if(i&1&&(ln(Bze,5),ln(YI,5),ln(Vze,5)),i&2){let r;ui(r=hi())&&(n.search_model=r.first),ui(r=hi())&&(n.trigger=r.first),ui(r=hi())&&(n.menuTrigger=r.first)}},hostBindings:function(i,n){i&1&&Ot("resize",function(o){return n.onResize(o)},!1,am)},inputs:{menu:"menu"},standalone:!1,decls:8,vars:3,consts:[["search_model",""],[2,"overflow","auto"],[1,"sidebar"],[1,"sidenav-content"],[1,"menu-section"],["class","menu-item cursor_hover",3,"click",4,"ngFor","ngForOf"],[1,"menu-item","cursor_hover",3,"click"],["routerLinkActive","active",1,"con_txt",3,"title","routerLink"],[1,"side-icon"],["width","24","id","menu-icon",1,"black_micon",3,"src"],["width","24","id","menu-icon",1,"red_micon",3,"src"],[1,"con_text"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container"],["cdkDragHandle","",1,"mat-header","justify-content-between"],[2,"border","none !important"],["type","button","mat-dialog-close","",1,"close","pull-right"],["aria-hidden","true"],[1,"search_view"],[1,"chat-container"],[1,"search-header"],["type","text","placeholder","Search Chat","autocomplete","off",1,"search-input"],[1,"suggestions-container"],["tabindex","0",1,"suggestion-item"],[1,"suggestion-icon"],[1,"chat-icon"],["src","assets/images/message.svg"],[1,"suggestion-text"]],template:function(i,n){i&1&&(is(0,1),Se(1,"div",2)(2,"div",3)(3,"div",4)(4,"mat-nav-list"),Xt(5,Hze,8,9,"mat-list-item",5),Pe()()()(),ns(),Xt(6,Uze,29,0,"ng-template",null,0,od)),i&2&&(Fe(),yi("sidebar-close",n.isExpanded),Fe(4),Ze("ngForOf",n.menuItems))},dependencies:[gh,U0,fne,hne,L_,O_,Mb,sF],styles:['.sidebar[_ngcontent-%COMP%]{position:relative;box-shadow:#0000003d 0 3px 8px;height:100%;width:200px;transition:all .5s ease}.sidebar[_ngcontent-%COMP%]   .chat_sub[_ngcontent-%COMP%]{display:block}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:9px}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffffb5;border-radius:20px;border:1px solid #fff}@media only screen and (min-width: 767px){.sidebar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:root{scrollbar-width:thin;scrollbar-color:var(--anchor-hover-color) transparent!important}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.71) transparent}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-webkit-scrollbar{width:9px;height:9px}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0000003d!important;border-radius:20px;border:1px solid #fff}}@media only screen and (min-width: 767px){.sidebar-close[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{width:110px!important;scrollbar-color:transparent transparent!important;scrollbar-width:thin!important;transition:all .5s ease;-webkit-transition:all .5s ease}.sidebar-close[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]:hover{transition:all .5s ease;-webkit-transition:all .5s ease;width:100px!important;scrollbar-color:rgba(255,255,255,.71) transparent!important}}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .active.showMenu[_ngcontent-%COMP%]   .dropdown-title[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.sidebar-close[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .active.showMenu[_ngcontent-%COMP%]   .dropdown-title[_ngcontent-%COMP%]{border-bottom:none}.sidebar.sidebar-close[_ngcontent-%COMP%] ~ .home-section[_ngcontent-%COMP%]{left:60px;width:calc(100% - 60px)}@media (max-width: 420px){.sidebar.sidebar-close[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{display:none}}.sidebar[_ngcontent-%COMP%]{background-color:#fff!important;border-right:1px solid #e0e0e0;transition:width .3s ease;overflow-y:auto;overflow-x:hidden}.sidebar[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]{border-top:1px solid #ccc}.sidebar[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 16px;font-size:14px;font-weight:500;color:#666;margin-bottom:8px}.sidebar[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;width:18px;height:18px}.sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .chat-history-item[_ngcontent-%COMP%]{min-height:40px;cursor:pointer;border-bottom:1px solid none;border-radius:0;margin:-4px 0;transition:background-color .2s ease}.sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .chat-history-item[_ngcontent-%COMP%]:hover{background-color:#0000000a}.sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .chat-history-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:20px;width:20px;height:20px}.sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .chat-history-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#000;transition:opacity .3s ease}.sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   span.hidden[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .chat-history-item[_ngcontent-%COMP%]   span.hidden[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden}.sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .chat-history-item[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{white-space:normal;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:1.4;max-height:2.8em}.sidebar[_ngcontent-%COMP%]   .bottom-menu[_ngcontent-%COMP%]{margin-top:auto;border-top:1px solid #e0e0e0}.sidebar[_ngcontent-%COMP%]   .bottom-menu[_ngcontent-%COMP%]   .intelli-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:16px}.sidebar[_ngcontent-%COMP%]   .bottom-menu[_ngcontent-%COMP%]   .intelli-footer[_ngcontent-%COMP%]   .agent-icon-large[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(45deg,#4facfe,#00f2fe);border-radius:50%;margin-right:12px;position:relative}.sidebar[_ngcontent-%COMP%]   .bottom-menu[_ngcontent-%COMP%]   .intelli-footer[_ngcontent-%COMP%]   .agent-icon-large[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;background:#fff;border-radius:50%}.sidebar[_ngcontent-%COMP%]   .bottom-menu[_ngcontent-%COMP%]   .intelli-footer[_ngcontent-%COMP%]   .agent-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333}.sidebar[_ngcontent-%COMP%]   .chat_txt[_ngcontent-%COMP%]{margin-left:10px;color:#000;font-size:14px}.con_txt[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;color:#000}.con_txt[_ngcontent-%COMP%]   .con_text[_ngcontent-%COMP%]{margin-left:10px;width:140px}.black_micon[_ngcontent-%COMP%]{display:block}.red_micon[_ngcontent-%COMP%]{display:none}.fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(270deg)}.submenu[_ngcontent-%COMP%]{position:fixed;bottom:50px;left:230px;width:200px;background-color:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;opacity:0;visibility:hidden;transform:translate(-10px);transition:all .3s ease;z-index:1000;border:1px solid #e0e0e0}.menu-item[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translate(0)}.submenu-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.submenu-item[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;transition:background-color .2s ease;border-bottom:1px solid #f0f0f0;display:flex;align-items:center}.submenu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.submenu-item[_ngcontent-%COMP%]:hover{background-color:#f0f7ff;color:#1976d2}.submenu-icon[_ngcontent-%COMP%]{margin-right:12px;width:18px;text-align:center;color:#666}.submenu-text[_ngcontent-%COMP%]{font-size:14px}a[_ngcontent-%COMP%]{text-decoration:none!important}.sidebar-close[_ngcontent-%COMP%]{width:100px!important}.sidebar-close[_ngcontent-%COMP%]   .chat_sub[_ngcontent-%COMP%]{display:none}.sidebar-close[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{left:70px}.sidebar-close[_ngcontent-%COMP%]   .con_text[_ngcontent-%COMP%], .sidebar-close[_ngcontent-%COMP%]   .chat_txt[_ngcontent-%COMP%]{display:none}.sidebar-close[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{display:none!important}@media (min-width: 500px){.sidebar-close[_ngcontent-%COMP%]{width:68px!important}}@media (max-width: 500px){.sidebar-close[_ngcontent-%COMP%], .sidebar-close[_ngcontent-%COMP%]   .searchHide[_ngcontent-%COMP%]{width:0px!important}}.sidebar-close[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{text-align:center}.subm_text[_ngcontent-%COMP%]{margin-left:15px}.search_view[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]{max-width:800px;margin:-30px auto 0;background:#fff;overflow:hidden}.search_view[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.search_view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #d1d5db;border-radius:8px;font-size:13px;color:#9ca3af;background-color:#f9fafb;outline:none;transition:all .2s ease}.search_view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background-color:#fff;color:#111827}.search_view[_ngcontent-%COMP%]   .suggestions-container[_ngcontent-%COMP%]{padding:8px 0}.search_view[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:9px 24px;cursor:pointer;transition:background-color .15s ease;border:none;background:none;width:100%;text-align:left;font-size:13px;color:#374151;line-height:1.5}.search_view[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.search_view[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:active{background-color:#e5e7eb}.search_view[_ngcontent-%COMP%]   .suggestion-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:12px;flex-shrink:0;display:flex;align-items:center;justify-content:center}.search_view[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{flex:1;font-weight:400}.search_view[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:first-of-type   .suggestion-text[_ngcontent-%COMP%]{font-weight:500;font-size:13px}@media (max-width: 640px){.search_view[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{padding:10px}.search_view[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{padding:20px 16px 12px}.search_view[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{padding:14px 16px;font-size:14px}.search_view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{font-size:16px}}.search_view[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:focus{outline-offset:-2px;background-color:#f3f4f6}.search_view[_ngcontent-%COMP%]   .suggestions-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.search_view[_ngcontent-%COMP%]   .search_view[_ngcontent-%COMP%]:focus{outline:none!important}.active[_ngcontent-%COMP%]   .black_micon[_ngcontent-%COMP%]{display:none!important}.active[_ngcontent-%COMP%]   .red_micon[_ngcontent-%COMP%]{display:block!important}.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--brand-bg)!important}']})};var jze=["mat-internal-form-field",""],qze=["*"],Xy=(()=>{class e{labelPosition;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:jze,ngContentSelectors:qze,decls:1,vars:0,template:function(n,r){n&1&&(In(),Ui(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return e})();var Yze=["input"],$ze=["formField"],Xze=["*"],XI=class{source;value;constructor(t,i){this.source=t,this.value=i}},Kze={provide:gd,useExisting:qs(()=>NV),multi:!0},Cne=new Nt("MatRadioGroup"),Zze=new Nt("mat-radio-default-options",{providedIn:"root",factory:Qze});function Qze(){return{color:"accent",disabledInteractive:!1}}var NV=(()=>{class e{_changeDetector=j(An);_value=null;_name=j(oo).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new et;_radios;color;get name(){return this._name}set name(i){this._name=i,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(i){this._labelPosition=i==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(i){this._value!==i&&(this._value=i,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(i){this._selected=i,this.value=i?i.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._markRadiosForCheck()}get required(){return this._required}set required(i){this._required=i,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(i){this._disabledInteractive=i,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(i=>i===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(i=>{i.name=this.name,i._markForCheck()})}_updateSelectedRadioFromValue(){let i=this._selected!==null&&this._selected.value===this._value;this._radios&&!i&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new XI(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(i=>i._markForCheck())}writeValue(i){this.value=i,this._changeDetector.markForCheck()}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetector.markForCheck()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["mat-radio-group"]],contentQueries:function(n,r,o){if(n&1&&zn(o,KI,5),n&2){let s;ui(s=hi())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",Xe],required:[2,"required","required",Xe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Mn([Kze,{provide:Cne,useExisting:e}])]})}return e})(),KI=(()=>{class e{_elementRef=j(pi);_changeDetector=j(An);_focusMonitor=j(ka);_radioDispatcher=j(W4);_defaultOptions=j(Zze,{optional:!0});_ngZone=j(Si);_renderer=j(Ar);_uniqueId=j(oo).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(i){this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(i){this._value!==i&&(this._value=i,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===i),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(i){this._labelPosition=i}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(i){this._setDisabled(i)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(i){i!==this._required&&this._changeDetector.markForCheck(),this._required=i}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(i){this._color=i}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(i){this._disabledInteractive=i}_disabledInteractive;change=new et;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=j(Bn);constructor(){j(Xr).load(Qa);let i=j(Cne,{optional:!0}),n=j(br,{optional:!0}),r=j(new Fd("tabindex"),{optional:!0});this.radioGroup=i,this._noopAnimations=n==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=Ys(r,0))}focus(i,n){n?this._focusMonitor.focusVia(this._inputElement,n,i):this._inputElement.nativeElement.focus(i)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((i,n)=>{i!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{!i&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new XI(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(i){if(i.stopPropagation(),!this.checked&&!this.disabled){let n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(i){this._onInputInteraction(i),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(i){this._disabled!==i&&(this._disabled=i,this._changeDetector.markForCheck())}_onInputClick=i=>{this.disabled&&this.disabledInteractive&&i.preventDefault()};_updateTabIndex(){let i=this.radioGroup,n;if(!i||!i.selected||this.disabled?n=this.tabIndex:n=i.selected===this?this.tabIndex:-1,n!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n,ys(()=>{queueMicrotask(()=>{i&&i.selected&&i.selected!==this&&document.activeElement===r&&(i.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(n&1&&(ln(Yze,5),ln($ze,7,pi)),n&2){let o;ui(o=hi())&&(r._inputElement=o.first),ui(o=hi())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(n,r){n&1&&Ot("focus",function(){return r._inputElement.nativeElement.focus()}),n&2&&(Mi("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),yi("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",Xe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Ys(i)],checked:[2,"checked","checked",Xe],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",Xe],required:[2,"required","required",Xe],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:Xze,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let o=tn();In(),Se(0,"div",2,0)(2,"div",3)(3,"div",4),Ot("click",function(a){return Gt(o),Wt(r._onTouchTargetClick(a))}),Pe(),Se(4,"input",5,1),Ot("change",function(a){return Gt(o),Wt(r._onInputInteraction(a))}),Pe(),Se(6,"div",6),Dt(7,"div",7)(8,"div",8),Pe(),Se(9,"div",9),Dt(10,"div",10),Pe()(),Se(11,"label",11),Ui(12),Pe()()}n&2&&(Ze("labelPosition",r.labelPosition),Fe(2),yi("mdc-radio--disabled",r.disabled),Fe(2),Ze("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Mi("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),Fe(5),Ze("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),Fe(2),Ze("for",r.inputId))},dependencies:[iu,Xy],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return e})(),xne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,Cl,KI,ki]})}return e})();var eHe=e=>({"margin-left":e}),tHe=e=>({transform:e});function iHe(e,t){e&1&&Dt(0,"img",17)}function nHe(e,t){e&1&&(Se(0,"span",18),Fr(),Se(1,"svg",19)(2,"g",20)(3,"g",21)(4,"g",22)(5,"linearGradient",23),Dt(6,"stop",24)(7,"stop",25)(8,"stop",26),Pe(),Dt(9,"path",27),Se(10,"linearGradient",28),Dt(11,"stop",29)(12,"stop",30),Pe(),Dt(13,"path",31),Pe(),Se(14,"g",32),Dt(15,"path",33)(16,"polygon",34)(17,"polygon",35)(18,"polygon",36)(19,"path",37)(20,"polygon",38)(21,"path",39)(22,"polygon",40)(23,"polygon",41)(24,"polygon",42)(25,"path",43)(26,"polygon",44)(27,"polygon",45)(28,"polygon",46)(29,"path",47),Pe(),Se(30,"g",48),Dt(31,"path",49)(32,"polygon",50)(33,"polygon",51)(34,"polygon",52)(35,"path",53)(36,"polygon",54)(37,"path",55)(38,"polygon",56)(39,"polygon",57)(40,"polygon",58)(41,"path",59)(42,"polygon",60)(43,"polygon",61)(44,"polygon",62)(45,"path",63),Pe(),Se(46,"g",64)(47,"linearGradient",65),Dt(48,"stop",66)(49,"stop",67)(50,"stop",68),Pe(),Dt(51,"path",69),Se(52,"linearGradient",70),Dt(53,"stop",71)(54,"stop",72),Pe(),Dt(55,"path",73),Pe()()()()())}var ZI=class e{constructor(t,i,n,r){this.app=t;this.toggle=i;this.side_menu=n;this.datashare=r}header_side=!1;isExpand_txt=!1;selectedValue="blue";onSelectionChange(t){this.app.updateTheme(t.value)}toggle_head(){this.side_menu.toggle(),this.datashare.side_menu.subscribe(t=>{t==null&&(t=!1),this.isExpand_txt=t})}static \u0275fac=function(i){return new(i||e)(ri(ff),ri(ff),ri(Pg),ri(kg))};static \u0275cmp=ti({type:e,selectors:[["app-header"]],standalone:!1,features:[Mn([Pg])],decls:27,vars:10,consts:[["menu","matMenu"],[1,"app-header",2,"position","relative !important","height","60px !important"],[1,"header-logo"],["src","assets/logo/logo.svg","width","80",4,"ngIf"],["style","position: relative;top: 10px; left: -24px;",4,"ngIf"],["title","Click to Toggle",1,"menu-toggle",3,"click","ngStyle"],[1,"icon_toggle",3,"ngStyle"],[1,"spacer"],[1,"mat-icon","float-end","me-3",3,"matMenuTriggerFor"],[3,"ngModelChange","change","click","ngModel"],["value","red",1,"menu-radio",3,"click"],["value","blue",1,"menu-radio",3,"click"],["value","green",1,"menu-radio",3,"click"],[1,"header-actions"],[1,"icon_user"],[1,"welcome-text"],[1,"icon_setting"],["src","assets/logo/logo.svg","width","80"],[2,"position","relative","top","10px","left","-24px"],["width","80px","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","id","Layer_1","x","0px","y","0px","viewBox","0 0 1300 1300",0,"xml","space","preserve",2,"enable-background","new 0 0 1300 1300"],["id","XMLID_2_"],["id","XMLID_1_"],["id","XMLID_7_"],["id","XMLID_00000069363931689221107960000002288965628099002797_","gradientUnits","userSpaceOnUse","x1","662.4579","y1","503.5982","x2","662.4579","y2","183.0833"],["offset","0",2,"stop-color","#1D1714"],["offset","0.6223",2,"stop-color","#3B3331"],["offset","1",2,"stop-color","#47403D"],["id","XMLID_11_","d","M675.916,188.728     c-7.394-7.526-19.522-7.526-26.916,0l-83.16,84.648L367.824,471.392c-11.885,11.885-3.468,32.207,13.34,32.207h137.41     c5.004,0,9.802-1.988,13.34-5.526l117.203-117.203c7.368-7.368,19.313-7.368,26.681,0l117.203,117.203     c3.538,3.538,8.337,5.526,13.34,5.526h137.41c16.808,0,25.225-20.322,13.34-32.207L759.076,273.376L675.916,188.728z",2,"fill","url(#XMLID_00000069363931689221107960000002288965628099002797_)"],["id","XMLID_00000109014290524351802990000004293806298631479206_","gradientUnits","userSpaceOnUse","x1","662.4579","y1","839.0219","x2","662.4579","y2","518.5359"],["offset","0",2,"stop-color","#204F23"],["offset","1",2,"stop-color","#00AE4D"],["id","XMLID_12_","d","M759.076,748.758     l197.9-197.9c11.928-11.928,3.48-32.322-13.388-32.322H806.37c-5.022,0-9.838,1.995-13.388,5.546L675.846,641.217     c-7.394,7.394-19.382,7.394-26.777,0L531.934,524.081c-3.551-3.551-8.367-5.546-13.388-5.546H381.328     c-16.868,0-25.316,20.395-13.388,32.322l197.9,197.9l83.112,84.599c7.42,7.553,19.593,7.553,27.013,0L759.076,748.758z",2,"fill","url(#XMLID_00000109014290524351802990000004293806298631479206_)"],["id","XMLID_27_"],["id","XMLID_43_","d","M381.328,518.536c-5.141,0-9.493,1.9-12.731,4.872l16.085,44.193l36.552,36.552     l-31.162-85.617H381.328z",2,"fill","#00AE4D"],["id","XMLID_44_","points","407.825,518.536 449.146,632.065 485.698,668.616 431.073,518.536    ",2,"fill","#00AE4D"],["id","XMLID_45_","points","448.826,518.536 513.61,696.528 550.161,733.08 472.074,518.536    ",2,"fill","#00AE4D"],["id","XMLID_46_","points","489.827,518.536 578.2,761.34 615.13,798.93 513.075,518.536    ",2,"fill","#00AE4D"],["id","XMLID_47_","d","M533.368,525.515l109.963,302.121l5.621,5.721     c5.694,5.796,14.18,7.127,21.176,4.028L569.92,562.067L533.368,525.515z",2,"fill","#00AE4D"],["id","XMLID_48_","points","597.832,589.979 683.589,825.596 700.552,808.329 634.383,626.531    ",2,"fill","#00AE4D"],["id","XMLID_49_","d","M675.846,641.217c-4.477,4.477-10.637,6.225-16.443,5.28l54.103,148.646     l16.963-17.267l-51.043-140.24L675.846,641.217z",2,"fill","#00AE4D"],["id","XMLID_50_","points","692.442,624.621 743.423,764.691 759.076,748.758 760.393,747.441      709.486,607.577    ",2,"fill","#00AE4D"],["id","XMLID_51_","points","722.502,594.561 773.409,734.426 790.453,717.381 739.546,577.517    ",2,"fill","#00AE4D"],["id","XMLID_52_","points","752.562,564.501 803.469,704.366 820.513,687.321 769.606,547.457    ",2,"fill","#00AE4D"],["id","XMLID_53_","d","M792.982,524.081l-10.36,10.36l50.906,139.865l17.044-17.044l-50.138-137.754     C797.654,520.427,795.091,521.972,792.982,524.081z",2,"fill","#00AE4D"],["id","XMLID_54_","points","817.834,518.536 863.588,644.246 880.633,627.202 841.082,518.536    ",2,"fill","#00AE4D"],["id","XMLID_55_","points","858.835,518.536 893.648,614.186 910.693,597.142 882.082,518.536    ",2,"fill","#00AE4D"],["id","XMLID_56_","points","899.835,518.536 923.708,584.126 940.753,567.082 923.083,518.536    ",2,"fill","#00AE4D"],["id","XMLID_57_","d","M943.588,518.536h-2.752l12.932,35.53l3.208-3.208     C968.904,538.93,960.456,518.536,943.588,518.536z",2,"fill","#00AE4D"],["id","XMLID_3_"],["id","XMLID_23_","d","M943.489,503.577c5.141,0,9.493-1.9,12.731-4.872l-16.085-44.193l-36.552-36.552     l31.162,85.617H943.489z",2,"fill","#322B29"],["id","XMLID_22_","points","916.992,503.577 875.671,390.049 839.119,353.497 893.744,503.577    ",2,"fill","#322B29"],["id","XMLID_21_","points","875.991,503.577 811.207,325.585 774.655,289.033 852.743,503.577    ",2,"fill","#322B29"],["id","XMLID_20_","points","834.99,503.577 746.617,260.773 709.687,223.183 811.742,503.577    ",2,"fill","#322B29"],["id","XMLID_19_","d","M791.449,496.598L681.486,194.477l-5.621-5.721     c-5.694-5.796-14.18-7.127-21.176-4.028l100.208,275.318L791.449,496.598z",2,"fill","#322B29"],["id","XMLID_18_","points","726.985,432.134 641.228,196.518 624.264,213.784 690.433,395.583    ",2,"fill","#322B29"],["id","XMLID_17_","d","M648.97,380.896c4.477-4.477,10.637-6.225,16.443-5.28L611.31,226.97     l-16.963,17.267l51.043,140.24L648.97,380.896z",2,"fill","#322B29"],["id","XMLID_16_","points","632.375,397.492 581.393,257.422 565.74,273.355 564.424,274.672      615.33,414.536    ",2,"fill","#322B29"],["id","XMLID_15_","points","602.315,427.552 551.408,287.688 534.364,304.732 585.271,444.596    ",2,"fill","#322B29"],["id","XMLID_14_","points","572.255,457.612 521.348,317.747 504.304,334.792 555.211,474.656    ",2,"fill","#322B29"],["id","XMLID_13_","d","M531.835,498.032l10.36-10.36l-50.907-139.865l-17.044,17.044l50.138,137.754     C527.163,501.686,529.725,500.142,531.835,498.032z",2,"fill","#322B29"],["id","XMLID_9_","points","506.983,503.577 461.228,377.867 444.184,394.911 483.735,503.577    ",2,"fill","#322B29"],["id","XMLID_8_","points","465.982,503.577 431.168,407.927 414.124,424.971 442.734,503.577    ",2,"fill","#322B29"],["id","XMLID_6_","points","424.981,503.577 401.108,437.987 384.064,455.031 401.733,503.577    ",2,"fill","#322B29"],["id","XMLID_4_","d","M381.229,503.577h2.752l-12.932-35.53l-3.208,3.208     C355.913,483.183,364.361,503.577,381.229,503.577z",2,"fill","#322B29"],["id","XMLID_24_"],["id","XMLID_00000157989823274065536180000002003488643161067172_","gradientUnits","userSpaceOnUse","x1","662.458","y1","597.8741","x2","662.458","y2","511.067"],["offset","0",2,"stop-color","#47403D"],["offset","0.3777",2,"stop-color","#3B3331"],["offset","1",2,"stop-color","#1D1714"],["id","XMLID_26_","d","M662.458,597.874     c47.942,0,86.807-38.865,86.807-86.807H575.651C575.651,559.009,614.516,597.874,662.458,597.874z",2,"fill","url(#XMLID_00000157989823274065536180000002003488643161067172_)"],["id","XMLID_00000115499348145236913050000014534390970337452478_","gradientUnits","userSpaceOnUse","x1","662.458","y1","511.067","x2","662.458","y2","424.2599"],["offset","0",2,"stop-color","#00AE4D"],["offset","1",2,"stop-color","#204F23"],["id","XMLID_28_","d","M662.458,424.26     c-47.942,0-86.807,38.865-86.807,86.807h173.614C749.265,463.125,710.4,424.26,662.458,424.26z",2,"fill","url(#XMLID_00000115499348145236913050000014534390970337452478_)"]],template:function(i,n){if(i&1){let r=tn();Se(0,"mat-toolbar",1)(1,"div",2),Xt(2,iHe,1,0,"img",3)(3,nHe,56,0,"span",4),Pe(),Se(4,"a",5),Ot("click",function(){return Gt(r),Wt(n.toggle_head())}),Se(5,"span"),Dt(6,"span",6),Pe()(),Se(7,"div",7)(8,"mat-icon",8),Lt(9,"format_color_fill"),Pe(),Se(10,"mat-menu",null,0)(12,"mat-radio-group",9),pa("ngModelChange",function(s){return Gt(r),fa(n.selectedValue,s)||(n.selectedValue=s),Wt(s)}),Ot("change",function(s){return Gt(r),Wt(n.onSelectionChange(s))})("click",function(s){return Gt(r),Wt(s.stopPropagation())}),Se(13,"mat-radio-button",10),Ot("click",function(s){return Gt(r),Wt(s.stopPropagation())}),Lt(14," Red "),Pe(),Dt(15,"br"),Se(16,"mat-radio-button",11),Ot("click",function(s){return Gt(r),Wt(s.stopPropagation())}),Lt(17," Blue "),Pe(),Dt(18,"br"),Se(19,"mat-radio-button",12),Ot("click",function(s){return Gt(r),Wt(s.stopPropagation())}),Lt(20," Green "),Pe(),Dt(21,"br"),Pe()()(),Se(22,"div",13),Dt(23,"span",14),Se(24,"span",15),Lt(25,"Welcome, User"),Pe(),Dt(26,"span",16),Pe()()}if(i&2){let r=Aa(11);Fe(2),Ze("ngIf",!n.isExpand_txt),Fe(),Ze("ngIf",n.isExpand_txt),Fe(),Ze("ngStyle",If(6,eHe,n.isExpand_txt?"-19px":"71px")),Fe(2),Ze("ngStyle",If(8,tHe,n.isExpand_txt?"rotate(180deg)":"")),Fe(2),Ze("matMenuTriggerFor",r),Fe(4),ha("ngModel",n.selectedValue)}},dependencies:[kl,Iw,NV,KI,jI,cne,$y,YI,H_,W0],styles:['.app-header[_ngcontent-%COMP%]{color:#fff;height:64px;padding:0 16px;box-shadow:0 2px 4px #0000001a;z-index:1000;position:relative;height:60px}.app-header[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{margin-right:16px}.app-header[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.app-header[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.app-header[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:24px;height:24px;background:linear-gradient(45deg,#ff6b35,#f7931e);border-radius:4px;margin-bottom:2px}.app-header[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   .company-text[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:1px;transition:opacity .3s ease}.app-header[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   .company-text.hidden[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden}.app-header[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:8px;opacity:.7;transition:opacity .3s ease}.app-header[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   .tagline.hidden[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{font-size:14px;color:#444!important}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .intelli-agent[_ngcontent-%COMP%]   .agent-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:linear-gradient(45deg,#4facfe,#00f2fe);border-radius:50%;position:relative}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .intelli-agent[_ngcontent-%COMP%]   .agent-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:16px;height:16px;background:#fff;border-radius:50%}']})};var Sne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var oHe=["input"],sHe=["label"],aHe=["*"],lHe=new Nt("mat-checkbox-default-options",{providedIn:"root",factory:Ene});function Ene(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var $l=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}($l||{}),cHe={provide:gd,useExisting:qs(()=>Dne),multi:!0},BV=class{source;checked},Mne=Ene(),Dne=(()=>{class e{_elementRef=j(pi);_changeDetectorRef=j(An);_ngZone=j(Si);_animationMode=j(br,{optional:!0});_options=j(lHe,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let n=new BV;return n.source=this,n.checked=i,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new et;indeterminateChange=new et;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=$l.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){j(Xr).load(Qa);let i=j(new Fd("tabindex"),{optional:!0});this._options=this._options||Mne,this.color=this._options.color||Mne.color,this.tabIndex=i==null?0:parseInt(i)||0,this.id=this._uniqueId=j(oo).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(i){let n=i!=this._indeterminate;this._indeterminate=i,n&&(this._indeterminate?this._transitionCheckState($l.Indeterminate):this._transitionCheckState(this.checked?$l.Checked:$l.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(!(n===i||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?$l.Checked:$l.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,n){if(this._animationMode==="NoopAnimations")return"";switch(i){case $l.Init:if(n===$l.Checked)return this._animationClasses.uncheckedToChecked;if(n==$l.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case $l.Unchecked:return n===$l.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case $l.Checked:return n===$l.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case $l.Indeterminate:return n===$l.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let n=this._inputElement;n&&(n.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(n&1&&(ln(oHe,5),ln(sHe,5)),n&2){let o;ui(o=hi())&&(r._inputElement=o.first),ui(o=hi())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,r){n&2&&(gl("id",r.id),Mi("tabindex",null)("aria-label",null)("aria-labelledby",null),pr(r.color?"mat-"+r.color:"mat-accent"),yi("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",Xe],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",Xe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Xe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Ys(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe],checked:[2,"checked","checked",Xe],disabled:[2,"disabled","disabled",Xe],indeterminate:[2,"indeterminate","indeterminate",Xe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Mn([cHe,{provide:Xm,useExisting:e,multi:!0}]),Gn],ngContentSelectors:aHe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let o=tn();In(),Se(0,"div",3),Ot("click",function(a){return Gt(o),Wt(r._preventBubblingFromLabel(a))}),Se(1,"div",4,0)(3,"div",5),Ot("click",function(){return Gt(o),Wt(r._onTouchTargetClick())}),Pe(),Se(4,"input",6,1),Ot("blur",function(){return Gt(o),Wt(r._onBlur())})("click",function(){return Gt(o),Wt(r._onInputClick())})("change",function(a){return Gt(o),Wt(r._onInteractionEvent(a))}),Pe(),Dt(6,"div",7),Se(7,"div",8),Fr(),Se(8,"svg",9),Dt(9,"path",10),Pe(),Ta(),Dt(10,"div",11),Pe(),Dt(11,"div",12),Pe(),Se(12,"label",13,2),Ui(14),Pe()()}if(n&2){let o=Aa(2);Ze("labelPosition",r.labelPosition),Fe(4),yi("mdc-checkbox--selected",r.checked),Ze("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Mi("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),Fe(7),Ze("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Fe(),Ze("for",r.inputId)}},dependencies:[iu,Xy],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return e})();var VV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[Dne,ki,ki]})}return e})();var dHe=["*"];function uHe(e,t){e&1&&Ui(0)}var zV=(()=>{class e{_elementRef=j(pi);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return e})(),HV=(()=>{class e{template=j(da);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkStepLabel",""]]})}return e})();var $p={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},hHe=new Nt("STEPPER_GLOBAL_OPTIONS"),QI=(()=>{class e{_stepperOptions;_stepper=j(JI);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new et;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(i){this._completedOverride=i}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(i){this._customError=i}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let i=j(hHe,{optional:!0});this._stepperOptions=i||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(i=>i.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["cdk-step"]],contentQueries:function(n,r,o){if(n&1&&(zn(o,HV,5),zn(o,Yh,5)),n&2){let s;ui(s=hi())&&(r.stepLabel=s.first),ui(s=hi())&&(r._childForms=s)}},viewQuery:function(n,r){if(n&1&&ln(da,7),n&2){let o;ui(o=hi())&&(r.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",Xe],optional:[2,"optional","optional",Xe],completed:[2,"completed","completed",Xe],hasError:[2,"hasError","hasError",Xe]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Gn],ngContentSelectors:dHe,decls:1,vars:0,template:function(n,r){n&1&&(In(),Xt(0,uHe,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return e})(),JI=(()=>{class e{_dir=j(Ho,{optional:!0});_changeDetectorRef=j(An);_elementRef=j(pi);_destroyed=new Yt;_keyManager;_steps;steps=new Od;_stepHeader;_sortedHeaders=new Od;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._steps?(this._isValidIndex(i),this._selectedIndex!==i&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i))):this._selectedIndex=i}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(i){this.selectedIndex=i&&this.steps?this.steps.toArray().indexOf(i):-1}selectionChange=new et;selectedIndexChange=new et;_groupId=j(oo).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(i){this._orientation=i,this._keyManager&&this._keyManager.withVerticalOrientation(i==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(Qr(this._steps),kn(this._destroyed)).subscribe(i=>{this.steps.reset(i.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(Qr(this._stepHeader),kn(this._destroyed)).subscribe(i=>{this._sortedHeaders.reset(i.toArray().sort((n,r)=>n._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new z0(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:Xi()).pipe(Qr(this._layoutDirection()),kn(this._destroyed)).subscribe(i=>this._keyManager?.withHorizontalOrientation(i)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let i=this.steps.toArray().slice(0,this._selectedIndex);for(let n of i)n._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(i=>i.reset()),this._stateChanged()}_getStepLabelId(i){return`${this._groupId}-label-${i}`}_getStepContentId(i){return`${this._groupId}-content-${i}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(i){let n=i-this._selectedIndex;return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(i,n=$p.NUMBER){let r=this.steps.toArray()[i],o=this._isCurrentStep(i);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,n)}_getDefaultIndicatorLogic(i,n){return i._showError()&&i.hasError&&!n?$p.ERROR:!i.completed||n?$p.NUMBER:i.editable?$p.EDIT:$p.DONE}_getGuidelineLogic(i,n,r=$p.NUMBER){return i._showError()&&i.hasError&&!n?$p.ERROR:i.completed&&!n?$p.DONE:i.completed&&n?r:i.editable&&n?$p.EDIT:r}_isCurrentStep(i){return this._selectedIndex===i}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(i){let n=this.steps.toArray();this.selectionChange.emit({selectedIndex:i,previouslySelectedIndex:this._selectedIndex,selectedStep:n[i],previouslySelectedStep:n[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(i):this._keyManager.updateActiveItem(i)),this._selectedIndex=i,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(i){let n=xs(i),r=i.keyCode,o=this._keyManager;o?.activeItemIndex!=null&&!n&&(r===32||r===13)?(this.selectedIndex=o.activeItemIndex,i.preventDefault()):o?.setFocusOrigin("keyboard").onKeydown(i)}_anyControlsInvalidOrPending(i){return this.linear&&i>=0?this.steps.toArray().slice(0,i).some(n=>{let r=n.stepControl;return(r?r.invalid||r.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let i=this._elementRef.nativeElement,n=Zd();return i===n||i.contains(n)}_isValidIndex(i){return i>-1&&(!this.steps||i<this.steps.length)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","cdkStepper",""]],contentQueries:function(n,r,o){if(n&1&&(zn(o,QI,5),zn(o,zV,5)),n&2){let s;ui(s=hi())&&(r._steps=s),ui(s=hi())&&(r._stepHeader=s)}},inputs:{linear:[2,"linear","linear",Xe],selectedIndex:[2,"selectedIndex","selectedIndex",Ys],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return e})();var Tne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[qh]})}return e})();function fHe(e,t){if(e&1&&ph(0,2),e&2){let i=lt();Ze("ngTemplateOutlet",i.iconOverrides[i.state])("ngTemplateOutletContext",i._getIconContext())}}function pHe(e,t){if(e&1&&(Se(0,"span",7),Lt(1),Pe()),e&2){let i=lt(2);Fe(),jn(i._getDefaultTextForState(i.state))}}function mHe(e,t){if(e&1&&(Se(0,"span",8),Lt(1),Pe()),e&2){let i=lt(3);Fe(),jn(i._intl.completedLabel)}}function gHe(e,t){if(e&1&&(Se(0,"span",8),Lt(1),Pe()),e&2){let i=lt(3);Fe(),jn(i._intl.editableLabel)}}function vHe(e,t){if(e&1&&(Xt(0,mHe,2,1,"span",8)(1,gHe,2,1,"span",8),Se(2,"mat-icon",7),Lt(3),Pe()),e&2){let i=lt(2);Sn(i.state==="done"?0:i.state==="edit"?1:-1),Fe(3),jn(i._getDefaultTextForState(i.state))}}function bHe(e,t){if(e&1&&Xt(0,pHe,2,1,"span",7)(1,vHe,4,2),e&2){let i,n=lt();Sn((i=n.state)==="number"?0:1)}}function _He(e,t){e&1&&(Se(0,"div",4),ph(1,9),Pe()),e&2&&(Fe(),Ze("ngTemplateOutlet",t.template))}function yHe(e,t){if(e&1&&(Se(0,"div",4),Lt(1),Pe()),e&2){let i=lt();Fe(),jn(i.label)}}function wHe(e,t){if(e&1&&(Se(0,"div",5),Lt(1),Pe()),e&2){let i=lt();Fe(),jn(i._intl.optionalLabel)}}function CHe(e,t){if(e&1&&(Se(0,"div",6),Lt(1),Pe()),e&2){let i=lt();Fe(),jn(i.errorMessage)}}var Ane=["*"];function xHe(e,t){}function SHe(e,t){if(e&1&&(Ui(0),Xt(1,xHe,0,0,"ng-template",0)),e&2){let i=lt();Fe(),Ze("cdkPortalOutlet",i._portal)}}var MHe=["animatedContainer"],Rne=(e,t)=>({step:e,i:t});function EHe(e,t){e&1&&Ui(0)}function DHe(e,t){e&1&&Dt(0,"div",7)}function THe(e,t){if(e&1&&(ph(0,6),Xt(1,DHe,1,0,"div",7)),e&2){let i=t.$implicit,n=t.$index,r=t.$index,o=t.$count;lt(2);let s=Aa(4);Ze("ngTemplateOutlet",s)("ngTemplateOutletContext",Pf(3,Rne,i,n)),Fe(),Sn(r!==o-1?1:-1)}}function AHe(e,t){if(e&1&&(Se(0,"div",8,1),ph(2,9),Pe()),e&2){let i=t.$implicit,n=t.$index,r=lt(2);pr("mat-horizontal-stepper-content-"+r._getAnimationDirection(n)),Ze("id",r._getStepContentId(n)),Mi("aria-labelledby",r._getStepLabelId(n))("inert",r.selectedIndex===n?null:""),Fe(2),Ze("ngTemplateOutlet",i.content)}}function RHe(e,t){if(e&1&&(Se(0,"div",2)(1,"div",3),Nd(2,THe,2,6,null,null,qg),Pe(),Se(4,"div",4),Nd(5,AHe,3,6,"div",5,qg),Pe()()),e&2){let i=lt();Fe(2),Bd(i.steps),Fe(3),Bd(i.steps)}}function kHe(e,t){if(e&1&&(Se(0,"div",10),ph(1,6),Se(2,"div",11,1)(4,"div",12)(5,"div",13),ph(6,9),Pe()()()()),e&2){let i=t.$implicit,n=t.$index,r=t.$index,o=t.$count,s=lt(2),a=Aa(4);Fe(),Ze("ngTemplateOutlet",a)("ngTemplateOutletContext",Pf(10,Rne,i,n)),Fe(),yi("mat-stepper-vertical-line",r!==o-1)("mat-vertical-content-container-active",s.selectedIndex===n),Mi("inert",s.selectedIndex===n?null:""),Fe(2),Ze("id",s._getStepContentId(n)),Mi("aria-labelledby",s._getStepLabelId(n)),Fe(2),Ze("ngTemplateOutlet",i.content)}}function IHe(e,t){if(e&1&&Nd(0,kHe,7,13,"div",10,qg),e&2){let i=lt();Bd(i.steps)}}function PHe(e,t){if(e&1){let i=tn();Se(0,"mat-step-header",14),Ot("click",function(){let r=Gt(i).step;return Wt(r.select())})("keydown",function(r){Gt(i);let o=lt();return Wt(o._onKeydown(r))}),Pe()}if(e&2){let i=t.step,n=t.i,r=lt();yi("mat-horizontal-stepper-header",r.orientation==="horizontal")("mat-vertical-stepper-header",r.orientation==="vertical"),Ze("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,i.state))("label",i.stepLabel||i.label)("selected",r.selectedIndex===n)("active",r._stepIsNavigable(n,i))("optional",i.optional)("errorMessage",i.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(n,i))("color",i.color||r.color),Mi("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null)("aria-disabled",r._stepIsNavigable(n,i)?null:!0)}}var UV=(()=>{class e extends HV{static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275dir=di({type:e,selectors:[["","matStepLabel",""]],features:[Wn]})}return e})(),e3=(()=>{class e{changes=new Yt;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FHe(e){return e||new e3}var OHe={provide:e3,deps:[[new Su,new kf,e3]],useFactory:FHe},GV=(()=>{class e extends zV{_intl=j(e3);_focusMonitor=j(ka);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let i=j(Xr);i.load(Qa),i.load(Qd);let n=j(An);this._intlSubscription=this._intl.changes.subscribe(()=>n.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,n){i?this._focusMonitor.focusVia(this._elementRef,i,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof UV?null:this.label}_templateLabel(){return this.label instanceof UV?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(i){return i=="number"?`${this.index+1}`:i=="edit"?"create":i=="error"?"warning":i}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(n,r){n&2&&pr("mat-"+(r.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[Wn],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(n,r){if(n&1&&(Dt(0,"div",0),Se(1,"div")(2,"div",1),Xt(3,fHe,1,2,"ng-container",2)(4,bHe,2,1),Pe()(),Se(5,"div",3),Xt(6,_He,2,1,"div",4)(7,yHe,2,1,"div",4)(8,wHe,2,1,"div",5)(9,CHe,2,1,"div",6),Pe()),n&2){let o;Ze("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),Fe(),U2("mat-step-icon-state-",r.state," mat-step-icon"),yi("mat-step-icon-selected",r.selected),Fe(2),Sn(r.iconOverrides&&r.iconOverrides[r.state]?3:4),Fe(2),yi("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error",r.state=="error"),Fe(),Sn((o=r._templateLabel())?6:r._stringLabel()?7:-1,o),Fe(2),Sn(r.optional&&r.state!="error"?8:-1),Fe(),Sn(r.state==="error"?9:-1)}},dependencies:[iu,cb,jI],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return e})(),LHe=(()=>{class e{templateRef=j(da);name;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return e})(),NHe=(()=>{class e{_template=j(da);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["ng-template","matStepContent",""]]})}return e})(),BHe=(()=>{class e extends QI{_errorStateMatcher=j(Km,{skipSelf:!0});_viewContainerRef=j(Bo);_isSelected=Yr.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(bs(()=>this._stepper.selectionChange.pipe(yn(i=>i.selectedStep===this),Qr(this._stepper.selected===this)))).subscribe(i=>{i&&this._lazyContent&&!this._portal&&(this._portal=new Rc(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(i,n){let r=this._errorStateMatcher.isErrorState(i,n),o=!!(i&&i.invalid&&this.interacted);return r||o}static \u0275fac=(()=>{let i;return function(r){return(i||(i=Tr(e)))(r||e)}})();static \u0275cmp=ti({type:e,selectors:[["mat-step"]],contentQueries:function(n,r,o){if(n&1&&(zn(o,UV,5),zn(o,NHe,5)),n&2){let s;ui(s=hi())&&(r.stepLabel=s.first),ui(s=hi())&&(r._lazyContent=s.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[Mn([{provide:Km,useExisting:e},{provide:QI,useExisting:e}]),Wn],ngContentSelectors:Ane,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(n,r){n&1&&(In(),Xt(0,SHe,2,1,"ng-template"))},dependencies:[Kd],encapsulation:2,changeDetection:0})}return e})(),VHe=(()=>{class e extends JI{_ngZone=j(Si);_renderer=j(Ar);_animationsModule=j(br,{optional:!0});_cleanupTransition;_isAnimating=ca(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new Od;_icons;animationDone=new et;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(i){this._animationDuration=/^\d+$/.test(i)?i+"ms":i}_animationDuration="";_isServer=!j(ir).isBrowser;constructor(){super();let n=j(pi).nativeElement.nodeName.toLowerCase();this.orientation=n==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:i,templateRef:n})=>this._iconOverrides[i]=n),this.steps.changes.pipe(kn(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(kn(this._destroyed)).subscribe(()=>{let i=this._getAnimationDuration();i==="0ms"||i==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let i=!1;this._animatedContainers.changes.pipe(Qr(null),kn(this._destroyed)).subscribe(()=>queueMicrotask(()=>{i||(i=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(i,n){return n.completed||this.selectedIndex===i||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=i=>{let n=i.target;if(!n)return;let r=this.orientation==="horizontal"&&i.propertyName==="transform"&&n.classList.contains("mat-horizontal-stepper-content-current"),o=this.orientation==="vertical"&&i.propertyName==="grid-template-rows"&&n.classList.contains("mat-vertical-content-container-active");(r||o)&&this._animatedContainers.find(a=>a.nativeElement===n)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(n,r,o){if(n&1&&(zn(o,BHe,5),zn(o,LHe,5)),n&2){let s;ui(s=hi())&&(r._steps=s),ui(s=hi())&&(r._icons=s)}},viewQuery:function(n,r){if(n&1&&(ln(GV,5),ln(MHe,5)),n&2){let o;ui(o=hi())&&(r._stepHeader=o),ui(o=hi())&&(r._animatedContainers=o)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(n,r){n&2&&(Mi("aria-orientation",r.orientation),Vo("--mat-stepper-animation-duration",r._getAnimationDuration()),yi("mat-stepper-horizontal",r.orientation==="horizontal")("mat-stepper-vertical",r.orientation==="vertical")("mat-stepper-label-position-end",r.orientation==="horizontal"&&r.labelPosition=="end")("mat-stepper-label-position-bottom",r.orientation==="horizontal"&&r.labelPosition=="bottom")("mat-stepper-header-position-bottom",r.headerPosition==="bottom")("mat-stepper-animating",r._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[Mn([{provide:JI,useExisting:e}]),Wn],ngContentSelectors:Ane,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(n,r){if(n&1&&(In(),Xt(0,EHe,1,0)(1,RHe,7,0,"div",2)(2,IHe,2,0)(3,PHe,1,23,"ng-template",null,0,od)),n&2){let o;Sn(r._isServer?0:-1),Fe(),Sn((o=r.orientation)==="horizontal"?1:o==="vertical"?2:-1)}},dependencies:[cb,GV],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return e})();var kne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[OHe,Km],imports:[ki,Vl,Tne,Ig,Cl,VHe,GV,ki]})}return e})();var Ine=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[S1]})}return e})();var Pne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,Ine,ki]})}return e})();var zHe=new Nt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.reposition()}});function HHe(e){return()=>e.scrollStrategies.reposition()}var UHe={provide:zHe,deps:[Ao],useFactory:HHe};var WV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[UHe],imports:[wl,fp,ki,Za,fp,ki]})}return e})();var jV=new Nt("MAT_DATE_LOCALE",{providedIn:"root",factory:GHe});function GHe(){return j(G2)}var Ky="Method not implemented",jc=class{locale;_localeChanges=new Yt;localeChanges=this._localeChanges;setTime(t,i,n,r){throw new Error(Ky)}getHours(t){throw new Error(Ky)}getMinutes(t){throw new Error(Ky)}getSeconds(t){throw new Error(Ky)}parseTime(t,i){throw new Error(Ky)}addSeconds(t,i){throw new Error(Ky)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,i){return this.getYear(t)-this.getYear(i)||this.getMonth(t)-this.getMonth(i)||this.getDate(t)-this.getDate(i)}compareTime(t,i){return this.getHours(t)-this.getHours(i)||this.getMinutes(t)-this.getMinutes(i)||this.getSeconds(t)-this.getSeconds(i)}sameDate(t,i){if(t&&i){let n=this.isValid(t),r=this.isValid(i);return n&&r?!this.compareDate(t,i):n==r}return t==i}sameTime(t,i){if(t&&i){let n=this.isValid(t),r=this.isValid(i);return n&&r?!this.compareTime(t,i):n==r}return t==i}clampDate(t,i,n){return i&&this.compareDate(t,i)<0?i:n&&this.compareDate(t,n)>0?n:t}},Yv=new Nt("mat-date-formats");var qV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var WHe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,jHe=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function YV(e,t){let i=Array(e);for(let n=0;n<e;n++)i[n]=t(n);return i}var qHe=(()=>{class e extends jc{useUtcForDisplay=!1;_matDateLocale=j(jV,{optional:!0});constructor(){super();let i=j(jV,{optional:!0});i!==void 0&&(this._matDateLocale=i),super.setLocale(this._matDateLocale)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){let n=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return YV(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){let i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return YV(31,n=>this._format(i,new Date(2017,0,n+1)))}getDayOfWeekNames(i){let n=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return YV(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(i){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,i)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let i=new Intl.Locale(this.locale),n=(i.getWeekInfo?.()||i.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,n,r){let o=this._createDateWithOverflow(i,n,r);return o.getMonth()!=n,o}today(){return new Date}parse(i,n){return typeof i=="number"?new Date(i):i?new Date(Date.parse(i)):null}format(i,n){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,Zt(Ie({},n),{timeZone:"utc"}));return this._format(r,i)}addCalendarYears(i,n){return this.addCalendarMonths(i,n*12)}addCalendarMonths(i,n){let r=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+n,this.getDate(i));return this.getMonth(r)!=((this.getMonth(i)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(i,n){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+n)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if(typeof i=="string"){if(!i)return null;if(WHe.test(i)){let n=new Date(i);if(this.isValid(n))return n}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}setTime(i,n,r,o){let s=this.clone(i);return s.setHours(n,r,o,0),s}getHours(i){return i.getHours()}getMinutes(i){return i.getMinutes()}getSeconds(i){return i.getSeconds()}parseTime(i,n){if(typeof i!="string")return i instanceof Date?new Date(i.getTime()):null;let r=i.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let s=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();s.length>0&&(o=this._parseTimeString(s))}return o||this.invalid()}addSeconds(i,n){return new Date(i.getTime()+n*1e3)}_createDateWithOverflow(i,n,r){let o=new Date;return o.setFullYear(i,n,r),o.setHours(0,0,0,0),o}_2digit(i){return("00"+i).slice(-2)}_format(i,n){let r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),i.format(r)}_parseTimeString(i){let n=i.toUpperCase().match(jHe);if(n){let r=parseInt(n[1]),o=parseInt(n[2]),s=n[3]==null?void 0:parseInt(n[3]),a=n[4];if(r===12?r=a==="AM"?0:r:a==="PM"&&(r+=12),$V(r,0,23)&&$V(o,0,59)&&(s==null||$V(s,0,59)))return this.setTime(this.today(),r,o,s||0)}return null}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();function $V(e,t,i){return!isNaN(e)&&e>=t&&e<=i}var YHe={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var Fne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[$He()]})}return e})();function $He(e=YHe){return[{provide:jc,useClass:qHe},{provide:Yv,useValue:e}]}var One=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,Cl]})}return e})();var XV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki]})}return e})();var Lne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({})}return e})();var Nne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,Lne,Vl]})}return e})();var XHe=["tooltip"],KV=20;var ZV=new Nt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.reposition({scrollThrottle:KV})}});function zne(e){return()=>e.scrollStrategies.reposition({scrollThrottle:KV})}var Hne={provide:ZV,deps:[Ao],useFactory:zne};function Une(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Gne=new Nt("mat-tooltip-default-options",{providedIn:"root",factory:Une});var Bne="tooltip-panel",Vne=Wm({passive:!0}),KHe=8,ZHe=8,QHe=24,JHe=200,QV=(()=>{class e{_elementRef=j(pi);_ngZone=j(Si);_platform=j(ir);_ariaDescriber=j(NX);_focusMonitor=j(ka);_dir=j(Ho);_injector=j(Bn);_viewContainerRef=j(Bo);_defaultOptions=j(Gne,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Wne;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(i){i!==this._position&&(this._position=i,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(i){this._positionAtOrigin=ks(i),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(i){let n=ks(i);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(i){this._showDelay=Ka(i)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(i){this._hideDelay=Ka(i),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(i){let n=this._message;this._message=i!=null?String(i).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(i){this._tooltipClass=i,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new Yt;_isDestroyed=!1;constructor(){let i=this._defaultOptions;i&&(this._showDelay=i.showDelay,this._hideDelay=i.hideDelay,i.position&&(this.position=i.position),i.positionAtOrigin&&(this.positionAtOrigin=i.positionAtOrigin),i.touchGestures&&(this.touchGestures=i.touchGestures),i.tooltipClass&&(this.tooltipClass=i.tooltipClass)),this._viewportMargin=KHe}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(kn(this._destroyed)).subscribe(i=>{i?i==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let i=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{i.removeEventListener(n,r,Vne)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(i,this.message,"tooltip"),this._focusMonitor.stopMonitoring(i)}show(i=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Vu(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(kn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(i)}hide(i=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(i):(n._cancelPendingAnimations(),this._detach()))}toggle(i){this._isTooltipVisible()?this.hide():this.show(void 0,i)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(i){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!i)&&s._origin instanceof pi)return this._overlayRef;this._detach()}let n=this._injector.get(op).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Ao),o=r.position().flexibleConnectedTo(this.positionAtOrigin?i||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return o.positionChanges.pipe(kn(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Bne}`,scrollStrategy:this._injector.get(ZV)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(kn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(kn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(kn(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!xs(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(kn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(i){let n=i.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(Ie(Ie({},r.main),o.main)),this._addOffset(Ie(Ie({},r.fallback),o.fallback))])}_addOffset(i){let n=ZHe,r=!this._dir||this._dir.value=="ltr";return i.originY==="top"?i.offsetY=-n:i.originY==="bottom"?i.offsetY=n:i.originX==="start"?i.offsetX=r?-n:n:i.originX==="end"&&(i.offsetX=r?n:-n),i}_getOrigin(){let i=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&i||n=="right"&&!i?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&i||n=="left"&&!i)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let i=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&i||n=="right"&&!i?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&i||n=="left"&&!i)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ys(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(i){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=i,this._tooltipInstance._markForCheck())}_invertPosition(i,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):i==="end"?i="start":i==="start"&&(i="end"),{x:i,y:n}}_updateCurrentPositionClass(i){let{overlayY:n,originX:r,originY:o}=i,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${Bne}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",i=>{this._setupPointerExitEventsIfNeeded();let n;i.x!==void 0&&i.y!==void 0&&(n=i),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",i=>{let n=i.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let i=[];if(this._platformSupportsMouseEvents())i.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};i.push(["touchend",n],["touchcancel",n])}this._addListeners(i),this._passiveListeners.push(...i)}_addListeners(i){i.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,Vne)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(i){if(this._isTooltipVisible()){let n=this._injector.get(Qi).elementFromPoint(i.clientX,i.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let i=this.touchGestures;if(i!=="off"){let n=this._elementRef.nativeElement,r=n.style;(i==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(i==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(i){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,i,"tooltip"),this._isDestroyed||ys({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&yi("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return e})(),Wne=(()=>{class e{_changeDetectorRef=j(An);_elementRef=j(pi);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Yt;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let i=j(br,{optional:!0});this._animationsDisabled=i==="NoopAnimations"}show(i){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},i)}hide(i){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},i)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:i}){(!i||!this._triggerElement.contains(i))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let i=this._elementRef.nativeElement.getBoundingClientRect();return i.height>QHe&&i.width>=JHe}_handleAnimationEnd({animationName:i}){(i===this._showAnimation||i===this._hideAnimation)&&this._finalizeAnimation(i===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(i){i?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(i){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(i?o:r),n.classList.add(i?r:o),this._isVisible!==i&&(this._isVisible=i,this._changeDetectorRef.markForCheck()),i&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}i&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(i))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&ln(XHe,7),n&2){let o;ui(o=hi())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&Ot("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=tn();Se(0,"div",1,0),Ot("animationend",function(a){return Gt(o),Wt(r._handleAnimationEnd(a))}),Se(2,"div",2),Lt(3),Pe()()}n&2&&(yi("mdc-tooltip--multiline",r._isMultiline),Ze("ngClass",r.tooltipClass),Fe(3),jn(r.message))},dependencies:[nc],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return e})(),qS=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[Hne],imports:[rp,wl,ki,ki,Za]})}return e})();function eUe(e,t){if(e&1&&(Se(0,"mat-option",17),Lt(1),Pe()),e&2){let i=t.$implicit;Ze("value",i),Fe(),wr(" ",i," ")}}function tUe(e,t){if(e&1){let i=tn();Se(0,"mat-form-field",14)(1,"mat-select",16,0),Ot("selectionChange",function(r){Gt(i);let o=lt(2);return Wt(o._changePageSize(r.value))}),Nd(3,eUe,2,2,"mat-option",17,qg),Pe(),Se(5,"div",18),Ot("click",function(){Gt(i);let r=Aa(2);return Wt(r.open())}),Pe()()}if(e&2){let i=lt(2);Ze("appearance",i._formFieldAppearance)("color",i.color),Fe(),Ze("value",i.pageSize)("disabled",i.disabled)("aria-labelledby",i._pageSizeLabelId)("panelClass",i.selectConfig.panelClass||"")("disableOptionCentering",i.selectConfig.disableOptionCentering),Fe(2),Bd(i._displayedPageSizeOptions)}}function iUe(e,t){if(e&1&&(Se(0,"div",15),Lt(1),Pe()),e&2){let i=lt(2);Fe(),jn(i.pageSize)}}function nUe(e,t){if(e&1&&(Se(0,"div",3)(1,"div",13),Lt(2),Pe(),Xt(3,tUe,6,7,"mat-form-field",14)(4,iUe,2,1,"div",15),Pe()),e&2){let i=lt();Fe(),Mi("id",i._pageSizeLabelId),Fe(),wr(" ",i._intl.itemsPerPageLabel," "),Fe(),Sn(i._displayedPageSizeOptions.length>1?3:-1),Fe(),Sn(i._displayedPageSizeOptions.length<=1?4:-1)}}function rUe(e,t){if(e&1){let i=tn();Se(0,"button",19),Ot("click",function(){Gt(i);let r=lt();return Wt(r._buttonClicked(0,r._previousButtonsDisabled()))}),Fr(),Se(1,"svg",8),Dt(2,"path",20),Pe()()}if(e&2){let i=lt();Ze("matTooltip",i._intl.firstPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("disabled",i._previousButtonsDisabled())("tabindex",i._previousButtonsDisabled()?-1:null),Mi("aria-label",i._intl.firstPageLabel)}}function oUe(e,t){if(e&1){let i=tn();Se(0,"button",21),Ot("click",function(){Gt(i);let r=lt();return Wt(r._buttonClicked(r.getNumberOfPages()-1,r._nextButtonsDisabled()))}),Fr(),Se(1,"svg",8),Dt(2,"path",22),Pe()()}if(e&2){let i=lt();Ze("matTooltip",i._intl.lastPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("disabled",i._nextButtonsDisabled())("tabindex",i._nextButtonsDisabled()?-1:null),Mi("aria-label",i._intl.lastPageLabel)}}var t3=(()=>{class e{changes=new Yt;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(i,n,r)=>{if(r==0||n==0)return`0 of ${r}`;r=Math.max(r,0);let o=i*n,s=o<r?Math.min(o+n,r):o+n;return`${o+1} \u2013 ${s} of ${r}`};static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sUe(e){return e||new t3}var aUe={provide:t3,deps:[[new Su,new kf,t3]],useFactory:sUe},lUe=50;var cUe=new Nt("MAT_PAGINATOR_DEFAULT_OPTIONS"),dUe=(()=>{class e{_intl=j(t3);_changeDetectorRef=j(An);_formFieldAppearance;_pageSizeLabelId=j(oo).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new G3(1);color;get pageIndex(){return this._pageIndex}set pageIndex(i){this._pageIndex=Math.max(i||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(i){this._length=i||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(i){this._pageSize=Math.max(i||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(i){this._pageSizeOptions=(i||[]).map(n=>Ys(n,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new et;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let i=this._intl,n=j(cUe,{optional:!0});if(this._intlChanges=i.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:r,pageSizeOptions:o,hidePageSize:s,showFirstLastButtons:a}=n;r!=null&&(this._pageSize=r),o!=null&&(this._pageSizeOptions=o),s!=null&&(this.hidePageSize=s),a!=null&&(this.showFirstLastButtons=a)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let i=this.getNumberOfPages()-1;return this.pageIndex<i&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(i){let n=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(n/i)||0,this.pageSize=i,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:lUe),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((i,n)=>i-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(i){this.page.emit({previousPageIndex:i,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(i){let n=this.pageIndex;i!==n&&(this.pageIndex=i,this._emitPageEvent(n))}_buttonClicked(i,n){n||this._navigate(i)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Ys],length:[2,"length","length",Ys],pageSize:[2,"pageSize","pageSize",Ys],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Xe],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Xe],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Xe]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){n&1&&(Se(0,"div",1)(1,"div",2),Xt(2,nUe,5,4,"div",3),Se(3,"div",4)(4,"div",5),Lt(5),Pe(),Xt(6,rUe,3,5,"button",6),Se(7,"button",7),Ot("click",function(){return r._buttonClicked(r.pageIndex-1,r._previousButtonsDisabled())}),Fr(),Se(8,"svg",8),Dt(9,"path",9),Pe()(),Ta(),Se(10,"button",10),Ot("click",function(){return r._buttonClicked(r.pageIndex+1,r._nextButtonsDisabled())}),Fr(),Se(11,"svg",8),Dt(12,"path",11),Pe()(),Xt(13,oUe,3,5,"button",12),Pe()()()),n&2&&(Fe(2),Sn(r.hidePageSize?-1:2),Fe(3),wr(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),Fe(),Sn(r.showFirstLastButtons?6:-1),Fe(),Ze("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("disabled",r._previousButtonsDisabled())("tabindex",r._previousButtonsDisabled()?-1:null),Mi("aria-label",r._intl.previousPageLabel),Fe(3),Ze("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("disabled",r._nextButtonsDisabled())("tabindex",r._nextButtonsDisabled()?-1:null),Mi("aria-label",r._intl.nextPageLabel),Fe(3),Sn(r.showFirstLastButtons?13:-1))},dependencies:[q1,K1,q0,G_,QV],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return e})(),jne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[aUe],imports:[Zm,Z1,qS,dUe]})}return e})();var JV=(()=>{class e{changes=new Yt;static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uUe(e){return e||new JV}var hUe={provide:JV,deps:[[new Su,new kf,JV]],useFactory:uUe};var qne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[hUe],imports:[ki]})}return e})();var Yne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ki,ki]})}return e})();var fUe=["mat-calendar-body",""];function pUe(e,t){return this._trackRow(t)}var Jne=(e,t)=>t.id;function mUe(e,t){if(e&1&&(Se(0,"tr",0)(1,"td",3),Lt(2),Pe()()),e&2){let i=lt();Fe(),Vo("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Mi("colspan",i.numCols),Fe(),wr(" ",i.label," ")}}function gUe(e,t){if(e&1&&(Se(0,"td",3),Lt(1),Pe()),e&2){let i=lt(2);Vo("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Mi("colspan",i._firstRowOffset),Fe(),wr(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function vUe(e,t){if(e&1){let i=tn();Se(0,"td",6)(1,"button",7),Ot("click",function(r){let o=Gt(i).$implicit,s=lt(2);return Wt(s._cellClicked(o,r))})("focus",function(r){let o=Gt(i).$implicit,s=lt(2);return Wt(s._emitActiveDateChange(o,r))}),Se(2,"span",8),Lt(3),Pe(),Dt(4,"span",9),Pe()()}if(e&2){let i=t.$implicit,n=t.$index,r=lt().$index,o=lt();Vo("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Mi("data-mat-row",r)("data-mat-col",n),Fe(),yi("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",o._isActiveCell(r,n))("mat-calendar-body-range-start",o._isRangeStart(i.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",o._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(i.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(i.compareValue,r,n))("mat-calendar-body-comparison-start",o._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",o._isInPreview(i.compareValue)),Ze("ngClass",i.cssClasses)("tabindex",o._isActiveCell(r,n)?0:-1),Mi("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",o._isSelected(i.compareValue))("aria-current",o.todayValue===i.compareValue?"date":null)("aria-describedby",o._getDescribedby(i.compareValue)),Fe(),yi("mat-calendar-body-selected",o._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",o.todayValue===i.compareValue),Fe(),wr(" ",i.displayValue," ")}}function bUe(e,t){if(e&1&&(Se(0,"tr",1),Xt(1,gUe,2,6,"td",4),Nd(2,vUe,5,48,"td",5,Jne),Pe()),e&2){let i=t.$implicit,n=t.$index,r=lt();Fe(),Sn(n===0&&r._firstRowOffset?1:-1),Fe(),Bd(i)}}function _Ue(e,t){if(e&1&&(Se(0,"th",2)(1,"span",6),Lt(2),Pe(),Se(3,"span",3),Lt(4),Pe()()),e&2){let i=t.$implicit;Fe(2),jn(i.long),Fe(2),jn(i.narrow)}}var yUe=["*"];function wUe(e,t){}function CUe(e,t){if(e&1){let i=tn();Se(0,"mat-month-view",4),pa("activeDateChange",function(r){Gt(i);let o=lt();return fa(o.activeDate,r)||(o.activeDate=r),Wt(r)}),Ot("_userSelection",function(r){Gt(i);let o=lt();return Wt(o._dateSelected(r))})("dragStarted",function(r){Gt(i);let o=lt();return Wt(o._dragStarted(r))})("dragEnded",function(r){Gt(i);let o=lt();return Wt(o._dragEnded(r))}),Pe()}if(e&2){let i=lt();ha("activeDate",i.activeDate),Ze("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function xUe(e,t){if(e&1){let i=tn();Se(0,"mat-year-view",5),pa("activeDateChange",function(r){Gt(i);let o=lt();return fa(o.activeDate,r)||(o.activeDate=r),Wt(r)}),Ot("monthSelected",function(r){Gt(i);let o=lt();return Wt(o._monthSelectedInYearView(r))})("selectedChange",function(r){Gt(i);let o=lt();return Wt(o._goToDateInView(r,"month"))}),Pe()}if(e&2){let i=lt();ha("activeDate",i.activeDate),Ze("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function SUe(e,t){if(e&1){let i=tn();Se(0,"mat-multi-year-view",6),pa("activeDateChange",function(r){Gt(i);let o=lt();return fa(o.activeDate,r)||(o.activeDate=r),Wt(r)}),Ot("yearSelected",function(r){Gt(i);let o=lt();return Wt(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){Gt(i);let o=lt();return Wt(o._goToDateInView(r,"year"))}),Pe()}if(e&2){let i=lt();ha("activeDate",i.activeDate),Ze("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function MUe(e,t){}var EUe=["button"],DUe=[[["","matDatepickerToggleIcon",""]]],TUe=["[matDatepickerToggleIcon]"];function AUe(e,t){e&1&&(Fr(),Se(0,"svg",2),Dt(1,"path",3),Pe())}var Qy=(()=>{class e{changes=new Yt;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(i,n){return`${i} \u2013 ${n}`}formatYearRangeLabel(i,n){return`${i} to ${n}`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RUe=0,$S=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=RUe++;constructor(t,i,n,r,o={},s=t,a){this.value=t,this.displayValue=i,this.ariaLabel=n,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=a}},kUe={passive:!1,capture:!0},i3={passive:!0,capture:!0},$ne={passive:!0},Zy=(()=>{class e{_elementRef=j(pi);_ngZone=j(Si);_platform=j(ir);_intl=j(Qy);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new et;previewChange=new et;activeDateChange=new et;dragStarted=new et;dragEnded=new et;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=j(Bn);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=i=>i;constructor(){let i=j(Ar),n=j(oo);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),j(Xr).load(Qa),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,o=[ro(i,r,"touchmove",this._touchmoveHandler,kUe),ro(i,r,"mouseenter",this._enterHandler,i3),ro(i,r,"focus",this._enterHandler,i3),ro(i,r,"mouseleave",this._leaveHandler,i3),ro(i,r,"blur",this._leaveHandler,i3),ro(i,r,"mousedown",this._mousedownHandler,$ne),ro(i,r,"touchstart",this._mousedownHandler,$ne)];this._platform.isBrowser&&o.push(i.listen("window","mouseup",this._mouseupHandler),i.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(i,n){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:n})}_emitActiveDateChange(i,n){i.enabled&&this.activeDateChange.emit({value:i.value,event:n})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){let n=i.numCols,{rows:r,numCols:o}=this;(i.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(i.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){this._eventCleanups.forEach(i=>i())}_isActiveCell(i,n){let r=i*this.numCols+n;return i&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(i=!0){ys(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(i||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return i7(i,this.startValue,this.endValue)}_isRangeEnd(i){return n7(i,this.startValue,this.endValue)}_isInRange(i){return r7(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return i7(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,n,r){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let o=this.rows[n][r-1];if(!o){let s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(i,n,r){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let o=this.rows[n][r+1];if(!o){let s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(i){return n7(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return r7(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return i7(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return n7(i,this.previewStart,this.previewEnd)}_isInPreview(i){return r7(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){if(!this.isRange)return null;if(this.startValue===i&&this.endValue===i)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===i)return this._startDateLabelId;if(this.endValue===i)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(i===this.comparisonStart&&i===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(i===this.comparisonStart)return this._comparisonStartDateLabelId;if(i===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=i=>{if(this._skipNextFocus&&i.type==="focus"){this._skipNextFocus=!1;return}if(i.target&&this.isRange){let n=this._getCellFromElement(i.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:i}))}};_touchmoveHandler=i=>{if(!this.isRange)return;let n=Xne(i),r=n?this._getCellFromElement(n):null;n!==i.target&&(this._didDragSinceMouseDown=!0),t7(i.target)&&i.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:i}))};_leaveHandler=i=>{this.previewEnd!==null&&this.isRange&&(i.type!=="blur"&&(this._didDragSinceMouseDown=!0),i.target&&this._getCellFromElement(i.target)&&!(i.relatedTarget&&this._getCellFromElement(i.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i})))};_mousedownHandler=i=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=i.target&&this._getCellFromElement(i.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:i})})};_mouseupHandler=i=>{if(!this.isRange)return;let n=t7(i.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:i})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(n);this.dragEnded.emit({value:r?.rawValue??null,event:i})})};_touchendHandler=i=>{let n=Xne(i);n&&this._mouseupHandler({target:n})};_getCellFromElement(i){let n=t7(i);if(n){let r=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Gn],attrs:fUe,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(Xt(0,mUe,3,6,"tr",0),Nd(1,bUe,4,1,"tr",1,pUe,!0),Se(3,"span",2),Lt(4),Pe(),Se(5,"span",2),Lt(6),Pe(),Se(7,"span",2),Lt(8),Pe(),Se(9,"span",2),Lt(10),Pe()),n&2&&(Sn(r._firstRowOffset<r.labelMinRequiredCells?0:-1),Fe(),Bd(r.rows),Fe(2),Ze("id",r._startDateLabelId),Fe(),wr(" ",r.startDateAccessibleName,`
`),Fe(),Ze("id",r._endDateLabelId),Fe(),wr(" ",r.endDateAccessibleName,`
`),Fe(),Ze("id",r._comparisonStartDateLabelId),Fe(),lm(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),Fe(),Ze("id",r._comparisonEndDateLabelId),Fe(),lm(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[nc],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return e})();function e7(e){return e?.nodeName==="TD"}function t7(e){let t;return e7(e)?t=e:e7(e.parentNode)?t=e.parentNode:e7(e.parentNode?.parentNode)&&(t=e.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function i7(e,t,i){return i!==null&&t!==i&&e<i&&e===t}function n7(e,t,i){return t!==null&&t!==i&&e>=t&&e===i}function r7(e,t,i,n){return n&&t!==null&&i!==null&&t!==i&&e>=t&&e<=i}function Xne(e){let t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var gu=class{start;end;_disableStructuralEquivalency;constructor(t,i){this.start=t,this.end=i}},n3=(()=>{class e{selection;_adapter;_selectionChanged=new Yt;selectionChanged=this._selectionChanged;constructor(i,n){this.selection=i,this._adapter=n,this.selection=i}updateSelection(i,n){let r=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}static \u0275fac=function(n){lb()};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})(),IUe=(()=>{class e extends n3{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let i=new e(this._adapter);return i.updateSelection(this.selection,this),i}static \u0275fac=function(n){return new(n||e)(ji(jc))};static \u0275prov=zt({token:e,factory:e.\u0275fac})}return e})();function PUe(e,t){return e||new IUe(t)}var FUe={provide:n3,deps:[[new Su,new kf,n3],jc],useFactory:PUe};var ere=new Nt("MAT_DATE_RANGE_SELECTION_STRATEGY");var o7=7,OUe=0,Kne=(()=>{class e{_changeDetectorRef=j(An);_dateFormats=j(Yv,{optional:!0});_dateAdapter=j(jc,{optional:!0});_dir=j(Ho,{optional:!0});_rangeStrategy=j(ere,{optional:!0});_rerenderSubscription=Yr.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(i){i instanceof gu?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new et;_userSelection=new et;dragStarted=new et;dragEnded=new et;activeDateChange=new et;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){j(Xr).load(Qd),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qr(null)).subscribe(()=>this._init())}ngOnChanges(i){let n=i.comparisonStart||i.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){let n=i.value,r=this._getDateFromDayOfMonth(n),o,s;this._selected instanceof gu?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==n||s!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){let n=i.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&i.preventDefault();return;case 27:this._previewEnd!=null&&!xs(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(o7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%o7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,i);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,i);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:n??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){let i=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,a)=>({long:s,narrow:n[a],id:OUe++}));this._weekdays=o.slice(i).concat(o.slice(0,i))}_createWeekCells(){let i=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<i;r++,o++){o==o7&&(this._weeks.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(s),l=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new $S(r+1,n[r],l,a,c,this._getCellCompareValue(s),s))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,n){return!!(i&&n&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n))}_getCellCompareValue(i){if(i){let n=this._dateAdapter.getYear(i),r=this._dateAdapter.getMonth(i),o=this._dateAdapter.getDate(i);return new Date(n,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(i){i instanceof gu?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&ln(Zy,5),n&2){let o;ui(o=hi())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Gn],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(Se(0,"table",0)(1,"thead",1)(2,"tr"),Nd(3,_Ue,5,2,"th",2,Jne),Pe(),Se(5,"tr",3),Dt(6,"th",4),Pe()(),Se(7,"tbody",5),Ot("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),Pe()()),n&2&&(Fe(3),Bd(r._weekdays),Fe(4),Ze("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Zy],encapsulation:2,changeDetection:0})}return e})(),Rd=24,s7=4,Zne=(()=>{class e{_changeDetectorRef=j(An);_dateAdapter=j(jc,{optional:!0});_dir=j(Ho,{optional:!0});_rerenderSubscription=Yr.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),tre(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(i){i instanceof gu?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;selectedChange=new et;yearSelected=new et;activeDateChange=new et;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-YS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<Rd;r++)o.push(n+r),o.length==s7&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){let n=i.value,r=this._dateAdapter.createDate(n,0,1),o=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(i){let n=i.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-s7);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s7);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-YS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Rd-YS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-Rd*10:-Rd);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?Rd*10:Rd);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return YS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,n,1));return this._dateAdapter.createDate(i,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(i){let n=this._dateAdapter.createDate(i,0,1),r=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new $S(i,r,r,this._shouldEnableYear(i),o)}_shouldEnableYear(i){if(i==null||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(i,0,1);for(let r=n;this._dateAdapter.getYear(r)==i;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(i){if(this._selectedYear=null,i instanceof gu){let n=i.start||i.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&ln(Zy,5),n&2){let o;ui(o=hi())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(Se(0,"table",0)(1,"thead",1)(2,"tr"),Dt(3,"th",2),Pe()(),Se(4,"tbody",3),Ot("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),Pe()()),n&2&&(Fe(4),Ze("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Zy],encapsulation:2,changeDetection:0})}return e})();function tre(e,t,i,n,r){let o=e.getYear(t),s=e.getYear(i),a=ire(e,n,r);return Math.floor((o-a)/Rd)===Math.floor((s-a)/Rd)}function YS(e,t,i,n){let r=e.getYear(t);return LUe(r-ire(e,i,n),Rd)}function ire(e,t,i){let n=0;return i?n=e.getYear(i)-Rd+1:t&&(n=e.getYear(t)),n}function LUe(e,t){return(e%t+t)%t}var Qne=(()=>{class e{_changeDetectorRef=j(An);_dateFormats=j(Yv,{optional:!0});_dateAdapter=j(jc,{optional:!0});_dir=j(Ho,{optional:!0});_rerenderSubscription=Yr.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(i){i instanceof gu?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;selectedChange=new et;monthSelected=new et;activeDateChange=new et;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){let n=i.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(n);this.selectedChange.emit(o)}_updateActiveDate(i){let n=i.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,i[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(i,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new $S(i,n.toLocaleUpperCase(),o,this._shouldEnableMonth(i),s)}_shouldEnableMonth(i){let n=this._dateAdapter.getYear(this.activeDate);if(i==null||this._isYearAndMonthAfterMaxDate(n,i)||this._isYearAndMonthBeforeMinDate(n,i))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,i,1);for(let o=r;this._dateAdapter.getMonth(o)==i;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(i,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return i>r||i===r&&n>o}return!1}_isYearAndMonthBeforeMinDate(i,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return i<r||i===r&&n<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(i){i instanceof gu?this._selectedMonth=this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._selectedMonth=this._getMonthInCurrentYear(i)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&ln(Zy,5),n&2){let o;ui(o=hi())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(Se(0,"table",0)(1,"thead",1)(2,"tr"),Dt(3,"th",2),Pe()(),Se(4,"tbody",3),Ot("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),Pe()()),n&2&&(Fe(4),Ze("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Zy],encapsulation:2,changeDetection:0})}return e})(),nre=(()=>{class e{_intl=j(Qy);calendar=j(a7);_dateAdapter=j(jc,{optional:!0});_dateFormats=j(Yv,{optional:!0});constructor(){j(Xr).load(Qd);let i=j(An);this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Rd)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Rd)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n):tre(this._dateAdapter,i,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-YS(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Rd-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,s]}_periodButtonLabelId=j(oo).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:yUe,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&(In(),Se(0,"div",0)(1,"div",1)(2,"span",2),Lt(3),Pe(),Se(4,"button",3),Ot("click",function(){return r.currentPeriodClicked()}),Se(5,"span",4),Lt(6),Pe(),Fr(),Se(7,"svg",5),Dt(8,"polygon",6),Pe()(),Ta(),Dt(9,"div",7),Ui(10),Se(11,"button",8),Ot("click",function(){return r.previousClicked()}),Fr(),Se(12,"svg",9),Dt(13,"path",10),Pe()(),Ta(),Se(14,"button",11),Ot("click",function(){return r.nextClicked()}),Fr(),Se(15,"svg",9),Dt(16,"path",12),Pe()()()()),n&2&&(Fe(2),Ze("id",r._periodButtonLabelId),Fe(),jn(r.periodButtonDescription),Fe(),Mi("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),Fe(2),jn(r.periodButtonText),Fe(),yi("mat-calendar-invert",r.calendar.currentView!=="month"),Fe(4),Ze("disabled",!r.previousEnabled()),Mi("aria-label",r.prevButtonLabel),Fe(3),Ze("disabled",!r.nextEnabled()),Mi("aria-label",r.nextButtonLabel))},dependencies:[Q1,G_],encapsulation:2,changeDetection:0})}return e})(),a7=(()=>{class e{_dateAdapter=j(jc,{optional:!0});_dateFormats=j(Yv,{optional:!0});_changeDetectorRef=j(An);_elementRef=j(pi);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_startAt;startView="month";get selected(){return this._selected}set selected(i){i instanceof gu?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new et;yearSelected=new et;monthSelected=new et;viewChanged=new et(!0);_userSelection=new et;_userDragDrop=new et;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(i){let n=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}_currentView;_activeDrag=null;stateChanges=new Yt;constructor(){this._intlChanges=j(Qy).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Vu(this.headerComponent||nre),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){let n=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,r=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,o=n||r||i.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._elementRef.nativeElement.contains(Zd())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){let n=i.value;(this.selected instanceof gu||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,n){this.activeDate=i,this.currentView=n}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&(ln(Kne,5),ln(Qne,5),ln(Zne,5)),n&2){let o;ui(o=hi())&&(r.monthView=o.first),ui(o=hi())&&(r.yearView=o.first),ui(o=hi())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Mn([FUe]),Gn],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(Xt(0,wUe,0,0,"ng-template",0),Se(1,"div",1),Xt(2,CUe,1,11,"mat-month-view",2)(3,xUe,1,6,"mat-year-view",3)(4,SUe,1,6,"mat-multi-year-view",3),Pe()),n&2){let o;Ze("cdkPortalOutlet",r._calendarHeaderPortal),Fe(2),Sn((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[Kd,ZL,Kne,Qne,Zne],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return e})(),NUe=new Nt("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let e=j(Ao);return()=>e.scrollStrategies.reposition()}});function BUe(e){return()=>e.scrollStrategies.reposition()}var VUe={provide:NUe,deps:[Ao],useFactory:BUe},zUe=(()=>{class e{_elementRef=j(pi);_animationsDisabled=j(br,{optional:!0})==="NoopAnimations";_changeDetectorRef=j(An);_globalModel=j(n3);_dateAdapter=j(jc);_ngZone=j(Si);_rangeSelectionStrategy=j(ere,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new Yt;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(j(Xr).load(Qd),this._closeButtonText=j(Qy).closeCalendarLabel,!this._animationsDisabled){let i=this._elementRef.nativeElement,n=j(Ar);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(i,"animationstart",this._handleAnimationEvent),n.listen(i,"animationend",this._handleAnimationEvent),n.listen(i,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(i=>i()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){let n=this._model.selection,r=i.value,o=n instanceof gu;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(r,n,i.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=i=>{let n=this._elementRef.nativeElement;i.target!==n||!i.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=i.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,n){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&ln(a7,5),n&2){let o;ui(o=hi())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,r){n&2&&(pr(r.color?"mat-"+r.color:""),yi("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){if(n&1&&(Se(0,"div",0)(1,"mat-calendar",1),Ot("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),Pe(),Xt(2,MUe,0,0,"ng-template",2),Se(3,"button",3),Ot("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),Lt(4),Pe()()),n&2){let o;yi("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Mi("aria-modal",!0)("aria-labelledby",(o=r._dialogLabelId)!==null&&o!==void 0?o:void 0),Fe(),pr(r.datepicker.panelClass),Ze("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),Fe(),Ze("cdkPortalOutlet",r._actionsPortal),Fe(),yi("cdk-visually-hidden",!r._closeButtonFocused),Ze("color",r.color||"primary"),Fe(),jn(r._closeButtonText)}},dependencies:[JL,a7,Kd,Q1],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return e})();var HUe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=di({type:e,selectors:[["","matDatepickerToggleIcon",""]]})}return e})(),UUe=(()=>{class e{_intl=j(Qy);_changeDetectorRef=j(An);_stateChanges=Yr.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=i}_disabled;disableRipple;_customIcon;_button;constructor(){let i=j(new Fd("tabindex"),{optional:!0}),n=Number(i);this.tabIndex=n||n===0?n:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){let i=this.datepicker?this.datepicker.stateChanges:Xi(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Xi(),r=this.datepicker?es(this.datepicker.openedStream,this.datepicker.closedStream):Xi();this._stateChanges.unsubscribe(),this._stateChanges=es(this._intl.changes,i,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,o){if(n&1&&zn(o,HUe,5),n&2){let s;ui(s=hi())&&(r._customIcon=s.first)}},viewQuery:function(n,r){if(n&1&&ln(EUe,5),n&2){let o;ui(o=hi())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&Ot("click",function(s){return r._open(s)}),n&2&&(Mi("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),yi("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Xe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Gn],ngContentSelectors:TUe,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&(In(DUe),Se(0,"button",1,0),Xt(2,AUe,2,0,":svg:svg",2),Ui(3),Pe()),n&2&&(Ze("disabled",r.disabled)("disableRipple",r.disableRipple),Mi("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex)("aria-expanded",r.datepicker?r.datepicker.opened:null),Fe(2),Sn(r._customIcon?-1:2))},dependencies:[G_],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return e})();var rre=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({providers:[Qy,VUe],imports:[Zm,wl,rp,Vl,ki,zUe,UUe,nre,Za]})}return e})();var GUe=["switch"],WUe=["*"];function jUe(e,t){e&1&&(Se(0,"span",10),Fr(),Se(1,"svg",12),Dt(2,"path",13),Pe(),Se(3,"svg",14),Dt(4,"path",15),Pe()())}var qUe=new Nt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),YUe={provide:gd,useExisting:qs(()=>ore),multi:!0},r3=class{source;checked;constructor(t,i){this.source=t,this.checked=i}},ore=(()=>{class e{_elementRef=j(pi);_focusMonitor=j(ka);_changeDetectorRef=j(An);defaults=j(qUe);_onChange=i=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(i){return new r3(this,i)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(i){this._checked=i,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new et;toggleChange=new et;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){j(Xr).load(Qa);let i=j(new Fd("tabindex"),{optional:!0}),n=this.defaults,r=j(br,{optional:!0});this.tabIndex=i==null?0:parseInt(i)||0,this.color=n.color||"accent",this._noopAnimations=r==="NoopAnimations",this.id=this._uniqueId=j(oo).getId("mat-mdc-slide-toggle-"),this.hideIcon=n.hideIcon??!1,this.disabledInteractive=n.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{i==="keyboard"||i==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):i||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(i){i.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(i){this.checked=!!i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorOnChange=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new r3(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ti({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(n&1&&ln(GUe,5),n&2){let o;ui(o=hi())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){n&2&&(gl("id",r.id),Mi("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),pr(r.color?"mat-"+r.color:""),yi("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Xe],color:"color",disabled:[2,"disabled","disabled",Xe],disableRipple:[2,"disableRipple","disableRipple",Xe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Ys(i)],checked:[2,"checked","checked",Xe],hideIcon:[2,"hideIcon","hideIcon",Xe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Mn([YUe,{provide:Xm,useExisting:e,multi:!0}]),Gn],ngContentSelectors:WUe,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(n&1){let o=tn();In(),Se(0,"div",1)(1,"button",2,0),Ot("click",function(){return Gt(o),Wt(r._handleClick())}),Dt(3,"span",3),Se(4,"span",4)(5,"span",5)(6,"span",6),Dt(7,"span",7),Pe(),Se(8,"span",8),Dt(9,"span",9),Pe(),Xt(10,jUe,5,0,"span",10),Pe()()(),Se(11,"label",11),Ot("click",function(a){return Gt(o),Wt(a.stopPropagation())}),Ui(12),Pe()()}if(n&2){let o=Aa(2);Ze("labelPosition",r.labelPosition),Fe(),yi("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),Ze("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),Mi("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),Fe(8),Ze("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Fe(),Sn(r.hideIcon?-1:10),Fe(),Ze("for",r.buttonId),Mi("id",r._labelId)}},dependencies:[iu,Xy],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}
`],encapsulation:2,changeDetection:0})}return e})();var sre=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[ore,ki,ki]})}return e})();var o3=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ni({type:e});static \u0275inj=ii({imports:[rp,Sne,Vl,oZ,Z1,VV,kne,xne,rre,p4,Pne,WV,UI,fp,Zm,Ig,One,hK,hp,sre,wl,Ig,LI,zI,XV,Nne,$I,WV,Yne,VV,ki,HI,hp,Ig,qV,Fne,jne,XV,Y0,Cl,qne,qS]})};var $Ue=typeof global=="object"&&global&&global.Object===Object&&global,s3=$Ue;var XUe=typeof self=="object"&&self&&self.Object===Object&&self,KUe=s3||XUe||Function("return this")(),vu=KUe;var ZUe=vu.Symbol,Jy=ZUe;var are=Object.prototype,QUe=are.hasOwnProperty,JUe=are.toString,XS=Jy?Jy.toStringTag:void 0;function eGe(e){var t=QUe.call(e,XS),i=e[XS];try{e[XS]=void 0;var n=!0}catch{}var r=JUe.call(e);return n&&(t?e[XS]=i:delete e[XS]),r}var lre=eGe;var tGe=Object.prototype,iGe=tGe.toString;function nGe(e){return iGe.call(e)}var cre=nGe;var rGe="[object Null]",oGe="[object Undefined]",dre=Jy?Jy.toStringTag:void 0;function sGe(e){return e==null?e===void 0?oGe:rGe:dre&&dre in Object(e)?lre(e):cre(e)}var Fg=sGe;function aGe(e){return e!=null&&typeof e=="object"}var pf=aGe;var lGe=Array.isArray,KS=lGe;function cGe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qc=cGe;function dGe(e){return e}var a3=dGe;var uGe="[object AsyncFunction]",hGe="[object Function]",fGe="[object GeneratorFunction]",pGe="[object Proxy]";function mGe(e){if(!qc(e))return!1;var t=Fg(e);return t==hGe||t==fGe||t==uGe||t==pGe}var ew=mGe;var gGe=vu["__core-js_shared__"],l3=gGe;var ure=function(){var e=/[^.]+$/.exec(l3&&l3.keys&&l3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vGe(e){return!!ure&&ure in e}var hre=vGe;var bGe=Function.prototype,_Ge=bGe.toString;function yGe(e){if(e!=null){try{return _Ge.call(e)}catch{}try{return e+""}catch{}}return""}var fre=yGe;var wGe=/[\\^$.*+?()[\]{}|]/g,CGe=/^\[object .+?Constructor\]$/,xGe=Function.prototype,SGe=Object.prototype,MGe=xGe.toString,EGe=SGe.hasOwnProperty,DGe=RegExp("^"+MGe.call(EGe).replace(wGe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TGe(e){if(!qc(e)||hre(e))return!1;var t=ew(e)?DGe:CGe;return t.test(fre(e))}var pre=TGe;function AGe(e,t){return e?.[t]}var mre=AGe;function RGe(e,t){var i=mre(e,t);return pre(i)?i:void 0}var tw=RGe;var gre=Object.create,kGe=function(){function e(){}return function(t){if(!qc(t))return{};if(gre)return gre(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),vre=kGe;function IGe(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var bre=IGe;function PGe(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var _re=PGe;var FGe=800,OGe=16,LGe=Date.now;function NGe(e){var t=0,i=0;return function(){var n=LGe(),r=OGe-(n-i);if(i=n,r>0){if(++t>=FGe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var yre=NGe;function BGe(e){return function(){return e}}var wre=BGe;var VGe=function(){try{var e=tw(Object,"defineProperty");return e({},"",{}),e}catch{}}(),iw=VGe;var zGe=iw?function(e,t){return iw(e,"toString",{configurable:!0,enumerable:!1,value:wre(t),writable:!0})}:a3,Cre=zGe;var HGe=yre(Cre),xre=HGe;var UGe=9007199254740991,GGe=/^(?:0|[1-9]\d*)$/;function WGe(e,t){var i=typeof e;return t=t??UGe,!!t&&(i=="number"||i!="symbol"&&GGe.test(e))&&e>-1&&e%1==0&&e<t}var c3=WGe;function jGe(e,t,i){t=="__proto__"&&iw?iw(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var nw=jGe;function qGe(e,t){return e===t||e!==e&&t!==t}var Og=qGe;var YGe=Object.prototype,$Ge=YGe.hasOwnProperty;function XGe(e,t,i){var n=e[t];(!($Ge.call(e,t)&&Og(n,i))||i===void 0&&!(t in e))&&nw(e,t,i)}var Sre=XGe;function KGe(e,t,i,n){var r=!i;i||(i={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=n?n(i[a],e[a],a,i,e):void 0;l===void 0&&(l=e[a]),r?nw(i,a,l):Sre(i,a,l)}return i}var Mre=KGe;var Ere=Math.max;function ZGe(e,t,i){return t=Ere(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Ere(n.length-t,0),s=Array(o);++r<o;)s[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i(s),bre(e,this,a)}}var Dre=ZGe;function QGe(e,t){return xre(Dre(e,t,a3),e+"")}var Tre=QGe;var JGe=9007199254740991;function e9e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JGe}var d3=e9e;function t9e(e){return e!=null&&d3(e.length)&&!ew(e)}var rw=t9e;function i9e(e,t,i){if(!qc(i))return!1;var n=typeof t;return(n=="number"?rw(i)&&c3(t,i.length):n=="string"&&t in i)?Og(i[t],e):!1}var Are=i9e;function n9e(e){return Tre(function(t,i){var n=-1,r=i.length,o=r>1?i[r-1]:void 0,s=r>2?i[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,s&&Are(i[0],i[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=i[n];a&&e(t,a,n,o)}return t})}var Rre=n9e;var r9e=Object.prototype;function o9e(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||r9e;return e===i}var u3=o9e;function s9e(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var kre=s9e;var a9e="[object Arguments]";function l9e(e){return pf(e)&&Fg(e)==a9e}var l7=l9e;var Ire=Object.prototype,c9e=Ire.hasOwnProperty,d9e=Ire.propertyIsEnumerable,u9e=l7(function(){return arguments}())?l7:function(e){return pf(e)&&c9e.call(e,"callee")&&!d9e.call(e,"callee")},ZS=u9e;function h9e(){return!1}var Pre=h9e;var Lre=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fre=Lre&&typeof module=="object"&&module&&!module.nodeType&&module,f9e=Fre&&Fre.exports===Lre,Ore=f9e?vu.Buffer:void 0,p9e=Ore?Ore.isBuffer:void 0,m9e=p9e||Pre,h3=m9e;var g9e="[object Arguments]",v9e="[object Array]",b9e="[object Boolean]",_9e="[object Date]",y9e="[object Error]",w9e="[object Function]",C9e="[object Map]",x9e="[object Number]",S9e="[object Object]",M9e="[object RegExp]",E9e="[object Set]",D9e="[object String]",T9e="[object WeakMap]",A9e="[object ArrayBuffer]",R9e="[object DataView]",k9e="[object Float32Array]",I9e="[object Float64Array]",P9e="[object Int8Array]",F9e="[object Int16Array]",O9e="[object Int32Array]",L9e="[object Uint8Array]",N9e="[object Uint8ClampedArray]",B9e="[object Uint16Array]",V9e="[object Uint32Array]",ds={};ds[k9e]=ds[I9e]=ds[P9e]=ds[F9e]=ds[O9e]=ds[L9e]=ds[N9e]=ds[B9e]=ds[V9e]=!0;ds[g9e]=ds[v9e]=ds[A9e]=ds[b9e]=ds[R9e]=ds[_9e]=ds[y9e]=ds[w9e]=ds[C9e]=ds[x9e]=ds[S9e]=ds[M9e]=ds[E9e]=ds[D9e]=ds[T9e]=!1;function z9e(e){return pf(e)&&d3(e.length)&&!!ds[Fg(e)]}var Nre=z9e;function H9e(e){return function(t){return e(t)}}var Bre=H9e;var Vre=typeof exports=="object"&&exports&&!exports.nodeType&&exports,QS=Vre&&typeof module=="object"&&module&&!module.nodeType&&module,U9e=QS&&QS.exports===Vre,c7=U9e&&s3.process,G9e=function(){try{var e=QS&&QS.require&&QS.require("util").types;return e||c7&&c7.binding&&c7.binding("util")}catch{}}(),d7=G9e;var zre=d7&&d7.isTypedArray,W9e=zre?Bre(zre):Nre,f3=W9e;var j9e=Object.prototype,q9e=j9e.hasOwnProperty;function Y9e(e,t){var i=KS(e),n=!i&&ZS(e),r=!i&&!n&&h3(e),o=!i&&!n&&!r&&f3(e),s=i||n||r||o,a=s?kre(e.length,String):[],l=a.length;for(var c in e)(t||q9e.call(e,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||c3(c,l)))&&a.push(c);return a}var Hre=Y9e;function $9e(e,t){return function(i){return e(t(i))}}var Ure=$9e;function X9e(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var Gre=X9e;var K9e=Object.prototype,Z9e=K9e.hasOwnProperty;function Q9e(e){if(!qc(e))return Gre(e);var t=u3(e),i=[];for(var n in e)n=="constructor"&&(t||!Z9e.call(e,n))||i.push(n);return i}var Wre=Q9e;function J9e(e){return rw(e)?Hre(e,!0):Wre(e)}var p3=J9e;var eWe=tw(Object,"create"),Xp=eWe;function tWe(){this.__data__=Xp?Xp(null):{},this.size=0}var jre=tWe;function iWe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qre=iWe;var nWe="__lodash_hash_undefined__",rWe=Object.prototype,oWe=rWe.hasOwnProperty;function sWe(e){var t=this.__data__;if(Xp){var i=t[e];return i===nWe?void 0:i}return oWe.call(t,e)?t[e]:void 0}var Yre=sWe;var aWe=Object.prototype,lWe=aWe.hasOwnProperty;function cWe(e){var t=this.__data__;return Xp?t[e]!==void 0:lWe.call(t,e)}var $re=cWe;var dWe="__lodash_hash_undefined__";function uWe(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Xp&&t===void 0?dWe:t,this}var Xre=uWe;function ow(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}ow.prototype.clear=jre;ow.prototype.delete=qre;ow.prototype.get=Yre;ow.prototype.has=$re;ow.prototype.set=Xre;var u7=ow;function hWe(){this.__data__=[],this.size=0}var Kre=hWe;function fWe(e,t){for(var i=e.length;i--;)if(Og(e[i][0],t))return i;return-1}var Lg=fWe;var pWe=Array.prototype,mWe=pWe.splice;function gWe(e){var t=this.__data__,i=Lg(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():mWe.call(t,i,1),--this.size,!0}var Zre=gWe;function vWe(e){var t=this.__data__,i=Lg(t,e);return i<0?void 0:t[i][1]}var Qre=vWe;function bWe(e){return Lg(this.__data__,e)>-1}var Jre=bWe;function _We(e,t){var i=this.__data__,n=Lg(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}var eoe=_We;function sw(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}sw.prototype.clear=Kre;sw.prototype.delete=Zre;sw.prototype.get=Qre;sw.prototype.has=Jre;sw.prototype.set=eoe;var Ng=sw;var yWe=tw(vu,"Map"),m3=yWe;function wWe(){this.size=0,this.__data__={hash:new u7,map:new(m3||Ng),string:new u7}}var toe=wWe;function CWe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ioe=CWe;function xWe(e,t){var i=e.__data__;return ioe(t)?i[typeof t=="string"?"string":"hash"]:i.map}var Bg=xWe;function SWe(e){var t=Bg(this,e).delete(e);return this.size-=t?1:0,t}var noe=SWe;function MWe(e){return Bg(this,e).get(e)}var roe=MWe;function EWe(e){return Bg(this,e).has(e)}var ooe=EWe;function DWe(e,t){var i=Bg(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}var soe=DWe;function aw(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}aw.prototype.clear=toe;aw.prototype.delete=noe;aw.prototype.get=roe;aw.prototype.has=ooe;aw.prototype.set=soe;var aoe=aw;var TWe=Ure(Object.getPrototypeOf,Object),g3=TWe;var AWe="[object Object]",RWe=Function.prototype,kWe=Object.prototype,loe=RWe.toString,IWe=kWe.hasOwnProperty,PWe=loe.call(Object);function FWe(e){if(!pf(e)||Fg(e)!=AWe)return!1;var t=g3(e);if(t===null)return!0;var i=IWe.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&loe.call(i)==PWe}var coe=FWe;function OWe(){this.__data__=new Ng,this.size=0}var doe=OWe;function LWe(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var uoe=LWe;function NWe(e){return this.__data__.get(e)}var hoe=NWe;function BWe(e){return this.__data__.has(e)}var foe=BWe;var VWe=200;function zWe(e,t){var i=this.__data__;if(i instanceof Ng){var n=i.__data__;if(!m3||n.length<VWe-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new aoe(n)}return i.set(e,t),this.size=i.size,this}var poe=zWe;function lw(e){var t=this.__data__=new Ng(e);this.size=t.size}lw.prototype.clear=doe;lw.prototype.delete=uoe;lw.prototype.get=hoe;lw.prototype.has=foe;lw.prototype.set=poe;var moe=lw;var _oe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,goe=_oe&&typeof module=="object"&&module&&!module.nodeType&&module,HWe=goe&&goe.exports===_oe,voe=HWe?vu.Buffer:void 0,boe=voe?voe.allocUnsafe:void 0;function UWe(e,t){if(t)return e.slice();var i=e.length,n=boe?boe(i):new e.constructor(i);return e.copy(n),n}var yoe=UWe;var GWe=vu.Uint8Array,h7=GWe;function WWe(e){var t=new e.constructor(e.byteLength);return new h7(t).set(new h7(e)),t}var woe=WWe;function jWe(e,t){var i=t?woe(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var Coe=jWe;function qWe(e){return typeof e.constructor=="function"&&!u3(e)?vre(g3(e)):{}}var xoe=qWe;function YWe(e){return function(t,i,n){for(var r=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++r];if(i(o[l],l,o)===!1)break}return t}}var Soe=YWe;var $We=Soe(),Moe=$We;function XWe(e,t,i){(i!==void 0&&!Og(e[t],i)||i===void 0&&!(t in e))&&nw(e,t,i)}var JS=XWe;function KWe(e){return pf(e)&&rw(e)}var Eoe=KWe;function ZWe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var e2=ZWe;function QWe(e){return Mre(e,p3(e))}var Doe=QWe;function JWe(e,t,i,n,r,o,s){var a=e2(e,i),l=e2(t,i),c=s.get(l);if(c){JS(e,i,c);return}var d=o?o(a,l,i+"",e,t,s):void 0,u=d===void 0;if(u){var h=KS(l),f=!h&&h3(l),p=!h&&!f&&f3(l);d=l,h||f||p?KS(a)?d=a:Eoe(a)?d=_re(a):f?(u=!1,d=yoe(l,!0)):p?(u=!1,d=Coe(l,!0)):d=[]:coe(l)||ZS(l)?(d=a,ZS(a)?d=Doe(a):(!qc(a)||ew(a))&&(d=xoe(l))):u=!1}u&&(s.set(l,d),r(d,l,n,o,s),s.delete(l)),JS(e,i,d)}var Toe=JWe;function Aoe(e,t,i,n,r){e!==t&&Moe(t,function(o,s){if(r||(r=new moe),qc(o))Toe(e,t,s,i,Aoe,n,r);else{var a=n?n(e2(e,s),o,s+"",e,t,r):void 0;a===void 0&&(a=o),JS(e,s,a)}},p3)}var Roe=Aoe;var eje=Rre(function(e,t,i){Roe(e,t,i)}),f7=eje;var tje=new Nt("Configuration for ngCharts");function koe(...e){return{registerables:[...$J,...e]}}function Ioe(...e){let t=f7({},...e);return{provide:tje,useValue:t}}rR.register(_6);o9.registerModules([Xj]);var t2=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ni({type:e,bootstrap:[ff]});static \u0275inj=ii({providers:[Pw,lne(),Ioe(koe()),Ym,Gm],imports:[Vw,o3,one,FI,LI,Yg,zI,UI,Ig,Zm,$I,kP,QT,qT,$$.forRoot(),jZ.forRoot()]})};cz(ff,function(){return[nc,IV,dne,BI,oC,Pg,ZI]},[]);var Poe={production:!1};mM().bootstrapModule(t2,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));function ije(){return document.getElementsByTagName("base")[0].href}var nje=[{provide:"BASE_URL",useFactory:ije,deps:[]}];Poe.production&&void 0;mM(nje).bootstrapModule(t2).catch(e=>console.log(e));export{ije as getBaseUrl};
